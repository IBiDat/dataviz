<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">

<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/>
  <meta name="generator" content="distill" />

  <style type="text/css">
  /* Hide doc at startup (prevent jankiness while JS renders/transforms) */
  body {
    visibility: hidden;
  }
  </style>

 <!--radix_placeholder_import_source-->
 <!--/radix_placeholder_import_source-->

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  { color: #00769e; background-color: #f1f3f5; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span { color: #00769e; } /* Normal */
code span.al { color: #ad0000; } /* Alert */
code span.an { color: #5e5e5e; } /* Annotation */
code span.at { color: #657422; } /* Attribute */
code span.bn { color: #ad0000; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #00769e; } /* ControlFlow */
code span.ch { color: #20794d; } /* Char */
code span.cn { color: #8f5902; } /* Constant */
code span.co { color: #5e5e5e; } /* Comment */
code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
code span.dt { color: #ad0000; } /* DataType */
code span.dv { color: #ad0000; } /* DecVal */
code span.er { color: #ad0000; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #ad0000; } /* Float */
code span.fu { color: #4758ab; } /* Function */
code span.im { } /* Import */
code span.in { color: #5e5e5e; } /* Information */
code span.kw { color: #00769e; } /* Keyword */
code span.op { color: #5e5e5e; } /* Operator */
code span.ot { color: #00769e; } /* Other */
code span.pp { color: #ad0000; } /* Preprocessor */
code span.sc { color: #5e5e5e; } /* SpecialChar */
code span.ss { color: #20794d; } /* SpecialString */
code span.st { color: #20794d; } /* String */
code span.va { color: #111111; } /* Variable */
code span.vs { color: #20794d; } /* VerbatimString */
code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
</style>


  <!--radix_placeholder_meta_tags-->
<title>Data Visualization | MSc CSS: Degrees and Nobels: A non-essential link</title>

<meta property="description" itemprop="description" content="A comprehensive look at Nobel Prizes from 1901 to 2012, uncovering patterns &#10;in laureates ages, trends across categories, educational qualifications, academic &#10;affiliations and hometown demographics."/>

<link rel="canonical" href="https://csslab.uc3m.es/dataviz/projects/2024/100535255/"/>
<link rel="license" href="https://creativecommons.org/licenses/by/4.0/"/>

<!--  https://schema.org/Article -->
<meta property="article:published" itemprop="datePublished" content="2025-01-14"/>
<meta property="article:created" itemprop="dateCreated" content="2025-01-14"/>
<meta name="article:author" content="Andrea Rivera-Mateos"/>

<!--  https://developers.facebook.com/docs/sharing/webmasters#markup -->
<meta property="og:title" content="Data Visualization | MSc CSS: Degrees and Nobels: A non-essential link"/>
<meta property="og:type" content="article"/>
<meta property="og:description" content="A comprehensive look at Nobel Prizes from 1901 to 2012, uncovering patterns &#10;in laureates ages, trends across categories, educational qualifications, academic &#10;affiliations and hometown demographics."/>
<meta property="og:url" content="https://csslab.uc3m.es/dataviz/projects/2024/100535255/"/>
<meta property="og:image" content="https://csslab.uc3m.es/dataviz/projects/2024/100535255/100535255_files/figure-html5/joint-plot-1.png"/>
<meta property="og:image:width" content="3072"/>
<meta property="og:image:height" content="1920"/>
<meta property="og:locale" content="en_US"/>
<meta property="og:site_name" content="Data Visualization | MSc CSS"/>

<!--  https://dev.twitter.com/cards/types/summary -->
<meta property="twitter:card" content="summary_large_image"/>
<meta property="twitter:title" content="Data Visualization | MSc CSS: Degrees and Nobels: A non-essential link"/>
<meta property="twitter:description" content="A comprehensive look at Nobel Prizes from 1901 to 2012, uncovering patterns &#10;in laureates ages, trends across categories, educational qualifications, academic &#10;affiliations and hometown demographics."/>
<meta property="twitter:url" content="https://csslab.uc3m.es/dataviz/projects/2024/100535255/"/>
<meta property="twitter:image" content="https://csslab.uc3m.es/dataviz/projects/2024/100535255/100535255_files/figure-html5/joint-plot-1.png"/>
<meta property="twitter:image:width" content="3072"/>
<meta property="twitter:image:height" content="1920"/>

<!--  https://scholar.google.com/intl/en/scholar/inclusion.html#indexing -->
<meta name="citation_title" content="Data Visualization | MSc CSS: Degrees and Nobels: A non-essential link"/>
<meta name="citation_fulltext_html_url" content="https://csslab.uc3m.es/dataviz/projects/2024/100535255/"/>
<meta name="citation_fulltext_world_readable" content=""/>
<meta name="citation_online_date" content="2025/01/14"/>
<meta name="citation_publication_date" content="2025/01/14"/>
<meta name="citation_author" content="Andrea Rivera-Mateos"/>
<!--/radix_placeholder_meta_tags-->
  <!--radix_placeholder_rmarkdown_metadata-->

<script type="text/json" id="radix-rmarkdown-metadata">
{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["creative_commons","title","description","categories","author","date","output","citation_url","canonical_url"]}},"value":[{"type":"character","attributes":{},"value":["CC BY"]},{"type":"character","attributes":{},"value":["Degrees and Nobels: A non-essential link"]},{"type":"character","attributes":{},"value":["A comprehensive look at Nobel Prizes from 1901 to 2012, uncovering patterns \nin laureates ages, trends across categories, educational qualifications, academic \naffiliations and hometown demographics."]},{"type":"character","attributes":{},"value":["2024"]},{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name"]}},"value":[{"type":"character","attributes":{},"value":["Andrea Rivera-Mateos"]}]}]},{"type":"character","attributes":{},"value":["2025-01-14"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["distill::distill_article"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["self_contained","toc"]}},"value":[{"type":"logical","attributes":{},"value":[false]},{"type":"logical","attributes":{},"value":[true]}]}]},{"type":"character","attributes":{},"value":["https://csslab.uc3m.es/dataviz/projects/2024/100535255/"]},{"type":"character","attributes":{},"value":["https://csslab.uc3m.es/dataviz/projects/2024/100535255/"]}]}
</script>
<!--/radix_placeholder_rmarkdown_metadata-->
  
  <script type="text/json" id="radix-resource-manifest">
  {"type":"character","attributes":{},"value":["100535255_files/anchor-4.2.2/anchor.min.js","100535255_files/bowser-1.9.3/bowser.min.js","100535255_files/distill-2.2.21/template.v2.js","100535255_files/figure-html5/age-plot-1.png","100535255_files/figure-html5/diamond-women-1.png","100535255_files/figure-html5/education-plot-1.png","100535255_files/figure-html5/final-plot improved-1.png","100535255_files/figure-html5/geom_parallel plot-1.png","100535255_files/figure-html5/hometown-plot-1.png","100535255_files/figure-html5/joint-plot-1.png","100535255_files/figure-html5/legend-1.png","100535255_files/figure-html5/sankey-plot-1.png","100535255_files/figure-html5/title-1.png","100535255_files/header-attrs-2.29/header-attrs.js","100535255_files/jquery-3.6.0/jquery-3.6.0.js","100535255_files/jquery-3.6.0/jquery-3.6.0.min.js","100535255_files/jquery-3.6.0/jquery-3.6.0.min.map","100535255_files/popper-2.6.0/popper.min.js","100535255_files/tippy-6.2.7/tippy-bundle.umd.min.js","100535255_files/tippy-6.2.7/tippy-light-border.css","100535255_files/tippy-6.2.7/tippy.css","100535255_files/tippy-6.2.7/tippy.umd.min.js","100535255_files/webcomponents-2.0.0/webcomponents.js","nobel_laureates.csv","nobels.jpg"]}
  </script>
  <!--radix_placeholder_navigation_in_header-->
<meta name="distill:offset" content="../../.."/>

<script type="application/javascript">

  window.headroom_prevent_pin = false;

  window.document.addEventListener("DOMContentLoaded", function (event) {

    // initialize headroom for banner
    var header = $('header').get(0);
    var headerHeight = header.offsetHeight;
    var headroom = new Headroom(header, {
      tolerance: 5,
      onPin : function() {
        if (window.headroom_prevent_pin) {
          window.headroom_prevent_pin = false;
          headroom.unpin();
        }
      }
    });
    headroom.init();
    if(window.location.hash)
      headroom.unpin();
    $(header).addClass('headroom--transition');

    // offset scroll location for banner on hash change
    // (see: https://github.com/WickyNilliams/headroom.js/issues/38)
    window.addEventListener("hashchange", function(event) {
      window.scrollTo(0, window.pageYOffset - (headerHeight + 25));
    });

    // responsive menu
    $('.distill-site-header').each(function(i, val) {
      var topnav = $(this);
      var toggle = topnav.find('.nav-toggle');
      toggle.on('click', function() {
        topnav.toggleClass('responsive');
      });
    });

    // nav dropdowns
    $('.nav-dropbtn').click(function(e) {
      $(this).next('.nav-dropdown-content').toggleClass('nav-dropdown-active');
      $(this).parent().siblings('.nav-dropdown')
         .children('.nav-dropdown-content').removeClass('nav-dropdown-active');
    });
    $("body").click(function(e){
      $('.nav-dropdown-content').removeClass('nav-dropdown-active');
    });
    $(".nav-dropdown").click(function(e){
      e.stopPropagation();
    });
  });
</script>

<style type="text/css">

/* Theme (user-documented overrideables for nav appearance) */

.distill-site-nav {
  color: rgba(255, 255, 255, 0.8);
  background-color: #0F2E3D;
  font-size: 15px;
  font-weight: 300;
}

.distill-site-nav a {
  color: inherit;
  text-decoration: none;
}

.distill-site-nav a:hover {
  color: white;
}

@media print {
  .distill-site-nav {
    display: none;
  }
}

.distill-site-header {

}

.distill-site-footer {

}


/* Site Header */

.distill-site-header {
  width: 100%;
  box-sizing: border-box;
  z-index: 3;
}

.distill-site-header .nav-left {
  display: inline-block;
  margin-left: 8px;
}

@media screen and (max-width: 768px) {
  .distill-site-header .nav-left {
    margin-left: 0;
  }
}


.distill-site-header .nav-right {
  float: right;
  margin-right: 8px;
}

.distill-site-header a,
.distill-site-header .title {
  display: inline-block;
  text-align: center;
  padding: 14px 10px 14px 10px;
}

.distill-site-header .title {
  font-size: 18px;
  min-width: 150px;
}

.distill-site-header .logo {
  padding: 0;
}

.distill-site-header .logo img {
  display: none;
  max-height: 20px;
  width: auto;
  margin-bottom: -4px;
}

.distill-site-header .nav-image img {
  max-height: 18px;
  width: auto;
  display: inline-block;
  margin-bottom: -3px;
}



@media screen and (min-width: 1000px) {
  .distill-site-header .logo img {
    display: inline-block;
  }
  .distill-site-header .nav-left {
    margin-left: 20px;
  }
  .distill-site-header .nav-right {
    margin-right: 20px;
  }
  .distill-site-header .title {
    padding-left: 12px;
  }
}


.distill-site-header .nav-toggle {
  display: none;
}

.nav-dropdown {
  display: inline-block;
  position: relative;
}

.nav-dropdown .nav-dropbtn {
  border: none;
  outline: none;
  color: rgba(255, 255, 255, 0.8);
  padding: 16px 10px;
  background-color: transparent;
  font-family: inherit;
  font-size: inherit;
  font-weight: inherit;
  margin: 0;
  margin-top: 1px;
  z-index: 2;
}

.nav-dropdown-content {
  display: none;
  position: absolute;
  background-color: white;
  min-width: 200px;
  border: 1px solid rgba(0,0,0,0.15);
  border-radius: 4px;
  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.1);
  z-index: 1;
  margin-top: 2px;
  white-space: nowrap;
  padding-top: 4px;
  padding-bottom: 4px;
}

.nav-dropdown-content hr {
  margin-top: 4px;
  margin-bottom: 4px;
  border: none;
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
}

.nav-dropdown-active {
  display: block;
}

.nav-dropdown-content a, .nav-dropdown-content .nav-dropdown-header {
  color: black;
  padding: 6px 24px;
  text-decoration: none;
  display: block;
  text-align: left;
}

.nav-dropdown-content .nav-dropdown-header {
  display: block;
  padding: 5px 24px;
  padding-bottom: 0;
  text-transform: uppercase;
  font-size: 14px;
  color: #999999;
  white-space: nowrap;
}

.nav-dropdown:hover .nav-dropbtn {
  color: white;
}

.nav-dropdown-content a:hover {
  background-color: #ddd;
  color: black;
}

.nav-right .nav-dropdown-content {
  margin-left: -45%;
  right: 0;
}

@media screen and (max-width: 768px) {
  .distill-site-header a, .distill-site-header .nav-dropdown  {display: none;}
  .distill-site-header a.nav-toggle {
    float: right;
    display: block;
  }
  .distill-site-header .title {
    margin-left: 0;
  }
  .distill-site-header .nav-right {
    margin-right: 0;
  }
  .distill-site-header {
    overflow: hidden;
  }
  .nav-right .nav-dropdown-content {
    margin-left: 0;
  }
}


@media screen and (max-width: 768px) {
  .distill-site-header.responsive {position: relative; min-height: 500px; }
  .distill-site-header.responsive a.nav-toggle {
    position: absolute;
    right: 0;
    top: 0;
  }
  .distill-site-header.responsive a,
  .distill-site-header.responsive .nav-dropdown {
    display: block;
    text-align: left;
  }
  .distill-site-header.responsive .nav-left,
  .distill-site-header.responsive .nav-right {
    width: 100%;
  }
  .distill-site-header.responsive .nav-dropdown {float: none;}
  .distill-site-header.responsive .nav-dropdown-content {position: relative;}
  .distill-site-header.responsive .nav-dropdown .nav-dropbtn {
    display: block;
    width: 100%;
    text-align: left;
  }
}

/* Site Footer */

.distill-site-footer {
  width: 100%;
  overflow: hidden;
  box-sizing: border-box;
  z-index: 3;
  margin-top: 30px;
  padding-top: 30px;
  padding-bottom: 30px;
  text-align: center;
}

/* Headroom */

d-title {
  padding-top: 6rem;
}

@media print {
  d-title {
    padding-top: 4rem;
  }
}

.headroom {
  z-index: 1000;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
}

.headroom--transition {
  transition: all .4s ease-in-out;
}

.headroom--unpinned {
  top: -100px;
}

.headroom--pinned {
  top: 0;
}

/* adjust viewport for navbar height */
/* helps vertically center bootstrap (non-distill) content */
.min-vh-100 {
  min-height: calc(100vh - 100px) !important;
}

</style>

<script src="../../../site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<link href="../../../site_libs/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"/>
<link href="../../../site_libs/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"/>
<script src="../../../site_libs/headroom-0.9.4/headroom.min.js"></script>
<script src="../../../site_libs/autocomplete-0.37.1/autocomplete.min.js"></script>
<script src="../../../site_libs/fuse-6.4.1/fuse.min.js"></script>

<script type="application/javascript">

function getMeta(metaName) {
  var metas = document.getElementsByTagName('meta');
  for (let i = 0; i < metas.length; i++) {
    if (metas[i].getAttribute('name') === metaName) {
      return metas[i].getAttribute('content');
    }
  }
  return '';
}

function offsetURL(url) {
  var offset = getMeta('distill:offset');
  return offset ? offset + '/' + url : url;
}

function createFuseIndex() {

  // create fuse index
  var options = {
    keys: [
      { name: 'title', weight: 20 },
      { name: 'categories', weight: 15 },
      { name: 'description', weight: 10 },
      { name: 'contents', weight: 5 },
    ],
    ignoreLocation: true,
    threshold: 0
  };
  var fuse = new window.Fuse([], options);

  // fetch the main search.json
  return fetch(offsetURL('search.json'))
    .then(function(response) {
      if (response.status == 200) {
        return response.json().then(function(json) {
          // index main articles
          json.articles.forEach(function(article) {
            fuse.add(article);
          });
          // download collections and index their articles
          return Promise.all(json.collections.map(function(collection) {
            return fetch(offsetURL(collection)).then(function(response) {
              if (response.status === 200) {
                return response.json().then(function(articles) {
                  articles.forEach(function(article) {
                    fuse.add(article);
                  });
                })
              } else {
                return Promise.reject(
                  new Error('Unexpected status from search index request: ' +
                            response.status)
                );
              }
            });
          })).then(function() {
            return fuse;
          });
        });

      } else {
        return Promise.reject(
          new Error('Unexpected status from search index request: ' +
                      response.status)
        );
      }
    });
}

window.document.addEventListener("DOMContentLoaded", function (event) {

  // get search element (bail if we don't have one)
  var searchEl = window.document.getElementById('distill-search');
  if (!searchEl)
    return;

  createFuseIndex()
    .then(function(fuse) {

      // make search box visible
      searchEl.classList.remove('hidden');

      // initialize autocomplete
      var options = {
        autoselect: true,
        hint: false,
        minLength: 2,
      };
      window.autocomplete(searchEl, options, [{
        source: function(query, callback) {
          const searchOptions = {
            isCaseSensitive: false,
            shouldSort: true,
            minMatchCharLength: 2,
            limit: 10,
          };
          var results = fuse.search(query, searchOptions);
          callback(results
            .map(function(result) { return result.item; })
          );
        },
        templates: {
          suggestion: function(suggestion) {
            var img = suggestion.preview && Object.keys(suggestion.preview).length > 0
              ? `<img src="${offsetURL(suggestion.preview)}"</img>`
              : '';
            var html = `
              <div class="search-item">
                <h3>${suggestion.title}</h3>
                <div class="search-item-description">
                  ${suggestion.description || ''}
                </div>
                <div class="search-item-preview">
                  ${img}
                </div>
              </div>
            `;
            return html;
          }
        }
      }]).on('autocomplete:selected', function(event, suggestion) {
        window.location.href = offsetURL(suggestion.path);
      });
      // remove inline display style on autocompleter (we want to
      // manage responsive display via css)
      $('.algolia-autocomplete').css("display", "");
    })
    .catch(function(error) {
      console.log(error);
    });

});

</script>

<style type="text/css">

.nav-search {
  font-size: x-small;
}

/* Algolioa Autocomplete */

.algolia-autocomplete {
  display: inline-block;
  margin-left: 10px;
  vertical-align: sub;
  background-color: white;
  color: black;
  padding: 6px;
  padding-top: 8px;
  padding-bottom: 0;
  border-radius: 6px;
  border: 1px #0F2E3D solid;
  width: 180px;
}


@media screen and (max-width: 768px) {
  .distill-site-nav .algolia-autocomplete {
    display: none;
    visibility: hidden;
  }
  .distill-site-nav.responsive .algolia-autocomplete {
    display: inline-block;
    visibility: visible;
  }
  .distill-site-nav.responsive .algolia-autocomplete .aa-dropdown-menu {
    margin-left: 0;
    width: 400px;
    max-height: 400px;
  }
}

.algolia-autocomplete .aa-input, .algolia-autocomplete .aa-hint {
  width: 90%;
  outline: none;
  border: none;
}

.algolia-autocomplete .aa-hint {
  color: #999;
}
.algolia-autocomplete .aa-dropdown-menu {
  width: 550px;
  max-height: 70vh;
  overflow-x: visible;
  overflow-y: scroll;
  padding: 5px;
  margin-top: 3px;
  margin-left: -150px;
  background-color: #fff;
  border-radius: 5px;
  border: 1px solid #999;
  border-top: none;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion {
  cursor: pointer;
  padding: 5px 4px;
  border-bottom: 1px solid #eee;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion:last-of-type {
  border-bottom: none;
  margin-bottom: 2px;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item {
  overflow: hidden;
  font-size: 0.8em;
  line-height: 1.4em;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item h3 {
  font-size: 1rem;
  margin-block-start: 0;
  margin-block-end: 5px;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-description {
  display: inline-block;
  overflow: hidden;
  height: 2.8em;
  width: 80%;
  margin-right: 4%;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview {
  display: inline-block;
  width: 15%;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview img {
  height: 3em;
  width: auto;
  display: none;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview img[src] {
  display: initial;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion.aa-cursor {
  background-color: #eee;
}
.algolia-autocomplete .aa-dropdown-menu .aa-suggestion em {
  font-weight: bold;
  font-style: normal;
}

</style>


<!--/radix_placeholder_navigation_in_header-->
  <!--radix_placeholder_distill-->

<style type="text/css">

body {
  background-color: white;
}

.pandoc-table {
  width: 100%;
}

.pandoc-table>caption {
  margin-bottom: 10px;
}

.pandoc-table th:not([align]) {
  text-align: left;
}

.pagedtable-footer {
  font-size: 15px;
}

d-byline .byline {
  grid-template-columns: 2fr 2fr;
}

d-byline .byline h3 {
  margin-block-start: 1.5em;
}

d-byline .byline .authors-affiliations h3 {
  margin-block-start: 0.5em;
}

.authors-affiliations .orcid-id {
  width: 16px;
  height:16px;
  margin-left: 4px;
  margin-right: 4px;
  vertical-align: middle;
  padding-bottom: 2px;
}

d-title .dt-tags {
  margin-top: 1em;
  grid-column: text;
}

.dt-tags .dt-tag {
  text-decoration: none;
  display: inline-block;
  color: rgba(0,0,0,0.6);
  padding: 0em 0.4em;
  margin-right: 0.5em;
  margin-bottom: 0.4em;
  font-size: 70%;
  border: 1px solid rgba(0,0,0,0.2);
  border-radius: 3px;
  text-transform: uppercase;
  font-weight: 500;
}

d-article table.gt_table td,
d-article table.gt_table th {
  border-bottom: none;
  font-size: 100%;
}

.html-widget {
  margin-bottom: 2.0em;
}

.l-screen-inset {
  padding-right: 16px;
}

.l-screen .caption {
  margin-left: 10px;
}

.shaded {
  background: rgb(247, 247, 247);
  padding-top: 20px;
  padding-bottom: 20px;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
}

.shaded .html-widget {
  margin-bottom: 0;
  border: 1px solid rgba(0, 0, 0, 0.1);
}

.shaded .shaded-content {
  background: white;
}

.text-output {
  margin-top: 0;
  line-height: 1.5em;
}

.hidden {
  display: none !important;
}

hr.section-separator {
  border: none;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  margin: 0px;
}


d-byline {
  border-top: none;
}

d-article {
  padding-top: 2.5rem;
  padding-bottom: 30px;
  border-top: none;
}

d-appendix {
  padding-top: 30px;
}

d-article>p>img {
  width: 100%;
}

d-article h2 {
  margin: 1rem 0 1.5rem 0;
}

d-article h3 {
  margin-top: 1.5rem;
}

d-article iframe {
  border: 1px solid rgba(0, 0, 0, 0.1);
  margin-bottom: 2.0em;
  width: 100%;
}

/* Tweak code blocks */

d-article div.sourceCode code,
d-article pre code {
  font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
}

d-article pre,
d-article div.sourceCode,
d-article div.sourceCode pre {
  overflow: auto;
}

d-article div.sourceCode {
  background-color: white;
}

d-article div.sourceCode pre {
  padding-left: 10px;
  font-size: 12px;
  border-left: 2px solid rgba(0,0,0,0.1);
}

d-article pre {
  font-size: 12px;
  color: black;
  background: none;
  margin-top: 0;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.5;

  -moz-tab-size: 4;
  -o-tab-size: 4;
  tab-size: 4;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

d-article pre a {
  border-bottom: none;
}

d-article pre a:hover {
  border-bottom: none;
  text-decoration: underline;
}

d-article details {
  grid-column: text;
  margin-bottom: 0.8em;
}

@media(min-width: 768px) {

d-article pre,
d-article div.sourceCode,
d-article div.sourceCode pre {
  overflow: visible !important;
}

d-article div.sourceCode pre {
  padding-left: 18px;
  font-size: 14px;
}

/* tweak for Pandoc numbered line within distill */
d-article pre.numberSource code > span {
    left: -2em;
}

d-article pre {
  font-size: 14px;
}

}

figure img.external {
  background: white;
  border: 1px solid rgba(0, 0, 0, 0.1);
  box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
  padding: 18px;
  box-sizing: border-box;
}

/* CSS for d-contents */

.d-contents {
  grid-column: text;
  color: rgba(0,0,0,0.8);
  font-size: 0.9em;
  padding-bottom: 1em;
  margin-bottom: 1em;
  padding-bottom: 0.5em;
  margin-bottom: 1em;
  padding-left: 0.25em;
  justify-self: start;
}

@media(min-width: 1000px) {
  .d-contents.d-contents-float {
    height: 0;
    grid-column-start: 1;
    grid-column-end: 4;
    justify-self: center;
    padding-right: 3em;
    padding-left: 2em;
  }
}

.d-contents nav h3 {
  font-size: 18px;
  margin-top: 0;
  margin-bottom: 1em;
}

.d-contents li {
  list-style-type: none
}

.d-contents nav > ul {
  padding-left: 0;
}

.d-contents ul {
  padding-left: 1em
}

.d-contents nav ul li {
  margin-top: 0.6em;
  margin-bottom: 0.2em;
}

.d-contents nav a {
  font-size: 13px;
  border-bottom: none;
  text-decoration: none
  color: rgba(0, 0, 0, 0.8);
}

.d-contents nav a:hover {
  text-decoration: underline solid rgba(0, 0, 0, 0.6)
}

.d-contents nav > ul > li > a {
  font-weight: 600;
}

.d-contents nav > ul > li > ul {
  font-weight: inherit;
}

.d-contents nav > ul > li > ul > li {
  margin-top: 0.2em;
}


.d-contents nav ul {
  margin-top: 0;
  margin-bottom: 0.25em;
}

.d-article-with-toc h2:nth-child(2) {
  margin-top: 0;
}


/* Figure */

.figure {
  position: relative;
  margin-bottom: 2.5em;
  margin-top: 1.5em;
}

.figure .caption {
  color: rgba(0, 0, 0, 0.6);
  font-size: 12px;
  line-height: 1.5em;
}

.figure img.external {
  background: white;
  border: 1px solid rgba(0, 0, 0, 0.1);
  box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
  padding: 18px;
  box-sizing: border-box;
}

.figure .caption a {
  color: rgba(0, 0, 0, 0.6);
}

.figure .caption b,
.figure .caption strong, {
  font-weight: 600;
  color: rgba(0, 0, 0, 1.0);
}

/* Citations */

d-article .citation {
  color: inherit;
  cursor: inherit;
}

div.hanging-indent{
  margin-left: 1em; text-indent: -1em;
}

/* Citation hover box */

.tippy-box[data-theme~=light-border] {
  background-color: rgba(250, 250, 250, 0.95);
}

.tippy-content > p {
  margin-bottom: 0;
  padding: 2px;
}


/* Tweak 1000px media break to show more text */

@media(min-width: 1000px) {
  .base-grid,
  distill-header,
  d-title,
  d-abstract,
  d-article,
  d-appendix,
  distill-appendix,
  d-byline,
  d-footnote-list,
  d-citation-list,
  distill-footer {
    grid-template-columns: [screen-start] 1fr [page-start kicker-start] 80px [middle-start] 50px [text-start kicker-end] 65px 65px 65px 65px 65px 65px 65px 65px [text-end gutter-start] 65px [middle-end] 65px [page-end gutter-end] 1fr [screen-end];
    grid-column-gap: 16px;
  }

  .grid {
    grid-column-gap: 16px;
  }

  d-article {
    font-size: 1.06rem;
    line-height: 1.7em;
  }
  figure .caption, .figure .caption, figure figcaption {
    font-size: 13px;
  }
}

@media(min-width: 1180px) {
  .base-grid,
  distill-header,
  d-title,
  d-abstract,
  d-article,
  d-appendix,
  distill-appendix,
  d-byline,
  d-footnote-list,
  d-citation-list,
  distill-footer {
    grid-template-columns: [screen-start] 1fr [page-start kicker-start] 60px [middle-start] 60px [text-start kicker-end] 60px 60px 60px 60px 60px 60px 60px 60px [text-end gutter-start] 60px [middle-end] 60px [page-end gutter-end] 1fr [screen-end];
    grid-column-gap: 32px;
  }

  .grid {
    grid-column-gap: 32px;
  }
}


/* Get the citation styles for the appendix (not auto-injected on render since
   we do our own rendering of the citation appendix) */

d-appendix .citation-appendix,
.d-appendix .citation-appendix {
  font-size: 11px;
  line-height: 15px;
  border-left: 1px solid rgba(0, 0, 0, 0.1);
  padding-left: 18px;
  border: 1px solid rgba(0,0,0,0.1);
  background: rgba(0, 0, 0, 0.02);
  padding: 10px 18px;
  border-radius: 3px;
  color: rgba(150, 150, 150, 1);
  overflow: hidden;
  margin-top: -12px;
  white-space: pre-wrap;
  word-wrap: break-word;
}

/* Include appendix styles here so they can be overridden */

d-appendix {
  contain: layout style;
  font-size: 0.8em;
  line-height: 1.7em;
  margin-top: 60px;
  margin-bottom: 0;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  color: rgba(0,0,0,0.5);
  padding-top: 60px;
  padding-bottom: 48px;
}

d-appendix h3 {
  grid-column: page-start / text-start;
  font-size: 15px;
  font-weight: 500;
  margin-top: 1em;
  margin-bottom: 0;
  color: rgba(0,0,0,0.65);
}

d-appendix h3 + * {
  margin-top: 1em;
}

d-appendix ol {
  padding: 0 0 0 15px;
}

@media (min-width: 768px) {
  d-appendix ol {
    padding: 0 0 0 30px;
    margin-left: -30px;
  }
}

d-appendix li {
  margin-bottom: 1em;
}

d-appendix a {
  color: rgba(0, 0, 0, 0.6);
}

d-appendix > * {
  grid-column: text;
}

d-appendix > d-footnote-list,
d-appendix > d-citation-list,
d-appendix > distill-appendix {
  grid-column: screen;
}

/* Include footnote styles here so they can be overridden */

d-footnote-list {
  contain: layout style;
}

d-footnote-list > * {
  grid-column: text;
}

d-footnote-list a.footnote-backlink {
  color: rgba(0,0,0,0.3);
  padding-left: 0.5em;
}



/* Anchor.js */

.anchorjs-link {
  /*transition: all .25s linear; */
  text-decoration: none;
  border-bottom: none;
}
*:hover > .anchorjs-link {
  margin-left: -1.125em !important;
  text-decoration: none;
  border-bottom: none;
}

/* Social footer */

.social_footer {
  margin-top: 30px;
  margin-bottom: 0;
  color: rgba(0,0,0,0.67);
}

.disqus-comments {
  margin-right: 30px;
}

.disqus-comment-count {
  border-bottom: 1px solid rgba(0, 0, 0, 0.4);
  cursor: pointer;
}

#disqus_thread {
  margin-top: 30px;
}

.article-sharing a {
  border-bottom: none;
  margin-right: 8px;
}

.article-sharing a:hover {
  border-bottom: none;
}

.sidebar-section.subscribe {
  font-size: 12px;
  line-height: 1.6em;
}

.subscribe p {
  margin-bottom: 0.5em;
}


.article-footer .subscribe {
  font-size: 15px;
  margin-top: 45px;
}


.sidebar-section.custom {
  font-size: 12px;
  line-height: 1.6em;
}

.custom p {
  margin-bottom: 0.5em;
}

/* Styles for listing layout (hide title) */
.layout-listing d-title, .layout-listing .d-title {
  display: none;
}

/* Styles for posts lists (not auto-injected) */


.posts-with-sidebar {
  padding-left: 45px;
  padding-right: 45px;
}

.posts-list .description h2,
.posts-list .description p {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
}

.posts-list .description h2 {
  font-weight: 700;
  border-bottom: none;
  padding-bottom: 0;
}

.posts-list h2.post-tag {
  border-bottom: 1px solid rgba(0, 0, 0, 0.2);
  padding-bottom: 12px;
}
.posts-list {
  margin-top: 60px;
  margin-bottom: 24px;
}

.posts-list .post-preview {
  text-decoration: none;
  overflow: hidden;
  display: block;
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  padding: 24px 0;
}

.post-preview-last {
  border-bottom: none !important;
}

.posts-list .posts-list-caption {
  grid-column: screen;
  font-weight: 400;
}

.posts-list .post-preview h2 {
  margin: 0 0 6px 0;
  line-height: 1.2em;
  font-style: normal;
  font-size: 24px;
}

.posts-list .post-preview p {
  margin: 0 0 12px 0;
  line-height: 1.4em;
  font-size: 16px;
}

.posts-list .post-preview .thumbnail {
  box-sizing: border-box;
  margin-bottom: 24px;
  position: relative;
  max-width: 500px;
}
.posts-list .post-preview img {
  width: 100%;
  display: block;
}

.posts-list .metadata {
  font-size: 12px;
  line-height: 1.4em;
  margin-bottom: 18px;
}

.posts-list .metadata > * {
  display: inline-block;
}

.posts-list .metadata .publishedDate {
  margin-right: 2em;
}

.posts-list .metadata .dt-authors {
  display: block;
  margin-top: 0.3em;
  margin-right: 2em;
}

.posts-list .dt-tags {
  display: block;
  line-height: 1em;
}

.posts-list .dt-tags .dt-tag {
  display: inline-block;
  color: rgba(0,0,0,0.6);
  padding: 0.3em 0.4em;
  margin-right: 0.2em;
  margin-bottom: 0.4em;
  font-size: 60%;
  border: 1px solid rgba(0,0,0,0.2);
  border-radius: 3px;
  text-transform: uppercase;
  font-weight: 500;
}

.posts-list img {
  opacity: 1;
}

.posts-list img[data-src] {
  opacity: 0;
}

.posts-more {
  clear: both;
}


.posts-sidebar {
  font-size: 16px;
}

.posts-sidebar h3 {
  font-size: 16px;
  margin-top: 0;
  margin-bottom: 0.5em;
  font-weight: 400;
  text-transform: uppercase;
}

.sidebar-section {
  margin-bottom: 30px;
}

.categories ul {
  list-style-type: none;
  margin: 0;
  padding: 0;
}

.categories li {
  color: rgba(0, 0, 0, 0.8);
  margin-bottom: 0;
}

.categories li>a {
  border-bottom: none;
}

.categories li>a:hover {
  border-bottom: 1px solid rgba(0, 0, 0, 0.4);
}

.categories .active {
  font-weight: 600;
}

.categories .category-count {
  color: rgba(0, 0, 0, 0.4);
}


@media(min-width: 768px) {
  .posts-list .post-preview h2 {
    font-size: 26px;
  }
  .posts-list .post-preview .thumbnail {
    float: right;
    width: 30%;
    margin-bottom: 0;
  }
  .posts-list .post-preview .description {
    float: left;
    width: 45%;
  }
  .posts-list .post-preview .metadata {
    float: left;
    width: 20%;
    margin-top: 8px;
  }
  .posts-list .post-preview p {
    margin: 0 0 12px 0;
    line-height: 1.5em;
    font-size: 16px;
  }
  .posts-with-sidebar .posts-list {
    float: left;
    width: 75%;
  }
  .posts-with-sidebar .posts-sidebar {
    float: right;
    width: 20%;
    margin-top: 60px;
    padding-top: 24px;
    padding-bottom: 24px;
  }
}


/* Improve display for browsers without grid (IE/Edge <= 15) */

.downlevel {
  line-height: 1.6em;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
  margin: 0;
}

.downlevel .d-title {
  padding-top: 6rem;
  padding-bottom: 1.5rem;
}

.downlevel .d-title h1 {
  font-size: 50px;
  font-weight: 700;
  line-height: 1.1em;
  margin: 0 0 0.5rem;
}

.downlevel .d-title p {
  font-weight: 300;
  font-size: 1.2rem;
  line-height: 1.55em;
  margin-top: 0;
}

.downlevel .d-byline {
  padding-top: 0.8em;
  padding-bottom: 0.8em;
  font-size: 0.8rem;
  line-height: 1.8em;
}

.downlevel .section-separator {
  border: none;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
}

.downlevel .d-article {
  font-size: 1.06rem;
  line-height: 1.7em;
  padding-top: 1rem;
  padding-bottom: 2rem;
}


.downlevel .d-appendix {
  padding-left: 0;
  padding-right: 0;
  max-width: none;
  font-size: 0.8em;
  line-height: 1.7em;
  margin-bottom: 0;
  color: rgba(0,0,0,0.5);
  padding-top: 40px;
  padding-bottom: 48px;
}

.downlevel .footnotes ol {
  padding-left: 13px;
}

.downlevel .base-grid,
.downlevel .distill-header,
.downlevel .d-title,
.downlevel .d-abstract,
.downlevel .d-article,
.downlevel .d-appendix,
.downlevel .distill-appendix,
.downlevel .d-byline,
.downlevel .d-footnote-list,
.downlevel .d-citation-list,
.downlevel .distill-footer,
.downlevel .appendix-bottom,
.downlevel .posts-container {
  padding-left: 40px;
  padding-right: 40px;
}

@media(min-width: 768px) {
  .downlevel .base-grid,
  .downlevel .distill-header,
  .downlevel .d-title,
  .downlevel .d-abstract,
  .downlevel .d-article,
  .downlevel .d-appendix,
  .downlevel .distill-appendix,
  .downlevel .d-byline,
  .downlevel .d-footnote-list,
  .downlevel .d-citation-list,
  .downlevel .distill-footer,
  .downlevel .appendix-bottom,
  .downlevel .posts-container {
  padding-left: 150px;
  padding-right: 150px;
  max-width: 900px;
}
}

.downlevel pre code {
  display: block;
  border-left: 2px solid rgba(0, 0, 0, .1);
  padding: 0 0 0 20px;
  font-size: 14px;
}

.downlevel code, .downlevel pre {
  color: black;
  background: none;
  font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.5;

  -moz-tab-size: 4;
  -o-tab-size: 4;
  tab-size: 4;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

.downlevel .posts-list .post-preview {
  color: inherit;
}



</style>

<script type="application/javascript">

function is_downlevel_browser() {
  if (bowser.isUnsupportedBrowser({ msie: "12", msedge: "16"},
                                 window.navigator.userAgent)) {
    return true;
  } else {
    return window.load_distill_framework === undefined;
  }
}

// show body when load is complete
function on_load_complete() {

  // add anchors
  if (window.anchors) {
    window.anchors.options.placement = 'left';
    window.anchors.add('d-article > h2, d-article > h3, d-article > h4, d-article > h5');
  }


  // set body to visible
  document.body.style.visibility = 'visible';

  // force redraw for leaflet widgets
  if (window.HTMLWidgets) {
    var maps = window.HTMLWidgets.findAll(".leaflet");
    $.each(maps, function(i, el) {
      var map = this.getMap();
      map.invalidateSize();
      map.eachLayer(function(layer) {
        if (layer instanceof L.TileLayer)
          layer.redraw();
      });
    });
  }

  // trigger 'shown' so htmlwidgets resize
  $('d-article').trigger('shown');
}

function init_distill() {

  init_common();

  // create front matter
  var front_matter = $('<d-front-matter></d-front-matter>');
  $('#distill-front-matter').wrap(front_matter);

  // create d-title
  $('.d-title').changeElementType('d-title');

  // separator
  var separator = '<hr class="section-separator" style="clear: both"/>';
  // prepend separator above appendix
  $('.d-byline').before(separator);
  $('.d-article').before(separator);

  // create d-byline
  var byline = $('<d-byline></d-byline>');
  $('.d-byline').replaceWith(byline);

  // create d-article
  var article = $('<d-article></d-article>');
  $('.d-article').wrap(article).children().unwrap();

  // move posts container into article
  $('.posts-container').appendTo($('d-article'));

  // create d-appendix
  $('.d-appendix').changeElementType('d-appendix');

  // flag indicating that we have appendix items
  var appendix = $('.appendix-bottom').children('h3').length > 0;

  // replace footnotes with <d-footnote>
  $('.footnote-ref').each(function(i, val) {
    appendix = true;
    var href = $(this).attr('href');
    var id = href.replace('#', '');
    var fn = $('#' + id);
    var fn_p = $('#' + id + '>p');
    fn_p.find('.footnote-back').remove();
    var text = fn_p.html();
    var dtfn = $('<d-footnote></d-footnote>');
    dtfn.html(text);
    $(this).replaceWith(dtfn);
  });
  // remove footnotes
  $('.footnotes').remove();

  // move refs into #references-listing
  $('#references-listing').replaceWith($('#refs'));

  $('h1.appendix, h2.appendix').each(function(i, val) {
    $(this).changeElementType('h3');
  });
  $('h3.appendix').each(function(i, val) {
    var id = $(this).attr('id');
    $('.d-contents a[href="#' + id + '"]').parent().remove();
    appendix = true;
    $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('d-appendix'));
  });

  // show d-appendix if we have appendix content
  $("d-appendix").css('display', appendix ? 'grid' : 'none');

  // localize layout chunks to just output
  $('.layout-chunk').each(function(i, val) {

    // capture layout
    var layout = $(this).attr('data-layout');

    // apply layout to markdown level block elements
    var elements = $(this).children().not('details, div.sourceCode, pre, script');
    elements.each(function(i, el) {
      var layout_div = $('<div class="' + layout + '"></div>');
      if (layout_div.hasClass('shaded')) {
        var shaded_content = $('<div class="shaded-content"></div>');
        $(this).wrap(shaded_content);
        $(this).parent().wrap(layout_div);
      } else {
        $(this).wrap(layout_div);
      }
    });


    // unwrap the layout-chunk div
    $(this).children().unwrap();
  });

  // remove code block used to force  highlighting css
  $('.distill-force-highlighting-css').parent().remove();

  // remove empty line numbers inserted by pandoc when using a
  // custom syntax highlighting theme, except when numbering line
  // in code chunk
  $('pre:not(.numberLines) code.sourceCode a:empty').remove();

  // load distill framework
  load_distill_framework();

  // wait for window.distillRunlevel == 4 to do post processing
  function distill_post_process() {

    if (!window.distillRunlevel || window.distillRunlevel < 4)
      return;

    // hide author/affiliations entirely if we have no authors
    var front_matter = JSON.parse($("#distill-front-matter").html());
    var have_authors = front_matter.authors && front_matter.authors.length > 0;
    if (!have_authors)
      $('d-byline').addClass('hidden');

    // article with toc class
    $('.d-contents').parent().addClass('d-article-with-toc');

    // strip links that point to #
    $('.authors-affiliations').find('a[href="#"]').removeAttr('href');

    // add orcid ids
    $('.authors-affiliations').find('.author').each(function(i, el) {
      var orcid_id = front_matter.authors[i].orcidID;
      var author_name = front_matter.authors[i].author
      if (orcid_id) {
        var a = $('<a></a>');
        a.attr('href', 'https://orcid.org/' + orcid_id);
        var img = $('<img></img>');
        img.addClass('orcid-id');
        img.attr('alt', author_name ? 'ORCID ID for ' + author_name : 'ORCID ID');
        img.attr('src','data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg==');
        a.append(img);
        $(this).append(a);
      }
    });

    // hide elements of author/affiliations grid that have no value
    function hide_byline_column(caption) {
      $('d-byline').find('h3:contains("' + caption + '")').parent().css('visibility', 'hidden');
    }

    // affiliations
    var have_affiliations = false;
    for (var i = 0; i<front_matter.authors.length; ++i) {
      var author = front_matter.authors[i];
      if (author.affiliation !== "&nbsp;") {
        have_affiliations = true;
        break;
      }
    }
    if (!have_affiliations)
      $('d-byline').find('h3:contains("Affiliations")').css('visibility', 'hidden');

    // published date
    if (!front_matter.publishedDate)
      hide_byline_column("Published");

    // document object identifier
    var doi = $('d-byline').find('h3:contains("DOI")');
    var doi_p = doi.next().empty();
    if (!front_matter.doi) {
      // if we have a citation and valid citationText then link to that
      if ($('#citation').length > 0 && front_matter.citationText) {
        doi.html('Citation');
        $('<a href="#citation"></a>')
          .text(front_matter.citationText)
          .appendTo(doi_p);
      } else {
        hide_byline_column("DOI");
      }
    } else {
      $('<a></a>')
         .attr('href', "https://doi.org/" + front_matter.doi)
         .html(front_matter.doi)
         .appendTo(doi_p);
    }

     // change plural form of authors/affiliations
    if (front_matter.authors.length === 1) {
      var grid = $('.authors-affiliations');
      grid.children('h3:contains("Authors")').text('Author');
      grid.children('h3:contains("Affiliations")').text('Affiliation');
    }

    // remove d-appendix and d-footnote-list local styles
    $('d-appendix > style:first-child').remove();
    $('d-footnote-list > style:first-child').remove();

    // move appendix-bottom entries to the bottom
    $('.appendix-bottom').appendTo('d-appendix').children().unwrap();
    $('.appendix-bottom').remove();

    // hoverable references
    $('span.citation[data-cites]').each(function() {
      const citeChild = $(this).children()[0]
      // Do not process if @xyz has been used without escaping and without bibliography activated
      // https://github.com/rstudio/distill/issues/466
      if (citeChild === undefined) return true

      if (citeChild.nodeName == "D-FOOTNOTE") {
        var fn = citeChild
        $(this).html(fn.shadowRoot.querySelector("sup"))
        $(this).id = fn.id
        fn.remove()
      }
      var refs = $(this).attr('data-cites').split(" ");
      var refHtml = refs.map(function(ref) {
        // Could use CSS.escape too here, we insure backward compatibility in navigator
        return "<p>" + $('div[id="ref-' + ref + '"]').html() + "</p>";
      }).join("\n");
      window.tippy(this, {
        allowHTML: true,
        content: refHtml,
        maxWidth: 500,
        interactive: true,
        interactiveBorder: 10,
        theme: 'light-border',
        placement: 'bottom-start'
      });
    });

    // fix footnotes in tables (#411)
    // replacing broken distill.pub feature
    $('table d-footnote').each(function() {
      // we replace internal showAtNode methode which is triggered when hovering a footnote
      this.hoverBox.showAtNode = function(node) {
        // ported from https://github.com/distillpub/template/pull/105/files
        calcOffset = function(elem) {
            let x = elem.offsetLeft;
            let y = elem.offsetTop;
            // Traverse upwards until an `absolute` element is found or `elem`
            // becomes null.
            while (elem = elem.offsetParent && elem.style.position != 'absolute') {
                x += elem.offsetLeft;
                y += elem.offsetTop;
            }

            return { left: x, top: y };
        }
        // https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/offsetTop
        const bbox = node.getBoundingClientRect();
        const offset = calcOffset(node);
        this.show([offset.left + bbox.width, offset.top + bbox.height]);
      }
    })

    // clear polling timer
    clearInterval(tid);

    // show body now that everything is ready
    on_load_complete();
  }

  var tid = setInterval(distill_post_process, 50);
  distill_post_process();

}

function init_downlevel() {

  init_common();

   // insert hr after d-title
  $('.d-title').after($('<hr class="section-separator"/>'));

  // check if we have authors
  var front_matter = JSON.parse($("#distill-front-matter").html());
  var have_authors = front_matter.authors && front_matter.authors.length > 0;

  // manage byline/border
  if (!have_authors)
    $('.d-byline').remove();
  $('.d-byline').after($('<hr class="section-separator"/>'));
  $('.d-byline a').remove();

  // remove toc
  $('.d-contents').remove();

  // move appendix elements
  $('h1.appendix, h2.appendix').each(function(i, val) {
    $(this).changeElementType('h3');
  });
  $('h3.appendix').each(function(i, val) {
    $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('.d-appendix'));
  });


  // inject headers into references and footnotes
  var refs_header = $('<h3></h3>');
  refs_header.text('References');
  $('#refs').prepend(refs_header);

  var footnotes_header = $('<h3></h3');
  footnotes_header.text('Footnotes');
  $('.footnotes').children('hr').first().replaceWith(footnotes_header);

  // move appendix-bottom entries to the bottom
  $('.appendix-bottom').appendTo('.d-appendix').children().unwrap();
  $('.appendix-bottom').remove();

  // remove appendix if it's empty
  if ($('.d-appendix').children().length === 0)
    $('.d-appendix').remove();

  // prepend separator above appendix
  $('.d-appendix').before($('<hr class="section-separator" style="clear: both"/>'));

  // trim code
  $('pre>code').each(function(i, val) {
    $(this).html($.trim($(this).html()));
  });

  // move posts-container right before article
  $('.posts-container').insertBefore($('.d-article'));

  $('body').addClass('downlevel');

  on_load_complete();
}


function init_common() {

  // jquery plugin to change element types
  (function($) {
    $.fn.changeElementType = function(newType) {
      var attrs = {};

      $.each(this[0].attributes, function(idx, attr) {
        attrs[attr.nodeName] = attr.nodeValue;
      });

      this.replaceWith(function() {
        return $("<" + newType + "/>", attrs).append($(this).contents());
      });
    };
  })(jQuery);

  // prevent underline for linked images
  $('a > img').parent().css({'border-bottom' : 'none'});

  // mark non-body figures created by knitr chunks as 100% width
  $('.layout-chunk').each(function(i, val) {
    var figures = $(this).find('img, .html-widget');
    // ignore leaflet img layers (#106)
    figures = figures.filter(':not(img[class*="leaflet"])')
    if ($(this).attr('data-layout') !== "l-body") {
      figures.css('width', '100%');
    } else {
      figures.css('max-width', '100%');
      figures.filter("[width]").each(function(i, val) {
        var fig = $(this);
        fig.css('width', fig.attr('width') + 'px');
      });

    }
  });

  // auto-append index.html to post-preview links in file: protocol
  // and in rstudio ide preview
  $('.post-preview').each(function(i, val) {
    if (window.location.protocol === "file:")
      $(this).attr('href', $(this).attr('href') + "index.html");
  });

  // get rid of index.html references in header
  if (window.location.protocol !== "file:") {
    $('.distill-site-header a[href]').each(function(i,val) {
      $(this).attr('href', $(this).attr('href').replace(/^index[.]html/, "./"));
    });
  }

  // add class to pandoc style tables
  $('tr.header').parent('thead').parent('table').addClass('pandoc-table');
  $('.kable-table').children('table').addClass('pandoc-table');

  // add figcaption style to table captions
  $('caption').parent('table').addClass("figcaption");

  // initialize posts list
  if (window.init_posts_list)
    window.init_posts_list();

  // implmement disqus comment link
  $('.disqus-comment-count').click(function() {
    window.headroom_prevent_pin = true;
    $('#disqus_thread').toggleClass('hidden');
    if (!$('#disqus_thread').hasClass('hidden')) {
      var offset = $(this).offset();
      $(window).resize();
      $('html, body').animate({
        scrollTop: offset.top - 35
      });
    }
  });
}

document.addEventListener('DOMContentLoaded', function() {
  if (is_downlevel_browser())
    init_downlevel();
  else
    window.addEventListener('WebComponentsReady', init_distill);
});

</script>

<style type="text/css">
/* base variables */

/* Edit the CSS properties in this file to create a custom
   Distill theme. Only edit values in the right column
   for each row; values shown are the CSS defaults.
   To return any property to the default,
   you may set its value to: unset
   All rows must end with a semi-colon.                      */

/* Optional: embed custom fonts here with `@import`          */
/* This must remain at the top of this file.                 */



html {
  /*-- Main font sizes --*/
  --title-size:      50px;
  --body-size:       1.06rem;
  --code-size:       14px;
  --aside-size:      12px;
  --fig-cap-size:    13px;
  /*-- Main font colors --*/
  --title-color:     #000000;
  --header-color:    rgba(0, 0, 0, 0.8);
  --body-color:      rgba(0, 0, 0, 0.8);
  --aside-color:     rgba(0, 0, 0, 0.6);
  --fig-cap-color:   rgba(0, 0, 0, 0.6);
  /*-- Specify custom fonts ~~~ must be imported above   --*/
  --heading-font:    sans-serif;
  --mono-font:       monospace;
  --body-font:       sans-serif;
  --navbar-font:     sans-serif;  /* websites + blogs only */
}

/*-- ARTICLE METADATA --*/
d-byline {
  --heading-size:    0.6rem;
  --heading-color:   rgba(0, 0, 0, 0.5);
  --body-size:       0.8rem;
  --body-color:      rgba(0, 0, 0, 0.8);
}

/*-- ARTICLE TABLE OF CONTENTS --*/
.d-contents {
  --heading-size:    18px;
  --contents-size:   13px;
}

/*-- ARTICLE APPENDIX --*/
d-appendix {
  --heading-size:    15px;
  --heading-color:   rgba(0, 0, 0, 0.65);
  --text-size:       0.8em;
  --text-color:      rgba(0, 0, 0, 0.5);
}

/*-- WEBSITE HEADER + FOOTER --*/
/* These properties only apply to Distill sites and blogs  */

.distill-site-header {
  --title-size:       18px;
  --text-color:       rgba(255, 255, 255, 0.8);
  --text-size:        15px;
  --hover-color:      white;
  --bkgd-color:       #0F2E3D;
}

.distill-site-footer {
  --text-color:       rgba(255, 255, 255, 0.8);
  --text-size:        15px;
  --hover-color:      white;
  --bkgd-color:       #0F2E3D;
}

/*-- Additional custom styles --*/
/* Add any additional CSS rules below                      */
</style>
<style type="text/css">
/* base variables */

/* Edit the CSS properties in this file to create a custom
   Distill theme. Only edit values in the right column
   for each row; values shown are the CSS defaults.
   To return any property to the default,
   you may set its value to: unset
   All rows must end with a semi-colon.                      */

/* Optional: embed custom fonts here with `@import`          */
/* This must remain at the top of this file.                 */

@import url('https://fonts.googleapis.com/css2?family=Questrial');

html {
  /*-- Main font sizes --*/
  --title-size:      50px;
  --body-size:       1.06rem;
  --code-size:       14px;
  --aside-size:      12px;
  --fig-cap-size:    13px;
  /*-- Main font colors --*/
  --title-color:     #000000;
  --header-color:    rgba(0, 0, 0, 0.8);
  --body-color:      rgba(0, 0, 0, 0.8);
  --aside-color:     rgba(0, 0, 0, 0.6);
  --fig-cap-color:   rgba(0, 0, 0, 0.6);
  /*-- Specify custom fonts ~~~ must be imported above   --*/
  --heading-font:    "Questrial", sans-serif;
  --mono-font:       monospace;
  --body-font:       "Questrial", sans-serif;
  --navbar-font:     "Questrial", sans-serif;  /* websites + blogs only */
}

/*-- ARTICLE METADATA --*/
d-byline {
  --heading-size:    0.6rem;
  --heading-color:   rgba(0, 0, 0, 0.5);
  --body-size:       0.8rem;
  --body-color:      rgba(0, 0, 0, 0.8);
}

/*-- ARTICLE TABLE OF CONTENTS --*/
.d-contents {
  --heading-size:    18px;
  --contents-size:   13px;
}

/*-- ARTICLE APPENDIX --*/
d-appendix {
  --heading-size:    15px;
  --heading-color:   rgba(0, 0, 0, 0.65);
  --text-size:       0.8em;
  --text-color:      rgba(0, 0, 0, 0.5);
}

/*-- WEBSITE HEADER + FOOTER --*/
/* These properties only apply to Distill sites and blogs  */

.distill-site-header {
  --title-size:       18px;
  --text-color:       rgba(255, 255, 255, 0.8);
  --text-size:        15px;
  --hover-color:      white;
  --bkgd-color:       #000e78;
}

.distill-site-footer {
  --text-color:       rgba(255, 255, 255, 0.8);
  --text-size:        15px;
  --hover-color:      white;
  --bkgd-color:       #000e78;
}

/*-- Additional custom styles --*/
/* Add any additional CSS rules below                      */

@media screen and (min-width: 768px) {
  d-article aside {
    height: 0;
  }
  aside.slides {
    margin-left: -148px;
    height: auto;
  }
  aside.slides + h2 {
    white-space: nowrap;
  }
}

d-article li {
  margin-bottom: 0.1em;
}

.posts-list .post-preview .thumbnail {
  max-height: 300px;
  overflow: hidden;
}</style>
<style type="text/css">
/* base style */

/* FONT FAMILIES */

:root {
  --heading-default: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
  --mono-default: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  --body-default: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
}

body,
.posts-list .post-preview p,
.posts-list .description p {
  font-family: var(--body-font), var(--body-default);
}

h1, h2, h3, h4, h5, h6,
.posts-list .post-preview h2,
.posts-list .description h2 {
  font-family: var(--heading-font), var(--heading-default);
}

d-article div.sourceCode code,
d-article pre code {
  font-family: var(--mono-font), var(--mono-default);
}


/*-- TITLE --*/
d-title h1,
.posts-list > h1 {
  color: var(--title-color, black);
}

d-title h1 {
  font-size: var(--title-size, 50px);
}

/*-- HEADERS --*/
d-article h1,
d-article h2,
d-article h3,
d-article h4,
d-article h5,
d-article h6 {
  color: var(--header-color, rgba(0, 0, 0, 0.8));
}

/*-- BODY --*/
d-article > p,  /* only text inside of <p> tags */
d-article > ul, /* lists */
d-article > ol {
  color: var(--body-color, rgba(0, 0, 0, 0.8));
  font-size: var(--body-size, 1.06rem);
}


/*-- CODE --*/
d-article div.sourceCode code,
d-article pre code {
  font-size: var(--code-size, 14px);
}

/*-- ASIDE --*/
d-article aside {
  font-size: var(--aside-size, 12px);
  color: var(--aside-color, rgba(0, 0, 0, 0.6));
}

/*-- FIGURE CAPTIONS --*/
figure .caption,
figure figcaption,
.figure .caption {
  font-size: var(--fig-cap-size, 13px);
  color: var(--fig-cap-color, rgba(0, 0, 0, 0.6));
}

/*-- METADATA --*/
d-byline h3 {
  font-size: var(--heading-size, 0.6rem);
  color: var(--heading-color, rgba(0, 0, 0, 0.5));
}

d-byline {
  font-size: var(--body-size, 0.8rem);
  color: var(--body-color, rgba(0, 0, 0, 0.8));
}

d-byline a,
d-article d-byline a {
  color: var(--body-color, rgba(0, 0, 0, 0.8));
}

/*-- TABLE OF CONTENTS --*/
.d-contents nav h3 {
  font-size: var(--heading-size, 18px);
}

.d-contents nav a {
  font-size: var(--contents-size, 13px);
}

/*-- APPENDIX --*/
d-appendix h3 {
  font-size: var(--heading-size, 15px);
  color: var(--heading-color, rgba(0, 0, 0, 0.65));
}

d-appendix {
  font-size: var(--text-size, 0.8em);
  color: var(--text-color, rgba(0, 0, 0, 0.5));
}

d-appendix d-footnote-list a.footnote-backlink {
  color: var(--text-color, rgba(0, 0, 0, 0.5));
}

/*-- WEBSITE HEADER + FOOTER --*/
.distill-site-header .title {
  font-size: var(--title-size, 18px);
  font-family: var(--navbar-font), var(--heading-default);
}

.distill-site-header a,
.nav-dropdown .nav-dropbtn {
  font-family: var(--navbar-font), var(--heading-default);
}

.nav-dropdown .nav-dropbtn {
  color: var(--text-color, rgba(255, 255, 255, 0.8));
  font-size: var(--text-size, 15px);
}

.distill-site-header a:hover,
.nav-dropdown:hover .nav-dropbtn {
  color: var(--hover-color, white);
}

.distill-site-header {
  font-size: var(--text-size, 15px);
  color: var(--text-color, rgba(255, 255, 255, 0.8));
  background-color: var(--bkgd-color, #0F2E3D);
}

.distill-site-footer {
  font-size: var(--text-size, 15px);
  color: var(--text-color, rgba(255, 255, 255, 0.8));
  background-color: var(--bkgd-color, #0F2E3D);
}

.distill-site-footer a:hover {
  color: var(--hover-color, white);
}</style>
<!--/radix_placeholder_distill-->
  <script src="../../../site_libs/header-attrs-2.29/header-attrs.js"></script>
  <script src="../../../site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
  <script src="../../../site_libs/popper-2.6.0/popper.min.js"></script>
  <link href="../../../site_libs/tippy-6.2.7/tippy.css" rel="stylesheet" />
  <link href="../../../site_libs/tippy-6.2.7/tippy-light-border.css" rel="stylesheet" />
  <script src="../../../site_libs/tippy-6.2.7/tippy.umd.min.js"></script>
  <script src="../../../site_libs/anchor-4.2.2/anchor.min.js"></script>
  <script src="../../../site_libs/bowser-1.9.3/bowser.min.js"></script>
  <script src="../../../site_libs/webcomponents-2.0.0/webcomponents.js"></script>
  <script src="../../../site_libs/distill-2.2.21/template.v2.js"></script>
  <!--radix_placeholder_site_in_header-->
<!--/radix_placeholder_site_in_header-->


</head>

<body>

<!--radix_placeholder_front_matter-->

<script id="distill-front-matter" type="text/json">
{"title":"Degrees and Nobels: A non-essential link","description":"A comprehensive look at Nobel Prizes from 1901 to 2012, uncovering patterns \nin laureates ages, trends across categories, educational qualifications, academic \naffiliations and hometown demographics.","authors":[{"author":"Andrea Rivera-Mateos","authorURL":"#","affiliation":"&nbsp;","affiliationURL":"#","orcidID":""}],"publishedDate":"2025-01-14T00:00:00.000+01:00","citationText":"Rivera-Mateos, 2025"}
</script>

<!--/radix_placeholder_front_matter-->
<!--radix_placeholder_navigation_before_body-->
<header class="header header--fixed" role="banner">
<nav class="distill-site-nav distill-site-header">
<div class="nav-left">
<span class="logo">
<img src="../../../assets/acronimo_0.png"/>
</span>
<a href="../../../index.html" class="title">Data Visualization | MSc CSS</a>
<input id="distill-search" class="nav-search hidden" type="text" placeholder="Search..."/>
</div>
<div class="nav-right">
<a href="../../../contents.html">Contents</a>
<a href="../../../tutorials.html">Tutorials</a>
<a href="../../../resources.html">Resources</a>
<a href="../../../projects.html">Projects</a>
<a href="https://github.com/IBiDat/dataviz" aria-label="Link to source">
<i class="fab fa-github" aria-hidden="true"></i>
</a>
<a href="javascript:void(0);" class="nav-toggle">&#9776;</a>
</div>
</nav>
</header>
<!--/radix_placeholder_navigation_before_body-->
<!--radix_placeholder_site_before_body-->
<!--/radix_placeholder_site_before_body-->

<div class="d-title">
<h1>Degrees and Nobels: A non-essential link</h1>

<!--radix_placeholder_categories-->
<div class="dt-tags">
  <a href="../../../projects.html#category:2024" class="dt-tag">2024</a>
</div>
<!--/radix_placeholder_categories-->
<p><p>A comprehensive look at Nobel Prizes from 1901 to 2012, uncovering patterns
in laureates ages, trends across categories, educational qualifications, academic
affiliations and hometown demographics.</p></p>
</div>

<div class="d-byline">
  
  Andrea Rivera-Mateos
  
<br/>2025-01-14
</div>

<div class="d-article">
<div class="d-contents d-contents-float">
<nav class="l-text toc figcaption" id="TOC">
<h3>Contents</h3>
<ul>
<li><a href="#setting-the-stage" id="toc-setting-the-stage">Setting the stage</a></li>
<li><a href="#getting-started" id="toc-getting-started">Getting started</a>
<ul>
<li><a href="#libraries" id="toc-libraries">Libraries</a></li>
<li><a href="#some-aesthetics" id="toc-some-aesthetics">Some aesthetics</a></li>
<li><a href="#data-reconstruction" id="toc-data-reconstruction">Data reconstruction</a></li>
</ul></li>
<li><a href="#reverse-engineering" id="toc-reverse-engineering">Reverse engineering</a>
<ul>
<li><a href="#shifting-ages-connected-scatter-plot" id="toc-shifting-ages-connected-scatter-plot">Shifting ages | Connected scatter plot</a></li>
<li><a href="#from-dropouts-to-phd-barplot" id="toc-from-dropouts-to-phd-barplot">From dropouts to Phd | Barplot</a></li>
<li><a href="#back-to-the-roots-stacked-barplot" id="toc-back-to-the-roots-stacked-barplot">Back to the roots | Stacked barplot</a></li>
<li><a href="#hubs-of-excellence-sankey-diagram" id="toc-hubs-of-excellence-sankey-diagram">Hubs of excellence | Sankey diagram</a></li>
<li><a href="#graphical-symbiosis---final-result" id="toc-graphical-symbiosis---final-result">Graphical Symbiosis - final result</a></li>
</ul></li>
<li><a href="#beyond-the-mirror" id="toc-beyond-the-mirror">Beyond the mirror</a>
<ul>
<li><a href="#visual-glossary" id="toc-visual-glossary">Visual Glossary</a></li>
<li><a href="#headline" id="toc-headline">Headline</a></li>
<li><a href="#strengthening-womens-presence" id="toc-strengthening-womens-presence">Strengthening Women’s Presence</a></li>
<li><a href="#chronicle-of-data---final-plot" id="toc-chronicle-of-data---final-plot">Chronicle of data - final plot</a></li>
</ul></li>
</ul>
</nav>
</div>
<h2 id="setting-the-stage">Setting the stage</h2>
<p>The Nobel Prizes, awarded annually since 1901, honor extraordinary achievements in various fields, including Physics, Chemistry, Medicine, Literature, Peace, and Economic Sciences. These prestigious awards not only celebrate groundbreaking contributions but also reveal fascinating patterns and stories about the individuals who have shaped human progress.</p>
<p>This visualization delves into the journey of Nobel laureates over time, capturing the diversity of achievements and backgrounds that define these awards. It highlights trends in age at the time of recognition, the global origins and affiliations of the winners, and how different categories have evolved through the years. By examining these elements, the visualization provides a deeper understanding of the context in which these honors were awarded, the historical moments they reflect, and the enduring impact of the laureates’ work.</p>
<p>The decision to explore this graph was inspired by the intricate narratives it weaves, capturing the interplay of time, remarkable achievements, and the diverse tapestry of humanity. Through its depiction of Nobel laureates, the visualization illuminates the historical and personal contexts behind these prestigious awards, offering a window into the evolving legacy of innovation and excellence. It invites reflection on the profound stories hidden within the data, highlighting how visual exploration can bring to life the enduring impact of these extraordinary individuals.</p>
<p>For this visualization, Georgia Lupi, author of the original graph, took her inspiration from musical scores and their elegant aesthetics, especially John Cage’s source of fascinating contemporary scores. She visualized the evolution over time of the 6 prize categories, as colored musical scores along a skewed timeline.</p>
<figure>
<img src="nobels.jpg" class="external" style="width:100.0%" alt="Nobels, no degrees by Georgia Lupi for La Lettura, Corriere della Sera. (Nov 25, 2012)" />
<figcaption aria-hidden="true"><em>Nobels, no degrees</em> by Georgia Lupi for <a href="https://www.flickr.com/photos/accurat/8249872482/in/album-72157632180303367/">La Lettura</a>, Corriere della Sera. (Nov 25, 2012)</figcaption>
</figure>
<h2 id="getting-started">Getting started</h2>
<h3 id="libraries">Libraries</h3>
<p>This project utilizes a suite of libraries in R Studio to enable effective data manipulation and the creation of visually compelling graphs. These tools, including core visualization and supplementary packages, streamline workflows and enhance graphical outputs. Combining these libraries ensures a powerful and flexible approach to data visualization.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>packages</span> <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"tidyverse"</span>, <span class='st'>"readr"</span>,<span class='st'>"dplyr"</span>, <span class='st'>"ggplot2"</span>, <span class='st'>"ggthemes"</span>, <span class='st'>"ggforce"</span>, </span>
<span>             <span class='st'>"forcats"</span>, <span class='st'>"ggtext"</span>, <span class='st'>"patchwork"</span>, <span class='st'>"ggalluvial"</span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>package.check</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/lapply.html'>lapply</a></span><span class='op'>(</span><span class='va'>packages</span>,</span>
<span>                        FUN <span class='op'>=</span> <span class='kw'>function</span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span><span class='op'>{</span></span>
<span>                          <span class='kw'>if</span> <span class='op'>(</span><span class='op'>!</span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>require</a></span><span class='op'>(</span><span class='va'>x</span>,character.only <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span><span class='op'>)</span><span class='op'>{</span></span>
<span>                            <span class='fu'><a href='https://rdrr.io/r/utils/install.packages.html'>install.packages</a></span><span class='op'>(</span><span class='va'>x</span>,dependencies <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span></span>
<span>                            <span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'>x</span>, character.only <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span><span class='op'>}</span><span class='op'>}</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<h3 id="some-aesthetics">Some aesthetics</h3>
<p>Additionally, the project incorporates carefully chosen fonts to complement the visualizations and enhance their aesthetic appeal. The selection of fonts ensures readability, consistency, and a professional finish, aligning with the overall design of the original graph.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'>sysfonts</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/sysfonts/man/font_add_google.html'>font_add_google</a></span><span class='op'>(</span><span class='st'>"Tinos"</span>, family<span class='op'>=</span><span class='st'>"tinos"</span><span class='op'>)</span> <span class='co'># for text</span></span>
<span><span class='fu'>sysfonts</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/sysfonts/man/font_add_google.html'>font_add_google</a></span><span class='op'>(</span><span class='st'>"Gelasio"</span>, family<span class='op'>=</span><span class='st'>"gl"</span><span class='op'>)</span> <span class='co'>#for numbers</span></span>
<span><span class='fu'>sysfonts</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/sysfonts/man/font_add_google.html'>font_add_google</a></span><span class='op'>(</span><span class='st'>"EB Garamond"</span>, family<span class='op'>=</span><span class='st'>"ebg"</span><span class='op'>)</span> <span class='co'>#for the final title</span></span>
<span><span class='fu'>showtext</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/showtext/man/showtext_auto.html'>showtext_auto</a></span><span class='op'>(</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<p>Furthermore, we defined a vector (<code>colors</code>) mapping each category to a unique hex color code to differentiate the categories visually.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>colors</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span> <span class='op'>(</span></span>
<span>  <span class='st'>"Chemistry"</span> <span class='op'>=</span> <span class='st'>"#C04C3D"</span>, </span>
<span>  <span class='st'>"Economic Sciences"</span> <span class='op'>=</span> <span class='st'>"#3F7383"</span>, </span>
<span>  <span class='st'>"Physics"</span> <span class='op'>=</span> <span class='st'>"#84AC6A"</span>, </span>
<span>  <span class='st'>"Literature"</span> <span class='op'>=</span> <span class='st'>"#B8963F"</span>, </span>
<span>  <span class='st'>"Physiology or Medicine"</span> <span class='op'>=</span> <span class='st'>"#7F3E48"</span>, </span>
<span>  <span class='st'>"Peace"</span> <span class='op'>=</span> <span class='st'>"#D47156"</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<h3 id="data-reconstruction">Data reconstruction</h3>
<p>Obtaining the necessary data for this project posed significant challenges, as the original graph was published in a print newspaper and the sources employed in its creation were unknown. This lack of accessible and verifiable data required extensive effort to approximate and reconstruct the visualizations accurately. Nevertheless, we were able to identify a <a href="https://www.kaggle.com/datasets/imdevskp/nobel-prize/data?select=complete.csv">data set on <em>Kaggle</em></a>, a platform for data science and machine learning, containing most of the information needed.</p>
<p>The data set primarily consists of the years since the first Prize was awarded, the names of the laureates, their birth dates, hometowns, university affiliations, and other relevant information. However, it lacked information regarding the academic backgrounds of the laureates. This was subsequently obtained through a manual search, primarily referencing the biographies available on the official Nobel Prize website. In instances where such information was unavailable, alternative sources, including Wikipedia and the official websites of the relevant universities, were consulted.</p>
<p>Once the data was gathered, we moved forward with its processing. Given that the chart spans from 1901 to 2012, we focused on the data for these years. Although some laureates have been organizations, we decided to exclude these entries, as their inclusion would result in outlier values. We then selected the necessary variables to reproduce the graph accurately.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>nobels</span> <span class='op'>&lt;-</span> <span class='fu'>read_delim</span><span class='op'>(</span><span class='st'>"nobel_laureates.csv"</span>, delim <span class='op'>=</span> <span class='st'>";"</span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>tidy_nobels</span> <span class='op'>&lt;-</span> <span class='va'>nobels</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>awardYear</span> <span class='op'>&gt;=</span> <span class='fl'>1901</span> <span class='op'>&amp;</span> <span class='va'>awardYear</span> <span class='op'>&lt;=</span> <span class='fl'>2012</span><span class='op'>)</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>ind_or_org</span> <span class='op'>==</span> <span class='st'>"Individual"</span><span class='op'>)</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'>select</span><span class='op'>(</span><span class='va'>awardYear</span>,<span class='va'>category</span>,<span class='va'>dateAwarded</span>,<span class='va'>name</span> ,<span class='va'>gender</span>, <span class='va'>birth_date</span>, <span class='va'>birth_cityNow</span>, </span>
<span>         <span class='va'>academic_degree</span>, <span class='va'>affiliation_1_bis</span>, <span class='va'>affiliation_1</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<p>Once the data is selected, we will create a vector (<code>cat</code>) listing the six Nobel Prize categories. These will serve as a reference throughout the code. Then, using the factor <code>category_labels</code> we defined the same categories with their order explicitly specified. The <code>tidy_nobels</code> data frame’s category column is then coerced into a factor using the predefined <code>cat</code> vector. This ensures that the column values are treated as ordered categories, allowing logical sequencing in any resulting output.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>cat</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span> <span class='op'>(</span><span class='st'>"Chemistry"</span>, <span class='st'>"Economic Sciences"</span>, <span class='st'>"Physics"</span>, <span class='st'>"Literature"</span>,</span>
<span>          <span class='st'>"Physiology or Medicine"</span>, <span class='st'>"Peace"</span><span class='op'>)</span> </span>
<span></span>
<span><span class='va'>category_labels</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span><span class='op'>(</span></span>
<span>  <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Chemistry"</span>, <span class='st'>"Economic Sciences"</span>, <span class='st'>"Physics"</span>, <span class='st'>"Literature"</span>, </span>
<span>    <span class='st'>"Physiology or Medicine"</span>, <span class='st'>"Peace"</span><span class='op'>)</span>,</span>
<span>  levels <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Chemistry"</span>, <span class='st'>"Economic Sciences"</span>, <span class='st'>"Physics"</span>, <span class='st'>"Literature"</span>, </span>
<span>             <span class='st'>"Physiology or Medicine"</span>, <span class='st'>"Peace"</span><span class='op'>)</span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>tidy_nobels</span><span class='op'>$</span><span class='va'>category</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span><span class='op'>(</span><span class='va'>tidy_nobels</span><span class='op'>$</span><span class='va'>category</span>, levels <span class='op'>=</span> <span class='va'>cat</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<h2 id="reverse-engineering">Reverse engineering</h2>
<h3 id="shifting-ages-connected-scatter-plot">Shifting ages | Connected scatter plot</h3>
<p>This initial representation is the most significant in the graph, showcasing a connected scatter plot where each dot represents a Nobel Laureate, positioned based on the year the prize was awarded and the Laureate’s age at the time. In other words, the display identifies the year of the prize on the x-axis, the winners’ ages on the y-axis.</p>
<p>The visualization highlights age trends within each category, offering a clear perspective on how these patterns evolve. Additionally, the plot provides indicators for the average age within each discipline and across all Laureates. Double-rounded dots are used to distinctly represent women, adding another layer of meaningful insight to the data.</p>
<p>To replicate this plot, we will need to, first, compute the age of each Laureate at the time of their award. For this action, we ensure that the <code>birth_date</code> variable is a date object for date-based calculations. Then, we create a new variable (<code>age</code>) by calculating the difference between the year the prize was awarded (<code>awardYear</code>) and the Laureate’s year of birth, extracted from the <code>birth_date</code> column.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>tidy_nobels</span> <span class='op'>&lt;-</span> <span class='va'>tidy_nobels</span> <span class='op'>|&gt;</span></span>
<span>  <span class='fu'>mutate</span><span class='op'>(</span>birth_date <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='va'>birth_date</span>, format <span class='op'>=</span> <span class='st'>"%Y-%m-%d"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'>mutate</span><span class='op'>(</span>age <span class='op'>=</span> <span class='va'>awardYear</span> <span class='op'>-</span> <span class='fu'><a href='https://rdrr.io/r/base/numeric.html'>as.numeric</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/format.html'>format</a></span><span class='op'>(</span><span class='va'>birth_date</span>, <span class='st'>"%Y"</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<p>Next, we calculate the average age of Laureates for each category. The data is grouped by category, and the mean age is calculated within each group, ignoring any missing values. The resulting average age is rounded to the nearest whole number, and the grouping structure is removed to produce a simplified data frame.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>avg_age</span> <span class='op'>&lt;-</span> <span class='va'>tidy_nobels</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'>group_by</span><span class='op'>(</span><span class='va'>category</span><span class='op'>)</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'>summarise</span><span class='op'>(</span>avg_age <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/Round.html'>round</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/mean.html'>mean</a></span><span class='op'>(</span><span class='va'>age</span>, na.rm <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>|&gt;</span></span>
<span>  <span class='fu'>ungroup</span><span class='op'>(</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<p>As mention before, for each Nobel Prize category, the average age of the Laureates is visually represented with a horizontal line. The individual ages of the Laureates are shown as scatter points, connected by lines within each category to highlight trends over time. Female Laureates are specifically highlighted with distinct double-rounded markers, making them easy to identify within the plot.</p>
<p>To replicate this graph, we need to divide it into six distinct subplots, each corresponding to a specific category. This can be achieved using the <code>facet_grid</code> function, which enables the visualization of subsets of data within a single graph. By organizing the data in this way, we can facilitate a clearer and more effective comparison between categories.</p>
<p>Moreover, to have complete control over each of the elements of the graph, we will draw each of the components of the image: vertical reference lines in a 5-year interval helping the viewer navigate through time; horizontal grid lines at y-values representing different age benchmarks; dashed black line indicating the overall average age of all Laureates, etc. For this, we will combine <code>geom_vline</code> - for those vertical lines drawn at specific x-axis values- and <code>annotate</code> -to draw horizontal custom lines allowing us to specify the dimension of our lines- functions.
As mentioned earlier, the plot is created entirely from scratch.</p>
<p>By default, <code>panel.grid.major.x</code> allows us to differentiate between major and minor breaks within the plot. However, when adding the correspondent label to these breaks, it is not possible to add them to minor breaks. To achieve this, we construct different data frames each containing a set of years along with corresponding y-values. These years represent key milestones that will be annotated on the plot. Since the plot is divided into six subsets, we set “Chemistry” as the reference category to avoid duplicating annotations across the facets. This ensures that the annotations will only appear for the “Chemistry” category, which is positioned at the top of the plot. Additionally, we convert the category variable into a factor with defined levels to ensure the data is treated as a categorical variable with a consistent order.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'>#annotations: minor years</span></span>
<span><span class='va'>min.years_label</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span></span>
<span>  x <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1911</span>, <span class='fl'>1921</span>, <span class='fl'>1941</span>, <span class='fl'>1951</span>, <span class='fl'>1971</span>, <span class='fl'>1981</span>, <span class='fl'>2001</span><span class='op'>)</span>,</span>
<span>  y <span class='op'>=</span> <span class='fl'>100</span>,</span>
<span>  label <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"1911"</span>, <span class='st'>"1921"</span>, <span class='st'>"1941"</span>, <span class='st'>"1951"</span>, <span class='st'>"1971"</span>, <span class='st'>"1981"</span>, <span class='st'>"2001"</span><span class='op'>)</span>,</span>
<span>  category <span class='op'>=</span> <span class='st'>"Chemistry"</span><span class='op'>)</span></span>
<span><span class='va'>min.years_label</span><span class='op'>$</span><span class='va'>category</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span><span class='op'>(</span><span class='va'>min.years_label</span><span class='op'>$</span><span class='va'>category</span>, </span>
<span>                                   levels <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Chemistry"</span>, <span class='st'>"Economic Science"</span>, </span>
<span>                                              <span class='st'>"Physics"</span>, <span class='st'>"Literature"</span>, </span>
<span>                                              <span class='st'>"Physiology or Medicine"</span>, <span class='st'>"Peace"</span><span class='op'>)</span><span class='op'>)</span></span>
<span></span>
<span><span class='co'>#annotations: major years</span></span>
<span><span class='va'>maj.years_label</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span></span>
<span>  x <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1901</span>, <span class='fl'>1931</span>, <span class='fl'>1961</span>, <span class='fl'>1991</span>, <span class='fl'>2012</span><span class='op'>)</span>,</span>
<span>  y <span class='op'>=</span> <span class='fl'>100</span>,</span>
<span>  label <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"1901"</span>, <span class='st'>"1931"</span>, <span class='st'>"1961"</span>,<span class='st'>"1991"</span>, <span class='st'>"2012"</span><span class='op'>)</span>,</span>
<span>  category <span class='op'>=</span> <span class='st'>"Chemistry"</span><span class='op'>)</span></span>
<span><span class='va'>maj.years_label</span><span class='op'>$</span><span class='va'>category</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span><span class='op'>(</span><span class='va'>maj.years_label</span><span class='op'>$</span><span class='va'>category</span>, </span>
<span>                                   levels <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Chemistry"</span>, <span class='st'>"Economic Science"</span>, </span>
<span>                                              <span class='st'>"Physics"</span>, <span class='st'>"Literature"</span>, </span>
<span>                                              <span class='st'>"Physiology or Medicine"</span>, <span class='st'>"Peace"</span><span class='op'>)</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<p>On the other hand, similar problems arise with all the labels annotated at the y-axis of the plot. By default, when applying <code>facet_grid</code> , <code>ggplot2</code> does not allow us to move independently each of the labels. Therefore, we create individual data frames for each of the three components needed on the y-axis: name of the category, average age within each category, and average among all the categories. This customization will allow us to determine manually each of the positions of the labels. We then combine this new information to the <code>avg_age</code> data by <code>category</code> .</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'>#annotations: average age among all noble laureates</span></span>
<span><span class='va'>label_avg_laureate</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span></span>
<span>  category <span class='op'>=</span> <span class='va'>category_labels</span>,</span>
<span>  label_y <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>69</span>, <span class='fl'>56</span>, <span class='fl'>69</span>, <span class='fl'>59</span>, <span class='fl'>64</span>, <span class='fl'>60</span><span class='op'>)</span>, </span>
<span>  label_text <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"(59 years)"</span>, <span class='st'>"(59 years)"</span>, <span class='st'>"(59 years)"</span>, <span class='st'>"(59 years)"</span>, </span>
<span>                 <span class='st'>"(59 years)"</span>, <span class='st'>"(59 years)"</span><span class='op'>)</span><span class='op'>)</span></span>
<span><span class='va'>labels_avg_facets</span> <span class='op'>&lt;-</span> <span class='fu'>left_join</span><span class='op'>(</span><span class='va'>avg_age</span>, <span class='va'>label_avg_laureate</span>, by <span class='op'>=</span> <span class='st'>"category"</span><span class='op'>)</span></span>
<span></span>
<span><span class='co'>#annotations: average age per category</span></span>
<span><span class='va'>label_avg_cat</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span></span>
<span>  category <span class='op'>=</span> <span class='va'>category_labels</span>,</span>
<span>  label_y <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>45</span>, <span class='fl'>55</span>, <span class='fl'>45</span>, <span class='fl'>60</span>, <span class='fl'>42</span>, <span class='fl'>60</span><span class='op'>)</span>, </span>
<span>  label_text <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"57 years"</span>, <span class='st'>"67 years"</span>, <span class='st'>"55 years"</span>, <span class='st'>"64 years"</span>, <span class='st'>"57 years"</span>, <span class='st'>"62 years"</span><span class='op'>)</span><span class='op'>)</span></span>
<span><span class='va'>labels_avg_cat_facets</span> <span class='op'>&lt;-</span> <span class='fu'>left_join</span><span class='op'>(</span><span class='va'>avg_age</span>, <span class='va'>label_avg_cat</span>, by <span class='op'>=</span> <span class='st'>"category"</span><span class='op'>)</span></span>
<span></span>
<span><span class='co'>#annotation: name each category</span></span>
<span><span class='va'>label_cat</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span></span>
<span>  category <span class='op'>=</span> <span class='va'>category_labels</span>,</span>
<span>  label_y <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>70</span>, <span class='fl'>55</span>, <span class='fl'>70</span>, <span class='fl'>70</span>, <span class='fl'>55</span>, <span class='fl'>70</span><span class='op'>)</span>, </span>
<span>  label_text <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"CHEMISTRY"</span>, <span class='st'>"ECONOMIC\nSCIENCES"</span>, <span class='st'>"PHYSICS"</span>, <span class='st'>"LITERATURE"</span>, </span>
<span>                 <span class='st'>"PHYSIOLOGY\nOR MEDICINE"</span>, <span class='st'>"PEACE"</span><span class='op'>)</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<p>For warranting a clear and focused visualization, the plot is designed with specific axis limits and annotation handling. This will help us to highlight the most relevant data points and trends, ensuring that the viewer’s attention is directed where it is most needed. By restricting both axis with <code>coord_cartesian</code>, we ensure that the data points are effectively displayed within a relevant context, without any unnecessary outliers. Additionally, all the text annotations previously created that appear outside the plot area are deliberately not clipped (<code>clip = "off"</code>). This design choice ensures that all labels are fully visible even if they extend beyond the plot boundaries. This helps to avoid any truncation or loss of important information,</p>
<p>Having built and settled all the essential components, the final code to generate the plot is as follows:</p>
<div class="layout-chunk" data-layout="l-page">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>gp1</span> <span class='op'>&lt;-</span> <span class='fu'>ggplot</span><span class='op'>(</span><span class='va'>tidy_nobels</span>,<span class='fu'>aes</span><span class='op'>(</span>color <span class='op'>=</span> <span class='va'>category</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='co'>#facet grid: divided plot into facets</span></span>
<span>  <span class='fu'>facet_grid</span><span class='op'>(</span><span class='va'>category</span> <span class='op'>~</span> <span class='va'>.</span>, switch <span class='op'>=</span> <span class='st'>"y"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='co'>#grid: minor vertical lines   </span></span>
<span>  <span class='fu'>geom_vline</span><span class='op'>(</span>xintercept <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span><span class='op'>(</span><span class='fl'>1906</span>, <span class='fl'>2010</span>, by <span class='op'>=</span> <span class='fl'>5</span><span class='op'>)</span>, linetype <span class='op'>=</span> <span class='st'>"solid"</span>, </span>
<span>             color <span class='op'>=</span> <span class='st'>"#A6A9AC"</span>, linewidth <span class='op'>=</span> <span class='fl'>0.4</span>,  alpha <span class='op'>=</span> <span class='fl'>0.5</span><span class='op'>)</span> <span class='op'>+</span> </span>
<span>  </span>
<span>  <span class='co'>#grid: major vertical lines </span></span>
<span>  <span class='fu'>geom_vline</span><span class='op'>(</span>xintercept <span class='op'>=</span> <span class='fl'>1931</span>, linetype <span class='op'>=</span> <span class='st'>"solid"</span>, color <span class='op'>=</span> <span class='st'>"#A6A9AC"</span>, </span>
<span>             linewidth <span class='op'>=</span> <span class='fl'>0.5</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'>geom_vline</span><span class='op'>(</span>xintercept <span class='op'>=</span> <span class='fl'>1961</span>, linetype <span class='op'>=</span> <span class='st'>"solid"</span>, color <span class='op'>=</span> <span class='st'>"#A6A9AC"</span>, </span>
<span>             linewidth <span class='op'>=</span> <span class='fl'>0.5</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'>geom_vline</span><span class='op'>(</span>xintercept <span class='op'>=</span> <span class='fl'>1991</span>, linetype <span class='op'>=</span> <span class='st'>"solid"</span>, color <span class='op'>=</span> <span class='st'>"#A6A9AC"</span>, </span>
<span>             linewidth <span class='op'>=</span> <span class='fl'>0.5</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'>geom_vline</span><span class='op'>(</span>xintercept <span class='op'>=</span> <span class='fl'>2012</span>, linetype <span class='op'>=</span> <span class='st'>"solid"</span>, color <span class='op'>=</span> <span class='st'>"#A6A9AC"</span>, </span>
<span>             linewidth <span class='op'>=</span> <span class='fl'>0.5</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='co'>#initial vertical color category line</span></span>
<span>  <span class='fu'>geom_segment</span><span class='op'>(</span><span class='fu'>aes</span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>1901</span>, xend <span class='op'>=</span> <span class='fl'>1901</span>, y <span class='op'>=</span> <span class='fl'>40</span>, yend <span class='op'>=</span> <span class='fl'>80</span>, color <span class='op'>=</span> <span class='va'>category</span><span class='op'>)</span>, </span>
<span>               linewidth <span class='op'>=</span>  <span class='fl'>0.8</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='co'>#grid: horizontal lines</span></span>
<span>  <span class='fu'>annotate</span><span class='op'>(</span><span class='st'>"segment"</span>, x <span class='op'>=</span> <span class='fl'>1901</span>, xend <span class='op'>=</span> <span class='fl'>2012</span>, y <span class='op'>=</span> <span class='fl'>40</span>, yend <span class='op'>=</span> <span class='fl'>40</span>, color <span class='op'>=</span> <span class='st'>"#B5B2AC"</span>, </span>
<span>           linewidth <span class='op'>=</span> <span class='fl'>0.2</span>, alpha <span class='op'>=</span> <span class='fl'>0.8</span><span class='op'>)</span> <span class='op'>+</span> </span>
<span>  <span class='fu'>annotate</span><span class='op'>(</span><span class='st'>"segment"</span>, x <span class='op'>=</span> <span class='fl'>1901</span>, xend <span class='op'>=</span> <span class='fl'>2012</span>, y <span class='op'>=</span> <span class='fl'>50</span>, yend <span class='op'>=</span> <span class='fl'>50</span>, color <span class='op'>=</span> <span class='st'>"#B5B2AC"</span>, </span>
<span>           linewidth <span class='op'>=</span> <span class='fl'>0.2</span>, alpha <span class='op'>=</span> <span class='fl'>0.8</span><span class='op'>)</span> <span class='op'>+</span> </span>
<span>  <span class='fu'>annotate</span><span class='op'>(</span><span class='st'>"segment"</span>, x <span class='op'>=</span> <span class='fl'>1901</span>, xend <span class='op'>=</span> <span class='fl'>2012</span>, y <span class='op'>=</span> <span class='fl'>60</span>, yend <span class='op'>=</span> <span class='fl'>60</span>, color <span class='op'>=</span> <span class='st'>"#B5B2AC"</span>, </span>
<span>           linewidth <span class='op'>=</span> <span class='fl'>0.2</span>, alpha <span class='op'>=</span> <span class='fl'>0.8</span><span class='op'>)</span> <span class='op'>+</span> </span>
<span>  <span class='fu'>annotate</span><span class='op'>(</span><span class='st'>"segment"</span>, x <span class='op'>=</span> <span class='fl'>1901</span>, xend <span class='op'>=</span> <span class='fl'>2012</span>, y <span class='op'>=</span> <span class='fl'>70</span>, yend <span class='op'>=</span> <span class='fl'>70</span>, color <span class='op'>=</span> <span class='st'>"#B5B2AC"</span>, </span>
<span>           linewidth <span class='op'>=</span> <span class='fl'>0.2</span>, alpha <span class='op'>=</span> <span class='fl'>0.8</span><span class='op'>)</span> <span class='op'>+</span> </span>
<span>  <span class='fu'>annotate</span><span class='op'>(</span><span class='st'>"segment"</span>, x <span class='op'>=</span> <span class='fl'>1901</span>, xend <span class='op'>=</span> <span class='fl'>2012</span>, y <span class='op'>=</span> <span class='fl'>80</span>, yend <span class='op'>=</span> <span class='fl'>80</span>, color <span class='op'>=</span> <span class='st'>"#B5B2AC"</span>, </span>
<span>           linewidth <span class='op'>=</span> <span class='fl'>0.2</span>, alpha <span class='op'>=</span> <span class='fl'>0.8</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='co'>#average lines by category</span></span>
<span>  <span class='fu'>annotate</span><span class='op'>(</span><span class='st'>"segment"</span>, x <span class='op'>=</span> <span class='fl'>1901</span>, xend <span class='op'>=</span> <span class='fl'>2012</span>, </span>
<span>           y <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/mean.html'>mean</a></span><span class='op'>(</span><span class='va'>tidy_nobels</span><span class='op'>$</span><span class='va'>age</span>, na.rm <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>, </span>
<span>           yend <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/mean.html'>mean</a></span><span class='op'>(</span><span class='va'>tidy_nobels</span><span class='op'>$</span><span class='va'>age</span>, na.rm <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>,</span>
<span>           color <span class='op'>=</span> <span class='st'>"black"</span>, linewidth <span class='op'>=</span> <span class='fl'>0.3</span>, linetype <span class='op'>=</span> <span class='st'>"dashed"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'>geom_segment</span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>avg_age</span>, <span class='fu'>aes</span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>1901</span>, xend <span class='op'>=</span> <span class='fl'>2012</span>, </span>
<span>                                   y <span class='op'>=</span> <span class='va'>avg_age</span>, yend <span class='op'>=</span> <span class='va'>avg_age</span>, </span>
<span>                                   color <span class='op'>=</span> <span class='va'>category</span><span class='op'>)</span>, linewidth <span class='op'>=</span> <span class='fl'>0.5</span><span class='op'>)</span> <span class='op'>+</span> </span>
<span>  </span>
<span>  <span class='co'>#scatter points for each age and connections over time</span></span>
<span>  <span class='fu'>geom_point</span><span class='op'>(</span><span class='fu'>aes</span><span class='op'>(</span><span class='va'>awardYear</span>, <span class='va'>age</span>, color <span class='op'>=</span> <span class='va'>category</span><span class='op'>)</span>, size <span class='op'>=</span> <span class='fl'>1.5</span>, alpha <span class='op'>=</span> <span class='fl'>0.8</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'>geom_line</span><span class='op'>(</span><span class='fu'>aes</span><span class='op'>(</span><span class='va'>awardYear</span>, <span class='va'>age</span>, color <span class='op'>=</span> <span class='va'>category</span><span class='op'>)</span>, lwd <span class='op'>=</span> <span class='fl'>.2</span><span class='op'>)</span> <span class='op'>+</span> </span>
<span>  </span>
<span>  <span class='co'>#highlighting female laureates</span></span>
<span>  <span class='fu'>geom_point</span><span class='op'>(</span>data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>tidy_nobels</span>, <span class='va'>gender</span> <span class='op'>==</span> <span class='st'>"female"</span><span class='op'>)</span>, </span>
<span>             <span class='fu'>aes</span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>awardYear</span>, y <span class='op'>=</span> <span class='va'>age</span><span class='op'>)</span>, color <span class='op'>=</span> <span class='st'>"#B55F94"</span>, </span>
<span>             shape <span class='op'>=</span> <span class='fl'>21</span>, size <span class='op'>=</span> <span class='fl'>3</span>, stroke <span class='op'>=</span> <span class='fl'>0.8</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='co'>#custom colors</span></span>
<span>  <span class='fu'>scale_color_manual</span><span class='op'>(</span>values <span class='op'>=</span> <span class='va'>colors</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='co'>#text annotations: years</span></span>
<span>  <span class='fu'>geom_text</span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>min.years_label</span>, <span class='fu'>aes</span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>x</span>, y <span class='op'>=</span> <span class='va'>y</span>, label <span class='op'>=</span> <span class='va'>label</span><span class='op'>)</span>, </span>
<span>            color <span class='op'>=</span> <span class='st'>"#7F8082"</span>, size <span class='op'>=</span> <span class='fl'>3</span>, family <span class='op'>=</span> <span class='st'>"gl"</span>, vjust <span class='op'>=</span> <span class='op'>-</span><span class='fl'>1</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'>geom_text</span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>maj.years_label</span>, <span class='fu'>aes</span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>x</span>, y <span class='op'>=</span> <span class='va'>y</span>, label <span class='op'>=</span> <span class='va'>label</span><span class='op'>)</span>, </span>
<span>            color <span class='op'>=</span> <span class='st'>"#707070"</span>, size <span class='op'>=</span> <span class='fl'>3</span>, fontface <span class='op'>=</span> <span class='st'>"bold"</span>, family <span class='op'>=</span> <span class='st'>"gl"</span>, </span>
<span>            vjust <span class='op'>=</span> <span class='op'>-</span><span class='fl'>1</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='co'>#text annotations: average ages per category</span></span>
<span>  <span class='fu'>geom_text</span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>labels_avg_facets</span>,</span>
<span>            <span class='fu'>aes</span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>1898</span>, y <span class='op'>=</span> <span class='va'>label_y</span>, label <span class='op'>=</span> <span class='va'>label_text</span><span class='op'>)</span>,</span>
<span>            hjust <span class='op'>=</span> <span class='fl'>1</span>, vjust <span class='op'>=</span> <span class='fl'>1</span>, size <span class='op'>=</span> <span class='fl'>2.5</span>, color <span class='op'>=</span> <span class='st'>"black"</span>, alpha<span class='op'>=</span> <span class='fl'>0.8</span>, </span>
<span>            fontface <span class='op'>=</span> <span class='st'>"bold"</span>,family <span class='op'>=</span> <span class='st'>"gl"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'>geom_text</span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>labels_avg_cat_facets</span>,</span>
<span>            <span class='fu'>aes</span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>1898</span>, y <span class='op'>=</span> <span class='va'>label_y</span>, label <span class='op'>=</span> <span class='va'>label_text</span>,fontface <span class='op'>=</span> <span class='st'>"bold"</span>, </span>
<span>                family <span class='op'>=</span> <span class='st'>"gl"</span><span class='op'>)</span>, hjust <span class='op'>=</span> <span class='fl'>1</span>, vjust <span class='op'>=</span> <span class='op'>-</span><span class='fl'>0.8</span>, size <span class='op'>=</span> <span class='fl'>2.5</span>, color <span class='op'>=</span> <span class='va'>colors</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='co'>#text annotations: category name</span></span>
<span>  <span class='fu'>geom_text</span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>label_cat</span>,</span>
<span>            <span class='fu'>aes</span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>1898</span>, y <span class='op'>=</span> <span class='va'>label_y</span>, label <span class='op'>=</span> <span class='va'>label_text</span>,fontface <span class='op'>=</span> <span class='st'>"bold"</span>, </span>
<span>                family <span class='op'>=</span> <span class='st'>"tinos"</span><span class='op'>)</span>, hjust <span class='op'>=</span> <span class='fl'>1</span>, vjust <span class='op'>=</span> <span class='op'>-</span><span class='fl'>0.8</span>, size <span class='op'>=</span> <span class='fl'>3</span>, </span>
<span>            color <span class='op'>=</span> <span class='va'>colors</span>, lineheight <span class='op'>=</span> <span class='fl'>0.8</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='co'>#styling and theme</span></span>
<span>  <span class='fu'>theme_void</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span> </span>
<span>  <span class='fu'>theme</span><span class='op'>(</span></span>
<span>    legend.position <span class='op'>=</span> <span class='st'>"none"</span>, </span>
<span>    panel.grid.major.x <span class='op'>=</span> <span class='fu'>element_blank</span><span class='op'>(</span><span class='op'>)</span>, </span>
<span>    axis.text.y <span class='op'>=</span> <span class='fu'>element_blank</span><span class='op'>(</span><span class='op'>)</span>, </span>
<span>    axis.text.x <span class='op'>=</span> <span class='fu'>element_blank</span><span class='op'>(</span><span class='op'>)</span>,</span>
<span>    strip.text.y <span class='op'>=</span> <span class='fu'>element_blank</span><span class='op'>(</span><span class='op'>)</span>,</span>
<span>    plot.background <span class='op'>=</span> <span class='fu'>element_rect</span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>"#f2ebde"</span>, color <span class='op'>=</span> <span class='cn'>NA</span><span class='op'>)</span>,</span>
<span>    panel.spacing <span class='op'>=</span> <span class='fu'>unit</span><span class='op'>(</span><span class='fl'>0</span>, <span class='st'>"lines"</span><span class='op'>)</span>,</span>
<span>    plot.margin <span class='op'>=</span> <span class='fu'>margin</span><span class='op'>(</span><span class='fl'>10</span>,<span class='fl'>5</span>,<span class='fl'>0</span>,<span class='fl'>0</span>, <span class='st'>"mm"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span> </span>
<span>  <span class='fu'>labs</span><span class='op'>(</span>y <span class='op'>=</span> <span class='st'>""</span>, x <span class='op'>=</span> <span class='st'>""</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='co'>#axis and plot limits</span></span>
<span>  <span class='fu'>coord_cartesian</span><span class='op'>(</span>xlim <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1900</span>, <span class='fl'>2012</span><span class='op'>)</span>, ylim <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>23</span>, <span class='fl'>92</span><span class='op'>)</span>, </span>
<span>                  clip <span class='op'>=</span> <span class='st'>"off"</span>, expand <span class='op'>=</span> <span class='fl'>0</span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>gp1</span></span></code></pre>
</div>
<p><img src="100535255_files/figure-html5/age-plot-1.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
<h3 id="from-dropouts-to-phd-barplot">From dropouts to Phd | Barplot</h3>
<p>The bars represent the relative percentage of each level of formal education each winner in that category obtained (from Phd to no degrees at all) highlighting how Laureates in Medicine, Physics, or Economic most of the time have a Phd, while the opposite is true for Literature and Peace where most of them don’t even have a degree.</p>
<p>To analyze this, we select both <code>category</code>and <code>academic_degree</code> variables, isolating missing values for this second one. Data is then grouped by both variables and computed the number of Laureates for each combination. To facilitate meaningful interpretation, the <code>academic_degree</code> variable is transformed into an ordered factor, with levels arranged from “no degree” to “PhD,” reflecting a logical progression of educational attainment.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>education</span> <span class='op'>&lt;-</span> <span class='va'>tidy_nobels</span> <span class='op'>|&gt;</span></span>
<span>  <span class='fu'>select</span><span class='op'>(</span><span class='va'>category</span>, <span class='va'>academic_degree</span><span class='op'>)</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>academic_degree</span> <span class='op'>!=</span> <span class='st'>"NA"</span><span class='op'>)</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'>group_by</span><span class='op'>(</span><span class='va'>category</span>, <span class='va'>academic_degree</span><span class='op'>)</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'>summarise</span><span class='op'>(</span>count <span class='op'>=</span> <span class='fu'>n</span><span class='op'>(</span><span class='op'>)</span>, .groups <span class='op'>=</span> <span class='st'>"drop"</span><span class='op'>)</span> <span class='op'>|&gt;</span>  </span>
<span>  <span class='fu'>mutate</span><span class='op'>(</span>academic_degree <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span><span class='op'>(</span><span class='va'>academic_degree</span>,</span>
<span>                                  levels <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"no degree"</span>, <span class='st'>"bachelor"</span>, <span class='st'>"master"</span>, </span>
<span>                                             <span class='st'>"PhD"</span><span class='op'>)</span>, ordered <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<p>As we did before, we divided the plot into facets, with each category displayed in its own horizontal bar chart. Horizontal grid lines are annotated for each academic level, aiding readability. The bars representing the counts of Laureates are styled with distinct colors corresponding to their categories, using the custom color palette per category previously established. Also, we remove unnecessary elements with a void theme and create custom annotation frames with clasps on either side to add structure. Finally, <code>ggplot2</code> expects a continuous variable for the y-axis by default, but we are supplying a discrete factor, therefore we add <code>scale_y_discrete</code> to specify that the y-axis uses discrete values.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>gp2</span> <span class='op'>&lt;-</span> <span class='fu'>ggplot</span><span class='op'>(</span><span class='va'>education</span><span class='op'>)</span> <span class='op'>+</span> </span>
<span>  </span>
<span>  <span class='co'>#facet grid: divided plot into facets</span></span>
<span>  <span class='fu'>facet_wrap</span><span class='op'>(</span><span class='op'>~</span><span class='va'>category</span>, ncol <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span> <span class='op'>+</span> </span>
<span>  </span>
<span>  <span class='co'>#grid: horizontal lines</span></span>
<span>  <span class='fu'>annotate</span><span class='op'>(</span><span class='st'>"segment"</span>, x <span class='op'>=</span> <span class='fl'>0</span>, xend <span class='op'>=</span> <span class='fl'>140</span>, y <span class='op'>=</span> <span class='fl'>1</span>, yend <span class='op'>=</span> <span class='fl'>1</span>, color <span class='op'>=</span> <span class='st'>"black"</span>, </span>
<span>           linewidth <span class='op'>=</span> <span class='fl'>0.2</span>, alpha <span class='op'>=</span> <span class='fl'>0.8</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'>annotate</span><span class='op'>(</span><span class='st'>"segment"</span>, x <span class='op'>=</span> <span class='fl'>0</span>, xend <span class='op'>=</span> <span class='fl'>140</span>, y <span class='op'>=</span> <span class='fl'>2</span>, yend <span class='op'>=</span> <span class='fl'>2</span>, color <span class='op'>=</span> <span class='st'>"black"</span>, </span>
<span>           linewidth <span class='op'>=</span> <span class='fl'>0.2</span>, alpha <span class='op'>=</span> <span class='fl'>0.8</span><span class='op'>)</span> <span class='op'>+</span> </span>
<span>  <span class='fu'>annotate</span><span class='op'>(</span><span class='st'>"segment"</span>, x <span class='op'>=</span> <span class='fl'>0</span>, xend <span class='op'>=</span> <span class='fl'>140</span>, y <span class='op'>=</span> <span class='fl'>3</span>, yend <span class='op'>=</span> <span class='fl'>3</span>, color <span class='op'>=</span> <span class='st'>"black"</span>, </span>
<span>           linewidth <span class='op'>=</span> <span class='fl'>0.2</span>, alpha <span class='op'>=</span> <span class='fl'>0.8</span><span class='op'>)</span> <span class='op'>+</span> </span>
<span>  <span class='fu'>annotate</span><span class='op'>(</span><span class='st'>"segment"</span>, x <span class='op'>=</span> <span class='fl'>0</span>, xend <span class='op'>=</span> <span class='fl'>140</span>, y <span class='op'>=</span> <span class='fl'>4</span>, yend <span class='op'>=</span> <span class='fl'>4</span>, color <span class='op'>=</span> <span class='st'>"black"</span>, </span>
<span>           linewidth <span class='op'>=</span> <span class='fl'>0.2</span>, alpha <span class='op'>=</span> <span class='fl'>0.8</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='co'>#bars for each academic level</span></span>
<span>  <span class='fu'>geom_col</span><span class='op'>(</span><span class='fu'>aes</span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>count</span>, y <span class='op'>=</span> <span class='va'>academic_degree</span>, fill <span class='op'>=</span> <span class='va'>category</span><span class='op'>)</span>, alpha <span class='op'>=</span> <span class='fl'>0.7</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='co'>#custom colors</span></span>
<span>  <span class='fu'>scale_fill_manual</span><span class='op'>(</span>values <span class='op'>=</span> <span class='va'>colors</span><span class='op'>)</span> <span class='op'>+</span> </span>
<span>  </span>
<span>  <span class='co'>#styling and theme</span></span>
<span>  <span class='fu'>theme_void</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'>labs</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span> </span>
<span>  <span class='fu'>theme</span><span class='op'>(</span>legend.position <span class='op'>=</span> <span class='st'>"none"</span>, </span>
<span>        panel.grid <span class='op'>=</span> <span class='fu'>element_blank</span><span class='op'>(</span><span class='op'>)</span>,  </span>
<span>        axis.text.x <span class='op'>=</span> <span class='fu'>element_blank</span><span class='op'>(</span><span class='op'>)</span>, </span>
<span>        axis.title <span class='op'>=</span> <span class='fu'>element_blank</span><span class='op'>(</span><span class='op'>)</span>, </span>
<span>        plot.background <span class='op'>=</span> <span class='fu'>element_rect</span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>"#f2ebde"</span>, color <span class='op'>=</span> <span class='cn'>NA</span><span class='op'>)</span>,</span>
<span>        strip.text <span class='op'>=</span> <span class='fu'>element_blank</span><span class='op'>(</span><span class='op'>)</span>,</span>
<span>        panel.spacing <span class='op'>=</span> <span class='fu'>unit</span><span class='op'>(</span><span class='fl'>1</span>, <span class='st'>"lines"</span><span class='op'>)</span>,<span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='co'>#left clasp</span></span>
<span>  <span class='fu'>annotate</span><span class='op'>(</span><span class='st'>"segment"</span>, x <span class='op'>=</span> <span class='op'>-</span><span class='fl'>5</span>, xend <span class='op'>=</span> <span class='fl'>5</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>2</span>, yend <span class='op'>=</span> <span class='op'>-</span><span class='fl'>2</span>, color <span class='op'>=</span> <span class='st'>"black"</span>, </span>
<span>           linewidth <span class='op'>=</span> <span class='fl'>0.5</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'>annotate</span><span class='op'>(</span><span class='st'>"segment"</span>, x <span class='op'>=</span> <span class='op'>-</span><span class='fl'>5</span>, xend <span class='op'>=</span> <span class='fl'>5</span>, y <span class='op'>=</span> <span class='fl'>7</span>, yend <span class='op'>=</span> <span class='fl'>7</span>, color <span class='op'>=</span> <span class='st'>"black"</span>, </span>
<span>           linewidth <span class='op'>=</span> <span class='fl'>0.5</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'>annotate</span><span class='op'>(</span><span class='st'>"segment"</span>, x <span class='op'>=</span> <span class='op'>-</span><span class='fl'>5</span>, xend <span class='op'>=</span> <span class='op'>-</span><span class='fl'>5</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>2</span>, yend <span class='op'>=</span> <span class='fl'>7</span>, color <span class='op'>=</span> <span class='st'>"black"</span>, </span>
<span>           linewidth <span class='op'>=</span> <span class='fl'>0.5</span><span class='op'>)</span> <span class='op'>+</span>  </span>
<span>  </span>
<span>  <span class='co'>#right clasp</span></span>
<span>  <span class='fu'>annotate</span><span class='op'>(</span><span class='st'>"segment"</span>, x <span class='op'>=</span> <span class='fl'>140</span>, xend <span class='op'>=</span> <span class='fl'>145</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>2</span>, yend <span class='op'>=</span> <span class='op'>-</span><span class='fl'>2</span>, color <span class='op'>=</span> <span class='st'>"black"</span>, </span>
<span>           linewidth <span class='op'>=</span> <span class='fl'>0.5</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'>annotate</span><span class='op'>(</span><span class='st'>"segment"</span>, x <span class='op'>=</span> <span class='fl'>140</span>, xend <span class='op'>=</span> <span class='fl'>145</span>, y <span class='op'>=</span> <span class='fl'>7</span>, yend <span class='op'>=</span> <span class='fl'>7</span>, color <span class='op'>=</span> <span class='st'>"black"</span>, </span>
<span>           linewidth <span class='op'>=</span> <span class='fl'>0.5</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'>annotate</span><span class='op'>(</span><span class='st'>"segment"</span>, x <span class='op'>=</span> <span class='fl'>145</span>, xend <span class='op'>=</span> <span class='fl'>145</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>2</span>, yend <span class='op'>=</span> <span class='fl'>7</span>, color <span class='op'>=</span> <span class='st'>"black"</span>, </span>
<span>           linewidth <span class='op'>=</span> <span class='fl'>0.5</span><span class='op'>)</span> <span class='op'>+</span></span>
<span></span>
<span>  <span class='co'>#discrete values in y-axis</span></span>
<span>  <span class='fu'>scale_y_discrete</span><span class='op'>(</span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>gp2</span></span></code></pre>
</div>
<p><img src="100535255_files/figure-html5/education-plot-1.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
<h3 id="back-to-the-roots-stacked-barplot">Back to the roots | Stacked barplot</h3>
<p>The chart below the main plot represent the most frequent hometowns out of the total, colored by category and aggregated per 30-years period eras. The color within each one corresponds to the prize category. Before plotting, we need to aggregate the data by era and filter the data to the specific cities.</p>
<p>First, we standardize the names of Nobel Laureates’ hometowns that will be part of the final plot for eliminating inconsistencies in the data set that might arise due to minor variations in how city names are recorded. Then, we customize the city order, stored in the <code>city_order</code> vector, to ensure consistent presentation in the visualization.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>tidy_nobels</span> <span class='op'>&lt;-</span> <span class='va'>tidy_nobels</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'>mutate</span><span class='op'>(</span></span>
<span>    birth_cityNow <span class='op'>=</span> <span class='fu'>recode</span><span class='op'>(</span><span class='va'>birth_cityNow</span>,</span>
<span>                           <span class='st'>"Chicago, IL"</span> <span class='op'>=</span> <span class='st'>"Chicago"</span>,</span>
<span>                           <span class='st'>"Washington, DC"</span> <span class='op'>=</span> <span class='st'>"Washington"</span>,</span>
<span>                           <span class='st'>"New York"</span> <span class='op'>=</span> <span class='st'>"New York"</span>,</span>
<span>                           <span class='st'>"Boston, MA"</span> <span class='op'>=</span> <span class='st'>"Boston"</span>,</span>
<span>                           <span class='st'>"London"</span> <span class='op'>=</span> <span class='st'>"London"</span>,</span>
<span>                           <span class='st'>"Paris"</span> <span class='op'>=</span> <span class='st'>"Paris"</span>,</span>
<span>                           <span class='st'>"Munich"</span> <span class='op'>=</span> <span class='st'>"Munich"</span>,</span>
<span>                           <span class='st'>"Vienna"</span> <span class='op'>=</span> <span class='st'>"Wien"</span>,</span>
<span>                           <span class='st'>"Budapest"</span> <span class='op'>=</span> <span class='st'>"Budapest"</span>,</span>
<span>                           <span class='st'>"Moscow"</span> <span class='op'>=</span> <span class='st'>"Moscow"</span><span class='op'>)</span><span class='op'>)</span></span>
<span></span>
<span></span>
<span><span class='va'>city_order</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Washington"</span>, <span class='st'>"Munich"</span>, <span class='st'>"Moscow"</span>,<span class='st'>"Budapest"</span>, <span class='st'>"Boston"</span>, <span class='st'>"Berlin"</span>,</span>
<span>                <span class='st'>"Chicago"</span>, <span class='st'>"Wien"</span>,<span class='st'>"London"</span>,<span class='st'>"Paris"</span>,<span class='st'>"New York"</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<p>When observing the data in <code>tidy_nobels</code>, we see that New York is divided into two separate observations. For that reason, we combine entries into a unique value using the <code>ifelse</code> function. Then, we count the number of occurrences of each unique <code>birth_cityNow</code> which are sorted in descending order by frequency. Finally, as we only need the top 11 cities, we use the <code>slice_head()</code> function to just keep those unique values.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>topcities</span> <span class='op'>&lt;-</span> <span class='va'>tidy_nobels</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'>mutate</span><span class='op'>(</span>birth_cityNow <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/ifelse.html'>ifelse</a></span><span class='op'>(</span><span class='va'>birth_cityNow</span> <span class='op'><a href='https://rdrr.io/r/base/match.html'>%in%</a></span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Brooklyn, NY"</span>, <span class='st'>"New York, NY"</span><span class='op'>)</span>, </span>
<span>                                <span class='st'>"New York"</span>, <span class='va'>birth_cityNow</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>|&gt;</span></span>
<span>  <span class='fu'>count</span><span class='op'>(</span><span class='va'>birth_cityNow</span><span class='op'>)</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'>arrange</span><span class='op'>(</span><span class='fu'>desc</span><span class='op'>(</span><span class='va'>n</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'>slice_head</span><span class='op'>(</span>n <span class='op'>=</span> <span class='fl'>11</span><span class='op'>)</span>  </span></code></pre>
</div>
</div>
<p>Next, we converted <code>birth_cityNow</code> into a factor with a defined order. This ordering ensures that the cities will be displayed in a predefined sequence (from “Washington” to “New York”) when used in any plots or analyses. The same is done in the dataset for ensuring the correct sequence.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>topcities</span><span class='op'>$</span><span class='va'>birth_cityNow</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span><span class='op'>(</span><span class='va'>topcities</span><span class='op'>$</span><span class='va'>birth_cityNow</span>, </span>
<span>                                  levels <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Washington"</span>, <span class='st'>"Munich"</span>, <span class='st'>"Moscow"</span>,</span>
<span>                                             <span class='st'>"Budapest"</span>, <span class='st'>"Boston"</span>, <span class='st'>"Berlin"</span>,</span>
<span>                                             <span class='st'>"Chicago"</span>, <span class='st'>"Wien"</span>,<span class='st'>"London"</span>,<span class='st'>"Paris"</span>,</span>
<span>                                             <span class='st'>"New York"</span><span class='op'>)</span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>topcities</span> <span class='op'>&lt;-</span> <span class='va'>topcities</span><span class='op'>[</span><span class='fu'><a href='https://rdrr.io/r/base/order.html'>order</a></span><span class='op'>(</span><span class='va'>topcities</span><span class='op'>$</span><span class='va'>birth_cityNow</span><span class='op'>)</span>, <span class='op'>]</span></span></code></pre>
</div>
</div>
<p>Once we have the total number of laureates in each city, we will focus on how many there are in each era. For this, we select our original data frame and, as we did before, consolidate the city of New York. The dataset is then filtered to include only the cities from the <code>topcities</code> dataset, ensuring that only the most frequent cities, as identified earlier, are included in the analysis. We then create a new variable (<code>era</code>) containing the four different periods. By grouping the data by <code>birth_cityNow</code>, <code>era</code>, and <code>category</code>, we calculate the number of Nobel Laureates (<code>people_count</code>) for each city within each era and category using the <code>summarise()</code> function. Finally, we order the cities according to the previously defined distribution.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>topcities_era</span> <span class='op'>&lt;-</span> <span class='va'>tidy_nobels</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'>mutate</span><span class='op'>(</span>birth_cityNow <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/ifelse.html'>ifelse</a></span><span class='op'>(</span><span class='va'>birth_cityNow</span> <span class='op'><a href='https://rdrr.io/r/base/match.html'>%in%</a></span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Brooklyn, NY"</span>, <span class='st'>"New York, NY"</span><span class='op'>)</span>, </span>
<span>                                <span class='st'>"New York"</span>, <span class='va'>birth_cityNow</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>|&gt;</span></span>
<span>  <span class='fu'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>birth_cityNow</span> <span class='op'><a href='https://rdrr.io/r/base/match.html'>%in%</a></span> <span class='va'>topcities</span><span class='op'>$</span><span class='va'>birth_cityNow</span><span class='op'>)</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'>mutate</span><span class='op'>(</span>era <span class='op'>=</span> <span class='fu'>case_when</span><span class='op'>(</span><span class='va'>awardYear</span> <span class='op'>&lt;</span> <span class='fl'>1930</span> <span class='op'>~</span> <span class='fl'>1901</span>,</span>
<span>                         <span class='va'>awardYear</span> <span class='op'>&lt;</span> <span class='fl'>1961</span> <span class='op'>~</span> <span class='fl'>1931</span>,</span>
<span>                         <span class='va'>awardYear</span> <span class='op'>&lt;</span> <span class='fl'>1991</span> <span class='op'>~</span> <span class='fl'>1961</span>,</span>
<span>                         <span class='cn'>TRUE</span> <span class='op'>~</span> <span class='fl'>1991</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'>group_by</span><span class='op'>(</span><span class='va'>birth_cityNow</span>, <span class='va'>era</span>, <span class='va'>category</span><span class='op'>)</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'>summarise</span><span class='op'>(</span>people_count <span class='op'>=</span> <span class='fu'>n</span><span class='op'>(</span><span class='op'>)</span>, .groups <span class='op'>=</span> <span class='st'>"drop"</span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>topcities_era</span> <span class='op'>&lt;-</span> <span class='va'>topcities_era</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'>mutate</span><span class='op'>(</span>birth_cityNow <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span><span class='op'>(</span><span class='va'>birth_cityNow</span>, levels <span class='op'>=</span> <span class='va'>city_order</span><span class='op'>)</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<p>For creating the stacked barplot, we will need to first determine the specific intervals that we are going to be using. These eras are structured by specifying both the starting and ending years for each period. The <code>era</code> column marks the year the era begins, while the <code>start_year</code> and <code>end_year</code> columns indicate the specific years that define each era’s range. Incrementing the <code>start_year</code> by a couple of years will allow us to create this separated visual effect needed for the replication.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>era_intervals</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span></span>
<span>  era <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1901</span>, <span class='fl'>1931</span>, <span class='fl'>1961</span>, <span class='fl'>1991</span><span class='op'>)</span>,</span>
<span>  start_year <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1904</span>, <span class='fl'>1934</span>, <span class='fl'>1964</span>, <span class='fl'>1994</span><span class='op'>)</span>,</span>
<span>  end_year <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1930</span>, <span class='fl'>1960</span>, <span class='fl'>1990</span>, <span class='fl'>2012</span><span class='op'>)</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<p>We now need to join our <code>topcities_era</code> data set with the <code>era_intervals</code> in order to merges the era duration data. To obtaining this duration, we subtract <code>start_year</code> from <code>end_year</code> for each era, providing the length of each historical period in years.</p>
<p>Next, by grouping the data by each city and the different eras we will create two new variables: one for the total number of Nobel Laureates for each era across all cities, and another that scales the duration of each era computing how much of the era’s total duration should be allocated to each one</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>topcities_era</span> <span class='op'>&lt;-</span> <span class='va'>topcities_era</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'>left_join</span><span class='op'>(</span><span class='va'>era_intervals</span>, by <span class='op'>=</span> <span class='st'>"era"</span><span class='op'>)</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'>mutate</span><span class='op'>(</span>era_duration <span class='op'>=</span> <span class='va'>end_year</span> <span class='op'>-</span> <span class='va'>start_year</span><span class='op'>)</span>  </span>
<span></span>
<span><span class='va'>topcities_era</span> <span class='op'>&lt;-</span> <span class='va'>topcities_era</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'>group_by</span><span class='op'>(</span><span class='va'>birth_cityNow</span>, <span class='va'>era</span><span class='op'>)</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'>mutate</span><span class='op'>(</span></span>
<span>    total_people_era <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/sum.html'>sum</a></span><span class='op'>(</span><span class='va'>people_count</span><span class='op'>)</span>, </span>
<span>    scaled_duration <span class='op'>=</span> <span class='op'>(</span><span class='va'>people_count</span> <span class='op'>/</span> <span class='va'>total_people_era</span><span class='op'>)</span> <span class='op'>*</span> <span class='va'>era_duration</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<p>Having the start and end year, we can define the length of each category for each era and city. In order to do this, we establish a scaling factor (<code>cm_per_unit</code>), corresponding to one unit, that we multiplied for the total count of Laureates. This will indicate how much each city contributes to each era. With this new length, we compute the start position -subtracting the <code>scaled_duration</code> from the cumulative sum to avoiding overlapping- and the end position of each category in the visualization.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>cm_per_unit</span> <span class='op'>&lt;-</span> <span class='fl'>0.5</span></span>
<span></span>
<span><span class='va'>topcities_era</span> <span class='op'>&lt;-</span> <span class='va'>topcities_era</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'>group_by</span><span class='op'>(</span><span class='va'>birth_cityNow</span>, <span class='va'>era</span><span class='op'>)</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'>mutate</span><span class='op'>(</span></span>
<span>    scaled_duration <span class='op'>=</span> <span class='va'>people_count</span> <span class='op'>*</span> <span class='va'>cm_per_unit</span>,</span>
<span>    start_year_scaled <span class='op'>=</span> <span class='va'>start_year</span> <span class='op'>+</span> <span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/cumsum.html'>cumsum</a></span><span class='op'>(</span><span class='va'>scaled_duration</span><span class='op'>)</span> <span class='op'>-</span> <span class='va'>scaled_duration</span><span class='op'>)</span>,</span>
<span>    end_year_scaled <span class='op'>=</span> <span class='va'>start_year_scaled</span> <span class='op'>+</span> <span class='va'>scaled_duration</span><span class='op'>)</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'>ungroup</span><span class='op'>(</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<p>Up to now, we have calculated the total number of Laureates for each city and era, established their scaled duration, and computed their adjusted start and end years. With these processed data, we can start plotting our visualization.</p>
<div class="layout-chunk" data-layout="l-page">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>gp3</span> <span class='op'>&lt;-</span> <span class='fu'>ggplot</span><span class='op'>(</span><span class='va'>topcities_era</span>, <span class='fu'>aes</span><span class='op'>(</span>y <span class='op'>=</span> <span class='va'>birth_cityNow</span>, color <span class='op'>=</span> <span class='va'>category</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='co'>#grid: horizontal lines</span></span>
<span>  <span class='fu'>annotate</span><span class='op'>(</span><span class='st'>"segment"</span>, x <span class='op'>=</span> <span class='fl'>1901</span>, xend <span class='op'>=</span> <span class='fl'>2015</span>, y <span class='op'>=</span> <span class='va'>topcities_era</span><span class='op'>$</span><span class='va'>birth_cityNow</span>, </span>
<span>           yend <span class='op'>=</span> <span class='va'>topcities_era</span><span class='op'>$</span><span class='va'>birth_cityNow</span>, </span>
<span>           color <span class='op'>=</span> <span class='st'>"#B5B2AC"</span> , linewidth <span class='op'>=</span> <span class='fl'>0.2</span>, alpha <span class='op'>=</span> <span class='fl'>0.05</span>, linetype <span class='op'>=</span> <span class='st'>"dotdash"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='co'>#grid: eras vertical lines </span></span>
<span>  <span class='fu'>geom_vline</span><span class='op'>(</span>xintercept <span class='op'>=</span> <span class='fl'>1901</span>, linetype <span class='op'>=</span> <span class='st'>"solid"</span>, color <span class='op'>=</span> <span class='st'>"#A6A9AC"</span>, linewidth <span class='op'>=</span> <span class='fl'>0.5</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'>geom_vline</span><span class='op'>(</span>xintercept <span class='op'>=</span> <span class='fl'>1931</span>, linetype <span class='op'>=</span> <span class='st'>"solid"</span>, color <span class='op'>=</span> <span class='st'>"#A6A9AC"</span>, linewidth <span class='op'>=</span> <span class='fl'>0.5</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'>geom_vline</span><span class='op'>(</span>xintercept <span class='op'>=</span> <span class='fl'>1961</span>, linetype <span class='op'>=</span> <span class='st'>"solid"</span>, color <span class='op'>=</span> <span class='st'>"#A6A9AC"</span>, linewidth <span class='op'>=</span> <span class='fl'>0.5</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'>geom_vline</span><span class='op'>(</span>xintercept <span class='op'>=</span> <span class='fl'>1991</span>, linetype <span class='op'>=</span> <span class='st'>"solid"</span>, color <span class='op'>=</span> <span class='st'>"#A6A9AC"</span>, linewidth <span class='op'>=</span> <span class='fl'>0.5</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'>geom_vline</span><span class='op'>(</span>xintercept <span class='op'>=</span> <span class='fl'>2012</span>, linetype <span class='op'>=</span> <span class='st'>"solid"</span>, color <span class='op'>=</span> <span class='st'>"#A6A9AC"</span>, linewidth <span class='op'>=</span> <span class='fl'>0.5</span><span class='op'>)</span> <span class='op'>+</span></span>
<span> </span>
<span>  <span class='co'>#text annotations: years</span></span>
<span>  <span class='fu'>annotate</span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>1901</span>, y <span class='op'>=</span> <span class='fl'>11</span>, label <span class='op'>=</span> <span class='st'>"1901"</span>, size <span class='op'>=</span> <span class='fl'>3.5</span>, color <span class='op'>=</span> <span class='st'>"#707070"</span>, </span>
<span>           vjust <span class='op'>=</span> <span class='op'>-</span><span class='fl'>4</span>, family <span class='op'>=</span> <span class='st'>"gl"</span>, fontface <span class='op'>=</span> <span class='st'>"bold"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'>annotate</span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>1931</span>, y <span class='op'>=</span> <span class='fl'>11</span>, label <span class='op'>=</span> <span class='st'>"1931"</span>, size <span class='op'>=</span> <span class='fl'>3.5</span>, color <span class='op'>=</span> <span class='st'>"#707070"</span>, </span>
<span>           vjust <span class='op'>=</span> <span class='op'>-</span><span class='fl'>4</span>, family <span class='op'>=</span> <span class='st'>"gl"</span>, fontface <span class='op'>=</span> <span class='st'>"bold"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'>annotate</span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>1961</span>, y <span class='op'>=</span> <span class='fl'>11</span>, label <span class='op'>=</span> <span class='st'>"1961"</span>, size <span class='op'>=</span> <span class='fl'>3.5</span>, color <span class='op'>=</span> <span class='st'>"#707070"</span>, </span>
<span>           vjust <span class='op'>=</span> <span class='op'>-</span><span class='fl'>4</span>, family <span class='op'>=</span> <span class='st'>"gl"</span>, fontface <span class='op'>=</span> <span class='st'>"bold"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'>annotate</span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>1991</span>, y <span class='op'>=</span> <span class='fl'>11</span>, label <span class='op'>=</span> <span class='st'>"1991"</span>, size <span class='op'>=</span> <span class='fl'>3.5</span>, color <span class='op'>=</span> <span class='st'>"#707070"</span>, </span>
<span>           vjust <span class='op'>=</span> <span class='op'>-</span><span class='fl'>4</span>, family <span class='op'>=</span> <span class='st'>"gl"</span>, fontface <span class='op'>=</span> <span class='st'>"bold"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'>annotate</span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>2012</span>, y <span class='op'>=</span> <span class='fl'>11</span>, label <span class='op'>=</span> <span class='st'>"2012"</span>, size <span class='op'>=</span> <span class='fl'>3.5</span>, color <span class='op'>=</span> <span class='st'>"#707070"</span>, </span>
<span>           vjust <span class='op'>=</span> <span class='op'>-</span><span class='fl'>4</span>, family <span class='op'>=</span> <span class='st'>"gl"</span>, fontface <span class='op'>=</span> <span class='st'>"bold"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='co'>#category segment for each city and era</span></span>
<span>  <span class='fu'>geom_segment</span><span class='op'>(</span><span class='fu'>aes</span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>start_year_scaled</span>, xend <span class='op'>=</span> <span class='va'>end_year_scaled</span>, </span>
<span>                   yend <span class='op'>=</span> <span class='va'>birth_cityNow</span><span class='op'>)</span>, size <span class='op'>=</span> <span class='fl'>3</span><span class='op'>)</span> <span class='op'>+</span>  </span>
<span>  </span>
<span>  <span class='co'>#styling and theme</span></span>
<span>  <span class='fu'>scale_color_manual</span><span class='op'>(</span>values <span class='op'>=</span> <span class='va'>colors</span><span class='op'>)</span> <span class='op'>+</span>  </span>
<span>  <span class='fu'>theme_void</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'>theme</span><span class='op'>(</span></span>
<span>    legend.position <span class='op'>=</span> <span class='st'>"none"</span>,</span>
<span>    plot.background <span class='op'>=</span> <span class='fu'>element_rect</span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>"#f2ebde"</span>, color <span class='op'>=</span> <span class='cn'>NA</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='co'>#text annotations: total laureates per city in each era</span></span>
<span>  <span class='fu'>geom_text</span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='va'>topcities_era</span> <span class='op'>|&gt;</span> </span>
<span>      <span class='fu'>group_by</span><span class='op'>(</span><span class='va'>birth_cityNow</span>, <span class='va'>era</span><span class='op'>)</span> <span class='op'>|&gt;</span> </span>
<span>      <span class='fu'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>end_year_scaled</span> <span class='op'>==</span> <span class='fu'><a href='https://rdrr.io/r/base/Extremes.html'>max</a></span><span class='op'>(</span><span class='va'>end_year_scaled</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>|&gt;</span>  </span>
<span>      <span class='fu'>ungroup</span><span class='op'>(</span><span class='op'>)</span>,</span>
<span>    <span class='fu'>aes</span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>end_year_scaled</span>, y <span class='op'>=</span> <span class='va'>birth_cityNow</span>, label <span class='op'>=</span> <span class='va'>total_people_era</span><span class='op'>)</span>, </span>
<span>    color <span class='op'>=</span> <span class='st'>"#7F8082"</span>, size <span class='op'>=</span> <span class='fl'>2.5</span>, fontface <span class='op'>=</span> <span class='st'>"bold"</span>, hjust <span class='op'>=</span> <span class='op'>-</span><span class='fl'>2</span>,  family <span class='op'>=</span> <span class='st'>"gl"</span>, </span>
<span>    inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='co'>#text annotations: total laureates per city</span></span>
<span>  <span class='fu'>annotate</span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>2012</span> <span class='op'>+</span> <span class='fl'>5</span>, y <span class='op'>=</span> <span class='va'>topcities</span><span class='op'>$</span><span class='va'>birth_cityNow</span>, </span>
<span>           label <span class='op'>=</span>  <span class='va'>topcities</span><span class='op'>$</span><span class='va'>n</span>, size <span class='op'>=</span> <span class='fl'>3</span>, </span>
<span>           color <span class='op'>=</span> <span class='st'>"#7F8082"</span>, vjust <span class='op'>=</span> <span class='fl'>0.5</span>, hjust <span class='op'>=</span> <span class='fl'>0</span>,family <span class='op'>=</span> <span class='st'>"gl"</span>, fontface <span class='op'>=</span> <span class='st'>"bold"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='co'>#text annotations: cities</span></span>
<span>  <span class='fu'>annotate</span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>1899</span>, y <span class='op'>=</span>  <span class='va'>topcities</span><span class='op'>$</span><span class='va'>birth_cityNow</span>,</span>
<span>           label <span class='op'>=</span> <span class='va'>city_order</span>, </span>
<span>           size <span class='op'>=</span> <span class='fl'>2.5</span>, color <span class='op'>=</span> <span class='st'>"black"</span>, alpha <span class='op'>=</span> <span class='fl'>0.7</span>, vjust <span class='op'>=</span> <span class='fl'>0.5</span>, hjust <span class='op'>=</span> <span class='fl'>1</span>, </span>
<span>           family <span class='op'>=</span> <span class='st'>"ebg"</span>, fontface <span class='op'>=</span> <span class='st'>"bold.italic"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='co'>#text annotations: legend</span></span>
<span>  <span class='fu'>annotate</span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>2012</span> <span class='op'>+</span> <span class='fl'>10</span>, y <span class='op'>=</span>  <span class='fl'>10</span>,</span>
<span>           label <span class='op'>=</span>  <span class='st'>"total of \nlaureate \nfor each city"</span>, </span>
<span>           size <span class='op'>=</span> <span class='fl'>2.5</span>, color <span class='op'>=</span> <span class='st'>"black"</span>, alpha <span class='op'>=</span> <span class='fl'>0.8</span>, vjust <span class='op'>=</span> <span class='fl'>0.5</span>, hjust <span class='op'>=</span> <span class='fl'>0</span>, </span>
<span>           family <span class='op'>=</span> <span class='st'>"gl"</span>, fontface <span class='op'>=</span> <span class='st'>"bold"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'>annotate</span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>1888</span>, y <span class='op'>=</span>  <span class='fl'>11</span>,</span>
<span>           label <span class='op'>=</span>  <span class='st'>"principal \nhometowns \nof laureates"</span>,</span>
<span>           size <span class='op'>=</span> <span class='fl'>2.5</span>, color <span class='op'>=</span> <span class='st'>"black"</span>,alpha <span class='op'>=</span> <span class='fl'>0.8</span>, vjust <span class='op'>=</span> <span class='fl'>1</span>, hjust <span class='op'>=</span> <span class='fl'>1</span>, </span>
<span>           family <span class='op'>=</span> <span class='st'>"gl"</span>, fontface <span class='op'>=</span> <span class='st'>"bold"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='co'>#axis and plot limits</span></span>
<span>  <span class='fu'>coord_cartesian</span><span class='op'>(</span>xlim <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1900</span>, <span class='fl'>2012</span><span class='op'>)</span>, ylim<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>12</span>, <span class='fl'>0</span><span class='op'>)</span>, clip<span class='op'>=</span><span class='st'>"off"</span>, expand <span class='op'>=</span> <span class='fl'>0</span> <span class='op'>)</span></span>
<span></span>
<span></span>
<span><span class='va'>gp3</span></span></code></pre>
</div>
<p><img src="100535255_files/figure-html5/hometown-plot-1.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
<h3 id="hubs-of-excellence-sankey-diagram">Hubs of excellence | Sankey diagram</h3>
<p>Throughout this Sankey diagram, each of the arcs represents the Laureates’ principal affiliations for each category and their distributions. The visualization shows how Chemistry (red), Physics (green), and Medicine (purple) are spread among the top 7 universities, while Literature and Peace Nobel Laureates (yellow and orange) clearly did not attend those schools.</p>
<p>This Sankey diagram was constructed by categorizing Nobel Laureates based on their principal affiliations and grouping the data to highlight the top seven universities: Harvard, MIT, Stanford, Caltech, Columbia, Cambridge, and Berkeley. Since affiliations often appear in varied forms, a crucial step is taken to standardize names. For instance, “Massachusetts Institute of Technology (MIT)” is simplified to “MIT,” and “University of California” becomes “Berkeley,” making the data consistent and easier to interpret. Moreover, to ensure accuracy, we filter out cases where an affiliation is labeled “Berkeley” but doesn’t explicitly mention the institution in its original text. This step ensures that only genuine connections to Berkeley are retained.</p>
<p>Once the data is refined, the prize categories and the standardized affiliations are reordered to create the desired structure. Finally, we count the frequency of laureates for each combination of affiliation and prize category removing any incomplete entry leaving a clean dataset.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>univ</span> <span class='op'>&lt;-</span> <span class='va'>tidy_nobels</span>  <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'>select</span><span class='op'>(</span><span class='va'>category</span>, <span class='va'>affiliation_1_bis</span>, <span class='va'>affiliation_1</span><span class='op'>)</span> <span class='op'>|&gt;</span></span>
<span>  </span>
<span>  <span class='co'>#clean and standardized universities names</span></span>
<span>  <span class='fu'>mutate</span><span class='op'>(</span>affiliation_1_bis <span class='op'>=</span> <span class='fu'>case_match</span><span class='op'>(</span></span>
<span>    <span class='va'>affiliation_1_bis</span>,</span>
<span>    <span class='st'>"University of California"</span> <span class='op'>~</span> <span class='st'>"Berkeley"</span>,</span>
<span>    <span class='st'>"Harvard University"</span> <span class='op'>~</span> <span class='st'>"Harvard"</span>,</span>
<span>    <span class='st'>"Massachusetts Institute of Technology (MIT)"</span> <span class='op'>~</span> <span class='st'>"MIT"</span>,</span>
<span>    <span class='st'>"Stanford University"</span> <span class='op'>~</span> <span class='st'>"Stanford"</span>,</span>
<span>    <span class='st'>"University of Cambridge"</span> <span class='op'>~</span> <span class='st'>"Cambridge"</span>,</span>
<span>    <span class='st'>"California Institute of Technology (Caltech)"</span> <span class='op'>~</span> <span class='st'>"Caltech"</span>,</span>
<span>    <span class='st'>"Columbia University"</span> <span class='op'>~</span> <span class='st'>"Columbia"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>|&gt;</span></span>
<span>  </span>
<span>  <span class='co'>#filter California that are not Berkeley</span></span>
<span>  <span class='fu'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='op'>(</span><span class='op'>!</span><span class='op'>(</span><span class='va'>affiliation_1_bis</span> <span class='op'>==</span> <span class='st'>"Berkeley"</span> <span class='op'>&amp;</span> <span class='op'>!</span><span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grepl</a></span><span class='op'>(</span><span class='st'>"Berkeley"</span>, <span class='va'>affiliation_1</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>|&gt;</span></span>
<span>  </span>
<span>  <span class='co'>#reorder categories and affiliations</span></span>
<span>  <span class='fu'>mutate</span><span class='op'>(</span>category <span class='op'>=</span> <span class='fu'>fct_relevel</span><span class='op'>(</span><span class='va'>category</span>, <span class='st'>"Chemistry"</span>, <span class='st'>"Economic Sciences"</span>, </span>
<span>                                <span class='st'>"Physics"</span>, <span class='st'>"Literature"</span>, <span class='st'>"Physiology or Medicine"</span>, </span>
<span>                                <span class='st'>"Peace"</span><span class='op'>)</span>,</span>
<span>         affiliation_1_bis <span class='op'>=</span> <span class='fu'>fct_relevel</span><span class='op'>(</span><span class='va'>affiliation_1_bis</span>, <span class='st'>"Harvard"</span>, <span class='st'>"MIT"</span>, </span>
<span>                                         <span class='st'>"Stanford"</span>, <span class='st'>"Caltech"</span>, <span class='st'>"Columbia"</span>, </span>
<span>                                         <span class='st'>"Cambridge"</span>, <span class='st'>"Berkeley"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>|&gt;</span></span>
<span>  <span class='co'>#count frequencies</span></span>
<span>  <span class='fu'>count</span><span class='op'>(</span><span class='va'>category</span>, <span class='va'>affiliation_1_bis</span><span class='op'>)</span> <span class='op'>|&gt;</span></span>
<span>  </span>
<span>  <span class='co'>#remove missing values</span></span>
<span>  <span class='fu'>drop_na</span><span class='op'>(</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<h4 id="first-approach---parallel-set">First approach - parallel set</h4>
<p>Once we have the clean data, we need to transform it into a format suitable for creating parallel sets plots. The first step involves reshaping the data with the <code>gather_set_data</code> function. The process takes each observation and organizes the combinations into individual rows representing combinations of categories and affiliations, making it possible to visualize the relationships between these levels. It creates new columns that represent the axis and a unique ID for each flow.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>univ_data</span> <span class='op'>&lt;-</span> <span class='fu'>gather_set_data</span><span class='op'>(</span><span class='va'>univ</span>, <span class='fl'>1</span><span class='op'>:</span><span class='fl'>2</span><span class='op'>)</span> </span></code></pre>
</div>
</div>
<p>The reshaped dataset is then used to create the plot with the <code>gplot</code> function, which positions the axes and specifies how to split the data and visualize the flows. Each flow’s width is proportional to the number of laureates in each category-affiliation combination. The <code>geom_parallel_sets</code> function draws the parallel sets on the plot, with the category aesthetic used to color the flows based on the Nobel prize category.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'>ggplot</span><span class='op'>(</span><span class='va'>univ_data</span>, </span>
<span>       <span class='fu'>aes</span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>x</span>, id <span class='op'>=</span> <span class='va'>id</span>, split <span class='op'>=</span> <span class='va'>y</span>, value <span class='op'>=</span> <span class='va'>n</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'>geom_parallel_sets</span><span class='op'>(</span><span class='fu'>aes</span><span class='op'>(</span>fill <span class='op'>=</span> <span class='va'>category</span><span class='op'>)</span>,</span>
<span>                    axis.width <span class='op'>=</span> <span class='fl'>0.05</span>, sep <span class='op'>=</span> <span class='fl'>0.1</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'>geom_parallel_sets_axes</span><span class='op'>(</span>axis.width <span class='op'>=</span> <span class='fl'>0.001</span>, fill <span class='op'>=</span> <span class='st'>"black"</span> , sep <span class='op'>=</span> <span class='fl'>0.1</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'>scale_fill_manual</span><span class='op'>(</span>values <span class='op'>=</span> <span class='va'>colors</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'>theme_void</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'>theme</span><span class='op'>(</span>legend.position <span class='op'>=</span> <span class='st'>"none"</span>,</span>
<span>        plot.background <span class='op'>=</span> <span class='fu'>element_rect</span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>"#f2ebde"</span>, color <span class='op'>=</span> <span class='cn'>NA</span><span class='op'>)</span><span class='op'>)</span> </span></code></pre>
</div>
<p><img src="100535255_files/figure-html5/geom_parallel%20plot-1.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
<p>However, while <code>geom_parallel_sets</code> is useful, it offers limited flexibility for our specific needs: the separation parameter affects all categories equally, and it doesn’t handle missing values well, making it difficult to include categories like “Literature” with NA value. It also does not allow us to manipulate the distribution of the flows making it nearly impossible for further alignment.</p>
<h4 id="second-aproach---geom_flow.-nas">Second aproach - geom_flow. + NAs</h4>
<p>To replicate the gaps observed in the original graph, the <code>ggalluvial</code> package in R is utilized to create alluvial diagrams, which are ideal for visualizing the flow of categorical data across multiple stages or variables. By representing the relationships and transitions between categories, alluvial plots provide a clear view of how data “flows” over time or between different groups. It also provides a more manageable format, allowing us to work directly with our dataset offering greater flexibility. In particular, it handles missing values (NAs) that don’t get plotted but create space in the visualization. This feature will allow us to properly include categories like “Literature” and adjust padding as needed.</p>
<p>In order to be able to replicate the gaps observed in the original graph, we need to introduce artificial entries with missing values. This will be performed in two steps, first adding rows with missing affiliations and second, by adding rows to missing categories (<code>bind_rows</code>).</p>
<p>For this, we create a new row where the affiliation information is missing (NA) for selected prize categories. We only select a subset of categories, all except Chemistry - as is the top visualized category not needing extra values- and Literature - since it has no data at all, there is no need to artificially add gaps for this. We will then manually establish the number of laureates in each row to emulate the specific gaps in the original plot.</p>
<p>The same is done for the universities but, in this case, we just exclude the first university (Harvard) and the specific gaps are the same across all universities creating a clean alienation of the flows.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>univ</span> <span class='op'>&lt;-</span> <span class='va'>univ</span> <span class='op'>|&gt;</span></span>
<span>  </span>
<span>  <span class='co'>#NAs to emulate the gaps in the categories (left side)</span></span>
<span>  <span class='fu'>bind_rows</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span></span>
<span>    category <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/levels.html'>levels</a></span><span class='op'>(</span><span class='va'>univ</span><span class='op'>$</span><span class='va'>category</span><span class='op'>)</span><span class='op'>[</span><span class='op'>-</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span>, <span class='fl'>4</span><span class='op'>)</span><span class='op'>]</span>, </span>
<span>                      levels <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/levels.html'>levels</a></span><span class='op'>(</span><span class='va'>univ</span><span class='op'>$</span><span class='va'>category</span><span class='op'>)</span><span class='op'>)</span>,</span>
<span>    affiliation_1_bis <span class='op'>=</span> <span class='cn'>NA</span>,</span>
<span>    n <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>27</span>, <span class='fl'>30</span>, <span class='fl'>77</span>, <span class='fl'>22</span><span class='op'>)</span> <span class='co'># different for each one (manually adjusted)</span></span>
<span>  <span class='op'>)</span><span class='op'>)</span> <span class='op'>|&gt;</span></span>
<span>  </span>
<span>  <span class='co'># NAs to emulate the gaps in the universities (right side)</span></span>
<span>  <span class='fu'>bind_rows</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span></span>
<span>    category <span class='op'>=</span> <span class='cn'>NA</span>,</span>
<span>    affiliation_1_bis <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/levels.html'>levels</a></span><span class='op'>(</span><span class='va'>univ</span><span class='op'>$</span><span class='va'>affiliation_1_bis</span><span class='op'>)</span><span class='op'>[</span><span class='op'>-</span><span class='fl'>1</span><span class='op'>]</span>, </span>
<span>                               levels <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/levels.html'>levels</a></span><span class='op'>(</span><span class='va'>univ</span><span class='op'>$</span><span class='va'>affiliation_1_bis</span><span class='op'>)</span><span class='op'>)</span>, </span>
<span>                                n <span class='op'>=</span> <span class='fl'>12</span> <span class='op'>)</span><span class='op'>)</span> <span class='co'># same space for each one (manually adjusted)</span></span></code></pre>
</div>
</div>
<p>Once we have the required gaps created, we then focus on setting up and positioning the visual elements that connect Nobel Prize categories on the left side of the graph with the affiliations of laureates on the right side. The goal is to create segments that accurately reflect the number of laureates from each affiliation, while also ensuring the layout remains clean and visually balanced.</p>
<p>To begin, we defined the position of each category’s line on the left (<code>lines_cat</code>). For each one, we assign a position along the vertical axis ensuring they are evenly spaced. The (<code>x</code>) position is fixed, while the (<code>y</code>) position is calculated to place each category in an orderly sequence. This sequence of y values verifies that the categories are spaced out evenly (<code>by=58</code>) along the six distinct categories (<code>length.out=6</code>). Universities are presented in reverse ensuring that they are displayed in the correct order. We then set the end position of the segments (<code>xend</code>, <code>yend</code>), slightly extending the line vertically.</p>
<p>Next, we extract the lengths for the university segments on the right side based on the frequency of laureates for each affiliation (<code>length_af</code>). By grouping the data by affiliation and summing the number of laureates per institution, we generate a list of values that determine the length of each segment. The segments are then positioned at the right side of the graph connecting affiliations to the categories (<code>lines_af</code>). As before, the horizontal axis is fixed, while the vertical axis position is calculated similarly to the left side, but with slight adjustments to ensure that the affiliations don’t overlap.</p>
<p>With the aim of preventing visual clutter while maintaining consistency and maintaining balance in the graph, we create a “fake” affiliation (<code>ZZZ</code>) to the dataset. This placeholder does not represent any real institution but is used solely for layout purposes. It introduces a gap at the bottom of the affiliations section, preventing overcrowding and ensuring that the graph maintains a neat structure. The “fake” affiliation is added with a manually adjusted count of 20 laureates.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'>#category lines (left side)</span></span>
<span><span class='va'>lines_cat</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span></span>
<span>  x <span class='op'>=</span> <span class='fl'>0.98</span>, y <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span><span class='op'>(</span><span class='op'>-</span><span class='fl'>37</span>, by<span class='op'>=</span><span class='fl'>58</span>, length.out<span class='op'>=</span><span class='fl'>6</span><span class='op'>)</span>,</span>
<span>  category <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/rev.html'>rev</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/levels.html'>levels</a></span><span class='op'>(</span><span class='va'>univ</span><span class='op'>$</span><span class='va'>category</span><span class='op'>)</span><span class='op'>)</span>, <span class='fu'><a href='https://rdrr.io/r/base/levels.html'>levels</a></span><span class='op'>(</span><span class='va'>univ</span><span class='op'>$</span><span class='va'>category</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'>mutate</span><span class='op'>(</span>xend <span class='op'>=</span> <span class='va'>x</span>, yend <span class='op'>=</span> <span class='va'>y</span> <span class='op'>+</span> <span class='fl'>40</span><span class='op'>)</span></span>
<span></span>
<span><span class='co'>#length of the university affiliations (right side)</span></span>
<span><span class='va'>length_af</span> <span class='op'>&lt;-</span> <span class='va'>univ</span> <span class='op'>|&gt;</span> <span class='fu'>drop_na</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>|&gt;</span></span>
<span>  <span class='fu'>group_by</span><span class='op'>(</span><span class='va'>affiliation_1_bis</span><span class='op'>)</span> <span class='op'>|&gt;</span></span>
<span>  <span class='fu'>summarise</span><span class='op'>(</span>n <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/sum.html'>sum</a></span><span class='op'>(</span><span class='va'>n</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>|&gt;</span></span>
<span>  <span class='fu'>pull</span><span class='op'>(</span><span class='va'>n</span><span class='op'>)</span> <span class='op'>|&gt;</span></span>
<span>  <span class='fu'><a href='https://rdrr.io/r/base/rev.html'>rev</a></span><span class='op'>(</span><span class='op'>)</span></span>
<span></span>
<span><span class='co'>#affiliation lines (right side)</span></span>
<span><span class='va'>lines_af</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span></span>
<span>  x <span class='op'>=</span> <span class='fl'>2.02</span>, y <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span><span class='op'>(</span><span class='fl'>20</span>, by<span class='op'>=</span><span class='fl'>29</span>, length.out<span class='op'>=</span><span class='fl'>7</span><span class='op'>)</span> <span class='op'>+</span> </span>
<span>    <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='op'>-</span><span class='fl'>1</span>, <span class='op'>-</span><span class='fl'>1</span>, <span class='op'>-</span><span class='fl'>2</span>, <span class='op'>-</span><span class='fl'>3</span>, <span class='op'>-</span><span class='fl'>2</span>, <span class='op'>-</span><span class='fl'>1</span><span class='op'>)</span>, <span class='co'># base adjustment</span></span>
<span>  affiliation_1_bis <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/rev.html'>rev</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/levels.html'>levels</a></span><span class='op'>(</span><span class='va'>univ</span><span class='op'>$</span><span class='va'>affiliation_1_bis</span><span class='op'>)</span><span class='op'>)</span>, </span>
<span>                             <span class='fu'><a href='https://rdrr.io/r/base/levels.html'>levels</a></span><span class='op'>(</span><span class='va'>univ</span><span class='op'>$</span><span class='va'>affiliation_1_bis</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'>mutate</span><span class='op'>(</span>xend <span class='op'>=</span> <span class='va'>x</span>, yend <span class='op'>=</span> <span class='va'>y</span> <span class='op'>+</span> <span class='va'>length_af</span><span class='op'>)</span></span>
<span></span>
<span><span class='co'>#"fake" affiliation to create space at the end</span></span>
<span><span class='fu'><a href='https://rdrr.io/r/base/levels.html'>levels</a></span><span class='op'>(</span><span class='va'>univ</span><span class='op'>$</span><span class='va'>affiliation_1_bis</span><span class='op'>)</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/levels.html'>levels</a></span><span class='op'>(</span><span class='va'>univ</span><span class='op'>$</span><span class='va'>affiliation_1_bis</span><span class='op'>)</span>, <span class='st'>"ZZZ"</span><span class='op'>)</span></span>
<span><span class='va'>univ</span> <span class='op'>&lt;-</span> <span class='fu'>bind_rows</span><span class='op'>(</span><span class='va'>univ</span>, <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span></span>
<span>  category <span class='op'>=</span> <span class='cn'>NA</span>,</span>
<span>  affiliation_1_bis <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span><span class='op'>(</span><span class='st'>"ZZZ"</span>, levels<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/levels.html'>levels</a></span><span class='op'>(</span><span class='va'>univ</span><span class='op'>$</span><span class='va'>affiliation_1_bis</span><span class='op'>)</span><span class='op'>)</span>,</span>
<span>  n <span class='op'>=</span> <span class='fl'>20</span><span class='op'>)</span><span class='op'>)</span> <span class='co'># manually adjusted </span></span></code></pre>
</div>
</div>
<p>After having all the calculations and positions of each element of the graph, we proceed to make the plot.</p>
<p>By using <code>ggalluvial::geom_flow</code>function we create flows between the categories (on the left) and affiliations (on the right). These flows are colored according to the Nobel categories color palette. Then, with the<code>geom_segment</code> function we draw the vertical segments on the left, connecting each Nobel Prize category to the flow lines. Similarly, right-side segments are created to link affiliations to the flow lines. We also add the affiliation names next to each segment.</p>
<p>Finally, as done before, to ensure a correct alignment with the other graphs once we combined them all, we settle the plot limits as the previous graphs.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>gp4</span> <span class='op'>&lt;-</span> <span class='fu'>ggplot</span><span class='op'>(</span><span class='va'>univ</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='co'>#flow between categories</span></span>
<span>  <span class='fu'>geom_flow</span><span class='op'>(</span><span class='fu'>aes</span><span class='op'>(</span>axis1 <span class='op'>=</span> <span class='va'>category</span>, axis2 <span class='op'>=</span> <span class='va'>affiliation_1_bis</span>, y <span class='op'>=</span> <span class='va'>n</span>, </span>
<span>                fill <span class='op'>=</span> <span class='va'>category</span><span class='op'>)</span>, width <span class='op'>=</span> <span class='fl'>0</span>, alpha<span class='op'>=</span><span class='fl'>1</span><span class='op'>)</span> <span class='op'>+</span> <span class='co'>#warnings can be ignored</span></span>
<span>  <span class='fu'>scale_fill_manual</span><span class='op'>(</span>values <span class='op'>=</span> <span class='va'>colors</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='co'>#left segments</span></span>
<span>  <span class='fu'>geom_segment</span><span class='op'>(</span><span class='fu'>aes</span><span class='op'>(</span>x<span class='op'>=</span><span class='va'>x</span>, xend<span class='op'>=</span><span class='va'>xend</span>, y<span class='op'>=</span><span class='va'>y</span>, yend<span class='op'>=</span><span class='va'>yend</span>, color<span class='op'>=</span><span class='va'>category</span><span class='op'>)</span>, <span class='va'>lines_cat</span>, </span>
<span>               size<span class='op'>=</span><span class='fl'>0.8</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'>scale_color_manual</span><span class='op'>(</span>values <span class='op'>=</span> <span class='va'>colors</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='co'>#right segments</span></span>
<span>  <span class='fu'>geom_segment</span><span class='op'>(</span><span class='fu'>aes</span><span class='op'>(</span>x<span class='op'>=</span><span class='va'>x</span>, xend<span class='op'>=</span><span class='va'>xend</span>, y<span class='op'>=</span><span class='va'>y</span>, yend<span class='op'>=</span><span class='va'>yend</span><span class='op'>)</span>, color<span class='op'>=</span><span class='st'>"#555"</span>, <span class='va'>lines_af</span>, size<span class='op'>=</span><span class='fl'>0.8</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'>geom_text</span><span class='op'>(</span><span class='fu'>aes</span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>x</span> <span class='op'>+</span> <span class='fl'>0.08</span>, y <span class='op'>=</span> <span class='va'>y</span>, label <span class='op'>=</span> <span class='va'>affiliation_1_bis</span><span class='op'>)</span>, <span class='va'>lines_af</span>, hjust<span class='op'>=</span><span class='fl'>0</span>, </span>
<span>            vjust<span class='op'>=</span><span class='fl'>0</span>, size<span class='op'>=</span><span class='fl'>3</span>, family <span class='op'>=</span> <span class='st'>"ebg"</span>, fontface <span class='op'>=</span> <span class='st'>"bold.italic"</span>, alpha <span class='op'>=</span> <span class='fl'>0.8</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='co'>#styling and theme </span></span>
<span>  <span class='fu'>theme_void</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'>theme</span><span class='op'>(</span></span>
<span>    legend.position <span class='op'>=</span> <span class='st'>"none"</span>,</span>
<span>    plot.background <span class='op'>=</span> <span class='fu'>element_rect</span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>"#f2ebde"</span>, color <span class='op'>=</span> <span class='cn'>NA</span><span class='op'>)</span>,</span>
<span>    strip.text.y <span class='op'>=</span> <span class='fu'>ggtext</span><span class='fu'>::</span><span class='fu'><a href='https://wilkelab.org/ggtext/reference/element_markdown.html'>element_markdown</a></span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>8</span>, face <span class='op'>=</span> <span class='st'>"bold"</span>, hjust <span class='op'>=</span> <span class='fl'>1</span>, </span>
<span>                                            vjust <span class='op'>=</span> <span class='fl'>0.8</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span></span>
<span></span>
<span>  <span class='co'>#axis and plot limits</span></span>
<span>  <span class='fu'>coord_cartesian</span><span class='op'>(</span>xlim<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span>, <span class='fl'>2.5</span><span class='op'>)</span>, ylim<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='op'>-</span><span class='fl'>25</span>, <span class='fl'>280</span><span class='op'>)</span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>gp4</span></span></code></pre>
</div>
<p><img src="100535255_files/figure-html5/sankey-plot-1.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
<h3 id="graphical-symbiosis---final-result">Graphical Symbiosis - final result</h3>
<p>Having all our graphs individually created, it’s time to assemble all the parts. In this process, first, we create a <code>colored_spacer</code>, which serves as a visual separator between the plots. Then, we arrange the individual plots (<code>gp1</code>, <code>gp2</code>, <code>gp3</code>, and <code>gp4</code>) along with the spacers into different rows, adjusting their widths and margins to ensure everything is properly spaced and aligned. Finally, we combine all the rows into a single layout, adjusting their heights to create the desired proportions and visual flow.</p>
<div class="layout-chunk" data-layout="l-screen">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>colored_spacer</span> <span class='op'>&lt;-</span> <span class='fu'>plot_spacer</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span> </span>
<span>  <span class='fu'>theme</span><span class='op'>(</span>plot.background <span class='op'>=</span> <span class='fu'>element_rect</span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>"#f2ebde"</span>, color <span class='op'>=</span> <span class='cn'>NA</span><span class='op'>)</span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>row1</span> <span class='op'>&lt;-</span> <span class='op'>(</span><span class='va'>colored_spacer</span> <span class='op'>+</span> <span class='va'>gp1</span> <span class='op'>+</span> <span class='va'>gp2</span> <span class='op'>+</span> <span class='va'>gp4</span> <span class='op'>+</span> <span class='va'>colored_spacer</span><span class='op'>)</span> <span class='op'>+</span> </span>
<span>  <span class='fu'>plot_layout</span><span class='op'>(</span>widths <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>4</span>, <span class='fl'>20</span>, <span class='fl'>1.5</span>, <span class='fl'>4.5</span>, <span class='fl'>0.5</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'>theme</span><span class='op'>(</span>plot.margin <span class='op'>=</span> <span class='fu'>margin</span><span class='op'>(</span><span class='fl'>20</span>, <span class='fl'>0</span>, <span class='fl'>30</span>, <span class='fl'>0</span><span class='op'>)</span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>row2</span> <span class='op'>&lt;-</span> <span class='op'>(</span><span class='va'>colored_spacer</span> <span class='op'>+</span> <span class='va'>gp3</span> <span class='op'>+</span> <span class='va'>colored_spacer</span><span class='op'>)</span>  <span class='op'>+</span> </span>
<span>  <span class='fu'>plot_layout</span><span class='op'>(</span>widths <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1.02</span>, <span class='fl'>5</span>, <span class='fl'>1.71</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'>theme</span><span class='op'>(</span>plot.margin <span class='op'>=</span> <span class='fu'>margin</span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>0</span>, <span class='fl'>0</span>, <span class='fl'>0</span><span class='op'>)</span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>row3</span> <span class='op'>&lt;-</span> <span class='va'>colored_spacer</span></span>
<span></span>
<span><span class='va'>final_plot</span> <span class='op'>&lt;-</span> <span class='op'>(</span><span class='va'>row3</span> <span class='op'>/</span> <span class='va'>row1</span> <span class='op'>/</span> <span class='va'>row2</span> <span class='op'>/</span> <span class='va'>row3</span><span class='op'>)</span> <span class='op'>+</span> </span>
<span>  <span class='fu'>plot_layout</span><span class='op'>(</span>heights <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0.05</span>, <span class='fl'>1</span>, <span class='fl'>0.5</span>, <span class='fl'>0.05</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span> </span>
<span>  <span class='fu'>theme</span><span class='op'>(</span></span>
<span>    plot.background <span class='op'>=</span> <span class='fu'>element_rect</span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>"#f2ebde"</span>, color <span class='op'>=</span> <span class='cn'>NA</span><span class='op'>)</span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>final_plot</span></span></code></pre>
</div>
<p><img src="100535255_files/figure-html5/joint-plot-1.png" width="100%" data-distill-preview=1 style="display: block; margin: auto;" /></p>
</div>
<h2 id="beyond-the-mirror">Beyond the mirror</h2>
<p>To optimize the current visualization for better clarity and user engagement, several modifications can be considered. These adjustments would not only enhance the overall aesthetic appeal but also improve how the data is presented and understood by the audience.</p>
<h3 id="visual-glossary">Visual Glossary</h3>
<p>As you can see, the original plot presents a legend, which plays a crucial role in helping viewers understand the different categories, variables, or groups represented in the visualization. The legend serves as a guide, ensuring that the meaning of each color, shape, or size used in the plot is clear and easily interpreted.</p>
<p>However, while the legend is helpful, there may be opportunities to refine its design or placement to improve its clarity and integration with the overall plot. Therefore, we have created a minimalist legend showing all the necessary elements to read and understand the visualization.</p>
<div class="layout-chunk" data-layout="l-page">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>legend</span> <span class='op'>&lt;-</span> <span class='fu'>ggplot</span><span class='op'>(</span><span class='va'>tidy_nobels</span><span class='op'>)</span> <span class='op'>+</span></span>
<span></span>
<span>  <span class='co'>#fake vertical grid lines</span></span>
<span>  <span class='fu'>geom_vline</span><span class='op'>(</span>xintercept <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span><span class='op'>(</span><span class='fl'>1906</span>, <span class='fl'>1910</span>, by <span class='op'>=</span> <span class='fl'>5</span><span class='op'>)</span>, linetype <span class='op'>=</span> <span class='st'>"solid"</span>, </span>
<span>             color <span class='op'>=</span> <span class='st'>"#A6A9AC"</span>, linewidth <span class='op'>=</span> <span class='fl'>0.4</span>,  alpha <span class='op'>=</span> <span class='fl'>0.01</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='co'>#fake horizontal grid lines</span></span>
<span>  <span class='fu'>annotate</span><span class='op'>(</span><span class='st'>"segment"</span>, x <span class='op'>=</span> <span class='fl'>1901</span>, xend <span class='op'>=</span> <span class='fl'>1910</span>, y <span class='op'>=</span> <span class='fl'>60</span>, yend <span class='op'>=</span> <span class='fl'>60</span>, color <span class='op'>=</span> <span class='st'>"#B5B2AC"</span>, </span>
<span>           linewidth <span class='op'>=</span> <span class='fl'>0.2</span>, alpha <span class='op'>=</span> <span class='fl'>0.01</span><span class='op'>)</span> <span class='op'>+</span> </span>
<span>  <span class='fu'>annotate</span><span class='op'>(</span><span class='st'>"segment"</span>, x <span class='op'>=</span> <span class='fl'>1901</span>, xend <span class='op'>=</span> <span class='fl'>1910</span>, y <span class='op'>=</span> <span class='fl'>70</span>, yend <span class='op'>=</span> <span class='fl'>70</span>, color <span class='op'>=</span> <span class='st'>"#B5B2AC"</span>, </span>
<span>           linewidth <span class='op'>=</span> <span class='fl'>0.2</span>, alpha <span class='op'>=</span> <span class='fl'>0.01</span><span class='op'>)</span> <span class='op'>+</span> </span>
<span>  <span class='fu'>annotate</span><span class='op'>(</span><span class='st'>"segment"</span>, x <span class='op'>=</span> <span class='fl'>1901</span>, xend <span class='op'>=</span> <span class='fl'>1910</span>, y <span class='op'>=</span> <span class='fl'>80</span>, yend <span class='op'>=</span> <span class='fl'>80</span>, color <span class='op'>=</span> <span class='st'>"#B5B2AC"</span>, </span>
<span>           linewidth <span class='op'>=</span> <span class='fl'>0.2</span>, alpha <span class='op'>=</span> <span class='fl'>0.01</span><span class='op'>)</span> <span class='op'>+</span></span>
<span></span>
<span>  </span>
<span>  <span class='co'>#gender points</span></span>
<span>  <span class='fu'>annotate</span><span class='op'>(</span><span class='st'>"point"</span>, x <span class='op'>=</span> <span class='fl'>1901.5</span>, y <span class='op'>=</span> <span class='fl'>74.75</span>, color <span class='op'>=</span> <span class='st'>"#C04C3D"</span>, size <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span> <span class='op'>+</span> </span>
<span>  <span class='co'>#woman</span></span>
<span>  <span class='fu'>annotate</span><span class='op'>(</span><span class='st'>"point"</span>, x <span class='op'>=</span> <span class='fl'>1901.5</span>, y <span class='op'>=</span> <span class='fl'>70</span>, color <span class='op'>=</span> <span class='st'>"#C04C3D"</span>, size <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'>annotate</span><span class='op'>(</span><span class='st'>"point"</span>, x <span class='op'>=</span> <span class='fl'>1901.5</span>, y <span class='op'>=</span>  <span class='fl'>70</span>, color <span class='op'>=</span> <span class='st'>"#B55F94"</span>, size <span class='op'>=</span> <span class='fl'>4</span>, shape <span class='op'>=</span> <span class='fl'>23</span>, </span>
<span>           stroke <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='co'>#gender labels</span></span>
<span>  <span class='fu'>annotate</span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>1901.75</span>, y <span class='op'>=</span>  <span class='fl'>74.75</span>, label <span class='op'>=</span>  <span class='st'>"man"</span>, </span>
<span>         size <span class='op'>=</span> <span class='fl'>3.5</span>, color <span class='op'>=</span> <span class='st'>"black"</span>, alpha <span class='op'>=</span> <span class='fl'>0.8</span>, vjust <span class='op'>=</span> <span class='fl'>0.5</span>, hjust <span class='op'>=</span> <span class='fl'>0</span>, </span>
<span>         family <span class='op'>=</span> <span class='st'>"tinos"</span>, fontface <span class='op'>=</span> <span class='st'>"italic"</span><span class='op'>)</span> <span class='op'>+</span> </span>
<span>  <span class='fu'>annotate</span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>1901.75</span>, y <span class='op'>=</span>  <span class='fl'>70</span>, label <span class='op'>=</span>  <span class='st'>"woman"</span>, </span>
<span>         size <span class='op'>=</span> <span class='fl'>3.5</span>, color <span class='op'>=</span> <span class='st'>"black"</span>, alpha <span class='op'>=</span> <span class='fl'>0.8</span>, vjust <span class='op'>=</span> <span class='fl'>0.5</span>, hjust <span class='op'>=</span> <span class='fl'>0</span>, </span>
<span>         family <span class='op'>=</span> <span class='st'>"tinos"</span>, fontface <span class='op'>=</span> <span class='st'>"italic"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='co'>#double points</span></span>
<span>  <span class='fu'>annotate</span><span class='op'>(</span><span class='st'>"point"</span>, x <span class='op'>=</span> <span class='fl'>1901.5</span>, y <span class='op'>=</span> <span class='fl'>65</span>, color <span class='op'>=</span> <span class='st'>"#C04C3D"</span>, size <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span> <span class='op'>+</span> </span>
<span>  <span class='fu'>annotate</span><span class='op'>(</span><span class='st'>"point"</span>, x <span class='op'>=</span> <span class='fl'>1901.5</span>, y <span class='op'>=</span> <span class='fl'>62</span>, color <span class='op'>=</span> <span class='st'>"#C04C3D"</span>, size <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'>annotate</span><span class='op'>(</span><span class='st'>"segment"</span>, x <span class='op'>=</span> <span class='fl'>1901.5</span>, xend <span class='op'>=</span> <span class='fl'>1901.5</span>, y <span class='op'>=</span> <span class='fl'>62</span>, yend <span class='op'>=</span> <span class='fl'>65</span>, </span>
<span>           color <span class='op'>=</span> <span class='st'>"#C04C3D"</span>, linewidth <span class='op'>=</span> <span class='fl'>0.2</span>, alpha <span class='op'>=</span> <span class='fl'>0.8</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'>annotate</span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>1901.75</span>, y <span class='op'>=</span>  <span class='fl'>63.5</span>,</span>
<span>           label <span class='op'>=</span>  <span class='st'>"Nobel awarded to \nmore than one person"</span>, </span>
<span>           size <span class='op'>=</span> <span class='fl'>3.5</span>, color <span class='op'>=</span> <span class='st'>"black"</span>, alpha <span class='op'>=</span> <span class='fl'>0.8</span>, vjust <span class='op'>=</span> <span class='fl'>0.5</span>, hjust <span class='op'>=</span> <span class='fl'>0</span>, </span>
<span>           family <span class='op'>=</span> <span class='st'>"tinos"</span>, fontface <span class='op'>=</span> <span class='st'>"italic"</span><span class='op'>)</span> <span class='op'>+</span> </span>
<span>  </span>
<span>  <span class='co'>#10 years lines</span></span>
<span>  <span class='fu'>annotate</span><span class='op'>(</span><span class='st'>"segment"</span>, x <span class='op'>=</span> <span class='fl'>1903.5</span>, xend <span class='op'>=</span> <span class='fl'>1904</span>, y <span class='op'>=</span> <span class='fl'>75</span>, yend <span class='op'>=</span> <span class='fl'>75</span>, </span>
<span>           color <span class='op'>=</span> <span class='st'>"#B5B2AC"</span>, linewidth <span class='op'>=</span> <span class='fl'>0.2</span>, alpha <span class='op'>=</span> <span class='fl'>0.8</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'>annotate</span><span class='op'>(</span><span class='st'>"segment"</span>, x <span class='op'>=</span> <span class='fl'>1903.5</span>, xend <span class='op'>=</span> <span class='fl'>1904</span>, y <span class='op'>=</span> <span class='fl'>73</span>, yend <span class='op'>=</span> <span class='fl'>73</span>, </span>
<span>           color <span class='op'>=</span> <span class='st'>"#B5B2AC"</span>, linewidth <span class='op'>=</span> <span class='fl'>0.2</span>, alpha <span class='op'>=</span> <span class='fl'>0.8</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'>annotate</span><span class='op'>(</span><span class='st'>"segment"</span>, x <span class='op'>=</span> <span class='fl'>1903.5</span>, xend <span class='op'>=</span> <span class='fl'>1903.5</span>, y <span class='op'>=</span> <span class='fl'>75</span>, yend <span class='op'>=</span> <span class='fl'>73</span>, </span>
<span>           color <span class='op'>=</span> <span class='st'>"#B5B2AC"</span>, inewidth <span class='op'>=</span> <span class='fl'>0.2</span>, alpha <span class='op'>=</span> <span class='fl'>0.8</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'>annotate</span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>1904.25</span>, y <span class='op'>=</span>  <span class='fl'>74</span>,</span>
<span>         label <span class='op'>=</span>  <span class='st'>"10 years"</span>, </span>
<span>         size <span class='op'>=</span> <span class='fl'>3.5</span>, color <span class='op'>=</span> <span class='st'>"black"</span>, alpha <span class='op'>=</span> <span class='fl'>0.8</span>, vjust <span class='op'>=</span> <span class='fl'>0.5</span>, hjust <span class='op'>=</span> <span class='fl'>0</span>, </span>
<span>         family <span class='op'>=</span> <span class='st'>"tinos"</span>, fontface <span class='op'>=</span> <span class='st'>"italic"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span> </span>
<span>  <span class='co'>#avg dash line</span></span>
<span>  <span class='fu'>annotate</span><span class='op'>(</span><span class='st'>"segment"</span>,  x <span class='op'>=</span> <span class='fl'>1903.5</span>, xend <span class='op'>=</span> <span class='fl'>1904</span>, y <span class='op'>=</span> <span class='fl'>69</span>, yend <span class='op'>=</span> <span class='fl'>69</span>, color <span class='op'>=</span> <span class='st'>"black"</span>, </span>
<span>           linewidth <span class='op'>=</span> <span class='fl'>0.5</span>, alpha <span class='op'>=</span> <span class='fl'>0.8</span>, linetype <span class='op'>=</span> <span class='st'>"dashed"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'>annotate</span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>1904.25</span>, y <span class='op'>=</span>  <span class='fl'>69</span>,</span>
<span>           label <span class='op'>=</span>  <span class='st'>"average age of Nobel laureate"</span>, </span>
<span>           size <span class='op'>=</span> <span class='fl'>3.5</span>, color <span class='op'>=</span> <span class='st'>"black"</span>, alpha <span class='op'>=</span> <span class='fl'>0.8</span>, vjust <span class='op'>=</span> <span class='fl'>0.5</span>, hjust <span class='op'>=</span> <span class='fl'>0</span>, </span>
<span>           family <span class='op'>=</span> <span class='st'>"tinos"</span>, fontface <span class='op'>=</span> <span class='st'>"italic"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span></span>
<span>  <span class='co'>#avg line</span></span>
<span>  <span class='fu'>annotate</span><span class='op'>(</span><span class='st'>"segment"</span>,  x <span class='op'>=</span> <span class='fl'>1903.5</span>, xend <span class='op'>=</span> <span class='fl'>1904</span>, y <span class='op'>=</span> <span class='fl'>63.5</span>, yend <span class='op'>=</span> <span class='fl'>63.5</span>, </span>
<span>           color <span class='op'>=</span> <span class='st'>"#C04C3D"</span>, linewidth <span class='op'>=</span> <span class='fl'>0.8</span>, alpha <span class='op'>=</span> <span class='fl'>0.8</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'>annotate</span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>1904.25</span>, y <span class='op'>=</span>  <span class='fl'>63.5</span>,</span>
<span>           label <span class='op'>=</span>  <span class='st'>"average age for each CATEGORY"</span>, </span>
<span>           size <span class='op'>=</span> <span class='fl'>3.5</span>, color <span class='op'>=</span> <span class='st'>"black"</span>, alpha <span class='op'>=</span> <span class='fl'>0.8</span>, vjust <span class='op'>=</span> <span class='fl'>0.5</span>, hjust <span class='op'>=</span> <span class='fl'>0</span>, </span>
<span>           family <span class='op'>=</span> <span class='st'>"tinos"</span>, fontface <span class='op'>=</span> <span class='st'>"italic"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='co'>#academic degree</span></span>
<span>  <span class='fu'>annotate</span><span class='op'>(</span><span class='st'>"segment"</span>, x <span class='op'>=</span> <span class='fl'>1906.5</span>, xend <span class='op'>=</span> <span class='fl'>1906.7</span>, y <span class='op'>=</span> <span class='fl'>75</span>, yend <span class='op'>=</span> <span class='fl'>75</span>, color <span class='op'>=</span> <span class='st'>"black"</span>, </span>
<span>           linewidth <span class='op'>=</span> <span class='fl'>0.5</span>, alpha <span class='op'>=</span> <span class='fl'>0.8</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'>annotate</span><span class='op'>(</span><span class='st'>"segment"</span>, x <span class='op'>=</span> <span class='fl'>1906.5</span>, xend <span class='op'>=</span> <span class='fl'>1906.7</span>, y <span class='op'>=</span> <span class='fl'>62</span>, yend <span class='op'>=</span> <span class='fl'>62</span>, color <span class='op'>=</span> <span class='st'>"black"</span>, </span>
<span>           linewidth <span class='op'>=</span> <span class='fl'>0.5</span>, alpha <span class='op'>=</span> <span class='fl'>0.8</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'>annotate</span><span class='op'>(</span><span class='st'>"segment"</span>, x <span class='op'>=</span> <span class='fl'>1906.5</span>, xend <span class='op'>=</span> <span class='fl'>1906.5</span>, y <span class='op'>=</span> <span class='fl'>62</span>, yend <span class='op'>=</span> <span class='fl'>75</span>, color <span class='op'>=</span> <span class='st'>"black"</span>, </span>
<span>           linewidth <span class='op'>=</span> <span class='fl'>0.5</span>, alpha <span class='op'>=</span> <span class='fl'>0.8</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'>annotate</span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>1906.85</span>, y <span class='op'>=</span>  <span class='fl'>68.5</span>,</span>
<span>           label <span class='op'>=</span>  <span class='st'>"PhD \nmaster \nbachelor \nno degree"</span>, </span>
<span>           size <span class='op'>=</span> <span class='fl'>3</span>, color <span class='op'>=</span> <span class='st'>"#C04C3D"</span>, alpha <span class='op'>=</span> <span class='fl'>0.8</span>, vjust <span class='op'>=</span> <span class='fl'>0.5</span>, hjust <span class='op'>=</span> <span class='fl'>0.5</span>, </span>
<span>           family <span class='op'>=</span> <span class='st'>"tinos"</span>, fontface <span class='op'>=</span> <span class='st'>"bold.italic"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'>annotate</span><span class='op'>(</span><span class='st'>"segment"</span>, x <span class='op'>=</span> <span class='fl'>1907</span>, xend <span class='op'>=</span> <span class='fl'>1907.2</span>, y <span class='op'>=</span> <span class='fl'>75</span>, yend <span class='op'>=</span> <span class='fl'>75</span>, color <span class='op'>=</span> <span class='st'>"black"</span>, </span>
<span>           linewidth <span class='op'>=</span> <span class='fl'>0.5</span>, alpha <span class='op'>=</span> <span class='fl'>0.8</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'>annotate</span><span class='op'>(</span><span class='st'>"segment"</span>, x <span class='op'>=</span> <span class='fl'>1907</span>, xend <span class='op'>=</span> <span class='fl'>1907.2</span>, y <span class='op'>=</span> <span class='fl'>62</span>, yend <span class='op'>=</span> <span class='fl'>62</span>, color <span class='op'>=</span> <span class='st'>"black"</span>, </span>
<span>           linewidth <span class='op'>=</span> <span class='fl'>0.5</span>, alpha <span class='op'>=</span> <span class='fl'>0.8</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'>annotate</span><span class='op'>(</span><span class='st'>"segment"</span>, x <span class='op'>=</span> <span class='fl'>1907.2</span>, xend <span class='op'>=</span> <span class='fl'>1907.2</span>, y <span class='op'>=</span> <span class='fl'>62</span>, yend <span class='op'>=</span> <span class='fl'>75</span>, color <span class='op'>=</span> <span class='st'>"black"</span>, </span>
<span>           linewidth <span class='op'>=</span> <span class='fl'>0.5</span>, alpha <span class='op'>=</span> <span class='fl'>0.8</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'>annotate</span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>1906.85</span>, y <span class='op'>=</span>  <span class='fl'>78</span>,</span>
<span>           label <span class='op'>=</span>  <span class='st'>"grade level"</span>, </span>
<span>           size <span class='op'>=</span> <span class='fl'>3.5</span>, color <span class='op'>=</span> <span class='st'>"black"</span>, alpha <span class='op'>=</span> <span class='fl'>0.8</span>, vjust <span class='op'>=</span> <span class='fl'>0.5</span>, hjust <span class='op'>=</span> <span class='fl'>0.5</span>, </span>
<span>           family <span class='op'>=</span> <span class='st'>"tinos"</span>, fontface <span class='op'>=</span> <span class='st'>"italic"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='co'>#universities</span></span>
<span>  <span class='fu'>annotate</span><span class='op'>(</span><span class='st'>"segment"</span>, x <span class='op'>=</span> <span class='fl'>1907.3</span>, xend <span class='op'>=</span> <span class='fl'>1907.3</span>, y <span class='op'>=</span> <span class='fl'>74</span>, yend <span class='op'>=</span> <span class='fl'>72</span>, color <span class='op'>=</span> <span class='st'>"#C04C3D"</span>, </span>
<span>           linewidth <span class='op'>=</span> <span class='fl'>2</span>, alpha <span class='op'>=</span> <span class='fl'>0.8</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'>annotate</span><span class='op'>(</span><span class='st'>"segment"</span>, x <span class='op'>=</span> <span class='fl'>1907.3</span>, xend <span class='op'>=</span> <span class='fl'>1907.3</span>, y <span class='op'>=</span> <span class='fl'>71.9</span>, yend <span class='op'>=</span> <span class='fl'>68</span>, color <span class='op'>=</span> <span class='st'>"#C04C3D"</span>, </span>
<span>           linewidth <span class='op'>=</span> <span class='fl'>2</span>, alpha <span class='op'>=</span> <span class='fl'>0.8</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'>annotate</span><span class='op'>(</span><span class='st'>"segment"</span>, x <span class='op'>=</span> <span class='fl'>1907.3</span>, xend <span class='op'>=</span> <span class='fl'>1907.3</span>, y <span class='op'>=</span> <span class='fl'>67.9</span>, yend <span class='op'>=</span> <span class='fl'>65</span>, color <span class='op'>=</span> <span class='st'>"#C04C3D"</span>, </span>
<span>           linewidth <span class='op'>=</span> <span class='fl'>2</span>, alpha <span class='op'>=</span> <span class='fl'>0.8</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'>annotate</span><span class='op'>(</span><span class='st'>"segment"</span>, x <span class='op'>=</span> <span class='fl'>1907.3</span>, xend <span class='op'>=</span> <span class='fl'>1907.3</span>, y <span class='op'>=</span> <span class='fl'>64.9</span>, yend <span class='op'>=</span> <span class='fl'>64</span>, color <span class='op'>=</span> <span class='st'>"#C04C3D"</span>, </span>
<span>           linewidth <span class='op'>=</span> <span class='fl'>2</span>, alpha <span class='op'>=</span> <span class='fl'>0.8</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'>annotate</span><span class='op'>(</span><span class='st'>"segment"</span>, x <span class='op'>=</span> <span class='fl'>1907.3</span>, xend <span class='op'>=</span> <span class='fl'>1907.3</span>, y <span class='op'>=</span> <span class='fl'>63.5</span>, yend <span class='op'>=</span> <span class='fl'>63</span>, color <span class='op'>=</span> <span class='st'>"#C04C3D"</span>, </span>
<span>           linewidth <span class='op'>=</span> <span class='fl'>2</span>, alpha <span class='op'>=</span> <span class='fl'>0.8</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'>annotate</span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>1907.5</span>, y <span class='op'>=</span>  <span class='fl'>69</span>,</span>
<span>         label <span class='op'>=</span>  <span class='st'>"Principal univerisity affiliattions \nof Nobel laureates at </span></span>
<span><span class='st'>         the moment \nthe Prize was awarded (by category)."</span>, </span>
<span>         size <span class='op'>=</span> <span class='fl'>3.5</span>, color <span class='op'>=</span> <span class='st'>"#C04C3D"</span>, alpha <span class='op'>=</span> <span class='fl'>0.8</span>, vjust <span class='op'>=</span> <span class='fl'>0.5</span>, hjust <span class='op'>=</span> <span class='fl'>0</span>, </span>
<span>         family <span class='op'>=</span> <span class='st'>"tinos"</span>, fontface <span class='op'>=</span> <span class='st'>"bold.italic"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='co'>#styling and theme</span></span>
<span>  <span class='fu'>theme_void</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'>theme</span><span class='op'>(</span></span>
<span>    legend.position <span class='op'>=</span> <span class='st'>"none"</span>,</span>
<span>    panel.grid.major.x <span class='op'>=</span> <span class='fu'>element_blank</span><span class='op'>(</span><span class='op'>)</span>,</span>
<span>    axis.text.y <span class='op'>=</span> <span class='fu'>element_blank</span><span class='op'>(</span><span class='op'>)</span>,</span>
<span>    axis.text.x <span class='op'>=</span> <span class='fu'>element_blank</span><span class='op'>(</span><span class='op'>)</span>,</span>
<span>    strip.text.y <span class='op'>=</span> <span class='fu'>element_blank</span><span class='op'>(</span><span class='op'>)</span>,</span>
<span>    plot.background <span class='op'>=</span> <span class='fu'>element_rect</span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>"#f2ebde"</span>, color <span class='op'>=</span> <span class='cn'>NA</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'>labs</span><span class='op'>(</span>y <span class='op'>=</span> <span class='st'>""</span>, x <span class='op'>=</span> <span class='st'>""</span><span class='op'>)</span></span>
<span>  </span>
<span><span class='va'>legend</span></span></code></pre>
</div>
<p><img src="100535255_files/figure-html5/legend-1.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
<h3 id="headline">Headline</h3>
<p>Also, having a title in visualization is important because it provides immediate context and orientation to the viewer. It helps set the tone and clarifies the purpose of the plot, allowing the audience to quickly grasp the topic or focus of the data. The author attribution is also included in this step.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>graph_title</span> <span class='op'>&lt;-</span> <span class='fu'>ggplot</span><span class='op'>(</span><span class='va'>tidy_nobels</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='co'>#fake vertical grid lines</span></span>
<span>  <span class='fu'>geom_vline</span><span class='op'>(</span>xintercept <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span><span class='op'>(</span><span class='fl'>1906</span>, <span class='fl'>1908</span>, by <span class='op'>=</span> <span class='fl'>5</span><span class='op'>)</span>, linetype <span class='op'>=</span> <span class='st'>"solid"</span>, color <span class='op'>=</span> <span class='st'>"#A6A9AC"</span>, </span>
<span>             linewidth <span class='op'>=</span> <span class='fl'>0.4</span>,  alpha <span class='op'>=</span> <span class='fl'>0.01</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='co'>##fake horizontal grid lines</span></span>
<span>  <span class='fu'>annotate</span><span class='op'>(</span><span class='st'>"segment"</span>, x <span class='op'>=</span> <span class='fl'>1906</span>, xend <span class='op'>=</span> <span class='fl'>1908</span>, y <span class='op'>=</span> <span class='fl'>50</span>, yend <span class='op'>=</span> <span class='fl'>50</span>, color <span class='op'>=</span> <span class='st'>"#B5B2AC"</span>, </span>
<span>           linewidth <span class='op'>=</span> <span class='fl'>0.2</span>, alpha <span class='op'>=</span> <span class='fl'>0.01</span><span class='op'>)</span> <span class='op'>+</span> </span>
<span>  <span class='fu'>annotate</span><span class='op'>(</span><span class='st'>"segment"</span>, x <span class='op'>=</span> <span class='fl'>1906</span>, xend <span class='op'>=</span> <span class='fl'>1908</span>, y <span class='op'>=</span> <span class='fl'>60</span>, yend <span class='op'>=</span> <span class='fl'>60</span>, color <span class='op'>=</span> <span class='st'>"#B5B2AC"</span>, </span>
<span>           linewidth <span class='op'>=</span> <span class='fl'>0.2</span>, alpha <span class='op'>=</span> <span class='fl'>0.01</span><span class='op'>)</span> <span class='op'>+</span> </span>
<span>  <span class='fu'>annotate</span><span class='op'>(</span><span class='st'>"segment"</span>, x <span class='op'>=</span> <span class='fl'>1906</span>, xend <span class='op'>=</span> <span class='fl'>1908</span>, y <span class='op'>=</span> <span class='fl'>70</span>, yend <span class='op'>=</span> <span class='fl'>70</span>, color <span class='op'>=</span> <span class='st'>"#B5B2AC"</span>, </span>
<span>           linewidth <span class='op'>=</span> <span class='fl'>0.2</span>, alpha <span class='op'>=</span> <span class='fl'>0.01</span><span class='op'>)</span> <span class='op'>+</span> </span>
<span>  <span class='fu'>annotate</span><span class='op'>(</span><span class='st'>"segment"</span>, x <span class='op'>=</span> <span class='fl'>1906</span>, xend <span class='op'>=</span> <span class='fl'>1908</span>, y <span class='op'>=</span> <span class='fl'>80</span>, yend <span class='op'>=</span> <span class='fl'>80</span>, color <span class='op'>=</span> <span class='st'>"#B5B2AC"</span>, </span>
<span>           linewidth <span class='op'>=</span> <span class='fl'>0.2</span>, alpha <span class='op'>=</span> <span class='fl'>0.01</span><span class='op'>)</span> <span class='op'>+</span> </span>
<span>  </span>
<span>  <span class='co'>#title label</span></span>
<span>  <span class='fu'>annotate</span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>1906.4</span>, y <span class='op'>=</span>  <span class='fl'>65</span>,</span>
<span>           label <span class='op'>=</span>  <span class='st'>"Nobels, no degrees"</span>, </span>
<span>           size <span class='op'>=</span> <span class='fl'>11</span>, color <span class='op'>=</span> <span class='st'>"#4e0041"</span>, alpha <span class='op'>=</span> <span class='fl'>0.8</span>, vjust <span class='op'>=</span> <span class='fl'>0.5</span>, hjust <span class='op'>=</span> <span class='fl'>0</span>, </span>
<span>           family <span class='op'>=</span> <span class='st'>"ebg"</span>, fontface <span class='op'>=</span> <span class='st'>"italic"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='co'>#author label</span></span>
<span>  <span class='fu'>annotate</span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>1906.4</span>, y <span class='op'>=</span>  <span class='fl'>45</span>,</span>
<span>           label <span class='op'>=</span>  <span class='st'>"Author: Andrea Rivera Mateos (2025) \nSource: Source: Nobel Prize Official Website and own eleaboration"</span>, </span>
<span>           size <span class='op'>=</span> <span class='fl'>3</span>, color <span class='op'>=</span> <span class='st'>"black"</span>, alpha <span class='op'>=</span> <span class='fl'>0.8</span>, vjust <span class='op'>=</span> <span class='fl'>0.5</span>, hjust <span class='op'>=</span> <span class='fl'>0</span>, </span>
<span>           family <span class='op'>=</span> <span class='st'>"ebg"</span>, fontface <span class='op'>=</span> <span class='st'>"italic"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='co'>#styling and theme</span></span>
<span>  <span class='fu'>theme_void</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'>theme</span><span class='op'>(</span></span>
<span>    legend.position <span class='op'>=</span> <span class='st'>"none"</span>,</span>
<span>    panel.grid.major.x <span class='op'>=</span> <span class='fu'>element_blank</span><span class='op'>(</span><span class='op'>)</span>,</span>
<span>    axis.text.y <span class='op'>=</span> <span class='fu'>element_blank</span><span class='op'>(</span><span class='op'>)</span>,</span>
<span>    axis.text.x <span class='op'>=</span> <span class='fu'>element_blank</span><span class='op'>(</span><span class='op'>)</span>,</span>
<span>    strip.text.y <span class='op'>=</span> <span class='fu'>element_blank</span><span class='op'>(</span><span class='op'>)</span>,</span>
<span>    plot.background <span class='op'>=</span> <span class='fu'>element_rect</span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>"#f2ebde"</span>, color <span class='op'>=</span> <span class='cn'>NA</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'>labs</span><span class='op'>(</span>y <span class='op'>=</span> <span class='st'>""</span>, x <span class='op'>=</span> <span class='st'>""</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'>coord_cartesian</span><span class='op'>(</span>clip<span class='op'>=</span><span class='st'>"off"</span>, expand <span class='op'>=</span> <span class='fl'>0</span> <span class='op'>)</span></span>
<span></span>
<span><span class='va'>graph_title</span></span></code></pre>
</div>
<p><img src="100535255_files/figure-html5/title-1.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
<h3 id="strengthening-womens-presence">Strengthening Women’s Presence</h3>
<p>Finally, upon examining the data, it is evident that only 44 Laureates are women. In the original graph, this distinction is marked by a double-rounded dot. However, since ages are also represented using points regardless of gender, we believe that adopting a more distinctive shape, such as a diamond, better highlights and draws attention to the significant role of women in the history of the awards. To implement this change, we reused the existing code but modified the `geom_point shape to 23, which corresponds to a diamond.</p>
<div class="layout-chunk" data-layout="l-page">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>gp1</span> <span class='op'>&lt;-</span> <span class='fu'>ggplot</span><span class='op'>(</span><span class='va'>tidy_nobels</span>,<span class='fu'>aes</span><span class='op'>(</span>color <span class='op'>=</span> <span class='va'>category</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='fu'>geom_vline</span><span class='op'>(</span>xintercept <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span><span class='op'>(</span><span class='fl'>1906</span>, <span class='fl'>2010</span>, by <span class='op'>=</span> <span class='fl'>5</span><span class='op'>)</span>, linetype <span class='op'>=</span> <span class='st'>"solid"</span>, color <span class='op'>=</span> <span class='st'>"#A6A9AC"</span>, </span>
<span>             linewidth <span class='op'>=</span> <span class='fl'>0.4</span>,  alpha <span class='op'>=</span> <span class='fl'>0.5</span><span class='op'>)</span> <span class='op'>+</span> </span>
<span>  <span class='fu'>geom_vline</span><span class='op'>(</span>xintercept <span class='op'>=</span> <span class='fl'>1931</span>, linetype <span class='op'>=</span> <span class='st'>"solid"</span>, color <span class='op'>=</span> <span class='st'>"#A6A9AC"</span>, linewidth <span class='op'>=</span> <span class='fl'>0.5</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'>geom_vline</span><span class='op'>(</span>xintercept <span class='op'>=</span> <span class='fl'>1961</span>, linetype <span class='op'>=</span> <span class='st'>"solid"</span>, color <span class='op'>=</span> <span class='st'>"#A6A9AC"</span>, linewidth <span class='op'>=</span> <span class='fl'>0.5</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'>geom_vline</span><span class='op'>(</span>xintercept <span class='op'>=</span> <span class='fl'>1991</span>, linetype <span class='op'>=</span> <span class='st'>"solid"</span>, color <span class='op'>=</span> <span class='st'>"#A6A9AC"</span>, linewidth <span class='op'>=</span> <span class='fl'>0.5</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'>geom_vline</span><span class='op'>(</span>xintercept <span class='op'>=</span> <span class='fl'>2012</span>, linetype <span class='op'>=</span> <span class='st'>"solid"</span>, color <span class='op'>=</span> <span class='st'>"#A6A9AC"</span>, linewidth <span class='op'>=</span> <span class='fl'>0.5</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='fu'>geom_segment</span><span class='op'>(</span><span class='fu'>aes</span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>1901</span>, xend <span class='op'>=</span> <span class='fl'>1901</span>, y <span class='op'>=</span> <span class='fl'>40</span>, yend <span class='op'>=</span> <span class='fl'>80</span>, color <span class='op'>=</span> <span class='va'>category</span><span class='op'>)</span>, linewidth <span class='op'>=</span>  <span class='fl'>0.8</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'>annotate</span><span class='op'>(</span><span class='st'>"segment"</span>, x <span class='op'>=</span> <span class='fl'>1901</span>, xend <span class='op'>=</span> <span class='fl'>2012</span>, y <span class='op'>=</span> <span class='fl'>40</span>, yend <span class='op'>=</span> <span class='fl'>40</span>, color <span class='op'>=</span> <span class='st'>"#B5B2AC"</span>, </span>
<span>           linewidth <span class='op'>=</span> <span class='fl'>0.2</span>, alpha <span class='op'>=</span> <span class='fl'>0.8</span><span class='op'>)</span> <span class='op'>+</span> </span>
<span>  <span class='fu'>annotate</span><span class='op'>(</span><span class='st'>"segment"</span>, x <span class='op'>=</span> <span class='fl'>1901</span>, xend <span class='op'>=</span> <span class='fl'>2012</span>, y <span class='op'>=</span> <span class='fl'>50</span>, yend <span class='op'>=</span> <span class='fl'>50</span>, color <span class='op'>=</span> <span class='st'>"#B5B2AC"</span>, </span>
<span>           linewidth <span class='op'>=</span> <span class='fl'>0.2</span>, alpha <span class='op'>=</span> <span class='fl'>0.8</span><span class='op'>)</span> <span class='op'>+</span> </span>
<span>  <span class='fu'>annotate</span><span class='op'>(</span><span class='st'>"segment"</span>, x <span class='op'>=</span> <span class='fl'>1901</span>, xend <span class='op'>=</span> <span class='fl'>2012</span>, y <span class='op'>=</span> <span class='fl'>60</span>, yend <span class='op'>=</span> <span class='fl'>60</span>, color <span class='op'>=</span> <span class='st'>"#B5B2AC"</span>, </span>
<span>           linewidth <span class='op'>=</span> <span class='fl'>0.2</span>, alpha <span class='op'>=</span> <span class='fl'>0.8</span><span class='op'>)</span> <span class='op'>+</span> </span>
<span>  <span class='fu'>annotate</span><span class='op'>(</span><span class='st'>"segment"</span>, x <span class='op'>=</span> <span class='fl'>1901</span>, xend <span class='op'>=</span> <span class='fl'>2012</span>, y <span class='op'>=</span> <span class='fl'>70</span>, yend <span class='op'>=</span> <span class='fl'>70</span>, color <span class='op'>=</span> <span class='st'>"#B5B2AC"</span>, </span>
<span>           linewidth <span class='op'>=</span> <span class='fl'>0.2</span>, alpha <span class='op'>=</span> <span class='fl'>0.8</span><span class='op'>)</span> <span class='op'>+</span> </span>
<span>  <span class='fu'>annotate</span><span class='op'>(</span><span class='st'>"segment"</span>, x <span class='op'>=</span> <span class='fl'>1901</span>, xend <span class='op'>=</span> <span class='fl'>2012</span>, y <span class='op'>=</span> <span class='fl'>80</span>, yend <span class='op'>=</span> <span class='fl'>80</span>, color <span class='op'>=</span> <span class='st'>"#B5B2AC"</span>, </span>
<span>           linewidth <span class='op'>=</span> <span class='fl'>0.2</span>, alpha <span class='op'>=</span> <span class='fl'>0.8</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='fu'>annotate</span><span class='op'>(</span><span class='st'>"segment"</span>, x <span class='op'>=</span> <span class='fl'>1901</span>, xend <span class='op'>=</span> <span class='fl'>2012</span>, </span>
<span>           y <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/mean.html'>mean</a></span><span class='op'>(</span><span class='va'>tidy_nobels</span><span class='op'>$</span><span class='va'>age</span>, na.rm <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>, yend <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/mean.html'>mean</a></span><span class='op'>(</span><span class='va'>tidy_nobels</span><span class='op'>$</span><span class='va'>age</span>, na.rm <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>,</span>
<span>           color <span class='op'>=</span> <span class='st'>"black"</span>, linewidth <span class='op'>=</span> <span class='fl'>0.3</span>, linetype <span class='op'>=</span> <span class='st'>"dashed"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'>geom_segment</span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>avg_age</span>, <span class='fu'>aes</span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>1901</span>, xend <span class='op'>=</span> <span class='fl'>2012</span>, </span>
<span>                                   y <span class='op'>=</span> <span class='va'>avg_age</span>, yend <span class='op'>=</span> <span class='va'>avg_age</span>, </span>
<span>                                   color <span class='op'>=</span> <span class='va'>category</span><span class='op'>)</span>, linewidth <span class='op'>=</span> <span class='fl'>0.5</span><span class='op'>)</span> <span class='op'>+</span> </span>
<span>  </span>
<span>  <span class='fu'>geom_point</span><span class='op'>(</span><span class='fu'>aes</span><span class='op'>(</span><span class='va'>awardYear</span>, <span class='va'>age</span>, color <span class='op'>=</span> <span class='va'>category</span><span class='op'>)</span>, size <span class='op'>=</span> <span class='fl'>1.5</span>, alpha <span class='op'>=</span> <span class='fl'>0.8</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'>geom_line</span><span class='op'>(</span><span class='fu'>aes</span><span class='op'>(</span><span class='va'>awardYear</span>, <span class='va'>age</span>, color <span class='op'>=</span> <span class='va'>category</span><span class='op'>)</span>, lwd <span class='op'>=</span> <span class='fl'>.2</span><span class='op'>)</span> <span class='op'>+</span> </span>
<span>  </span>
<span>  <span class='co'>#new shape for women (diamond shape = 23)</span></span>
<span>  <span class='fu'>geom_point</span><span class='op'>(</span>data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>tidy_nobels</span>, <span class='va'>gender</span> <span class='op'>==</span> <span class='st'>"female"</span><span class='op'>)</span>, </span>
<span>             <span class='fu'>aes</span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>awardYear</span>, y <span class='op'>=</span> <span class='va'>age</span><span class='op'>)</span>, color <span class='op'>=</span> <span class='st'>"#B55F94"</span>, </span>
<span>             shape <span class='op'>=</span> <span class='fl'>23</span>, size <span class='op'>=</span> <span class='fl'>3</span>, stroke <span class='op'>=</span> <span class='fl'>0.8</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'>facet_grid</span><span class='op'>(</span><span class='va'>category</span> <span class='op'>~</span> <span class='va'>.</span>, switch <span class='op'>=</span> <span class='st'>"y"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'>scale_color_manual</span><span class='op'>(</span>values <span class='op'>=</span> <span class='va'>colors</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  </span>
<span>  <span class='fu'>geom_text</span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>min.years_label</span>, <span class='fu'>aes</span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>x</span>, y <span class='op'>=</span> <span class='va'>y</span>, label <span class='op'>=</span> <span class='va'>label</span><span class='op'>)</span>, color <span class='op'>=</span> <span class='st'>"#7F8082"</span>, </span>
<span>            size <span class='op'>=</span> <span class='fl'>3.5</span>, family <span class='op'>=</span> <span class='st'>"gl"</span>, vjust <span class='op'>=</span> <span class='op'>-</span><span class='fl'>1</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'>geom_text</span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>maj.years_label</span>, <span class='fu'>aes</span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>x</span>, y <span class='op'>=</span> <span class='va'>y</span>, label <span class='op'>=</span> <span class='va'>label</span><span class='op'>)</span>, color <span class='op'>=</span> <span class='st'>"#707070"</span>, </span>
<span>            size <span class='op'>=</span> <span class='fl'>3.5</span>, fontface <span class='op'>=</span> <span class='st'>"bold"</span>, family <span class='op'>=</span> <span class='st'>"gl"</span>, vjust <span class='op'>=</span> <span class='op'>-</span><span class='fl'>1</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='fu'>geom_text</span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>labels_avg_facets</span>, <span class='co'>#avg_cat (59)</span></span>
<span>            <span class='fu'>aes</span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>1898</span>, y <span class='op'>=</span> <span class='va'>label_y</span>, label <span class='op'>=</span> <span class='va'>label_text</span><span class='op'>)</span>,</span>
<span>            hjust <span class='op'>=</span> <span class='fl'>1</span>, vjust <span class='op'>=</span> <span class='fl'>1</span>, size <span class='op'>=</span> <span class='fl'>2.5</span>, color <span class='op'>=</span> <span class='st'>"black"</span>, alpha<span class='op'>=</span> <span class='fl'>0.8</span>, </span>
<span>            fontface <span class='op'>=</span> <span class='st'>"bold"</span>,family <span class='op'>=</span> <span class='st'>"gl"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='fu'>geom_text</span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>labels_avg_cat_facets</span>,</span>
<span>            <span class='fu'>aes</span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>1898</span>, y <span class='op'>=</span> <span class='va'>label_y</span>, label <span class='op'>=</span> <span class='va'>label_text</span>,fontface <span class='op'>=</span> <span class='st'>"bold"</span>, family <span class='op'>=</span> <span class='st'>"gl"</span><span class='op'>)</span>,</span>
<span>            hjust <span class='op'>=</span> <span class='fl'>1</span>, vjust <span class='op'>=</span> <span class='op'>-</span><span class='fl'>0.8</span>, size <span class='op'>=</span> <span class='fl'>2.5</span>, color <span class='op'>=</span> <span class='va'>colors</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='fu'>geom_text</span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>label_cat</span>,</span>
<span>            <span class='fu'>aes</span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>1898</span>, y <span class='op'>=</span> <span class='va'>label_y</span>, label <span class='op'>=</span> <span class='va'>label_text</span>,fontface <span class='op'>=</span> <span class='st'>"bold"</span>, family <span class='op'>=</span> <span class='st'>"tinos"</span><span class='op'>)</span>,</span>
<span>            hjust <span class='op'>=</span> <span class='fl'>1</span>, vjust <span class='op'>=</span> <span class='op'>-</span><span class='fl'>0.8</span>, size <span class='op'>=</span> <span class='fl'>3</span>, color <span class='op'>=</span> <span class='va'>colors</span>, lineheight <span class='op'>=</span> <span class='fl'>0.8</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  </span>
<span>  <span class='fu'>theme_void</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span> </span>
<span>  <span class='fu'>theme</span><span class='op'>(</span></span>
<span>    legend.position <span class='op'>=</span> <span class='st'>"none"</span>, </span>
<span>    panel.grid.major.x <span class='op'>=</span> <span class='fu'>element_blank</span><span class='op'>(</span><span class='op'>)</span>, </span>
<span>    axis.text.y <span class='op'>=</span> <span class='fu'>element_blank</span><span class='op'>(</span><span class='op'>)</span>, </span>
<span>    axis.text.x <span class='op'>=</span> <span class='fu'>element_blank</span><span class='op'>(</span><span class='op'>)</span>,</span>
<span>    strip.text.y <span class='op'>=</span> <span class='fu'>element_blank</span><span class='op'>(</span><span class='op'>)</span>,</span>
<span>    plot.background <span class='op'>=</span> <span class='fu'>element_rect</span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>"#f2ebde"</span>, color <span class='op'>=</span> <span class='cn'>NA</span><span class='op'>)</span>,</span>
<span>    panel.spacing <span class='op'>=</span> <span class='fu'>unit</span><span class='op'>(</span><span class='fl'>0</span>, <span class='st'>"lines"</span><span class='op'>)</span>,</span>
<span>    plot.margin <span class='op'>=</span> <span class='fu'>margin</span><span class='op'>(</span><span class='fl'>10</span>,<span class='fl'>5</span>,<span class='fl'>0</span>,<span class='fl'>0</span>, <span class='st'>"mm"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span> </span>
<span>  <span class='fu'>labs</span><span class='op'>(</span>y <span class='op'>=</span> <span class='st'>""</span>, x <span class='op'>=</span> <span class='st'>""</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='fu'>coord_cartesian</span><span class='op'>(</span>xlim <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1900</span>, <span class='fl'>2012</span><span class='op'>)</span>, ylim <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>23</span>, <span class='fl'>92</span><span class='op'>)</span>, clip <span class='op'>=</span> <span class='st'>"off"</span>, expand <span class='op'>=</span> <span class='fl'>0</span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>gp1</span></span></code></pre>
</div>
<p><img src="100535255_files/figure-html5/diamond-women-1.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
<h3 id="chronicle-of-data---final-plot">Chronicle of data - final plot</h3>
<p>Included all the improvements, the final graph will be as follow:</p>
<div class="layout-chunk" data-layout="l-screen">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>colored_spacer</span> <span class='op'>&lt;-</span> <span class='fu'>plot_spacer</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span> </span>
<span>  <span class='fu'>theme</span><span class='op'>(</span>plot.background <span class='op'>=</span> <span class='fu'>element_rect</span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>"#f2ebde"</span>, color <span class='op'>=</span> <span class='cn'>NA</span><span class='op'>)</span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>row1</span> <span class='op'>&lt;-</span> <span class='op'>(</span><span class='va'>colored_spacer</span> <span class='op'>+</span> <span class='va'>gp1</span> <span class='op'>+</span> <span class='va'>gp2</span> <span class='op'>+</span> <span class='va'>gp4</span> <span class='op'>+</span> <span class='va'>colored_spacer</span><span class='op'>)</span> <span class='op'>+</span> </span>
<span>  <span class='fu'>plot_layout</span><span class='op'>(</span>widths <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>3.5</span>, <span class='fl'>15</span>, <span class='fl'>1</span>, <span class='fl'>4.5</span>, <span class='fl'>0.5</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'>theme</span><span class='op'>(</span>plot.margin <span class='op'>=</span> <span class='fu'>margin</span><span class='op'>(</span><span class='fl'>10</span>, <span class='fl'>0</span>, <span class='fl'>30</span>, <span class='fl'>0</span><span class='op'>)</span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>row2</span> <span class='op'>&lt;-</span> <span class='op'>(</span><span class='va'>colored_spacer</span> <span class='op'>+</span> <span class='va'>gp3</span> <span class='op'>+</span> <span class='va'>colored_spacer</span><span class='op'>)</span>  <span class='op'>+</span> </span>
<span>  <span class='fu'>plot_layout</span><span class='op'>(</span>widths <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1.03</span>, <span class='fl'>4.41</span>, <span class='fl'>1.85</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'>theme</span><span class='op'>(</span>plot.margin <span class='op'>=</span> <span class='fu'>margin</span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>0</span>, <span class='fl'>0</span>, <span class='fl'>0</span><span class='op'>)</span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>row3</span> <span class='op'>&lt;-</span> <span class='op'>(</span><span class='va'>graph_title</span> <span class='op'>+</span> <span class='va'>legend</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'>plot_layout</span><span class='op'>(</span>widths <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>3</span>, <span class='fl'>4</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'>theme</span><span class='op'>(</span>plot.margin <span class='op'>=</span> <span class='fu'>margin</span><span class='op'>(</span><span class='fl'>25</span>, <span class='fl'>0</span>, <span class='fl'>15</span>, <span class='fl'>0</span><span class='op'>)</span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>final_plot</span> <span class='op'>&lt;-</span> <span class='op'>(</span><span class='va'>colored_spacer</span> <span class='op'>/</span> <span class='va'>row1</span> <span class='op'>/</span> <span class='va'>row2</span> <span class='op'>/</span><span class='va'>row3</span> <span class='op'>)</span> <span class='op'>+</span> </span>
<span>  <span class='fu'>plot_layout</span><span class='op'>(</span>heights <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0.05</span>, <span class='fl'>1</span>, <span class='fl'>0.5</span>, <span class='fl'>0.25</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>&amp;</span></span>
<span>  <span class='fu'>theme</span><span class='op'>(</span></span>
<span>    plot.background <span class='op'>=</span> <span class='fu'>element_rect</span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>"#f2ebde"</span>, color <span class='op'>=</span> <span class='cn'>NA</span><span class='op'>)</span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>final_plot</span></span></code></pre>
</div>
<p><img src="100535255_files/figure-html5/final-plot%20improved-1.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
<div class="sourceCode" id="cb1"><pre class="sourceCode r distill-force-highlighting-css"><code class="sourceCode r"></code></pre></div>
<!--radix_placeholder_article_footer-->
<!--/radix_placeholder_article_footer-->
</div>

<div class="d-appendix">
</div>


<!--radix_placeholder_site_after_body-->
<!--/radix_placeholder_site_after_body-->
<!--radix_placeholder_appendices-->
<div class="appendix-bottom">
  <h3 id="reuse">Reuse</h3>
  <p>Text and figures are licensed under Creative Commons Attribution <a rel="license" href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a>. The figures that have been reused from other sources don't fall under this license and can be recognized by a note in their caption: "Figure from ...".</p>
  <h3 id="citation">Citation</h3>
  <p>For attribution, please cite this work as</p>
  <pre class="citation-appendix short">Rivera-Mateos (2025, Jan. 14). Data Visualization | MSc CSS: Degrees and Nobels: A non-essential link. Retrieved from https://csslab.uc3m.es/dataviz/projects/2024/100535255/</pre>
  <p>BibTeX citation</p>
  <pre class="citation-appendix long">@misc{rivera-mateos2025degrees,
  author = {Rivera-Mateos, Andrea},
  title = {Data Visualization | MSc CSS: Degrees and Nobels: A non-essential link},
  url = {https://csslab.uc3m.es/dataviz/projects/2024/100535255/},
  year = {2025}
}</pre>
</div>
<!--/radix_placeholder_appendices-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<!--radix_placeholder_navigation_after_body--><html><body>
<div class="distill-site-nav distill-site-footer">
<p><img src="../../../assets/acronimo_nombre1l_0.png" width="400"></p>
</div>
<!--/radix_placeholder_navigation_after_body-->
</body></html>


</body>

</html>
