<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">

<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/>
  <meta name="generator" content="distill" />

  <style type="text/css">
  /* Hide doc at startup (prevent jankiness while JS renders/transforms) */
  body {
    visibility: hidden;
  }
  </style>

 <!--radix_placeholder_import_source-->
 <!--/radix_placeholder_import_source-->

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  { color: #00769e; background-color: #f1f3f5; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span { color: #00769e; } /* Normal */
code span.al { color: #ad0000; } /* Alert */
code span.an { color: #5e5e5e; } /* Annotation */
code span.at { color: #657422; } /* Attribute */
code span.bn { color: #ad0000; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #00769e; } /* ControlFlow */
code span.ch { color: #20794d; } /* Char */
code span.cn { color: #8f5902; } /* Constant */
code span.co { color: #5e5e5e; } /* Comment */
code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
code span.dt { color: #ad0000; } /* DataType */
code span.dv { color: #ad0000; } /* DecVal */
code span.er { color: #ad0000; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #ad0000; } /* Float */
code span.fu { color: #4758ab; } /* Function */
code span.im { } /* Import */
code span.in { color: #5e5e5e; } /* Information */
code span.kw { color: #00769e; } /* Keyword */
code span.op { color: #5e5e5e; } /* Operator */
code span.ot { color: #00769e; } /* Other */
code span.pp { color: #ad0000; } /* Preprocessor */
code span.sc { color: #5e5e5e; } /* SpecialChar */
code span.ss { color: #20794d; } /* SpecialString */
code span.st { color: #20794d; } /* String */
code span.va { color: #111111; } /* Variable */
code span.vs { color: #20794d; } /* VerbatimString */
code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
</style>


  <!--radix_placeholder_meta_tags-->
<title>Data visualization | MSc CSS: Use of Social Media Platforms in 2021 (U.S.) by Demographic Group</title>

<meta property="description" itemprop="description" content="Replication and alternative version of a heatmap from &#39;Social Media Use in&#10;2021&#39; (Pew Research Center)."/>

<link rel="canonical" href="https://csslab.uc3m.es/dataviz/projects/2022/100462872/"/>
<link rel="license" href="https://creativecommons.org/licenses/by/4.0/"/>

<!--  https://schema.org/Article -->
<meta property="article:published" itemprop="datePublished" content="2023-01-24"/>
<meta property="article:created" itemprop="dateCreated" content="2023-01-24"/>
<meta name="article:author" content="Marina Sánchez Moreno"/>

<!--  https://developers.facebook.com/docs/sharing/webmasters#markup -->
<meta property="og:title" content="Data visualization | MSc CSS: Use of Social Media Platforms in 2021 (U.S.) by Demographic Group"/>
<meta property="og:type" content="article"/>
<meta property="og:description" content="Replication and alternative version of a heatmap from &#39;Social Media Use in&#10;2021&#39; (Pew Research Center)."/>
<meta property="og:url" content="https://csslab.uc3m.es/dataviz/projects/2022/100462872/"/>
<meta property="og:image" content="https://csslab.uc3m.es/dataviz/projects/2022/100462872/100462872_files/figure-html5/final-1.png"/>
<meta property="og:image:width" content="2496"/>
<meta property="og:image:height" content="2496"/>
<meta property="og:locale" content="en_US"/>
<meta property="og:site_name" content="Data visualization | MSc CSS"/>

<!--  https://dev.twitter.com/cards/types/summary -->
<meta property="twitter:card" content="summary_large_image"/>
<meta property="twitter:title" content="Data visualization | MSc CSS: Use of Social Media Platforms in 2021 (U.S.) by Demographic Group"/>
<meta property="twitter:description" content="Replication and alternative version of a heatmap from &#39;Social Media Use in&#10;2021&#39; (Pew Research Center)."/>
<meta property="twitter:url" content="https://csslab.uc3m.es/dataviz/projects/2022/100462872/"/>
<meta property="twitter:image" content="https://csslab.uc3m.es/dataviz/projects/2022/100462872/100462872_files/figure-html5/final-1.png"/>
<meta property="twitter:image:width" content="2496"/>
<meta property="twitter:image:height" content="2496"/>

<!--  https://scholar.google.com/intl/en/scholar/inclusion.html#indexing -->
<meta name="citation_title" content="Data visualization | MSc CSS: Use of Social Media Platforms in 2021 (U.S.) by Demographic Group"/>
<meta name="citation_fulltext_html_url" content="https://csslab.uc3m.es/dataviz/projects/2022/100462872/"/>
<meta name="citation_fulltext_world_readable" content=""/>
<meta name="citation_online_date" content="2023/01/24"/>
<meta name="citation_publication_date" content="2023/01/24"/>
<meta name="citation_author" content="Marina Sánchez Moreno"/>
<!--/radix_placeholder_meta_tags-->
  <!--radix_placeholder_rmarkdown_metadata-->

<script type="text/json" id="radix-rmarkdown-metadata">
{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["creative_commons","title","description","author","date","categories","output","citation_url","canonical_url"]}},"value":[{"type":"character","attributes":{},"value":["CC BY"]},{"type":"character","attributes":{},"value":["Use of Social Media Platforms in 2021 (U.S.) by Demographic Group"]},{"type":"character","attributes":{},"value":["Replication and alternative version of a heatmap from 'Social Media Use in\n2021' (Pew Research Center)."]},{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name"]}},"value":[{"type":"character","attributes":{},"value":["Marina Sánchez Moreno"]}]}]},{"type":"character","attributes":{},"value":["2023-01-24"]},{"type":"character","attributes":{},"value":["2022"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["distill::distill_article"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["self_contained","toc"]}},"value":[{"type":"logical","attributes":{},"value":[false]},{"type":"logical","attributes":{},"value":[true]}]}]},{"type":"character","attributes":{},"value":["https://csslab.uc3m.es/dataviz/projects/2022/100462872/"]},{"type":"character","attributes":{},"value":["https://csslab.uc3m.es/dataviz/projects/2022/100462872/"]}]}
</script>
<!--/radix_placeholder_rmarkdown_metadata-->
  
  <script type="text/json" id="radix-resource-manifest">
  {"type":"character","attributes":{},"value":["100462872_files/anchor-4.2.2/anchor.min.js","100462872_files/bowser-1.9.3/bowser.min.js","100462872_files/distill-2.2.21/template.v2.js","100462872_files/figure-html5/final-1.png","100462872_files/figure-html5/unnamed-chunk-10-1.png","100462872_files/figure-html5/unnamed-chunk-12-1.png","100462872_files/figure-html5/unnamed-chunk-13-1.png","100462872_files/figure-html5/unnamed-chunk-16-1.png","100462872_files/figure-html5/unnamed-chunk-17-1.png","100462872_files/figure-html5/unnamed-chunk-18-1.png","100462872_files/figure-html5/unnamed-chunk-19-1.png","100462872_files/figure-html5/unnamed-chunk-20-1.png","100462872_files/figure-html5/unnamed-chunk-21-1.png","100462872_files/figure-html5/unnamed-chunk-22-1.png","100462872_files/figure-html5/unnamed-chunk-23-1.png","100462872_files/figure-html5/unnamed-chunk-24-1.png","100462872_files/figure-html5/unnamed-chunk-27-1.png","100462872_files/figure-html5/unnamed-chunk-7-1.png","100462872_files/figure-html5/unnamed-chunk-8-1.png","100462872_files/figure-html5/unnamed-chunk-9-1.png","100462872_files/header-attrs-2.20/header-attrs.js","100462872_files/jquery-3.6.0/jquery-3.6.0.js","100462872_files/jquery-3.6.0/jquery-3.6.0.min.js","100462872_files/jquery-3.6.0/jquery-3.6.0.min.map","100462872_files/popper-2.6.0/popper.min.js","100462872_files/tippy-6.2.7/tippy-bundle.umd.min.js","100462872_files/tippy-6.2.7/tippy-light-border.css","100462872_files/tippy-6.2.7/tippy.css","100462872_files/tippy-6.2.7/tippy.umd.min.js","100462872_files/webcomponents-2.0.0/webcomponents.js","clean_data.csv","documentation/Jan 25-Feb 8, 2021 - Core Trends Survey - CSV.csv","documentation/Jan 25-Feb 8, 2021 - Core Trends Survey - Questionnaire.docx","fonts/LibreFranklin-Black.ttf","fonts/LibreFranklin-Bold.ttf","fonts/LibreFranklin-ExtraBold.ttf","fonts/LibreFranklin-Italic.ttf","fonts/LibreFranklin-MediumItalic.ttf","fonts/LibreFranklin-Regular.ttf","fonts/LibreFranklin-SemiBold.ttf","fonts/NotoSansMono_Condensed-Regular.ttf","fonts/NotoSansMono-Regular.ttf","original_plot.png","rep_no_google.png"]}
  </script>
  <!--radix_placeholder_navigation_in_header-->
<meta name="distill:offset" content="../../.."/>

<script type="application/javascript">

  window.headroom_prevent_pin = false;

  window.document.addEventListener("DOMContentLoaded", function (event) {

    // initialize headroom for banner
    var header = $('header').get(0);
    var headerHeight = header.offsetHeight;
    var headroom = new Headroom(header, {
      tolerance: 5,
      onPin : function() {
        if (window.headroom_prevent_pin) {
          window.headroom_prevent_pin = false;
          headroom.unpin();
        }
      }
    });
    headroom.init();
    if(window.location.hash)
      headroom.unpin();
    $(header).addClass('headroom--transition');

    // offset scroll location for banner on hash change
    // (see: https://github.com/WickyNilliams/headroom.js/issues/38)
    window.addEventListener("hashchange", function(event) {
      window.scrollTo(0, window.pageYOffset - (headerHeight + 25));
    });

    // responsive menu
    $('.distill-site-header').each(function(i, val) {
      var topnav = $(this);
      var toggle = topnav.find('.nav-toggle');
      toggle.on('click', function() {
        topnav.toggleClass('responsive');
      });
    });

    // nav dropdowns
    $('.nav-dropbtn').click(function(e) {
      $(this).next('.nav-dropdown-content').toggleClass('nav-dropdown-active');
      $(this).parent().siblings('.nav-dropdown')
         .children('.nav-dropdown-content').removeClass('nav-dropdown-active');
    });
    $("body").click(function(e){
      $('.nav-dropdown-content').removeClass('nav-dropdown-active');
    });
    $(".nav-dropdown").click(function(e){
      e.stopPropagation();
    });
  });
</script>

<style type="text/css">

/* Theme (user-documented overrideables for nav appearance) */

.distill-site-nav {
  color: rgba(255, 255, 255, 0.8);
  background-color: #0F2E3D;
  font-size: 15px;
  font-weight: 300;
}

.distill-site-nav a {
  color: inherit;
  text-decoration: none;
}

.distill-site-nav a:hover {
  color: white;
}

@media print {
  .distill-site-nav {
    display: none;
  }
}

.distill-site-header {

}

.distill-site-footer {

}


/* Site Header */

.distill-site-header {
  width: 100%;
  box-sizing: border-box;
  z-index: 3;
}

.distill-site-header .nav-left {
  display: inline-block;
  margin-left: 8px;
}

@media screen and (max-width: 768px) {
  .distill-site-header .nav-left {
    margin-left: 0;
  }
}


.distill-site-header .nav-right {
  float: right;
  margin-right: 8px;
}

.distill-site-header a,
.distill-site-header .title {
  display: inline-block;
  text-align: center;
  padding: 14px 10px 14px 10px;
}

.distill-site-header .title {
  font-size: 18px;
  min-width: 150px;
}

.distill-site-header .logo {
  padding: 0;
}

.distill-site-header .logo img {
  display: none;
  max-height: 20px;
  width: auto;
  margin-bottom: -4px;
}

.distill-site-header .nav-image img {
  max-height: 18px;
  width: auto;
  display: inline-block;
  margin-bottom: -3px;
}



@media screen and (min-width: 1000px) {
  .distill-site-header .logo img {
    display: inline-block;
  }
  .distill-site-header .nav-left {
    margin-left: 20px;
  }
  .distill-site-header .nav-right {
    margin-right: 20px;
  }
  .distill-site-header .title {
    padding-left: 12px;
  }
}


.distill-site-header .nav-toggle {
  display: none;
}

.nav-dropdown {
  display: inline-block;
  position: relative;
}

.nav-dropdown .nav-dropbtn {
  border: none;
  outline: none;
  color: rgba(255, 255, 255, 0.8);
  padding: 16px 10px;
  background-color: transparent;
  font-family: inherit;
  font-size: inherit;
  font-weight: inherit;
  margin: 0;
  margin-top: 1px;
  z-index: 2;
}

.nav-dropdown-content {
  display: none;
  position: absolute;
  background-color: white;
  min-width: 200px;
  border: 1px solid rgba(0,0,0,0.15);
  border-radius: 4px;
  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.1);
  z-index: 1;
  margin-top: 2px;
  white-space: nowrap;
  padding-top: 4px;
  padding-bottom: 4px;
}

.nav-dropdown-content hr {
  margin-top: 4px;
  margin-bottom: 4px;
  border: none;
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
}

.nav-dropdown-active {
  display: block;
}

.nav-dropdown-content a, .nav-dropdown-content .nav-dropdown-header {
  color: black;
  padding: 6px 24px;
  text-decoration: none;
  display: block;
  text-align: left;
}

.nav-dropdown-content .nav-dropdown-header {
  display: block;
  padding: 5px 24px;
  padding-bottom: 0;
  text-transform: uppercase;
  font-size: 14px;
  color: #999999;
  white-space: nowrap;
}

.nav-dropdown:hover .nav-dropbtn {
  color: white;
}

.nav-dropdown-content a:hover {
  background-color: #ddd;
  color: black;
}

.nav-right .nav-dropdown-content {
  margin-left: -45%;
  right: 0;
}

@media screen and (max-width: 768px) {
  .distill-site-header a, .distill-site-header .nav-dropdown  {display: none;}
  .distill-site-header a.nav-toggle {
    float: right;
    display: block;
  }
  .distill-site-header .title {
    margin-left: 0;
  }
  .distill-site-header .nav-right {
    margin-right: 0;
  }
  .distill-site-header {
    overflow: hidden;
  }
  .nav-right .nav-dropdown-content {
    margin-left: 0;
  }
}


@media screen and (max-width: 768px) {
  .distill-site-header.responsive {position: relative; min-height: 500px; }
  .distill-site-header.responsive a.nav-toggle {
    position: absolute;
    right: 0;
    top: 0;
  }
  .distill-site-header.responsive a,
  .distill-site-header.responsive .nav-dropdown {
    display: block;
    text-align: left;
  }
  .distill-site-header.responsive .nav-left,
  .distill-site-header.responsive .nav-right {
    width: 100%;
  }
  .distill-site-header.responsive .nav-dropdown {float: none;}
  .distill-site-header.responsive .nav-dropdown-content {position: relative;}
  .distill-site-header.responsive .nav-dropdown .nav-dropbtn {
    display: block;
    width: 100%;
    text-align: left;
  }
}

/* Site Footer */

.distill-site-footer {
  width: 100%;
  overflow: hidden;
  box-sizing: border-box;
  z-index: 3;
  margin-top: 30px;
  padding-top: 30px;
  padding-bottom: 30px;
  text-align: center;
}

/* Headroom */

d-title {
  padding-top: 6rem;
}

@media print {
  d-title {
    padding-top: 4rem;
  }
}

.headroom {
  z-index: 1000;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
}

.headroom--transition {
  transition: all .4s ease-in-out;
}

.headroom--unpinned {
  top: -100px;
}

.headroom--pinned {
  top: 0;
}

/* adjust viewport for navbar height */
/* helps vertically center bootstrap (non-distill) content */
.min-vh-100 {
  min-height: calc(100vh - 100px) !important;
}

</style>

<script src="../../../site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<link href="../../../site_libs/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"/>
<link href="../../../site_libs/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"/>
<script src="../../../site_libs/headroom-0.9.4/headroom.min.js"></script>
<script src="../../../site_libs/autocomplete-0.37.1/autocomplete.min.js"></script>
<script src="../../../site_libs/fuse-6.4.1/fuse.min.js"></script>

<script type="application/javascript">

function getMeta(metaName) {
  var metas = document.getElementsByTagName('meta');
  for (let i = 0; i < metas.length; i++) {
    if (metas[i].getAttribute('name') === metaName) {
      return metas[i].getAttribute('content');
    }
  }
  return '';
}

function offsetURL(url) {
  var offset = getMeta('distill:offset');
  return offset ? offset + '/' + url : url;
}

function createFuseIndex() {

  // create fuse index
  var options = {
    keys: [
      { name: 'title', weight: 20 },
      { name: 'categories', weight: 15 },
      { name: 'description', weight: 10 },
      { name: 'contents', weight: 5 },
    ],
    ignoreLocation: true,
    threshold: 0
  };
  var fuse = new window.Fuse([], options);

  // fetch the main search.json
  return fetch(offsetURL('search.json'))
    .then(function(response) {
      if (response.status == 200) {
        return response.json().then(function(json) {
          // index main articles
          json.articles.forEach(function(article) {
            fuse.add(article);
          });
          // download collections and index their articles
          return Promise.all(json.collections.map(function(collection) {
            return fetch(offsetURL(collection)).then(function(response) {
              if (response.status === 200) {
                return response.json().then(function(articles) {
                  articles.forEach(function(article) {
                    fuse.add(article);
                  });
                })
              } else {
                return Promise.reject(
                  new Error('Unexpected status from search index request: ' +
                            response.status)
                );
              }
            });
          })).then(function() {
            return fuse;
          });
        });

      } else {
        return Promise.reject(
          new Error('Unexpected status from search index request: ' +
                      response.status)
        );
      }
    });
}

window.document.addEventListener("DOMContentLoaded", function (event) {

  // get search element (bail if we don't have one)
  var searchEl = window.document.getElementById('distill-search');
  if (!searchEl)
    return;

  createFuseIndex()
    .then(function(fuse) {

      // make search box visible
      searchEl.classList.remove('hidden');

      // initialize autocomplete
      var options = {
        autoselect: true,
        hint: false,
        minLength: 2,
      };
      window.autocomplete(searchEl, options, [{
        source: function(query, callback) {
          const searchOptions = {
            isCaseSensitive: false,
            shouldSort: true,
            minMatchCharLength: 2,
            limit: 10,
          };
          var results = fuse.search(query, searchOptions);
          callback(results
            .map(function(result) { return result.item; })
          );
        },
        templates: {
          suggestion: function(suggestion) {
            var img = suggestion.preview && Object.keys(suggestion.preview).length > 0
              ? `<img src="${offsetURL(suggestion.preview)}"</img>`
              : '';
            var html = `
              <div class="search-item">
                <h3>${suggestion.title}</h3>
                <div class="search-item-description">
                  ${suggestion.description || ''}
                </div>
                <div class="search-item-preview">
                  ${img}
                </div>
              </div>
            `;
            return html;
          }
        }
      }]).on('autocomplete:selected', function(event, suggestion) {
        window.location.href = offsetURL(suggestion.path);
      });
      // remove inline display style on autocompleter (we want to
      // manage responsive display via css)
      $('.algolia-autocomplete').css("display", "");
    })
    .catch(function(error) {
      console.log(error);
    });

});

</script>

<style type="text/css">

.nav-search {
  font-size: x-small;
}

/* Algolioa Autocomplete */

.algolia-autocomplete {
  display: inline-block;
  margin-left: 10px;
  vertical-align: sub;
  background-color: white;
  color: black;
  padding: 6px;
  padding-top: 8px;
  padding-bottom: 0;
  border-radius: 6px;
  border: 1px #0F2E3D solid;
  width: 180px;
}


@media screen and (max-width: 768px) {
  .distill-site-nav .algolia-autocomplete {
    display: none;
    visibility: hidden;
  }
  .distill-site-nav.responsive .algolia-autocomplete {
    display: inline-block;
    visibility: visible;
  }
  .distill-site-nav.responsive .algolia-autocomplete .aa-dropdown-menu {
    margin-left: 0;
    width: 400px;
    max-height: 400px;
  }
}

.algolia-autocomplete .aa-input, .algolia-autocomplete .aa-hint {
  width: 90%;
  outline: none;
  border: none;
}

.algolia-autocomplete .aa-hint {
  color: #999;
}
.algolia-autocomplete .aa-dropdown-menu {
  width: 550px;
  max-height: 70vh;
  overflow-x: visible;
  overflow-y: scroll;
  padding: 5px;
  margin-top: 3px;
  margin-left: -150px;
  background-color: #fff;
  border-radius: 5px;
  border: 1px solid #999;
  border-top: none;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion {
  cursor: pointer;
  padding: 5px 4px;
  border-bottom: 1px solid #eee;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion:last-of-type {
  border-bottom: none;
  margin-bottom: 2px;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item {
  overflow: hidden;
  font-size: 0.8em;
  line-height: 1.4em;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item h3 {
  font-size: 1rem;
  margin-block-start: 0;
  margin-block-end: 5px;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-description {
  display: inline-block;
  overflow: hidden;
  height: 2.8em;
  width: 80%;
  margin-right: 4%;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview {
  display: inline-block;
  width: 15%;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview img {
  height: 3em;
  width: auto;
  display: none;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview img[src] {
  display: initial;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion.aa-cursor {
  background-color: #eee;
}
.algolia-autocomplete .aa-dropdown-menu .aa-suggestion em {
  font-weight: bold;
  font-style: normal;
}

</style>


<!--/radix_placeholder_navigation_in_header-->
  <!--radix_placeholder_distill-->

<style type="text/css">

body {
  background-color: white;
}

.pandoc-table {
  width: 100%;
}

.pandoc-table>caption {
  margin-bottom: 10px;
}

.pandoc-table th:not([align]) {
  text-align: left;
}

.pagedtable-footer {
  font-size: 15px;
}

d-byline .byline {
  grid-template-columns: 2fr 2fr;
}

d-byline .byline h3 {
  margin-block-start: 1.5em;
}

d-byline .byline .authors-affiliations h3 {
  margin-block-start: 0.5em;
}

.authors-affiliations .orcid-id {
  width: 16px;
  height:16px;
  margin-left: 4px;
  margin-right: 4px;
  vertical-align: middle;
  padding-bottom: 2px;
}

d-title .dt-tags {
  margin-top: 1em;
  grid-column: text;
}

.dt-tags .dt-tag {
  text-decoration: none;
  display: inline-block;
  color: rgba(0,0,0,0.6);
  padding: 0em 0.4em;
  margin-right: 0.5em;
  margin-bottom: 0.4em;
  font-size: 70%;
  border: 1px solid rgba(0,0,0,0.2);
  border-radius: 3px;
  text-transform: uppercase;
  font-weight: 500;
}

d-article table.gt_table td,
d-article table.gt_table th {
  border-bottom: none;
  font-size: 100%;
}

.html-widget {
  margin-bottom: 2.0em;
}

.l-screen-inset {
  padding-right: 16px;
}

.l-screen .caption {
  margin-left: 10px;
}

.shaded {
  background: rgb(247, 247, 247);
  padding-top: 20px;
  padding-bottom: 20px;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
}

.shaded .html-widget {
  margin-bottom: 0;
  border: 1px solid rgba(0, 0, 0, 0.1);
}

.shaded .shaded-content {
  background: white;
}

.text-output {
  margin-top: 0;
  line-height: 1.5em;
}

.hidden {
  display: none !important;
}

hr.section-separator {
  border: none;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  margin: 0px;
}


d-byline {
  border-top: none;
}

d-article {
  padding-top: 2.5rem;
  padding-bottom: 30px;
  border-top: none;
}

d-appendix {
  padding-top: 30px;
}

d-article>p>img {
  width: 100%;
}

d-article h2 {
  margin: 1rem 0 1.5rem 0;
}

d-article h3 {
  margin-top: 1.5rem;
}

d-article iframe {
  border: 1px solid rgba(0, 0, 0, 0.1);
  margin-bottom: 2.0em;
  width: 100%;
}

/* Tweak code blocks */

d-article div.sourceCode code,
d-article pre code {
  font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
}

d-article pre,
d-article div.sourceCode,
d-article div.sourceCode pre {
  overflow: auto;
}

d-article div.sourceCode {
  background-color: white;
}

d-article div.sourceCode pre {
  padding-left: 10px;
  font-size: 12px;
  border-left: 2px solid rgba(0,0,0,0.1);
}

d-article pre {
  font-size: 12px;
  color: black;
  background: none;
  margin-top: 0;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.5;

  -moz-tab-size: 4;
  -o-tab-size: 4;
  tab-size: 4;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

d-article pre a {
  border-bottom: none;
}

d-article pre a:hover {
  border-bottom: none;
  text-decoration: underline;
}

d-article details {
  grid-column: text;
  margin-bottom: 0.8em;
}

@media(min-width: 768px) {

d-article pre,
d-article div.sourceCode,
d-article div.sourceCode pre {
  overflow: visible !important;
}

d-article div.sourceCode pre {
  padding-left: 18px;
  font-size: 14px;
}

/* tweak for Pandoc numbered line within distill */
d-article pre.numberSource code > span {
    left: -2em;
}

d-article pre {
  font-size: 14px;
}

}

figure img.external {
  background: white;
  border: 1px solid rgba(0, 0, 0, 0.1);
  box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
  padding: 18px;
  box-sizing: border-box;
}

/* CSS for d-contents */

.d-contents {
  grid-column: text;
  color: rgba(0,0,0,0.8);
  font-size: 0.9em;
  padding-bottom: 1em;
  margin-bottom: 1em;
  padding-bottom: 0.5em;
  margin-bottom: 1em;
  padding-left: 0.25em;
  justify-self: start;
}

@media(min-width: 1000px) {
  .d-contents.d-contents-float {
    height: 0;
    grid-column-start: 1;
    grid-column-end: 4;
    justify-self: center;
    padding-right: 3em;
    padding-left: 2em;
  }
}

.d-contents nav h3 {
  font-size: 18px;
  margin-top: 0;
  margin-bottom: 1em;
}

.d-contents li {
  list-style-type: none
}

.d-contents nav > ul {
  padding-left: 0;
}

.d-contents ul {
  padding-left: 1em
}

.d-contents nav ul li {
  margin-top: 0.6em;
  margin-bottom: 0.2em;
}

.d-contents nav a {
  font-size: 13px;
  border-bottom: none;
  text-decoration: none
  color: rgba(0, 0, 0, 0.8);
}

.d-contents nav a:hover {
  text-decoration: underline solid rgba(0, 0, 0, 0.6)
}

.d-contents nav > ul > li > a {
  font-weight: 600;
}

.d-contents nav > ul > li > ul {
  font-weight: inherit;
}

.d-contents nav > ul > li > ul > li {
  margin-top: 0.2em;
}


.d-contents nav ul {
  margin-top: 0;
  margin-bottom: 0.25em;
}

.d-article-with-toc h2:nth-child(2) {
  margin-top: 0;
}


/* Figure */

.figure {
  position: relative;
  margin-bottom: 2.5em;
  margin-top: 1.5em;
}

.figure .caption {
  color: rgba(0, 0, 0, 0.6);
  font-size: 12px;
  line-height: 1.5em;
}

.figure img.external {
  background: white;
  border: 1px solid rgba(0, 0, 0, 0.1);
  box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
  padding: 18px;
  box-sizing: border-box;
}

.figure .caption a {
  color: rgba(0, 0, 0, 0.6);
}

.figure .caption b,
.figure .caption strong, {
  font-weight: 600;
  color: rgba(0, 0, 0, 1.0);
}

/* Citations */

d-article .citation {
  color: inherit;
  cursor: inherit;
}

div.hanging-indent{
  margin-left: 1em; text-indent: -1em;
}

/* Citation hover box */

.tippy-box[data-theme~=light-border] {
  background-color: rgba(250, 250, 250, 0.95);
}

.tippy-content > p {
  margin-bottom: 0;
  padding: 2px;
}


/* Tweak 1000px media break to show more text */

@media(min-width: 1000px) {
  .base-grid,
  distill-header,
  d-title,
  d-abstract,
  d-article,
  d-appendix,
  distill-appendix,
  d-byline,
  d-footnote-list,
  d-citation-list,
  distill-footer {
    grid-template-columns: [screen-start] 1fr [page-start kicker-start] 80px [middle-start] 50px [text-start kicker-end] 65px 65px 65px 65px 65px 65px 65px 65px [text-end gutter-start] 65px [middle-end] 65px [page-end gutter-end] 1fr [screen-end];
    grid-column-gap: 16px;
  }

  .grid {
    grid-column-gap: 16px;
  }

  d-article {
    font-size: 1.06rem;
    line-height: 1.7em;
  }
  figure .caption, .figure .caption, figure figcaption {
    font-size: 13px;
  }
}

@media(min-width: 1180px) {
  .base-grid,
  distill-header,
  d-title,
  d-abstract,
  d-article,
  d-appendix,
  distill-appendix,
  d-byline,
  d-footnote-list,
  d-citation-list,
  distill-footer {
    grid-template-columns: [screen-start] 1fr [page-start kicker-start] 60px [middle-start] 60px [text-start kicker-end] 60px 60px 60px 60px 60px 60px 60px 60px [text-end gutter-start] 60px [middle-end] 60px [page-end gutter-end] 1fr [screen-end];
    grid-column-gap: 32px;
  }

  .grid {
    grid-column-gap: 32px;
  }
}


/* Get the citation styles for the appendix (not auto-injected on render since
   we do our own rendering of the citation appendix) */

d-appendix .citation-appendix,
.d-appendix .citation-appendix {
  font-size: 11px;
  line-height: 15px;
  border-left: 1px solid rgba(0, 0, 0, 0.1);
  padding-left: 18px;
  border: 1px solid rgba(0,0,0,0.1);
  background: rgba(0, 0, 0, 0.02);
  padding: 10px 18px;
  border-radius: 3px;
  color: rgba(150, 150, 150, 1);
  overflow: hidden;
  margin-top: -12px;
  white-space: pre-wrap;
  word-wrap: break-word;
}

/* Include appendix styles here so they can be overridden */

d-appendix {
  contain: layout style;
  font-size: 0.8em;
  line-height: 1.7em;
  margin-top: 60px;
  margin-bottom: 0;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  color: rgba(0,0,0,0.5);
  padding-top: 60px;
  padding-bottom: 48px;
}

d-appendix h3 {
  grid-column: page-start / text-start;
  font-size: 15px;
  font-weight: 500;
  margin-top: 1em;
  margin-bottom: 0;
  color: rgba(0,0,0,0.65);
}

d-appendix h3 + * {
  margin-top: 1em;
}

d-appendix ol {
  padding: 0 0 0 15px;
}

@media (min-width: 768px) {
  d-appendix ol {
    padding: 0 0 0 30px;
    margin-left: -30px;
  }
}

d-appendix li {
  margin-bottom: 1em;
}

d-appendix a {
  color: rgba(0, 0, 0, 0.6);
}

d-appendix > * {
  grid-column: text;
}

d-appendix > d-footnote-list,
d-appendix > d-citation-list,
d-appendix > distill-appendix {
  grid-column: screen;
}

/* Include footnote styles here so they can be overridden */

d-footnote-list {
  contain: layout style;
}

d-footnote-list > * {
  grid-column: text;
}

d-footnote-list a.footnote-backlink {
  color: rgba(0,0,0,0.3);
  padding-left: 0.5em;
}



/* Anchor.js */

.anchorjs-link {
  /*transition: all .25s linear; */
  text-decoration: none;
  border-bottom: none;
}
*:hover > .anchorjs-link {
  margin-left: -1.125em !important;
  text-decoration: none;
  border-bottom: none;
}

/* Social footer */

.social_footer {
  margin-top: 30px;
  margin-bottom: 0;
  color: rgba(0,0,0,0.67);
}

.disqus-comments {
  margin-right: 30px;
}

.disqus-comment-count {
  border-bottom: 1px solid rgba(0, 0, 0, 0.4);
  cursor: pointer;
}

#disqus_thread {
  margin-top: 30px;
}

.article-sharing a {
  border-bottom: none;
  margin-right: 8px;
}

.article-sharing a:hover {
  border-bottom: none;
}

.sidebar-section.subscribe {
  font-size: 12px;
  line-height: 1.6em;
}

.subscribe p {
  margin-bottom: 0.5em;
}


.article-footer .subscribe {
  font-size: 15px;
  margin-top: 45px;
}


.sidebar-section.custom {
  font-size: 12px;
  line-height: 1.6em;
}

.custom p {
  margin-bottom: 0.5em;
}

/* Styles for listing layout (hide title) */
.layout-listing d-title, .layout-listing .d-title {
  display: none;
}

/* Styles for posts lists (not auto-injected) */


.posts-with-sidebar {
  padding-left: 45px;
  padding-right: 45px;
}

.posts-list .description h2,
.posts-list .description p {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
}

.posts-list .description h2 {
  font-weight: 700;
  border-bottom: none;
  padding-bottom: 0;
}

.posts-list h2.post-tag {
  border-bottom: 1px solid rgba(0, 0, 0, 0.2);
  padding-bottom: 12px;
}
.posts-list {
  margin-top: 60px;
  margin-bottom: 24px;
}

.posts-list .post-preview {
  text-decoration: none;
  overflow: hidden;
  display: block;
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  padding: 24px 0;
}

.post-preview-last {
  border-bottom: none !important;
}

.posts-list .posts-list-caption {
  grid-column: screen;
  font-weight: 400;
}

.posts-list .post-preview h2 {
  margin: 0 0 6px 0;
  line-height: 1.2em;
  font-style: normal;
  font-size: 24px;
}

.posts-list .post-preview p {
  margin: 0 0 12px 0;
  line-height: 1.4em;
  font-size: 16px;
}

.posts-list .post-preview .thumbnail {
  box-sizing: border-box;
  margin-bottom: 24px;
  position: relative;
  max-width: 500px;
}
.posts-list .post-preview img {
  width: 100%;
  display: block;
}

.posts-list .metadata {
  font-size: 12px;
  line-height: 1.4em;
  margin-bottom: 18px;
}

.posts-list .metadata > * {
  display: inline-block;
}

.posts-list .metadata .publishedDate {
  margin-right: 2em;
}

.posts-list .metadata .dt-authors {
  display: block;
  margin-top: 0.3em;
  margin-right: 2em;
}

.posts-list .dt-tags {
  display: block;
  line-height: 1em;
}

.posts-list .dt-tags .dt-tag {
  display: inline-block;
  color: rgba(0,0,0,0.6);
  padding: 0.3em 0.4em;
  margin-right: 0.2em;
  margin-bottom: 0.4em;
  font-size: 60%;
  border: 1px solid rgba(0,0,0,0.2);
  border-radius: 3px;
  text-transform: uppercase;
  font-weight: 500;
}

.posts-list img {
  opacity: 1;
}

.posts-list img[data-src] {
  opacity: 0;
}

.posts-more {
  clear: both;
}


.posts-sidebar {
  font-size: 16px;
}

.posts-sidebar h3 {
  font-size: 16px;
  margin-top: 0;
  margin-bottom: 0.5em;
  font-weight: 400;
  text-transform: uppercase;
}

.sidebar-section {
  margin-bottom: 30px;
}

.categories ul {
  list-style-type: none;
  margin: 0;
  padding: 0;
}

.categories li {
  color: rgba(0, 0, 0, 0.8);
  margin-bottom: 0;
}

.categories li>a {
  border-bottom: none;
}

.categories li>a:hover {
  border-bottom: 1px solid rgba(0, 0, 0, 0.4);
}

.categories .active {
  font-weight: 600;
}

.categories .category-count {
  color: rgba(0, 0, 0, 0.4);
}


@media(min-width: 768px) {
  .posts-list .post-preview h2 {
    font-size: 26px;
  }
  .posts-list .post-preview .thumbnail {
    float: right;
    width: 30%;
    margin-bottom: 0;
  }
  .posts-list .post-preview .description {
    float: left;
    width: 45%;
  }
  .posts-list .post-preview .metadata {
    float: left;
    width: 20%;
    margin-top: 8px;
  }
  .posts-list .post-preview p {
    margin: 0 0 12px 0;
    line-height: 1.5em;
    font-size: 16px;
  }
  .posts-with-sidebar .posts-list {
    float: left;
    width: 75%;
  }
  .posts-with-sidebar .posts-sidebar {
    float: right;
    width: 20%;
    margin-top: 60px;
    padding-top: 24px;
    padding-bottom: 24px;
  }
}


/* Improve display for browsers without grid (IE/Edge <= 15) */

.downlevel {
  line-height: 1.6em;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
  margin: 0;
}

.downlevel .d-title {
  padding-top: 6rem;
  padding-bottom: 1.5rem;
}

.downlevel .d-title h1 {
  font-size: 50px;
  font-weight: 700;
  line-height: 1.1em;
  margin: 0 0 0.5rem;
}

.downlevel .d-title p {
  font-weight: 300;
  font-size: 1.2rem;
  line-height: 1.55em;
  margin-top: 0;
}

.downlevel .d-byline {
  padding-top: 0.8em;
  padding-bottom: 0.8em;
  font-size: 0.8rem;
  line-height: 1.8em;
}

.downlevel .section-separator {
  border: none;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
}

.downlevel .d-article {
  font-size: 1.06rem;
  line-height: 1.7em;
  padding-top: 1rem;
  padding-bottom: 2rem;
}


.downlevel .d-appendix {
  padding-left: 0;
  padding-right: 0;
  max-width: none;
  font-size: 0.8em;
  line-height: 1.7em;
  margin-bottom: 0;
  color: rgba(0,0,0,0.5);
  padding-top: 40px;
  padding-bottom: 48px;
}

.downlevel .footnotes ol {
  padding-left: 13px;
}

.downlevel .base-grid,
.downlevel .distill-header,
.downlevel .d-title,
.downlevel .d-abstract,
.downlevel .d-article,
.downlevel .d-appendix,
.downlevel .distill-appendix,
.downlevel .d-byline,
.downlevel .d-footnote-list,
.downlevel .d-citation-list,
.downlevel .distill-footer,
.downlevel .appendix-bottom,
.downlevel .posts-container {
  padding-left: 40px;
  padding-right: 40px;
}

@media(min-width: 768px) {
  .downlevel .base-grid,
  .downlevel .distill-header,
  .downlevel .d-title,
  .downlevel .d-abstract,
  .downlevel .d-article,
  .downlevel .d-appendix,
  .downlevel .distill-appendix,
  .downlevel .d-byline,
  .downlevel .d-footnote-list,
  .downlevel .d-citation-list,
  .downlevel .distill-footer,
  .downlevel .appendix-bottom,
  .downlevel .posts-container {
  padding-left: 150px;
  padding-right: 150px;
  max-width: 900px;
}
}

.downlevel pre code {
  display: block;
  border-left: 2px solid rgba(0, 0, 0, .1);
  padding: 0 0 0 20px;
  font-size: 14px;
}

.downlevel code, .downlevel pre {
  color: black;
  background: none;
  font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.5;

  -moz-tab-size: 4;
  -o-tab-size: 4;
  tab-size: 4;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

.downlevel .posts-list .post-preview {
  color: inherit;
}



</style>

<script type="application/javascript">

function is_downlevel_browser() {
  if (bowser.isUnsupportedBrowser({ msie: "12", msedge: "16"},
                                 window.navigator.userAgent)) {
    return true;
  } else {
    return window.load_distill_framework === undefined;
  }
}

// show body when load is complete
function on_load_complete() {

  // add anchors
  if (window.anchors) {
    window.anchors.options.placement = 'left';
    window.anchors.add('d-article > h2, d-article > h3, d-article > h4, d-article > h5');
  }


  // set body to visible
  document.body.style.visibility = 'visible';

  // force redraw for leaflet widgets
  if (window.HTMLWidgets) {
    var maps = window.HTMLWidgets.findAll(".leaflet");
    $.each(maps, function(i, el) {
      var map = this.getMap();
      map.invalidateSize();
      map.eachLayer(function(layer) {
        if (layer instanceof L.TileLayer)
          layer.redraw();
      });
    });
  }

  // trigger 'shown' so htmlwidgets resize
  $('d-article').trigger('shown');
}

function init_distill() {

  init_common();

  // create front matter
  var front_matter = $('<d-front-matter></d-front-matter>');
  $('#distill-front-matter').wrap(front_matter);

  // create d-title
  $('.d-title').changeElementType('d-title');

  // separator
  var separator = '<hr class="section-separator" style="clear: both"/>';
  // prepend separator above appendix
  $('.d-byline').before(separator);
  $('.d-article').before(separator);

  // create d-byline
  var byline = $('<d-byline></d-byline>');
  $('.d-byline').replaceWith(byline);

  // create d-article
  var article = $('<d-article></d-article>');
  $('.d-article').wrap(article).children().unwrap();

  // move posts container into article
  $('.posts-container').appendTo($('d-article'));

  // create d-appendix
  $('.d-appendix').changeElementType('d-appendix');

  // flag indicating that we have appendix items
  var appendix = $('.appendix-bottom').children('h3').length > 0;

  // replace footnotes with <d-footnote>
  $('.footnote-ref').each(function(i, val) {
    appendix = true;
    var href = $(this).attr('href');
    var id = href.replace('#', '');
    var fn = $('#' + id);
    var fn_p = $('#' + id + '>p');
    fn_p.find('.footnote-back').remove();
    var text = fn_p.html();
    var dtfn = $('<d-footnote></d-footnote>');
    dtfn.html(text);
    $(this).replaceWith(dtfn);
  });
  // remove footnotes
  $('.footnotes').remove();

  // move refs into #references-listing
  $('#references-listing').replaceWith($('#refs'));

  $('h1.appendix, h2.appendix').each(function(i, val) {
    $(this).changeElementType('h3');
  });
  $('h3.appendix').each(function(i, val) {
    var id = $(this).attr('id');
    $('.d-contents a[href="#' + id + '"]').parent().remove();
    appendix = true;
    $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('d-appendix'));
  });

  // show d-appendix if we have appendix content
  $("d-appendix").css('display', appendix ? 'grid' : 'none');

  // localize layout chunks to just output
  $('.layout-chunk').each(function(i, val) {

    // capture layout
    var layout = $(this).attr('data-layout');

    // apply layout to markdown level block elements
    var elements = $(this).children().not('details, div.sourceCode, pre, script');
    elements.each(function(i, el) {
      var layout_div = $('<div class="' + layout + '"></div>');
      if (layout_div.hasClass('shaded')) {
        var shaded_content = $('<div class="shaded-content"></div>');
        $(this).wrap(shaded_content);
        $(this).parent().wrap(layout_div);
      } else {
        $(this).wrap(layout_div);
      }
    });


    // unwrap the layout-chunk div
    $(this).children().unwrap();
  });

  // remove code block used to force  highlighting css
  $('.distill-force-highlighting-css').parent().remove();

  // remove empty line numbers inserted by pandoc when using a
  // custom syntax highlighting theme, except when numbering line
  // in code chunk
  $('pre:not(.numberLines) code.sourceCode a:empty').remove();

  // load distill framework
  load_distill_framework();

  // wait for window.distillRunlevel == 4 to do post processing
  function distill_post_process() {

    if (!window.distillRunlevel || window.distillRunlevel < 4)
      return;

    // hide author/affiliations entirely if we have no authors
    var front_matter = JSON.parse($("#distill-front-matter").html());
    var have_authors = front_matter.authors && front_matter.authors.length > 0;
    if (!have_authors)
      $('d-byline').addClass('hidden');

    // article with toc class
    $('.d-contents').parent().addClass('d-article-with-toc');

    // strip links that point to #
    $('.authors-affiliations').find('a[href="#"]').removeAttr('href');

    // add orcid ids
    $('.authors-affiliations').find('.author').each(function(i, el) {
      var orcid_id = front_matter.authors[i].orcidID;
      var author_name = front_matter.authors[i].author
      if (orcid_id) {
        var a = $('<a></a>');
        a.attr('href', 'https://orcid.org/' + orcid_id);
        var img = $('<img></img>');
        img.addClass('orcid-id');
        img.attr('alt', author_name ? 'ORCID ID for ' + author_name : 'ORCID ID');
        img.attr('src','data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg==');
        a.append(img);
        $(this).append(a);
      }
    });

    // hide elements of author/affiliations grid that have no value
    function hide_byline_column(caption) {
      $('d-byline').find('h3:contains("' + caption + '")').parent().css('visibility', 'hidden');
    }

    // affiliations
    var have_affiliations = false;
    for (var i = 0; i<front_matter.authors.length; ++i) {
      var author = front_matter.authors[i];
      if (author.affiliation !== "&nbsp;") {
        have_affiliations = true;
        break;
      }
    }
    if (!have_affiliations)
      $('d-byline').find('h3:contains("Affiliations")').css('visibility', 'hidden');

    // published date
    if (!front_matter.publishedDate)
      hide_byline_column("Published");

    // document object identifier
    var doi = $('d-byline').find('h3:contains("DOI")');
    var doi_p = doi.next().empty();
    if (!front_matter.doi) {
      // if we have a citation and valid citationText then link to that
      if ($('#citation').length > 0 && front_matter.citationText) {
        doi.html('Citation');
        $('<a href="#citation"></a>')
          .text(front_matter.citationText)
          .appendTo(doi_p);
      } else {
        hide_byline_column("DOI");
      }
    } else {
      $('<a></a>')
         .attr('href', "https://doi.org/" + front_matter.doi)
         .html(front_matter.doi)
         .appendTo(doi_p);
    }

     // change plural form of authors/affiliations
    if (front_matter.authors.length === 1) {
      var grid = $('.authors-affiliations');
      grid.children('h3:contains("Authors")').text('Author');
      grid.children('h3:contains("Affiliations")').text('Affiliation');
    }

    // remove d-appendix and d-footnote-list local styles
    $('d-appendix > style:first-child').remove();
    $('d-footnote-list > style:first-child').remove();

    // move appendix-bottom entries to the bottom
    $('.appendix-bottom').appendTo('d-appendix').children().unwrap();
    $('.appendix-bottom').remove();

    // hoverable references
    $('span.citation[data-cites]').each(function() {
      const citeChild = $(this).children()[0]
      // Do not process if @xyz has been used without escaping and without bibliography activated
      // https://github.com/rstudio/distill/issues/466
      if (citeChild === undefined) return true

      if (citeChild.nodeName == "D-FOOTNOTE") {
        var fn = citeChild
        $(this).html(fn.shadowRoot.querySelector("sup"))
        $(this).id = fn.id
        fn.remove()
      }
      var refs = $(this).attr('data-cites').split(" ");
      var refHtml = refs.map(function(ref) {
        // Could use CSS.escape too here, we insure backward compatibility in navigator
        return "<p>" + $('div[id="ref-' + ref + '"]').html() + "</p>";
      }).join("\n");
      window.tippy(this, {
        allowHTML: true,
        content: refHtml,
        maxWidth: 500,
        interactive: true,
        interactiveBorder: 10,
        theme: 'light-border',
        placement: 'bottom-start'
      });
    });

    // fix footnotes in tables (#411)
    // replacing broken distill.pub feature
    $('table d-footnote').each(function() {
      // we replace internal showAtNode methode which is triggered when hovering a footnote
      this.hoverBox.showAtNode = function(node) {
        // ported from https://github.com/distillpub/template/pull/105/files
        calcOffset = function(elem) {
            let x = elem.offsetLeft;
            let y = elem.offsetTop;
            // Traverse upwards until an `absolute` element is found or `elem`
            // becomes null.
            while (elem = elem.offsetParent && elem.style.position != 'absolute') {
                x += elem.offsetLeft;
                y += elem.offsetTop;
            }

            return { left: x, top: y };
        }
        // https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/offsetTop
        const bbox = node.getBoundingClientRect();
        const offset = calcOffset(node);
        this.show([offset.left + bbox.width, offset.top + bbox.height]);
      }
    })

    // clear polling timer
    clearInterval(tid);

    // show body now that everything is ready
    on_load_complete();
  }

  var tid = setInterval(distill_post_process, 50);
  distill_post_process();

}

function init_downlevel() {

  init_common();

   // insert hr after d-title
  $('.d-title').after($('<hr class="section-separator"/>'));

  // check if we have authors
  var front_matter = JSON.parse($("#distill-front-matter").html());
  var have_authors = front_matter.authors && front_matter.authors.length > 0;

  // manage byline/border
  if (!have_authors)
    $('.d-byline').remove();
  $('.d-byline').after($('<hr class="section-separator"/>'));
  $('.d-byline a').remove();

  // remove toc
  $('.d-contents').remove();

  // move appendix elements
  $('h1.appendix, h2.appendix').each(function(i, val) {
    $(this).changeElementType('h3');
  });
  $('h3.appendix').each(function(i, val) {
    $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('.d-appendix'));
  });


  // inject headers into references and footnotes
  var refs_header = $('<h3></h3>');
  refs_header.text('References');
  $('#refs').prepend(refs_header);

  var footnotes_header = $('<h3></h3');
  footnotes_header.text('Footnotes');
  $('.footnotes').children('hr').first().replaceWith(footnotes_header);

  // move appendix-bottom entries to the bottom
  $('.appendix-bottom').appendTo('.d-appendix').children().unwrap();
  $('.appendix-bottom').remove();

  // remove appendix if it's empty
  if ($('.d-appendix').children().length === 0)
    $('.d-appendix').remove();

  // prepend separator above appendix
  $('.d-appendix').before($('<hr class="section-separator" style="clear: both"/>'));

  // trim code
  $('pre>code').each(function(i, val) {
    $(this).html($.trim($(this).html()));
  });

  // move posts-container right before article
  $('.posts-container').insertBefore($('.d-article'));

  $('body').addClass('downlevel');

  on_load_complete();
}


function init_common() {

  // jquery plugin to change element types
  (function($) {
    $.fn.changeElementType = function(newType) {
      var attrs = {};

      $.each(this[0].attributes, function(idx, attr) {
        attrs[attr.nodeName] = attr.nodeValue;
      });

      this.replaceWith(function() {
        return $("<" + newType + "/>", attrs).append($(this).contents());
      });
    };
  })(jQuery);

  // prevent underline for linked images
  $('a > img').parent().css({'border-bottom' : 'none'});

  // mark non-body figures created by knitr chunks as 100% width
  $('.layout-chunk').each(function(i, val) {
    var figures = $(this).find('img, .html-widget');
    // ignore leaflet img layers (#106)
    figures = figures.filter(':not(img[class*="leaflet"])')
    if ($(this).attr('data-layout') !== "l-body") {
      figures.css('width', '100%');
    } else {
      figures.css('max-width', '100%');
      figures.filter("[width]").each(function(i, val) {
        var fig = $(this);
        fig.css('width', fig.attr('width') + 'px');
      });

    }
  });

  // auto-append index.html to post-preview links in file: protocol
  // and in rstudio ide preview
  $('.post-preview').each(function(i, val) {
    if (window.location.protocol === "file:")
      $(this).attr('href', $(this).attr('href') + "index.html");
  });

  // get rid of index.html references in header
  if (window.location.protocol !== "file:") {
    $('.distill-site-header a[href]').each(function(i,val) {
      $(this).attr('href', $(this).attr('href').replace(/^index[.]html/, "./"));
    });
  }

  // add class to pandoc style tables
  $('tr.header').parent('thead').parent('table').addClass('pandoc-table');
  $('.kable-table').children('table').addClass('pandoc-table');

  // add figcaption style to table captions
  $('caption').parent('table').addClass("figcaption");

  // initialize posts list
  if (window.init_posts_list)
    window.init_posts_list();

  // implmement disqus comment link
  $('.disqus-comment-count').click(function() {
    window.headroom_prevent_pin = true;
    $('#disqus_thread').toggleClass('hidden');
    if (!$('#disqus_thread').hasClass('hidden')) {
      var offset = $(this).offset();
      $(window).resize();
      $('html, body').animate({
        scrollTop: offset.top - 35
      });
    }
  });
}

document.addEventListener('DOMContentLoaded', function() {
  if (is_downlevel_browser())
    init_downlevel();
  else
    window.addEventListener('WebComponentsReady', init_distill);
});

</script>

<style type="text/css">
/* base variables */

/* Edit the CSS properties in this file to create a custom
   Distill theme. Only edit values in the right column
   for each row; values shown are the CSS defaults.
   To return any property to the default,
   you may set its value to: unset
   All rows must end with a semi-colon.                      */

/* Optional: embed custom fonts here with `@import`          */
/* This must remain at the top of this file.                 */



html {
  /*-- Main font sizes --*/
  --title-size:      50px;
  --body-size:       1.06rem;
  --code-size:       14px;
  --aside-size:      12px;
  --fig-cap-size:    13px;
  /*-- Main font colors --*/
  --title-color:     #000000;
  --header-color:    rgba(0, 0, 0, 0.8);
  --body-color:      rgba(0, 0, 0, 0.8);
  --aside-color:     rgba(0, 0, 0, 0.6);
  --fig-cap-color:   rgba(0, 0, 0, 0.6);
  /*-- Specify custom fonts ~~~ must be imported above   --*/
  --heading-font:    sans-serif;
  --mono-font:       monospace;
  --body-font:       sans-serif;
  --navbar-font:     sans-serif;  /* websites + blogs only */
}

/*-- ARTICLE METADATA --*/
d-byline {
  --heading-size:    0.6rem;
  --heading-color:   rgba(0, 0, 0, 0.5);
  --body-size:       0.8rem;
  --body-color:      rgba(0, 0, 0, 0.8);
}

/*-- ARTICLE TABLE OF CONTENTS --*/
.d-contents {
  --heading-size:    18px;
  --contents-size:   13px;
}

/*-- ARTICLE APPENDIX --*/
d-appendix {
  --heading-size:    15px;
  --heading-color:   rgba(0, 0, 0, 0.65);
  --text-size:       0.8em;
  --text-color:      rgba(0, 0, 0, 0.5);
}

/*-- WEBSITE HEADER + FOOTER --*/
/* These properties only apply to Distill sites and blogs  */

.distill-site-header {
  --title-size:       18px;
  --text-color:       rgba(255, 255, 255, 0.8);
  --text-size:        15px;
  --hover-color:      white;
  --bkgd-color:       #0F2E3D;
}

.distill-site-footer {
  --text-color:       rgba(255, 255, 255, 0.8);
  --text-size:        15px;
  --hover-color:      white;
  --bkgd-color:       #0F2E3D;
}

/*-- Additional custom styles --*/
/* Add any additional CSS rules below                      */
</style>
<style type="text/css">
/* base variables */

/* Edit the CSS properties in this file to create a custom
   Distill theme. Only edit values in the right column
   for each row; values shown are the CSS defaults.
   To return any property to the default,
   you may set its value to: unset
   All rows must end with a semi-colon.                      */

/* Optional: embed custom fonts here with `@import`          */
/* This must remain at the top of this file.                 */

@import url('https://fonts.googleapis.com/css2?family=Questrial');

html {
  /*-- Main font sizes --*/
  --title-size:      50px;
  --body-size:       1.06rem;
  --code-size:       14px;
  --aside-size:      12px;
  --fig-cap-size:    13px;
  /*-- Main font colors --*/
  --title-color:     #000000;
  --header-color:    rgba(0, 0, 0, 0.8);
  --body-color:      rgba(0, 0, 0, 0.8);
  --aside-color:     rgba(0, 0, 0, 0.6);
  --fig-cap-color:   rgba(0, 0, 0, 0.6);
  /*-- Specify custom fonts ~~~ must be imported above   --*/
  --heading-font:    "Questrial", sans-serif;
  --mono-font:       monospace;
  --body-font:       "Questrial", sans-serif;
  --navbar-font:     "Questrial", sans-serif;  /* websites + blogs only */
}

/*-- ARTICLE METADATA --*/
d-byline {
  --heading-size:    0.6rem;
  --heading-color:   rgba(0, 0, 0, 0.5);
  --body-size:       0.8rem;
  --body-color:      rgba(0, 0, 0, 0.8);
}

/*-- ARTICLE TABLE OF CONTENTS --*/
.d-contents {
  --heading-size:    18px;
  --contents-size:   13px;
}

/*-- ARTICLE APPENDIX --*/
d-appendix {
  --heading-size:    15px;
  --heading-color:   rgba(0, 0, 0, 0.65);
  --text-size:       0.8em;
  --text-color:      rgba(0, 0, 0, 0.5);
}

/*-- WEBSITE HEADER + FOOTER --*/
/* These properties only apply to Distill sites and blogs  */

.distill-site-header {
  --title-size:       18px;
  --text-color:       rgba(255, 255, 255, 0.8);
  --text-size:        15px;
  --hover-color:      white;
  --bkgd-color:       #000e78;
}

.distill-site-footer {
  --text-color:       rgba(255, 255, 255, 0.8);
  --text-size:        15px;
  --hover-color:      white;
  --bkgd-color:       #000e78;
}

/*-- Additional custom styles --*/
/* Add any additional CSS rules below                      */

@media screen and (min-width: 768px) {
  d-article aside {
    height: 0;
  }
  aside.slides {
    margin-left: -148px;
    height: auto;
  }
  aside.slides + h2 {
    white-space: nowrap;
  }
}

d-article li {
  margin-bottom: 0.1em;
}

.posts-list .post-preview .thumbnail {
  max-height: 300px;
  overflow: hidden;
}</style>
<style type="text/css">
/* base style */

/* FONT FAMILIES */

:root {
  --heading-default: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
  --mono-default: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  --body-default: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
}

body,
.posts-list .post-preview p,
.posts-list .description p {
  font-family: var(--body-font), var(--body-default);
}

h1, h2, h3, h4, h5, h6,
.posts-list .post-preview h2,
.posts-list .description h2 {
  font-family: var(--heading-font), var(--heading-default);
}

d-article div.sourceCode code,
d-article pre code {
  font-family: var(--mono-font), var(--mono-default);
}


/*-- TITLE --*/
d-title h1,
.posts-list > h1 {
  color: var(--title-color, black);
}

d-title h1 {
  font-size: var(--title-size, 50px);
}

/*-- HEADERS --*/
d-article h1,
d-article h2,
d-article h3,
d-article h4,
d-article h5,
d-article h6 {
  color: var(--header-color, rgba(0, 0, 0, 0.8));
}

/*-- BODY --*/
d-article > p,  /* only text inside of <p> tags */
d-article > ul, /* lists */
d-article > ol {
  color: var(--body-color, rgba(0, 0, 0, 0.8));
  font-size: var(--body-size, 1.06rem);
}


/*-- CODE --*/
d-article div.sourceCode code,
d-article pre code {
  font-size: var(--code-size, 14px);
}

/*-- ASIDE --*/
d-article aside {
  font-size: var(--aside-size, 12px);
  color: var(--aside-color, rgba(0, 0, 0, 0.6));
}

/*-- FIGURE CAPTIONS --*/
figure .caption,
figure figcaption,
.figure .caption {
  font-size: var(--fig-cap-size, 13px);
  color: var(--fig-cap-color, rgba(0, 0, 0, 0.6));
}

/*-- METADATA --*/
d-byline h3 {
  font-size: var(--heading-size, 0.6rem);
  color: var(--heading-color, rgba(0, 0, 0, 0.5));
}

d-byline {
  font-size: var(--body-size, 0.8rem);
  color: var(--body-color, rgba(0, 0, 0, 0.8));
}

d-byline a,
d-article d-byline a {
  color: var(--body-color, rgba(0, 0, 0, 0.8));
}

/*-- TABLE OF CONTENTS --*/
.d-contents nav h3 {
  font-size: var(--heading-size, 18px);
}

.d-contents nav a {
  font-size: var(--contents-size, 13px);
}

/*-- APPENDIX --*/
d-appendix h3 {
  font-size: var(--heading-size, 15px);
  color: var(--heading-color, rgba(0, 0, 0, 0.65));
}

d-appendix {
  font-size: var(--text-size, 0.8em);
  color: var(--text-color, rgba(0, 0, 0, 0.5));
}

d-appendix d-footnote-list a.footnote-backlink {
  color: var(--text-color, rgba(0, 0, 0, 0.5));
}

/*-- WEBSITE HEADER + FOOTER --*/
.distill-site-header .title {
  font-size: var(--title-size, 18px);
  font-family: var(--navbar-font), var(--heading-default);
}

.distill-site-header a,
.nav-dropdown .nav-dropbtn {
  font-family: var(--navbar-font), var(--heading-default);
}

.nav-dropdown .nav-dropbtn {
  color: var(--text-color, rgba(255, 255, 255, 0.8));
  font-size: var(--text-size, 15px);
}

.distill-site-header a:hover,
.nav-dropdown:hover .nav-dropbtn {
  color: var(--hover-color, white);
}

.distill-site-header {
  font-size: var(--text-size, 15px);
  color: var(--text-color, rgba(255, 255, 255, 0.8));
  background-color: var(--bkgd-color, #0F2E3D);
}

.distill-site-footer {
  font-size: var(--text-size, 15px);
  color: var(--text-color, rgba(255, 255, 255, 0.8));
  background-color: var(--bkgd-color, #0F2E3D);
}

.distill-site-footer a:hover {
  color: var(--hover-color, white);
}</style>
<!--/radix_placeholder_distill-->
  <script src="../../../site_libs/header-attrs-2.20/header-attrs.js"></script>
  <script src="../../../site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
  <script src="../../../site_libs/popper-2.6.0/popper.min.js"></script>
  <link href="../../../site_libs/tippy-6.2.7/tippy.css" rel="stylesheet" />
  <link href="../../../site_libs/tippy-6.2.7/tippy-light-border.css" rel="stylesheet" />
  <script src="../../../site_libs/tippy-6.2.7/tippy.umd.min.js"></script>
  <script src="../../../site_libs/anchor-4.2.2/anchor.min.js"></script>
  <script src="../../../site_libs/bowser-1.9.3/bowser.min.js"></script>
  <script src="../../../site_libs/webcomponents-2.0.0/webcomponents.js"></script>
  <script src="../../../site_libs/distill-2.2.21/template.v2.js"></script>
  <!--radix_placeholder_site_in_header-->
<!--/radix_placeholder_site_in_header-->


</head>

<body>

<!--radix_placeholder_front_matter-->

<script id="distill-front-matter" type="text/json">
{"title":"Use of Social Media Platforms in 2021 (U.S.) by Demographic Group","description":"Replication and alternative version of a heatmap from 'Social Media Use in\n2021' (Pew Research Center).","authors":[{"author":"Marina Sánchez Moreno","authorURL":"#","affiliation":"&nbsp;","affiliationURL":"#","orcidID":""}],"publishedDate":"2023-01-24T00:00:00.000+01:00","citationText":"Moreno, 2023"}
</script>

<!--/radix_placeholder_front_matter-->
<!--radix_placeholder_navigation_before_body-->
<header class="header header--fixed" role="banner">
<nav class="distill-site-nav distill-site-header">
<div class="nav-left">
<span class="logo">
<img src="../../../assets/acronimo_0.png"/>
</span>
<a href="../../../index.html" class="title">Data visualization | MSc CSS</a>
<input id="distill-search" class="nav-search hidden" type="text" placeholder="Search..."/>
</div>
<div class="nav-right">
<a href="../../../contents.html">Contents</a>
<a href="../../../tutorials.html">Tutorials</a>
<a href="../../../resources.html">Resources</a>
<a href="../../../projects.html">Projects</a>
<a href="https://github.com/IBiDat/dataviz" aria-label="Link to source">
<i class="fab fa-github" aria-hidden="true"></i>
</a>
<a href="javascript:void(0);" class="nav-toggle">&#9776;</a>
</div>
</nav>
</header>
<!--/radix_placeholder_navigation_before_body-->
<!--radix_placeholder_site_before_body-->
<!--/radix_placeholder_site_before_body-->

<div class="d-title">
<h1>Use of Social Media Platforms in 2021 (U.S.) by Demographic Group</h1>
<!--radix_placeholder_categories-->
<div class="dt-tags">
  <a href="../../../projects.html#category:2022" class="dt-tag">2022</a>
</div>
<!--/radix_placeholder_categories-->
<p><p>Replication and alternative version of a heatmap from ‘Social Media Use in
2021’ (Pew Research Center).</p></p>
</div>

<div class="d-byline">
  
  Marina Sánchez Moreno
  
<br/>2023-01-24
</div>

<div class="d-article">
<div class="d-contents d-contents-float">
<nav class="l-text toc figcaption" id="TOC">
<h3>Contents</h3>
<ul>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#collection-and-data-processing">Collection and data processing</a>
<ul>
<li><a href="#collection-of-data">Collection of data</a></li>
<li><a href="#cleaning-and-processing-data">Cleaning and processing data</a></li>
<li><a href="#storing-the-new-dataframe">Storing the new dataframe</a></li>
</ul></li>
<li><a href="#replication-heatmap">Replication: heatmap</a>
<ul>
<li><a href="#changing-the-name-and-ordering-x-axis-labels">Changing the name and ordering X axis labels</a></li>
<li><a href="#y-axis-labels-order-padding-and-pre-faceting">Y axis labels order, padding and pre-faceting</a></li>
<li><a href="#building-the-plot-geom_tile">Building the plot: geom_tile()</a></li>
<li><a href="#facetting">Facetting</a></li>
<li><a href="#x-axis-and-legend-scale">X axis and legend scale</a></li>
<li><a href="#title-subtitle-caption-and-tag">Title, subtitle, caption and tag</a></li>
<li><a href="#fonts-and-theme">Fonts and Theme</a></li>
<li><a href="#annotation">Annotation</a></li>
</ul></li>
<li><a href="#alternative-version-parallel-coordinates">Alternative version: parallel coordinates</a>
<ul>
<li><a href="#building-the-plots-ggparcoord">Building the plots: ggparcoord()</a></li>
<li><a href="#color-scales-and-theme">Color scales and theme</a></li>
<li><a href="#patchwork-and-general-theme">Patchwork and general theme</a></li>
</ul></li>
<li><a href="#conclusions">Conclusions</a></li>
</ul>
</nav>
</div>
<h2 id="introduction">Introduction</h2>
<p>This project is based on a graph from the article <a href="https://www.pewresearch.org/internet/2021/04/07/social-media-use-in-2021/">“Social Media Use in 2021”</a>,
published by Brooke Auxier and Monica Anderson in April, 2021. In this article,
the authors focus on the differences in the use of social media platforms
through time (from 2012 to 2021), as well as on the differences in use in each
platform within different demographic groups in 2021 in the U.S.</p>
<p>The platforms under study are: YouTube, Facebook, Instagram, Pinterest,
LinkedIn, Snapchat, Twitter, Whatsapp, TikTok, Reddit and Nextdoor. Regarding
the demographic groups and divided at the same time in subgroups, we find:
gender (Men and Women), race/ethnicity (Black, White and Hispanic), age
(18-19 y/o, 30-49 y/o, 50-64 y/o and 65+ y/o), income (&lt;$30K, $30K-$49,999,
$50K-$74,999 and $75K+), education (High School or less, Some College,
College+) and place (Urban, Suburban and Rural), as well as the total (that
from now on, we will be considering when talking about this categories).
The results are obtained from a survey conducted on 1502 participants.</p>
<p>I found this publication worth reading since it gives some numbers to analyse
the real tendencies in the use of Social Media and, in some cases, disarm some
unfounded general beliefs regarding this topic (although the scope is obviously
limited to one country).</p>
<p>But, let’s get visual. The plot I chose from this article is a heatmap that
represents the percentage of people from several socioeconomic groups that
actually use each platform. Here you can see the original plot:</p>
<figure>
<img src="original_plot.png" class="external" style="width:100.0%" alt="Original plot" /><figcaption aria-hidden="true">Original plot</figcaption>
</figure>
<p>I found this plot interesting to work with since this kind of matrix
distribution of the elements was slightly different from the graphs we are use to
plot and since it had many aspects to practice: the text annotation of values
inside the matrix had different aesthetics (white and bold and black and plain),
the facets could be challenging and the font use seemed elaborated.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'># Load needed libraries</span></span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://tidyverse.tidyverse.org'>tidyverse</a></span><span class='op'>)</span></span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://github.com/juliasilge/tidytext'>tidytext</a></span><span class='op'>)</span></span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://wilkelab.org/ggtext/'>ggtext</a></span><span class='op'>)</span></span></code></pre>
</div>
</div>
<h2 id="collection-and-data-processing">Collection and data processing</h2>
<h3 id="collection-of-data">Collection of data</h3>
<p>First, we need to download the raw data file from the original article page (we
need to log-in to the PEW RESEARCH CENTER website first to access the dataset
and the documentation of the methodology). We can find the data .csv file in
the documentation in the GitHub folder of this project. Once we have it in our
directory, we can read it and store it in “data”:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'># Collect and store raw data</span></span>
<span><span class='va'>data</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/utils/read.table.html'>read.csv</a></span><span class='op'>(</span><span class='st'>"./documentation/Jan 25-Feb 8, 2021 - Core Trends Survey - CSV.csv"</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<h3 id="cleaning-and-processing-data">Cleaning and processing data</h3>
<p>When we take a look at the data, we find a total of 89 columns and 1502 rows,
where each observation represents the answers of one participant). The high
amount of columns (apart from being in wide format) is due to the fact that the
dataset is also shared by other article (‘Mobile Technology and Home Broadband
2021’).</p>
<p>To clean this dataframe, we need to:</p>
<ol type="1">
<li><p>First, think what table we need (final output, original plot): Platforms,
demographic groups and percentages. Since the percentages are not in the dataset,
we need to compute them by using the values of the platforms and the weights
(explained in the <a href="https://www.pewresearch.org/internet/2021/04/07/social-media-use-methodology/">methodology section</a> of the article).</p></li>
<li><p>Select the variables we need according to our previous conclusions. To
understand which variables are the ones we are looking for and which values
represent what, it is essential that we read carefully the documentation
(<a href="./Jan%2025-Feb%208,%202021%20-%20Core%20Trends%20Survey%20-%20Questionnaire.docx">Jan 25-Feb 8, 2021 - Core Trends Survey - Questionnaire.docx</a>):</p>
<ul>
<li>Socioeconomic categories: gender, racecmb, hisp, age, educ2, usr, income</li>
<li>weight: weight</li>
<li>Platforms = web1a (Twitter), web1b (Instagram), web1c (Facebook), web1d
(Snapchat), web1e (YouTube), web1f (Whatsapp), web1g (Pinterest), web1h
(LinkedIn), web1i (Reddit)</li>
</ul></li>
<li><p>Rename platforms columns, pivot longer the platforms and create dummy
variables of subgroups when needed.</p></li>
</ol>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>clean_data</span> <span class='op'>&lt;-</span> <span class='va'>data</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> </span>
<span>  <span class='co'># Keeping the above mentioned columns of interest:</span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/select.html'>select</a></span><span class='op'>(</span><span class='fu'><a href='https://tidyselect.r-lib.org/reference/starts_with.html'>contains</a></span><span class='op'>(</span><span class='st'>"racec"</span><span class='op'>)</span> <span class='op'>|</span> <span class='fu'><a href='https://tidyselect.r-lib.org/reference/starts_with.html'>starts_with</a></span><span class='op'>(</span><span class='st'>"hisp"</span><span class='op'>)</span> <span class='op'>|</span> <span class='fu'><a href='https://tidyselect.r-lib.org/reference/starts_with.html'>contains</a></span><span class='op'>(</span><span class='st'>"gender"</span><span class='op'>)</span> <span class='op'>|</span></span>
<span>           <span class='fu'><a href='https://tidyselect.r-lib.org/reference/starts_with.html'>contains</a></span><span class='op'>(</span><span class='st'>"educ2"</span><span class='op'>)</span> <span class='op'>|</span> <span class='fu'><a href='https://tidyselect.r-lib.org/reference/starts_with.html'>contains</a></span><span class='op'>(</span><span class='st'>"usr"</span><span class='op'>)</span> <span class='op'>|</span> <span class='fu'><a href='https://tidyselect.r-lib.org/reference/starts_with.html'>contains</a></span><span class='op'>(</span><span class='st'>"income"</span><span class='op'>)</span> <span class='op'>|</span></span>
<span>           <span class='fu'><a href='https://tidyselect.r-lib.org/reference/starts_with.html'>contains</a></span><span class='op'>(</span><span class='st'>"weight"</span><span class='op'>)</span> <span class='op'>|</span> <span class='fu'><a href='https://tidyselect.r-lib.org/reference/starts_with.html'>contains</a></span><span class='op'>(</span><span class='st'>"web"</span><span class='op'>)</span> <span class='op'>|</span> <span class='fu'><a href='https://tidyselect.r-lib.org/reference/starts_with.html'>contains</a></span><span class='op'>(</span><span class='st'>"age"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> </span>
<span>  <span class='co'># Rename the columns of each platform with the actual platform name:</span></span>
<span>  <span class='fu'>dplyr</span><span class='fu'>::</span><span class='fu'><a href='https://dplyr.tidyverse.org/reference/rename.html'>rename</a></span><span class='op'>(</span>Twitter <span class='op'>=</span> <span class='va'>web1a</span>, Instagram <span class='op'>=</span> <span class='va'>web1b</span>, Facebook <span class='op'>=</span> <span class='va'>web1c</span>, </span>
<span>                Snapchat <span class='op'>=</span> <span class='va'>web1d</span>, YouTube <span class='op'>=</span> <span class='va'>web1e</span>, Whatsapp <span class='op'>=</span> <span class='va'>web1f</span>,</span>
<span>                Pinterest <span class='op'>=</span> <span class='va'>web1g</span>, LinkedIn <span class='op'>=</span> <span class='va'>web1h</span>, Reddit <span class='op'>=</span> <span class='va'>web1i</span>,</span>
<span>                TikTok <span class='op'>=</span> <span class='va'>web1j</span>, Nextdoor <span class='op'>=</span> <span class='va'>web1k</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> </span>
<span>  <span class='co'># Select these platform columns and pivot them into two columns:</span></span>
<span>  <span class='fu'><a href='https://tidyr.tidyverse.org/reference/pivot_longer.html'>pivot_longer</a></span><span class='op'>(</span><span class='fu'><a href='https://tidyselect.r-lib.org/reference/starts_with.html'>matches</a></span><span class='op'>(</span><span class='st'>"^[A-Z]"</span>, ignore.case <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span>,</span>
<span>               names_to <span class='op'>=</span> <span class='st'>"Platform"</span>, <span class='co'># One column for the name of the platform </span></span>
<span>               values_to <span class='op'>=</span> <span class='st'>"YesNo"</span> <span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> <span class='co'># Another for the values (1=Yes, 0=No)</span></span>
<span>  <span class='fu'><a href='https://rdrr.io/r/base/transform.html'>transform</a></span><span class='op'>(</span>YesNo <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/numeric.html'>as.numeric</a></span><span class='op'>(</span><span class='va'>YesNo</span><span class='op'>)</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> </span>
<span>  <span class='co'># PLACE: Create 3 columns, one for each of the Urban/Suburban/Rural values</span></span>
<span>  <span class='co'># of the usr column</span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>Urban <span class='op'>=</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/case_when.html'>case_when</a></span><span class='op'>(</span><span class='va'>usr</span> <span class='op'>==</span> <span class='st'>"U"</span> <span class='op'>~</span> <span class='st'>"1"</span>, <span class='va'>usr</span> <span class='op'>!=</span> <span class='st'>"U"</span> <span class='op'>~</span> <span class='st'>"0"</span><span class='op'>)</span>,</span>
<span>         Suburban <span class='op'>=</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/case_when.html'>case_when</a></span><span class='op'>(</span><span class='va'>usr</span> <span class='op'>==</span> <span class='st'>"S"</span> <span class='op'>~</span> <span class='st'>"1"</span>, <span class='va'>usr</span> <span class='op'>!=</span> <span class='st'>"S"</span> <span class='op'>~</span> <span class='st'>"0"</span><span class='op'>)</span>,</span>
<span>         Rural <span class='op'>=</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/case_when.html'>case_when</a></span><span class='op'>(</span><span class='va'>usr</span> <span class='op'>==</span> <span class='st'>"R"</span> <span class='op'>~</span> <span class='st'>"1"</span>, <span class='va'>usr</span> <span class='op'>!=</span> <span class='st'>"R"</span> <span class='op'>~</span> <span class='st'>"0"</span><span class='op'>)</span>,</span>
<span>         USR_nas <span class='op'>=</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/case_when.html'>case_when</a></span><span class='op'>(</span><span class='va'>usr</span> <span class='op'>==</span> <span class='st'>" "</span> <span class='op'>~</span> <span class='st'>"1"</span>, <span class='va'>usr</span> <span class='op'>!=</span> <span class='st'>" "</span> <span class='op'>~</span> <span class='st'>"0"</span><span class='op'>)</span></span>
<span>  <span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> </span>
<span>  <span class='co'># AGE: Create 4 columns, one for each of the age ranges of the graph</span></span>
<span>  <span class='co'># (from age column)</span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>X18_29 <span class='op'>=</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/case_when.html'>case_when</a></span><span class='op'>(</span><span class='va'>age</span> <span class='op'>&lt;=</span> <span class='fl'>29</span> <span class='op'>~</span> <span class='fl'>1</span><span class='op'>)</span>,</span>
<span>         X30_49 <span class='op'>=</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/case_when.html'>case_when</a></span><span class='op'>(</span><span class='va'>age</span> <span class='op'>&lt;=</span> <span class='fl'>49</span> <span class='op'>&amp;</span> <span class='va'>age</span> <span class='op'>&gt;=</span> <span class='fl'>30</span> <span class='op'>~</span> <span class='fl'>1</span><span class='op'>)</span>,</span>
<span>         X50_64 <span class='op'>=</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/case_when.html'>case_when</a></span><span class='op'>(</span><span class='va'>age</span> <span class='op'>&gt;=</span> <span class='fl'>50</span> <span class='op'>&amp;</span> <span class='va'>age</span> <span class='op'>&lt;=</span> <span class='fl'>64</span> <span class='op'>~</span> <span class='fl'>1</span><span class='op'>)</span>,</span>
<span>         X65. <span class='op'>=</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/case_when.html'>case_when</a></span><span class='op'>(</span><span class='va'>age</span> <span class='op'>&gt;=</span> <span class='fl'>65</span> <span class='op'>&amp;</span> <span class='va'>age</span> <span class='op'>&lt;=</span> <span class='fl'>97</span> <span class='op'>~</span> <span class='fl'>1</span><span class='op'>)</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> </span>
<span>  <span class='co'># EDUCATION: Create 3 columns, one for each of the education ranges of the graph</span></span>
<span>  <span class='co'># (from educ2 column)</span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>HS_or_less <span class='op'>=</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/case_when.html'>case_when</a></span><span class='op'>(</span><span class='va'>educ2</span> <span class='op'>==</span> <span class='fl'>1</span> <span class='op'>~</span> <span class='fl'>1</span> ,<span class='va'>educ2</span> <span class='op'>==</span> <span class='fl'>2</span> <span class='op'>~</span> <span class='fl'>1</span>, <span class='va'>educ2</span> <span class='op'>==</span> <span class='fl'>3</span> <span class='op'>~</span> <span class='fl'>1</span><span class='op'>)</span>,</span>
<span>         Some_College <span class='op'>=</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/case_when.html'>case_when</a></span><span class='op'>(</span><span class='va'>educ2</span> <span class='op'>==</span> <span class='fl'>4</span> <span class='op'>~</span><span class='fl'>1</span>, <span class='va'>educ2</span> <span class='op'>==</span> <span class='fl'>5</span> <span class='op'>~</span><span class='fl'>1</span><span class='op'>)</span>,</span>
<span>         College <span class='op'>=</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/case_when.html'>case_when</a></span><span class='op'>(</span><span class='va'>educ2</span> <span class='op'>==</span> <span class='fl'>6</span> <span class='op'>~</span><span class='fl'>1</span>, <span class='va'>educ2</span> <span class='op'>==</span> <span class='fl'>7</span> <span class='op'>~</span><span class='fl'>1</span>, <span class='va'>educ2</span> <span class='op'>==</span> <span class='fl'>8</span> <span class='op'>~</span><span class='fl'>1</span> <span class='op'>)</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> </span>
<span>  <span class='fu'><a href='https://rdrr.io/r/base/transform.html'>transform</a></span><span class='op'>(</span>Urban <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/numeric.html'>as.numeric</a></span><span class='op'>(</span><span class='va'>Urban</span><span class='op'>)</span>, Suburban <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/numeric.html'>as.numeric</a></span><span class='op'>(</span><span class='va'>Suburban</span><span class='op'>)</span>,</span>
<span>            Rural <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/numeric.html'>as.numeric</a></span><span class='op'>(</span><span class='va'>Rural</span><span class='op'>)</span>, USR_nas <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/numeric.html'>as.numeric</a></span><span class='op'>(</span><span class='va'>USR_nas</span><span class='op'>)</span><span class='op'>)</span> </span></code></pre>
</div>
</div>
<ol start="4" type="1">
<li>Compute the percentage of each demographic subgroup by:</li>
</ol>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'># Calculating the percentages displayed in the graph</span></span>
<span></span>
<span><span class='co'># Function to generate the percentage per category (including weights)</span></span>
<span><span class='va'>perc</span> <span class='op'>&lt;-</span> <span class='kw'>function</span><span class='op'>(</span><span class='va'>weight</span>, <span class='va'>ind_yesno</span>, <span class='va'>ind_var</span><span class='op'>)</span> <span class='op'>{</span></span>
<span>  <span class='fu'><a href='https://rdrr.io/r/base/Round.html'>round</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/sum.html'>sum</a></span><span class='op'>(</span><span class='va'>ind_yesno</span> <span class='op'>*</span> <span class='va'>ind_var</span> <span class='op'>*</span> <span class='va'>weight</span><span class='op'>)</span> <span class='op'>/</span> <span class='fu'><a href='https://rdrr.io/r/base/sum.html'>sum</a></span><span class='op'>(</span><span class='va'>ind_var</span> <span class='op'>*</span> <span class='va'>weight</span><span class='op'>)</span> <span class='op'>*</span> <span class='fl'>100</span><span class='op'>)</span></span>
<span><span class='op'>}</span></span>
<span></span>
<span><span class='va'>clean_data</span> <span class='op'>&lt;-</span> <span class='va'>clean_data</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/group_by.html'>group_by</a></span><span class='op'>(</span><span class='va'>Platform</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/summarise.html'>summarise</a></span><span class='op'>(</span></span>
<span>    <span class='co'># TOTAL: Percentage of people in the sample that uses sometimes each platform </span></span>
<span>    Total    <span class='op'>=</span> <span class='fu'>perc</span><span class='op'>(</span><span class='va'>weight</span>, <span class='va'>YesNo</span><span class='op'>==</span><span class='fl'>1</span>, <span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='fl'>1</span>, <span class='fu'><a href='https://dplyr.tidyverse.org/reference/context.html'>n</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>,</span>
<span>    <span class='co'># GENDER: Create 2 columns, one for each of the gender categories of the graph</span></span>
<span>    <span class='co'># (from gender column)</span></span>
<span>    Men      <span class='op'>=</span> <span class='fu'>perc</span><span class='op'>(</span><span class='va'>weight</span>, <span class='va'>YesNo</span><span class='op'>==</span><span class='fl'>1</span>, <span class='va'>gender</span><span class='op'>==</span><span class='fl'>1</span><span class='op'>)</span>,</span>
<span>    Women    <span class='op'>=</span> <span class='fu'>perc</span><span class='op'>(</span><span class='va'>weight</span>, <span class='va'>YesNo</span><span class='op'>==</span><span class='fl'>1</span>, <span class='va'>gender</span><span class='op'>==</span><span class='fl'>2</span><span class='op'>)</span>,</span>
<span>    <span class='co'># RACE: Create 3 columns, one for each of the race groups of the graph</span></span>
<span>    <span class='co'># (from racecmb and hisp columns)</span></span>
<span>    White    <span class='op'>=</span> <span class='fu'>perc</span><span class='op'>(</span><span class='va'>weight</span>, <span class='va'>YesNo</span><span class='op'>==</span><span class='fl'>1</span>, <span class='va'>racecmb</span><span class='op'>==</span><span class='fl'>1</span> <span class='op'>&amp;</span> <span class='va'>hisp</span><span class='op'>!=</span><span class='fl'>1</span><span class='op'>)</span>,</span>
<span>    Black    <span class='op'>=</span> <span class='fu'>perc</span><span class='op'>(</span><span class='va'>weight</span>, <span class='va'>YesNo</span><span class='op'>==</span><span class='fl'>1</span>, <span class='va'>racecmb</span><span class='op'>==</span><span class='fl'>2</span> <span class='op'>&amp;</span> <span class='va'>hisp</span><span class='op'>!=</span><span class='fl'>1</span><span class='op'>)</span>,</span>
<span>    Hispanic <span class='op'>=</span> <span class='fu'>perc</span><span class='op'>(</span><span class='va'>weight</span>, <span class='va'>YesNo</span><span class='op'>==</span><span class='fl'>1</span>, <span class='va'>hisp</span><span class='op'>==</span><span class='fl'>1</span><span class='op'>)</span>,</span>
<span>    <span class='co'># AGE</span></span>
<span>    X18_29   <span class='op'>=</span> <span class='fu'>perc</span><span class='op'>(</span><span class='va'>weight</span>, <span class='va'>YesNo</span><span class='op'>==</span><span class='fl'>1</span>, <span class='op'>!</span><span class='fu'><a href='https://rdrr.io/r/base/NA.html'>is.na</a></span><span class='op'>(</span><span class='va'>X18_29</span><span class='op'>)</span><span class='op'>)</span>,</span>
<span>    X30_49   <span class='op'>=</span> <span class='fu'>perc</span><span class='op'>(</span><span class='va'>weight</span>, <span class='va'>YesNo</span><span class='op'>==</span><span class='fl'>1</span>, <span class='op'>!</span><span class='fu'><a href='https://rdrr.io/r/base/NA.html'>is.na</a></span><span class='op'>(</span><span class='va'>X30_49</span><span class='op'>)</span><span class='op'>)</span>,</span>
<span>    X50_64   <span class='op'>=</span> <span class='fu'>perc</span><span class='op'>(</span><span class='va'>weight</span>, <span class='va'>YesNo</span><span class='op'>==</span><span class='fl'>1</span>, <span class='op'>!</span><span class='fu'><a href='https://rdrr.io/r/base/NA.html'>is.na</a></span><span class='op'>(</span><span class='va'>X50_64</span><span class='op'>)</span><span class='op'>)</span>,</span>
<span>    X65.     <span class='op'>=</span> <span class='fu'>perc</span><span class='op'>(</span><span class='va'>weight</span>, <span class='va'>YesNo</span><span class='op'>==</span><span class='fl'>1</span>, <span class='op'>!</span><span class='fu'><a href='https://rdrr.io/r/base/NA.html'>is.na</a></span><span class='op'>(</span><span class='va'>X65.</span><span class='op'>)</span><span class='op'>)</span>,</span>
<span>    <span class='co'># INCOME: Create 4 columns, one for each of the income ranges of the graph</span></span>
<span>    <span class='co'># (from income column)</span></span>
<span>    `Income_30K`        <span class='op'>=</span> <span class='fu'>perc</span><span class='op'>(</span><span class='va'>weight</span>, <span class='va'>YesNo</span><span class='op'>==</span><span class='fl'>1</span>, <span class='va'>income</span> <span class='op'>&lt;=</span> <span class='fl'>3</span><span class='op'>)</span>,</span>
<span>    `Income_30K_49.999` <span class='op'>=</span> <span class='fu'>perc</span><span class='op'>(</span><span class='va'>weight</span>, <span class='va'>YesNo</span><span class='op'>==</span><span class='fl'>1</span>, <span class='op'>(</span><span class='va'>income</span> <span class='op'>&lt;=</span> <span class='fl'>5</span> <span class='op'>&amp;</span> <span class='va'>income</span> <span class='op'>&gt;</span> <span class='fl'>3</span><span class='op'>)</span><span class='op'>)</span>,     </span>
<span>    `Income_50K_74.999` <span class='op'>=</span> <span class='fu'>perc</span><span class='op'>(</span><span class='va'>weight</span>, <span class='va'>YesNo</span><span class='op'>==</span><span class='fl'>1</span>, <span class='va'>income</span> <span class='op'>==</span> <span class='fl'>6</span><span class='op'>)</span>,</span>
<span>    `Income_75K`        <span class='op'>=</span> <span class='fu'>perc</span><span class='op'>(</span><span class='va'>weight</span>, <span class='va'>YesNo</span><span class='op'>==</span><span class='fl'>1</span>, <span class='op'>(</span><span class='va'>income</span> <span class='op'>&gt;</span> <span class='fl'>6</span> <span class='op'>&amp;</span> <span class='va'>income</span> <span class='op'>&lt;=</span> <span class='fl'>9</span><span class='op'>)</span><span class='op'>)</span>,</span>
<span>    <span class='co'># EDUCATION</span></span>
<span>    HS_or_less          <span class='op'>=</span> <span class='fu'>perc</span><span class='op'>(</span><span class='va'>weight</span>, <span class='va'>YesNo</span><span class='op'>==</span><span class='fl'>1</span>, <span class='op'>!</span><span class='fu'><a href='https://rdrr.io/r/base/NA.html'>is.na</a></span><span class='op'>(</span><span class='va'>HS_or_less</span><span class='op'>)</span><span class='op'>)</span>,</span>
<span>    Some_College        <span class='op'>=</span> <span class='fu'>perc</span><span class='op'>(</span><span class='va'>weight</span>, <span class='va'>YesNo</span><span class='op'>==</span><span class='fl'>1</span>, <span class='op'>!</span><span class='fu'><a href='https://rdrr.io/r/base/NA.html'>is.na</a></span><span class='op'>(</span><span class='va'>Some_College</span><span class='op'>)</span><span class='op'>)</span>,</span>
<span>    College             <span class='op'>=</span> <span class='fu'>perc</span><span class='op'>(</span><span class='va'>weight</span>, <span class='va'>YesNo</span><span class='op'>==</span><span class='fl'>1</span>, <span class='op'>!</span><span class='fu'><a href='https://rdrr.io/r/base/NA.html'>is.na</a></span><span class='op'>(</span><span class='va'>College</span><span class='op'>)</span><span class='op'>)</span>,</span>
<span>    <span class='co'># PLACE</span></span>
<span>    Urban    <span class='op'>=</span> <span class='fu'>perc</span><span class='op'>(</span><span class='va'>weight</span>, <span class='va'>YesNo</span><span class='op'>==</span><span class='fl'>1</span>, <span class='va'>Urban</span><span class='op'>==</span><span class='fl'>1</span><span class='op'>)</span>,</span>
<span>    Suburban <span class='op'>=</span> <span class='fu'>perc</span><span class='op'>(</span><span class='va'>weight</span>, <span class='va'>YesNo</span><span class='op'>==</span><span class='fl'>1</span>, <span class='va'>Suburban</span><span class='op'>==</span><span class='fl'>1</span><span class='op'>)</span>,</span>
<span>    Rural    <span class='op'>=</span> <span class='fu'>perc</span><span class='op'>(</span><span class='va'>weight</span>, <span class='va'>YesNo</span><span class='op'>==</span><span class='fl'>1</span>, <span class='va'>Rural</span><span class='op'>==</span><span class='fl'>1</span><span class='op'>)</span> </span>
<span>  <span class='op'>)</span></span></code></pre>
</div>
</div>
<h3 id="storing-the-new-dataframe">Storing the new dataframe</h3>
<p>For future work, it may be convenient to save the new clean and organised
dataframe: <code>write_csv(clean_data, "clean_data.csv")</code>.</p>
<h2 id="replication-heatmap">Replication: heatmap</h2>
<h3 id="changing-the-name-and-ordering-x-axis-labels">Changing the name and ordering X axis labels</h3>
<p>Before creating the heatmap, we need to fix some aspects like the names of the
columns. In some cases R has changed the names for dealing with white spaces
and numbers at the beginning (“X18_19”, “HS_or_less”…). Also, we can order
now the name of the platforms according to their value for variable “total”
(descending order):</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'># Change the names of the columns according to the original plot:</span></span>
<span><span class='fu'><a href='https://rdrr.io/r/base/colnames.html'>colnames</a></span><span class='op'>(</span><span class='va'>clean_data</span><span class='op'>)</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Platform"</span>, <span class='st'>"Total"</span>, <span class='st'>"Men"</span>, <span class='st'>"Women"</span>, <span class='st'>"White"</span>, <span class='st'>"Black"</span>,</span>
<span>                      <span class='st'>"Hispanic"</span>, <span class='st'>"Ages 18-29"</span>, <span class='st'>"30-49"</span>, <span class='st'>"50-64"</span>, <span class='st'>"65+"</span>, <span class='st'>"&lt;$30K"</span>,</span>
<span>                      <span class='st'>"$30K-$49,999"</span>, <span class='st'>"$50K-$74,999"</span>, <span class='st'>"$75K+"</span>, <span class='st'>"HS or less"</span>,</span>
<span>                      <span class='st'>"Some college"</span>, <span class='st'>"College+"</span>, <span class='st'>"Urban"</span>, <span class='st'>"Suburban"</span>, <span class='st'>"Rural"</span><span class='op'>)</span></span>
<span><span class='co'># We arrange platforms' names by their "total" values (descending order)</span></span>
<span><span class='va'>clean_data</span> <span class='op'>&lt;-</span><span class='va'>clean_data</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/arrange.html'>arrange</a></span><span class='op'>(</span><span class='fu'><a href='https://dplyr.tidyverse.org/reference/desc.html'>desc</a></span><span class='op'>(</span><span class='va'>Total</span><span class='op'>)</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://tibble.tidyverse.org/reference/rownames.html'>column_to_rownames</a></span><span class='op'>(</span>var<span class='op'>=</span><span class='st'>"Platform"</span><span class='op'>)</span> <span class='co'>#Column "platform" to row names</span></span></code></pre>
</div>
</div>
<h3 id="y-axis-labels-order-padding-and-pre-faceting">Y axis labels order, padding and pre-faceting</h3>
<p>Now let’s work the Y axis labels. We need to:</p>
<ol type="1">
<li><p><strong>Create a reference vector</strong>. We will create and use a reference vector
with the desired order of the labels and with the same padding we will applied
for the y labels to order them. Regarding padding, we have to set the width of
each of the elements in the outcome vector. In this case, since the longest y
axis label has 12 characters, that will be our width.</p></li>
<li><p><strong>Padding the real y axis labels</strong>. Now we have to apply the same padding
used before so both the reference vector and the y labels are equivalent. This
padding will avoid the horizontal left justification to be applied only
individually by facet instead of in all the facets together.</p></li>
<li><p><strong>Order the y labels</strong>. Using the reference vector to order the levels.</p></li>
<li><p><strong>Creating a column for group faceting</strong></p></li>
</ol>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'># REFERENCE VECTOR:</span></span>
<span><span class='co'># Creating a y axis labels reference vector that will be used for ordering within facets</span></span>
<span><span class='va'>axisLabels.y</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Total"</span>, <span class='st'>"Men"</span>, <span class='st'>"Women"</span>, <span class='st'>"White"</span>, <span class='st'>"Black"</span>,</span>
<span>                  <span class='st'>"Hispanic"</span>, <span class='st'>"Ages 18-29"</span>, <span class='st'>"30-49"</span>, <span class='st'>"50-64"</span>, <span class='st'>"65+"</span>, <span class='st'>"&lt;$30K"</span>,</span>
<span>                  <span class='st'>"$30K-$49,999"</span>, <span class='st'>"$50K-$74,999"</span>, <span class='st'>"$75K+"</span>, <span class='st'>"HS or less"</span>,</span>
<span>                  <span class='st'>"Some college"</span>, <span class='st'>"College+"</span>, <span class='st'>"Urban"</span>, <span class='st'>"Suburban"</span>, <span class='st'>"Rural"</span><span class='op'>)</span></span>
<span><span class='co'># Padding  the vector (as we will do with key/groups)</span></span>
<span><span class='va'>axisLabels.y</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_pad.html'>str_pad</a></span><span class='op'>(</span><span class='va'>axisLabels.y</span>, side <span class='op'>=</span><span class='st'>"right"</span>,</span>
<span>                        width <span class='op'>=</span> <span class='fl'>12</span>, pad <span class='op'>=</span> <span class='st'>" "</span><span class='op'>)</span></span>
<span></span>
<span></span>
<span><span class='co'># LABELS ORDER AND PADDING:</span></span>
<span><span class='va'>rep</span> <span class='op'>&lt;-</span> <span class='va'>clean_data</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='co'># Turning the row names to a column "Platform"</span></span>
<span>  <span class='fu'>tibble</span><span class='fu'>::</span><span class='fu'><a href='https://tibble.tidyverse.org/reference/rownames.html'>rownames_to_column</a></span><span class='op'>(</span><span class='st'>"Platform"</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  </span>
<span>  <span class='co'># Collecting columns (demographic subgroups, excluding platform column)</span></span>
<span>  <span class='co'># as one column called "key"</span></span>
<span>  <span class='co'># Collecting the previous columns' values as one column called "value"</span></span>
<span>  <span class='fu'><a href='https://tidyr.tidyverse.org/reference/gather.html'>gather</a></span><span class='op'>(</span><span class='st'>"key"</span>, <span class='st'>"value"</span>, <span class='op'>-</span><span class='va'>Platform</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  </span>
<span>  <span class='co'># PADDING Y-axis labels</span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>key <span class='op'>=</span> <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_pad.html'>str_pad</a></span><span class='op'>(</span><span class='va'>key</span>, side <span class='op'>=</span><span class='st'>"right"</span>, width <span class='op'>=</span> <span class='fl'>12</span>,</span>
<span>                       pad <span class='op'>=</span> <span class='st'>" "</span><span class='op'>)</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  </span>
<span>  <span class='co'># ORDER Y-axis labels using the reference vector to order the levels</span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>key <span class='op'>=</span> <span class='fu'><a href='https://forcats.tidyverse.org/reference/fct_relevel.html'>fct_relevel</a></span><span class='op'>(</span><span class='va'>key</span>, <span class='fu'><a href='https://rdrr.io/r/base/rev.html'>rev</a></span><span class='op'>(</span><span class='va'>axisLabels.y</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  </span>
<span>  <span class='co'># CREATING A COLUMN FOR LATTER GROUP FACETTING (total, gender, age, income...)</span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>group <span class='op'>=</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/case_when.html'>case_when</a></span><span class='op'>(</span></span>
<span>    <span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grepl</a></span><span class='op'>(</span><span class='st'>"Total"</span>, <span class='va'>key</span><span class='op'>)</span> <span class='op'>~</span> <span class='st'>"total"</span>,</span>
<span>    <span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grepl</a></span><span class='op'>(</span><span class='st'>"Men|Women"</span>, <span class='va'>key</span><span class='op'>)</span> <span class='op'>~</span> <span class='st'>"gender"</span>,</span>
<span>    <span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grepl</a></span><span class='op'>(</span><span class='st'>"White|Black|Hispanic"</span>, <span class='va'>key</span><span class='op'>)</span> <span class='op'>~</span> <span class='st'>"race"</span>,</span>
<span>    <span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grepl</a></span><span class='op'>(</span><span class='st'>"Ages|30-49|50-64|65"</span>, <span class='va'>key</span><span class='op'>)</span> <span class='op'>~</span> <span class='st'>"age"</span>,</span>
<span>    <span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grepl</a></span><span class='op'>(</span><span class='st'>"30K|50K|75K"</span>, <span class='va'>key</span><span class='op'>)</span> <span class='op'>~</span> <span class='st'>"income"</span>,</span>
<span>    <span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grepl</a></span><span class='op'>(</span><span class='st'>"HS|ollege"</span>, <span class='va'>key</span><span class='op'>)</span> <span class='op'>~</span> <span class='st'>"education"</span>,</span>
<span>    <span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grepl</a></span><span class='op'>(</span><span class='st'>"rban|Rural"</span>, <span class='va'>key</span><span class='op'>)</span> <span class='op'>~</span> <span class='st'>"place"</span>,</span>
<span>  <span class='op'>)</span></span>
<span>  <span class='op'>)</span></span></code></pre>
</div>
</div>
<h3 id="building-the-plot-geom_tile">Building the plot: geom_tile()</h3>
<p>Among all the options available to generate a heatmap, I chose <code>geom_tile()</code>.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>repl</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='va'>rep</span>, <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/stats/reorder.factor.html'>reorder</a></span><span class='op'>(</span><span class='va'>Platform</span>, <span class='va'>value</span>, decreasing<span class='op'>=</span><span class='cn'>TRUE</span><span class='op'>)</span>, <span class='va'>key</span>,</span>
<span>                        fill <span class='op'>=</span> <span class='va'>value</span>, label <span class='op'>=</span> <span class='va'>value</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_tile.html'>geom_tile</a></span><span class='op'>(</span>color <span class='op'>=</span> <span class='st'>"white"</span>,</span>
<span>            lwd <span class='op'>=</span> <span class='fl'>0.2</span>,</span>
<span>            linetype <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span></span>
<span><span class='va'>repl</span></span></code></pre>
</div>
<p><img src="100462872_files/figure-html5/unnamed-chunk-7-1.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
<h3 id="facetting">Facetting</h3>
<p>We will use column “group” to establish the facets. For this, we create another
reference vector (as we did for y axis labels) to order the items in column
“group”. This vector “categories” will act as the levels (and order) of the
group column.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'># Another reference vector for ordering "group"</span></span>
<span><span class='va'>categories</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>'total'</span>, <span class='st'>'gender'</span>, <span class='st'>'race'</span>, <span class='st'>'age'</span>, <span class='st'>'income'</span>, <span class='st'>'education'</span>, <span class='st'>'place'</span><span class='op'>)</span></span>
<span></span>
<span></span>
<span><span class='va'>repli</span> <span class='op'>&lt;-</span> <span class='va'>repl</span> <span class='op'>+</span></span>
<span>  <span class='co'># Faceting</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/facet_grid.html'>facet_grid</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span><span class='op'>(</span><span class='va'>repl</span><span class='op'>$</span><span class='va'>data</span><span class='op'>$</span><span class='va'>group</span>,</span>
<span>                    levels<span class='op'>=</span> <span class='va'>categories</span><span class='op'>)</span> <span class='op'>~</span> <span class='va'>.</span>,</span>
<span>             scales<span class='op'>=</span><span class='st'>"free"</span>, space<span class='op'>=</span><span class='st'>"free"</span><span class='op'>)</span> </span>
<span><span class='va'>repli</span></span></code></pre>
</div>
<p><img src="100462872_files/figure-html5/unnamed-chunk-8-1.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
<h3 id="x-axis-and-legend-scale">X axis and legend scale</h3>
<p>For the legend I used <code>scale_fill_stepsn()</code> for selecting individual colors for
each discrete ranges of values (percentages). In order to add the % symbol to
the 0 value only we can create a function called “labeller” that will take the
breaks specified in “breaks” argument and will paste the % symbol after the
value when it is equal to 0.</p>
<p>Regarding the scale color, to select each color code I used the website
<a href="https://imagecolorpicker.com/">ImageColorPicker.com</a>, where you can upload an
image (in this case, the original plot) and select the colors to get the color
codes.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'># This function adds a "%" to the break label when it is equal to 0</span></span>
<span><span class='va'>labeller</span> <span class='op'>&lt;-</span> <span class='kw'>function</span><span class='op'>(</span><span class='va'>breaks</span><span class='op'>)</span> <span class='op'>{</span></span>
<span>  <span class='kw'>if</span> <span class='op'>(</span><span class='va'>breaks</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>]</span> <span class='op'>==</span> <span class='fl'>0</span><span class='op'>)</span></span>
<span>    <span class='va'>breaks</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>]</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span><span class='op'>(</span><span class='va'>breaks</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>]</span>, <span class='st'>"%"</span><span class='op'>)</span></span>
<span>  <span class='va'>breaks</span></span>
<span><span class='op'>}</span></span>
<span><span class='va'>repli</span> <span class='op'>&lt;-</span> <span class='va'>repli</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_steps.html'>scale_fill_stepsn</a></span><span class='op'>(</span>breaks<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span><span class='op'>(</span><span class='fl'>20</span>, <span class='fl'>80</span>, <span class='fl'>20</span><span class='op'>)</span>, limits<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>100</span><span class='op'>)</span>, <span class='co'># Percentages </span></span>
<span>                    labels<span class='op'>=</span><span class='va'>labeller</span>, <span class='co'># Applies the above function</span></span>
<span>                    space<span class='op'>=</span> <span class='st'>"Lab"</span>,</span>
<span>                    colors<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"#c7d9ee"</span>, <span class='st'>"#8ab4df"</span>, <span class='st'>"#5e91cb"</span>, <span class='st'>"#286c9c"</span>, <span class='st'>"#314565"</span><span class='op'>)</span>,</span>
<span>                    guide<span class='op'>=</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/guide_coloursteps.html'>guide_colorsteps</a></span><span class='op'>(</span>show.limits<span class='op'>=</span><span class='cn'>TRUE</span>, <span class='co'># 0% and 100 visible</span></span>
<span>                                           <span class='co'># We can see the ticks:</span></span>
<span>                                           ticks <span class='op'>=</span> <span class='cn'>TRUE</span>, </span>
<span>                                           direction<span class='op'>=</span> <span class='st'>"horizontal"</span>,</span>
<span>                                           ticks.linewidth<span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/unit.html'>unit</a></span><span class='op'>(</span><span class='fl'>2</span>, <span class='st'>'pt'</span><span class='op'>)</span>,</span>
<span>                                           ticks.colour <span class='op'>=</span> <span class='st'>"white"</span>,</span>
<span>                                           <span class='co'># 1 line legend</span></span>
<span>                                           nrow <span class='op'>=</span> <span class='fl'>1</span>, </span>
<span>                                           label<span class='op'>=</span> <span class='cn'>TRUE</span>,</span>
<span>                                           <span class='co'># On top of color values</span></span>
<span>                                           label.position <span class='op'>=</span> <span class='st'>"top"</span><span class='op'>)</span></span>
<span>  <span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='co'># Put X axis on top</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_discrete.html'>scale_x_discrete</a></span><span class='op'>(</span>position <span class='op'>=</span> <span class='st'>"top"</span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>repli</span></span></code></pre>
</div>
<p><img src="100462872_files/figure-html5/unnamed-chunk-9-1.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
<h3 id="title-subtitle-caption-and-tag">Title, subtitle, caption and tag</h3>
<p>Introducing the title, subtitle, caption and tag with labs(), adding <code>\n</code> for
newlines and <code>\</code>for special characters (like ““)</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>repli</span> <span class='op'>&lt;-</span> <span class='va'>repli</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span></span>
<span>    title <span class='op'>=</span> <span class='st'>"Use of online platforms, apps varies — sometimes widely — by demographic group"</span>,</span>
<span>    subtitle <span class='op'>=</span> <span class='st'>"\n% of U.S. adults in each demographic group who say they ever use..."</span>,</span>
<span>    caption <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span><span class='op'>(</span></span>
<span>      <span class='st'>'Note: White and Black adults include those who report being only one '</span>,</span>
<span>      <span class='st'>'race and are not Hispanic. Hispanics are of any race. Not all numerical'</span>,</span>
<span>      <span class='st'>'\ndifferences between groups shown are statistically significant (e.g.,'</span>,</span>
<span>      <span class='st'>' there are no statistically significant differences between the shares '</span>,</span>
<span>      <span class='st'>'of\nWhite, Black or Hispanic Americans who say the use Facebook). '</span>,</span>
<span>      <span class='st'>'Respondents who did not give an answer are not shown.\nSource: Survey '</span>,</span>
<span>      <span class='st'>'of U.S. adults conducted Jan. 25-Feb. 8, 2021.\n\"Social Media Use in 2021\"\n'</span><span class='op'>)</span>,</span>
<span>    tag <span class='op'>=</span> <span class='st'>"PEW RESEARCH CENTER"</span>,</span>
<span>    <span class='co'># No x or y axis title</span></span>
<span>    x<span class='op'>=</span><span class='cn'>NULL</span>, y <span class='op'>=</span> <span class='cn'>NULL</span><span class='op'>)</span></span>
<span><span class='va'>repli</span></span></code></pre>
</div>
<p><img src="100462872_files/figure-html5/unnamed-chunk-10-1.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
<h3 id="fonts-and-theme">Fonts and Theme</h3>
<p>Regarding the fonts, initially I used similar fonts by analyzing the typography
with <a href="https://www.whatfontis.com/?s2o">whatfontis.com</a>. However, for license
reasons, I then selected similar Google fonts. In both cases, I had to use a
monospace font version (Noto Sans Mono) for a perfect left justification of
the y axis text.</p>
<p>Download the .ttf files of the correspondent font type, load import it from the
correct path and load them. Then add each font to each label, determining the
.ttf file path for each face of the font. Finally, render the fonts with
<code>showtext_auto()</code>.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://github.com/wch/extrafont'>extrafont</a></span><span class='op'>)</span></span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://github.com/yixuan/showtext'>showtext</a></span><span class='op'>)</span></span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://github.com/yixuan/sysfonts'>sysfonts</a></span><span class='op'>)</span></span>
<span></span>
<span><span class='co'>## Add the font with the corresponding font faces:</span></span>
<span></span>
<span><span class='co'>#Title font</span></span>
<span><span class='fu'><a href='https://rdrr.io/pkg/sysfonts/man/font_add.html'>font_add</a></span><span class='op'>(</span><span class='st'>"Libre Franklin Black"</span>,</span>
<span>         regular <span class='op'>=</span> <span class='st'>"./fonts/LibreFranklin-Black.ttf"</span>,</span>
<span>         bold <span class='op'>=</span> <span class='st'>"./fonts/LibreFranklin-Black.ttf"</span><span class='op'>)</span></span>
<span></span>
<span><span class='co'># Subtitle font</span></span>
<span><span class='fu'><a href='https://rdrr.io/pkg/sysfonts/man/font_add.html'>font_add</a></span><span class='op'>(</span><span class='st'>"Libre Franklin Medium"</span>,</span>
<span>         regular <span class='op'>=</span> <span class='st'>"./fonts/LibreFranklin-MediumItalic.ttf"</span>,</span>
<span>         italic <span class='op'>=</span> <span class='st'>"./fonts/LibreFranklin-MediumItalic.ttf"</span><span class='op'>)</span></span>
<span></span>
<span><span class='co'># Y axis text  (monospaced Google font for left justification between facets)</span></span>
<span><span class='fu'>sysfonts</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/sysfonts/man/font_add_google.html'>font_add_google</a></span><span class='op'>(</span><span class='st'>"Noto Sans Mono"</span><span class='op'>)</span></span>
<span><span class='fu'><a href='https://rdrr.io/pkg/sysfonts/man/font_add.html'>font_add</a></span><span class='op'>(</span><span class='st'>"Noto Sans Mono"</span>,</span>
<span>         regular <span class='op'>=</span> <span class='st'>"./fonts/NotoSansMono-Regular.ttf"</span><span class='op'>)</span></span>
<span></span>
<span><span class='co'># Geom_text font (values inside matrix), Caption text and and X axis labels</span></span>
<span><span class='fu'><a href='https://rdrr.io/pkg/sysfonts/man/font_add.html'>font_add</a></span><span class='op'>(</span><span class='st'>"Libre Franklin"</span>,</span>
<span>         regular <span class='op'>=</span> <span class='st'>"./fonts/LibreFranklin-Regular.ttf"</span>, <span class='co'># caption and X text</span></span>
<span>         bold <span class='op'>=</span> <span class='st'>"./fonts/LibreFranklin-SemiBold.ttf"</span><span class='op'>)</span></span>
<span></span>
<span><span class='co'># Tag text</span></span>
<span><span class='fu'><a href='https://rdrr.io/pkg/sysfonts/man/font_add.html'>font_add</a></span><span class='op'>(</span><span class='st'>"Libre Franklin Bold"</span>,</span>
<span>         regular <span class='op'>=</span> <span class='st'>"./fonts/LibreFranklin-Bold.ttf"</span><span class='op'>)</span></span>
<span></span>
<span><span class='co'>## Automatically use showtext to render plots</span></span>
<span><span class='fu'>showtext</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/showtext/man/showtext_auto.html'>showtext_auto</a></span><span class='op'>(</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<p>Add the settings of the theme relative to facets, x/y axis, plot, labs and
legend:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>repli</span> <span class='op'>&lt;-</span> <span class='va'>repli</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span></span>
<span>    <span class='co'># Labels of the facets (no visible)</span></span>
<span>    strip.text<span class='op'>=</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>,</span>
<span>    <span class='co'># x and y axis</span></span>
<span>    axis.ticks.x<span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>,</span>
<span>    axis.ticks.y<span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>,</span>
<span>    axis.text.x.top <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>14</span>, color <span class='op'>=</span> <span class='st'>"black"</span>,</span>
<span>                                   margin <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>margin</a></span><span class='op'>(</span><span class='fl'>10</span>, <span class='fl'>10</span>, <span class='fl'>10</span>, <span class='fl'>10</span><span class='op'>)</span>,</span>
<span>                                   family <span class='op'>=</span> <span class='st'>"Libre Franklin"</span><span class='op'>)</span>,</span>
<span>    axis.text.y <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>15</span>, color <span class='op'>=</span> <span class='st'>"black"</span>,</span>
<span>                               hjust<span class='op'>=</span> <span class='fl'>0</span>, margin <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>margin</a></span><span class='op'>(</span><span class='fl'>0</span>,<span class='op'>-</span><span class='fl'>5</span>,<span class='fl'>0</span>,<span class='fl'>0</span><span class='op'>)</span>,</span>
<span>                               family <span class='op'>=</span> <span class='st'>"Noto Sans Mono"</span><span class='op'>)</span>,</span>
<span>    <span class='co'># Plot margins</span></span>
<span>    plot.margin <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>margin</a></span><span class='op'>(</span><span class='fl'>17</span>,<span class='fl'>4</span>,<span class='fl'>22</span>,<span class='fl'>4</span><span class='op'>)</span>,</span>
<span>    <span class='co'>#Plot labs</span></span>
<span>    plot.title <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>color <span class='op'>=</span> <span class='st'>"black"</span>, size <span class='op'>=</span> <span class='fl'>22.5</span>,</span>
<span>                              family <span class='op'>=</span> <span class='st'>"Libre Franklin Black"</span>, face <span class='op'>=</span> <span class='st'>"bold"</span><span class='op'>)</span>,</span>
<span>    plot.subtitle <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>color <span class='op'>=</span> <span class='st'>"grey40"</span>, size <span class='op'>=</span> <span class='fl'>17</span>, lineheight <span class='op'>=</span> <span class='fl'>0.2</span>,</span>
<span>                                 family <span class='op'>=</span> <span class='st'>"Libre Franklin Medium"</span>,</span>
<span>                                 face <span class='op'>=</span> <span class='st'>"italic"</span><span class='op'>)</span>,</span>
<span>    plot.title.position <span class='op'>=</span> <span class='st'>"plot"</span>,</span>
<span>    plot.caption.position <span class='op'>=</span> <span class='st'>"plot"</span>,</span>
<span>    plot.caption <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>color <span class='op'>=</span> <span class='st'>"grey30"</span>, size<span class='op'>=</span> <span class='fl'>14</span>, face<span class='op'>=</span><span class='st'>"bold"</span>,</span>
<span>                                lineheight <span class='op'>=</span> <span class='fl'>0.8</span>,</span>
<span>                                family <span class='op'>=</span> <span class='st'>"Libre Franklin"</span>,</span>
<span>                                hjust <span class='op'>=</span> <span class='fl'>0</span>, vjust <span class='op'>=</span> <span class='fl'>0</span>, margin <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>margin</a></span><span class='op'>(</span><span class='fl'>13</span>,<span class='fl'>0</span>,<span class='fl'>0</span>,<span class='fl'>0</span><span class='op'>)</span><span class='op'>)</span>,</span>
<span>    plot.tag.position <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='op'>-</span><span class='fl'>0.01</span><span class='op'>)</span>,</span>
<span>    plot.tag <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>15</span>, family <span class='op'>=</span> <span class='st'>"Libre Franklin Bold"</span>, face <span class='op'>=</span> <span class='st'>"bold"</span>,</span>
<span>                            hjust <span class='op'>=</span> <span class='fl'>0</span>, vjust <span class='op'>=</span> <span class='fl'>0</span>, lineheight <span class='op'>=</span> <span class='fl'>10</span><span class='op'>)</span>,</span>
<span>    <span class='co'># Legend </span></span>
<span>    legend.position <span class='op'>=</span> <span class='st'>"top"</span>,</span>
<span>    legend.title<span class='op'>=</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>,</span>
<span>    legend.text <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>color <span class='op'>=</span> <span class='st'>"grey40"</span>, size <span class='op'>=</span> <span class='fl'>18</span><span class='op'>)</span></span>
<span>    </span>
<span>  <span class='op'>)</span></span>
<span><span class='va'>repli</span></span></code></pre>
</div>
<p><img src="100462872_files/figure-html5/unnamed-chunk-12-1.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
<p>Also, set the theme settings for the background, the grid and the legend (more
general aesthetics):</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>repli</span> <span class='op'>&lt;-</span> <span class='va'>repli</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span></span>
<span>    <span class='co'># Panel and plot (spacing and grid)</span></span>
<span>    panel.spacing<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/grid/unit.html'>unit</a></span><span class='op'>(</span><span class='fl'>10</span>, <span class='st'>"pt"</span><span class='op'>)</span>,</span>
<span>    <span class='co'>#transparent panel and plot bg</span></span>
<span>    panel.background <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>fill<span class='op'>=</span><span class='st'>'transparent'</span>, color<span class='op'>=</span><span class='st'>"white"</span><span class='op'>)</span>, </span>
<span>    plot.background <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>fill<span class='op'>=</span><span class='st'>'transparent'</span>, color<span class='op'>=</span><span class='st'>"white"</span><span class='op'>)</span>,</span>
<span>    panel.grid.major <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>, <span class='co'>#remove major gridlines</span></span>
<span>    panel.grid.minor <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>, <span class='co'>#remove minor gridlines</span></span>
<span>    <span class='co'># Legend</span></span>
<span>    legend.background <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>color<span class='op'>=</span><span class='st'>"white"</span><span class='op'>)</span>, <span class='co'># white legend bg</span></span>
<span>    legend.box.background <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>color<span class='op'>=</span><span class='st'>"white"</span><span class='op'>)</span>,<span class='co'>#no legend panel</span></span>
<span>    legend.key.width <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/unit.html'>unit</a></span><span class='op'>(</span><span class='fl'>48</span>, <span class='st'>'pt'</span><span class='op'>)</span>,</span>
<span>    legend.key.height <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/unit.html'>unit</a></span><span class='op'>(</span><span class='fl'>12</span>, <span class='st'>'pt'</span><span class='op'>)</span>,</span>
<span>    legend.margin <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>margin</a></span><span class='op'>(</span><span class='fl'>5</span>, <span class='fl'>0</span>, <span class='fl'>0</span>, <span class='fl'>0</span><span class='op'>)</span></span>
<span>  <span class='op'>)</span></span>
<span><span class='va'>repli</span></span></code></pre>
</div>
<p><img src="100462872_files/figure-html5/unnamed-chunk-13-1.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
<h3 id="annotation">Annotation</h3>
<p>The annotation of the values inside the matrix is applied using <code>geom_text()</code>.
When the values are above or equal to 40(%) the font is in white and in bold,
when they are below, they are in black and in plain text. Color selection is
created with an individual scale. Bold/plain font is applied by an <code>ifelse</code>
condition.</p>
<div class="layout-chunk" data-layout="l-body-outset">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>repli</span> <span class='op'>&lt;-</span> <span class='va'>repli</span><span class='op'>+</span></span>
<span>  <span class='co'># Face, size, family and justification of text</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>color <span class='op'>=</span> <span class='va'>value</span> <span class='op'>&gt;=</span> <span class='fl'>40</span><span class='op'>)</span>, family<span class='op'>=</span> <span class='st'>"Libre Franklin"</span>,</span>
<span>            fontface<span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/ifelse.html'>ifelse</a></span><span class='op'>(</span><span class='va'>repl</span><span class='op'>$</span><span class='va'>data</span><span class='op'>$</span><span class='va'>value</span> <span class='op'>&lt;</span> <span class='fl'>40</span>, <span class='st'>"plain"</span>, <span class='st'>"bold"</span><span class='op'>)</span>,</span>
<span>            size <span class='op'>=</span> <span class='fl'>6</span>, vjust <span class='op'>=</span> <span class='st'>"center"</span>, hjust <span class='op'>=</span> <span class='st'>"center"</span>,</span>
<span>  <span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='co'># Color of the text</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_color_manual</a></span><span class='op'>(</span>guide <span class='op'>=</span> <span class='st'>"none"</span>, values <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"grey20"</span>, <span class='st'>"white"</span><span class='op'>)</span><span class='op'>)</span></span>
<span></span>
<span><span class='co'># Final version:</span></span>
<span><span class='va'>repli</span></span></code></pre>
</div>
<p><img src="100462872_files/figure-html5/final-1.png" width="100%" data-distill-preview=1 style="display: block; margin: auto;" /></p>
</div>
<p>And this is the version with no Google Fonts (fonts more similar to the
original plot, except for x and y axis text that has to be in a monospaced
font):</p>
<figure>
<img src="rep_no_google.png" style="width:100.0%" alt="Replication 2 with no Google fonts" /><figcaption aria-hidden="true">Replication 2 with no Google fonts</figcaption>
</figure>
<h2 id="alternative-version-parallel-coordinates">Alternative version: parallel coordinates</h2>
<p>Thinking about an alternative version of the original plot, we can say that, in
general terms, the graph is good. Some minor details could be implemented: some
colors of the color scale (legend) could have more extreme values to distinguish
them better. Also, the labels for the demographic main groups (age, gender,
income…) could be added. Optionally, the logos of the platforms could be
displayed above their names since we tend to recognize even faster the social
media app logos than their names.</p>
<p>Apart from this, the main disadvantage of the plot is the difficulty in visually
distinguishing the difference in the tendencies within demographic groups. To
solve that, we can use a parallel coordinates plot.</p>
<p>Once we have read the <code>clean_data.csv</code> file we generated in the replication plot,
we create, as before, new column names (these are slightly different from the
other plot in the case of age, for space reasons). Also, we adjust the
data frame for our parallel coordinate plot’s structure: we order according to
descending Total values, we create a column “key” from the demographic group
column names and another column “value” with their values, we filter the
data frame and we create a column for “group” (as before). Then, we pivot wider
the Platform column into individual columns.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>dataK</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/utils/read.table.html'>read.csv</a></span><span class='op'>(</span><span class='st'>"clean_data.csv"</span><span class='op'>)</span></span>
<span><span class='fu'><a href='https://rdrr.io/r/base/colnames.html'>colnames</a></span><span class='op'>(</span><span class='va'>dataK</span><span class='op'>)</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Platform"</span>, <span class='st'>"Total"</span>, <span class='st'>"Men"</span>, <span class='st'>"Women"</span>, <span class='st'>"White"</span>, <span class='st'>"Black"</span>,</span>
<span>                      <span class='st'>"Hispanic"</span>, <span class='st'>"18-29"</span>, <span class='st'>"30-49"</span>, <span class='st'>"50-64"</span>, <span class='st'>"65+"</span>, <span class='st'>"&lt;$30K"</span>,</span>
<span>                      <span class='st'>"$30K-49.9K"</span>, <span class='st'>"$50K-74.9K"</span>, <span class='st'>"$75K+"</span>, <span class='st'>"HS or less"</span>,</span>
<span>                      <span class='st'>"Some college"</span>, <span class='st'>"College+"</span>, <span class='st'>"Urban"</span>, <span class='st'>"Suburban"</span>, <span class='st'>"Rural"</span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>dataK</span> <span class='op'>&lt;-</span> <span class='va'>dataK</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> </span>
<span>  <span class='co'># Order by descending values of "Total"</span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/arrange.html'>arrange</a></span><span class='op'>(</span><span class='fu'><a href='https://dplyr.tidyverse.org/reference/desc.html'>desc</a></span><span class='op'>(</span><span class='va'>Total</span><span class='op'>)</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> </span>
<span>  <span class='co'># Create two columns: key (demo. subgroups) and value (percentages)</span></span>
<span>  <span class='fu'><a href='https://tidyr.tidyverse.org/reference/gather.html'>gather</a></span><span class='op'>(</span><span class='st'>"key"</span>, <span class='st'>"value"</span>, <span class='op'>-</span><span class='va'>Platform</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='co'># Filter</span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>key</span> <span class='op'><a href='https://rdrr.io/r/base/match.html'>%in%</a></span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Total"</span>, <span class='st'>"Men"</span>, <span class='st'>"Women"</span>, <span class='st'>"White"</span>, <span class='st'>"Black"</span>, <span class='st'>"Hispanic"</span>,</span>
<span>                    <span class='st'>"18-29"</span>, <span class='st'>"30-49"</span>, <span class='st'>"50-64"</span>, <span class='st'>"65+"</span>,<span class='st'>"&lt;$30K"</span>,</span>
<span>                    <span class='st'>"$30K-49.9K"</span>, <span class='st'>"$50K-74.9K"</span>, <span class='st'>"$75K+"</span>, <span class='st'>"HS or less"</span>,</span>
<span>                    <span class='st'>"Some college"</span>, <span class='st'>"College+"</span>, <span class='st'>"Urban"</span>, <span class='st'>"Suburban"</span>, <span class='st'>"Rural"</span><span class='op'>)</span></span>
<span>         <span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='co'># Create a "group" column</span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>group <span class='op'>=</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/case_when.html'>case_when</a></span><span class='op'>(</span></span>
<span>    <span class='va'>key</span> <span class='op'>==</span> <span class='st'>"Total"</span> <span class='op'>~</span> <span class='st'>"total"</span>,</span>
<span>    <span class='va'>key</span> <span class='op'><a href='https://rdrr.io/r/base/match.html'>%in%</a></span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Men"</span>, <span class='st'>"Women"</span><span class='op'>)</span> <span class='op'>~</span> <span class='st'>"gender"</span>,</span>
<span>    <span class='va'>key</span> <span class='op'><a href='https://rdrr.io/r/base/match.html'>%in%</a></span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"White"</span>, <span class='st'>"Black"</span>, <span class='st'>"Hispanic"</span><span class='op'>)</span> <span class='op'>~</span> <span class='st'>"race"</span>,</span>
<span>    <span class='va'>key</span> <span class='op'><a href='https://rdrr.io/r/base/match.html'>%in%</a></span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"18-29"</span>, <span class='st'>"30-49"</span>, <span class='st'>"50-64"</span>, <span class='st'>"65+"</span><span class='op'>)</span> <span class='op'>~</span> <span class='st'>"age"</span>,</span>
<span>    <span class='va'>key</span> <span class='op'><a href='https://rdrr.io/r/base/match.html'>%in%</a></span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"&lt;$30K"</span>,<span class='st'>"$30K-49.9K"</span>, <span class='st'>"$50K-74.9K"</span>, <span class='st'>"$75K+"</span><span class='op'>)</span> <span class='op'>~</span><span class='st'>"income"</span>,</span>
<span>    <span class='va'>key</span> <span class='op'><a href='https://rdrr.io/r/base/match.html'>%in%</a></span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"HS or less"</span>, <span class='st'>"Some college"</span>, <span class='st'>"College+"</span><span class='op'>)</span> <span class='op'>~</span> <span class='st'>"education"</span>,</span>
<span>    <span class='va'>key</span> <span class='op'><a href='https://rdrr.io/r/base/match.html'>%in%</a></span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Urban"</span>, <span class='st'>"Suburban"</span>, <span class='st'>"Rural"</span><span class='op'>)</span> <span class='op'>~</span> <span class='st'>"place"</span></span>
<span>  <span class='op'>)</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> </span>
<span>  <span class='co'># Pivot wider</span></span>
<span>  <span class='fu'><a href='https://tidyr.tidyverse.org/reference/pivot_wider.html'>pivot_wider</a></span><span class='op'>(</span>names_from <span class='op'>=</span> <span class='st'>"Platform"</span>,</span>
<span>              values_from <span class='op'>=</span> <span class='st'>"value"</span></span>
<span>              <span class='op'>)</span> </span></code></pre>
</div>
</div>
<h3 id="building-the-plots-ggparcoord">Building the plots: ggparcoord()</h3>
<p>The idea is to create individual parallel coordinate plots for each of the
demographic groups, using an individual color scale for each one (color-hue
scales). We will use <code>ggparcoord()</code> for this purpose.</p>
<p>We will need to discard the percentage values (geom_text()). Otherwise, we
wouldn’t be able to properly read them.</p>
<p>We will repeat almost the same process: filter data frame by the group,
building the ggplot (x axis the platforms, y axis the percentages) and
setting the line size. In some cases, we will need a reference vector to
order the variables in the legend.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://github.com/slowkow/ggrepel'>ggrepel</a></span><span class='op'>)</span></span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://ggobi.github.io/ggally/'>GGally</a></span><span class='op'>)</span></span></code></pre>
</div>
</div>
<h4 id="total">Total</h4>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>total</span> <span class='op'>&lt;-</span> <span class='va'>dataK</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='co'># Filter by group</span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>group</span> <span class='op'>==</span> <span class='st'>"total"</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> </span>
<span>  <span class='co'># Generating the plot</span></span>
<span>  <span class='fu'><a href='https://ggobi.github.io/ggally/reference/ggparcoord.html'>ggparcoord</a></span><span class='op'>(</span><span class='va'>dataK</span>,</span>
<span>             columns<span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>3</span><span class='op'>:</span><span class='fl'>13</span><span class='op'>)</span>, <span class='co'># Platforms</span></span>
<span>             groupColumn <span class='op'>=</span> <span class='st'>"key"</span>, <span class='co'># Demographic subgroups</span></span>
<span>             showPoints <span class='op'>=</span> <span class='cn'>TRUE</span>,</span>
<span>             order<span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>2</span><span class='op'>:</span><span class='fl'>21</span><span class='op'>)</span>,</span>
<span>             scale<span class='op'>=</span> <span class='st'>"globalminmax"</span>,</span>
<span>             title<span class='op'>=</span> <span class='st'>"Total"</span></span>
<span>  <span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='co'># Line thickness</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_path.html'>geom_line</a></span><span class='op'>(</span>size<span class='op'>=</span> <span class='fl'>1.2</span><span class='op'>)</span></span>
<span><span class='va'>total</span></span></code></pre>
</div>
<p><img src="100462872_files/figure-html5/unnamed-chunk-16-1.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
<h4 id="gender">Gender</h4>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>gender</span> <span class='op'>&lt;-</span> <span class='va'>dataK</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='co'># Filter by group</span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>group</span> <span class='op'>==</span> <span class='st'>"gender"</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> </span>
<span>  <span class='co'># Generating the plot</span></span>
<span>  <span class='fu'><a href='https://ggobi.github.io/ggally/reference/ggparcoord.html'>ggparcoord</a></span><span class='op'>(</span><span class='va'>dataK</span>,</span>
<span>             columns<span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>3</span><span class='op'>:</span><span class='fl'>13</span><span class='op'>)</span>, <span class='co'># Platforms</span></span>
<span>             groupColumn <span class='op'>=</span> <span class='st'>"key"</span>, <span class='co'># Demographic subgroups</span></span>
<span>             showPoints <span class='op'>=</span> <span class='cn'>TRUE</span>,</span>
<span>             order<span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>2</span><span class='op'>:</span><span class='fl'>21</span><span class='op'>)</span>,</span>
<span>             title<span class='op'>=</span> <span class='st'>"Gender"</span>,</span>
<span>             scale<span class='op'>=</span> <span class='st'>"globalminmax"</span>,</span>
<span>             alphaLines <span class='op'>=</span> <span class='fl'>0.7</span></span>
<span>  <span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='co'># Line thickness</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_path.html'>geom_line</a></span><span class='op'>(</span>size<span class='op'>=</span> <span class='fl'>1.2</span><span class='op'>)</span></span>
<span><span class='va'>gender</span></span></code></pre>
</div>
<p><img src="100462872_files/figure-html5/unnamed-chunk-17-1.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
<h4 id="raceethnicity">Race/Ethnicity</h4>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>race</span> <span class='op'>&lt;-</span> <span class='va'>dataK</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>group</span> <span class='op'>==</span> <span class='st'>"race"</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> </span>
<span>  <span class='fu'><a href='https://ggobi.github.io/ggally/reference/ggparcoord.html'>ggparcoord</a></span><span class='op'>(</span><span class='va'>dataK</span>,</span>
<span>             columns<span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>3</span><span class='op'>:</span><span class='fl'>13</span><span class='op'>)</span>,</span>
<span>             groupColumn <span class='op'>=</span> <span class='st'>"key"</span>,</span>
<span>             showPoints <span class='op'>=</span> <span class='cn'>TRUE</span>,</span>
<span>             order<span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>2</span><span class='op'>:</span><span class='fl'>21</span><span class='op'>)</span>,</span>
<span>             title<span class='op'>=</span> <span class='st'>"Race"</span>,</span>
<span>             scale<span class='op'>=</span> <span class='st'>"globalminmax"</span>,</span>
<span>             alphaLines <span class='op'>=</span> <span class='fl'>0.7</span>,</span>
<span>  <span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_path.html'>geom_line</a></span><span class='op'>(</span>size<span class='op'>=</span><span class='fl'>1</span><span class='op'>)</span></span>
<span><span class='va'>race</span></span></code></pre>
</div>
<p><img src="100462872_files/figure-html5/unnamed-chunk-18-1.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
<h4 id="age">Age</h4>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>age</span> <span class='op'>&lt;-</span> <span class='va'>dataK</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>group</span> <span class='op'>==</span> <span class='st'>"age"</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> <span class='co'># Filtering by age</span></span>
<span>  <span class='fu'><a href='https://ggobi.github.io/ggally/reference/ggparcoord.html'>ggparcoord</a></span><span class='op'>(</span><span class='va'>dataK</span>,</span>
<span>             columns<span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>3</span><span class='op'>:</span><span class='fl'>13</span><span class='op'>)</span>,</span>
<span>             groupColumn <span class='op'>=</span> <span class='st'>"key"</span>,</span>
<span>             showPoints <span class='op'>=</span> <span class='cn'>TRUE</span>,</span>
<span>             order<span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>2</span><span class='op'>:</span><span class='fl'>21</span><span class='op'>)</span>,</span>
<span>             title<span class='op'>=</span> <span class='st'>"Age"</span>,</span>
<span>             scale<span class='op'>=</span> <span class='st'>"globalminmax"</span>,</span>
<span>             alphaLines <span class='op'>=</span> <span class='fl'>0.7</span></span>
<span>  <span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_path.html'>geom_line</a></span><span class='op'>(</span>size<span class='op'>=</span><span class='fl'>1</span><span class='op'>)</span></span>
<span><span class='va'>age</span></span></code></pre>
</div>
<p><img src="100462872_files/figure-html5/unnamed-chunk-19-1.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
<h4 id="income">Income</h4>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>order_inc</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"&lt;$30K"</span>, <span class='st'>"$30K-49.9K"</span>, <span class='st'>"$50K-74.9K"</span>, <span class='st'>"$75K+"</span><span class='op'>)</span></span>
<span><span class='va'>income</span> <span class='op'>&lt;-</span> <span class='va'>dataK</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>group</span> <span class='op'>==</span> <span class='st'>"income"</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> <span class='co'># Filtering by income category</span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>key <span class='op'>=</span> <span class='fu'><a href='https://forcats.tidyverse.org/reference/fct_relevel.html'>fct_relevel</a></span> <span class='op'>(</span><span class='va'>key</span>, levels <span class='op'>=</span> <span class='va'>order_inc</span><span class='op'>)</span><span class='op'>)</span> <span class='co'># Ordering income subgroups</span></span>
<span></span>
<span><span class='va'>income</span> <span class='op'>&lt;-</span> <span class='va'>dataK</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>group</span> <span class='op'>==</span> <span class='st'>"income"</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> </span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>key <span class='op'>=</span> <span class='fu'><a href='https://forcats.tidyverse.org/reference/fct_relevel.html'>fct_relevel</a></span> <span class='op'>(</span><span class='va'>key</span>, levels <span class='op'>=</span> <span class='va'>order_inc</span><span class='op'>)</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> </span>
<span>  <span class='fu'><a href='https://ggobi.github.io/ggally/reference/ggparcoord.html'>ggparcoord</a></span><span class='op'>(</span><span class='va'>dataK</span>,</span>
<span>             columns<span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>3</span><span class='op'>:</span><span class='fl'>13</span><span class='op'>)</span>,</span>
<span>             groupColumn <span class='op'>=</span> <span class='st'>"key"</span>,</span>
<span>             showPoints <span class='op'>=</span> <span class='cn'>TRUE</span>,</span>
<span>             order<span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>2</span><span class='op'>:</span><span class='fl'>21</span><span class='op'>)</span>,</span>
<span>             title<span class='op'>=</span> <span class='st'>"Income"</span>,</span>
<span>             scale<span class='op'>=</span> <span class='st'>"globalminmax"</span>,</span>
<span>             alphaLines <span class='op'>=</span> <span class='fl'>0.7</span>,</span>
<span>  <span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_path.html'>geom_line</a></span><span class='op'>(</span>size<span class='op'>=</span><span class='fl'>1</span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>income</span></span></code></pre>
</div>
<p><img src="100462872_files/figure-html5/unnamed-chunk-20-1.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
<h4 id="education">Education</h4>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>order_educ</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"HS or less"</span>, <span class='st'>"Some college"</span>, <span class='st'>"College+"</span><span class='op'>)</span> <span class='co'># Ordered levels vector</span></span>
<span><span class='va'>education</span> <span class='op'>&lt;-</span> <span class='va'>dataK</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>group</span> <span class='op'>==</span> <span class='st'>"education"</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> <span class='co'># Filtering education categories </span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>key <span class='op'>=</span> <span class='fu'><a href='https://forcats.tidyverse.org/reference/fct_relevel.html'>fct_relevel</a></span> <span class='op'>(</span><span class='va'>key</span>, levels <span class='op'>=</span> <span class='va'>order_educ</span><span class='op'>)</span><span class='op'>)</span>  </span>
<span>  </span>
<span><span class='va'>education</span> <span class='op'>&lt;-</span> <span class='va'>education</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> </span>
<span>  <span class='fu'><a href='https://ggobi.github.io/ggally/reference/ggparcoord.html'>ggparcoord</a></span><span class='op'>(</span><span class='va'>dataK</span>,</span>
<span>             columns<span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>3</span><span class='op'>:</span><span class='fl'>13</span><span class='op'>)</span>,</span>
<span>             groupColumn <span class='op'>=</span> <span class='st'>"key"</span>,</span>
<span>             showPoints <span class='op'>=</span> <span class='cn'>TRUE</span>,</span>
<span>             order<span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>2</span><span class='op'>:</span><span class='fl'>21</span><span class='op'>)</span>,</span>
<span>             title<span class='op'>=</span> <span class='st'>"Education"</span>,</span>
<span>             scale<span class='op'>=</span> <span class='st'>"globalminmax"</span>,</span>
<span>             alphaLines <span class='op'>=</span> <span class='fl'>0.7</span>,</span>
<span>  <span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_path.html'>geom_line</a></span><span class='op'>(</span>size<span class='op'>=</span><span class='fl'>1</span><span class='op'>)</span></span>
<span><span class='va'>education</span></span></code></pre>
</div>
<p><img src="100462872_files/figure-html5/unnamed-chunk-21-1.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
<h4 id="place">Place</h4>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>place</span> <span class='op'>&lt;-</span> <span class='va'>dataK</span><span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>group</span> <span class='op'>==</span> <span class='st'>"place"</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> </span>
<span>  <span class='fu'><a href='https://ggobi.github.io/ggally/reference/ggparcoord.html'>ggparcoord</a></span><span class='op'>(</span><span class='va'>dataK</span>,</span>
<span>             columns<span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>3</span><span class='op'>:</span><span class='fl'>13</span><span class='op'>)</span>,</span>
<span>             groupColumn <span class='op'>=</span> <span class='st'>"key"</span>,</span>
<span>             showPoints <span class='op'>=</span> <span class='cn'>TRUE</span>,</span>
<span>             order<span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>2</span><span class='op'>:</span><span class='fl'>21</span><span class='op'>)</span>,</span>
<span>             title<span class='op'>=</span> <span class='st'>"Place"</span>,</span>
<span>             scale<span class='op'>=</span> <span class='st'>"globalminmax"</span>,</span>
<span>             alphaLines <span class='op'>=</span> <span class='fl'>0.7</span>,</span>
<span>  <span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_path.html'>geom_line</a></span><span class='op'>(</span>size<span class='op'>=</span><span class='fl'>1</span><span class='op'>)</span></span>
<span><span class='va'>place</span></span></code></pre>
</div>
<p><img src="100462872_files/figure-html5/unnamed-chunk-22-1.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
<h3 id="color-scales-and-theme">Color scales and theme</h3>
<p>At the beginning I tried to use mostly hue-colors palettes with
<code>scale_color_discrete_sequential()</code>. However, in some cases I had to use
<code>scale_color_manual()</code> to select the colors and correct the low color value
(too bright).</p>
<p>In relation to the theme, initially, I tried to give more emphasis to the 40%
value (as in the original plot). However, as pointed by the teacher,
introducing a horizontal line could give the feeling of a timeline. Therefore,
I tried to keep the horizontal lines as subtle as possible (but still visible
for the easily reader to read the percentages) while giving emphasis to the
vertical lines (grid).</p>
<h4 id="total-1">Total</h4>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'># Grid annotations (horizontal, x axis)</span></span>
<span><span class='va'>total</span> <span class='op'>&lt;-</span> <span class='va'>total</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_path.html'>geom_line</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>y <span class='op'>=</span> <span class='fl'>40</span><span class='op'>)</span>, color <span class='op'>=</span> <span class='st'>"grey50"</span>, linetype <span class='op'>=</span> <span class='st'>"dotted"</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_path.html'>geom_line</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>y <span class='op'>=</span> <span class='fl'>20</span><span class='op'>)</span>, color <span class='op'>=</span> <span class='st'>"grey80"</span>, linetype <span class='op'>=</span> <span class='st'>"dotted"</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_path.html'>geom_line</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>y <span class='op'>=</span> <span class='fl'>60</span><span class='op'>)</span>, color <span class='op'>=</span> <span class='st'>"grey80"</span>, linetype <span class='op'>=</span> <span class='st'>"dotted"</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_path.html'>geom_line</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>y <span class='op'>=</span> <span class='fl'>80</span><span class='op'>)</span>, color <span class='op'>=</span> <span class='st'>"grey80"</span>, linetype <span class='op'>=</span> <span class='st'>"dotted"</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_path.html'>geom_line</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>y <span class='op'>=</span> <span class='fl'>100</span><span class='op'>)</span>, color <span class='op'>=</span> <span class='st'>"grey80"</span>, linetype <span class='op'>=</span> <span class='st'>"dotted"</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_path.html'>geom_line</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>y <span class='op'>=</span> <span class='fl'>0</span><span class='op'>)</span>, color <span class='op'>=</span> <span class='st'>"grey80"</span>, linetype <span class='op'>=</span> <span class='st'>"dotted"</span><span class='op'>)</span></span>
<span></span>
<span></span>
<span><span class='va'>total</span> <span class='op'>&lt;-</span> <span class='va'>total</span> <span class='op'>+</span></span>
<span>  <span class='co'># Scales</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_colour_manual</a></span><span class='op'>(</span>values <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Total"</span><span class='op'>=</span> <span class='st'>"grey30"</span><span class='op'>)</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_continuous.html'>scale_y_continuous</a></span><span class='op'>(</span></span>
<span>    name <span class='op'>=</span> <span class='cn'>NULL</span>,</span>
<span>    limits<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>101</span><span class='op'>)</span>,</span>
<span>    breaks <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>20</span>, <span class='fl'>40</span>, <span class='fl'>60</span>, <span class='fl'>80</span>, <span class='fl'>100</span><span class='op'>)</span>,</span>
<span>    labels <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"0"</span>, <span class='st'>"20"</span>, <span class='st'>"40"</span>, <span class='st'>"60"</span>, <span class='st'>"80"</span>, <span class='st'>"100%"</span><span class='op'>)</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>x<span class='op'>=</span><span class='cn'>NULL</span>, y <span class='op'>=</span> <span class='cn'>NULL</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='co'>#Theme</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span></span>
<span>    plot.title <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>size<span class='op'>=</span><span class='fl'>15</span>, hjust <span class='op'>=</span> <span class='fl'>0.5</span>, family<span class='op'>=</span><span class='st'>"Libre Franklin"</span>,</span>
<span>                              face<span class='op'>=</span> <span class='st'>"bold"</span>, color<span class='op'>=</span> <span class='st'>"black"</span><span class='op'>)</span>,</span>
<span>    plot.title.position <span class='op'>=</span> <span class='st'>"panel"</span>,</span>
<span>    axis.ticks.length.x <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/unit.html'>unit</a></span><span class='op'>(</span><span class='fl'>2</span>, <span class='st'>"pt"</span><span class='op'>)</span>,</span>
<span>    legend.position <span class='op'>=</span> <span class='st'>"top"</span>,</span>
<span>    legend.box <span class='op'>=</span> <span class='st'>"horizontal"</span>,</span>
<span>    legend.title<span class='op'>=</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>,</span>
<span>    legend.text <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>color <span class='op'>=</span> <span class='st'>"grey30"</span>,family<span class='op'>=</span><span class='st'>"Libre Franklin"</span>,</span>
<span>                               face<span class='op'>=</span> <span class='st'>"plain"</span>, size <span class='op'>=</span> <span class='fl'>11</span><span class='op'>)</span>,</span>
<span>    panel.spacing <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/unit.html'>unit</a></span><span class='op'>(</span><span class='fl'>0.5</span>, <span class='st'>"lines"</span><span class='op'>)</span>,</span>
<span>    panel.border <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>colour <span class='op'>=</span> <span class='st'>"white"</span>, fill<span class='op'>=</span><span class='cn'>NA</span>, size<span class='op'>=</span><span class='fl'>1</span><span class='op'>)</span>,</span>
<span>    <span class='co'># Emphasis to the vertical lines</span></span>
<span>    axis.ticks.x.bottom <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_line</a></span><span class='op'>(</span>color <span class='op'>=</span> <span class='st'>"black"</span><span class='op'>)</span>,</span>
<span>    panel.grid.major.x <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_line</a></span><span class='op'>(</span>colour <span class='op'>=</span> <span class='st'>"black"</span>, linetype <span class='op'>=</span> <span class='st'>"solid"</span><span class='op'>)</span>,</span>
<span>    panel.grid.minor.x <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_line</a></span><span class='op'>(</span>colour <span class='op'>=</span> <span class='st'>"black"</span>, linetype <span class='op'>=</span> <span class='st'>"solid"</span><span class='op'>)</span>,</span>
<span>    panel.background <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>"transparent"</span><span class='op'>)</span>,</span>
<span>    <span class='co'># X and Y axis</span></span>
<span>    axis.text.y <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>color <span class='op'>=</span> <span class='st'>"grey30"</span>, family<span class='op'>=</span><span class='st'>"Libre Franklin"</span>,</span>
<span>                               face<span class='op'>=</span> <span class='st'>"plain"</span>, size <span class='op'>=</span> <span class='fl'>10</span><span class='op'>)</span>,</span>
<span>    axis.text.x <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>color<span class='op'>=</span><span class='st'>"grey30"</span>, family<span class='op'>=</span><span class='st'>"Libre Franklin"</span>,</span>
<span>                               face<span class='op'>=</span> <span class='st'>"plain"</span>, size<span class='op'>=</span> <span class='fl'>12</span>, angle<span class='op'>=</span> <span class='fl'>45</span>, hjust<span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span>,</span>
<span>    axis.ticks.length <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/unit.html'>unit</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='st'>"pt"</span><span class='op'>)</span>,</span>
<span>    axis.ticks.length.x.bottom <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/unit.html'>unit</a></span><span class='op'>(</span><span class='fl'>5</span>, <span class='st'>"pt"</span><span class='op'>)</span>,</span>
<span>    <span class='co'># legend</span></span>
<span>    legend.box.background <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>fill <span class='op'>=</span>  <span class='st'>"white"</span><span class='op'>)</span></span>
<span>  <span class='op'>)</span> </span>
<span><span class='va'>total</span></span></code></pre>
</div>
<p><img src="100462872_files/figure-html5/unnamed-chunk-23-1.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
<h4 id="gender-1">Gender</h4>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>gender</span> <span class='op'>&lt;-</span> <span class='va'>gender</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_path.html'>geom_line</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>y <span class='op'>=</span> <span class='fl'>40</span><span class='op'>)</span>, color <span class='op'>=</span> <span class='st'>"grey50"</span>, linetype <span class='op'>=</span> <span class='st'>"dotted"</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_path.html'>geom_line</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>y <span class='op'>=</span> <span class='fl'>20</span><span class='op'>)</span>, color <span class='op'>=</span> <span class='st'>"grey80"</span>, linetype <span class='op'>=</span> <span class='st'>"dotted"</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_path.html'>geom_line</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>y <span class='op'>=</span> <span class='fl'>60</span><span class='op'>)</span>, color <span class='op'>=</span> <span class='st'>"grey80"</span>, linetype <span class='op'>=</span> <span class='st'>"dotted"</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_path.html'>geom_line</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>y <span class='op'>=</span> <span class='fl'>80</span><span class='op'>)</span>, color <span class='op'>=</span> <span class='st'>"grey80"</span>, linetype <span class='op'>=</span> <span class='st'>"dotted"</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_path.html'>geom_line</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>y <span class='op'>=</span> <span class='fl'>100</span><span class='op'>)</span>, color <span class='op'>=</span> <span class='st'>"grey80"</span>, linetype <span class='op'>=</span> <span class='st'>"dotted"</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_path.html'>geom_line</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>y <span class='op'>=</span> <span class='fl'>0</span><span class='op'>)</span>, color <span class='op'>=</span> <span class='st'>"grey80"</span>, linetype <span class='op'>=</span> <span class='st'>"dotted"</span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>gender</span> <span class='op'>&lt;-</span> <span class='va'>gender</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_colour_manual</a></span><span class='op'>(</span>values <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Women"</span><span class='op'>=</span> <span class='st'>"#8ab4df"</span>, <span class='st'>"Men"</span><span class='op'>=</span> <span class='st'>"#286c9c"</span><span class='op'>)</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_continuous.html'>scale_y_continuous</a></span><span class='op'>(</span></span>
<span>    name <span class='op'>=</span> <span class='cn'>NULL</span>,</span>
<span>    limits<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>101</span><span class='op'>)</span>,</span>
<span>    breaks <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>20</span>, <span class='fl'>40</span>, <span class='fl'>60</span>, <span class='fl'>80</span>, <span class='fl'>100</span><span class='op'>)</span>,</span>
<span>    labels <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"0"</span>, <span class='st'>"20"</span>, <span class='st'>"40"</span>, <span class='st'>"60"</span>, <span class='st'>"80"</span>, <span class='st'>"100%"</span><span class='op'>)</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>x<span class='op'>=</span><span class='cn'>NULL</span>, y <span class='op'>=</span> <span class='cn'>NULL</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span></span>
<span>    plot.title <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>size<span class='op'>=</span><span class='fl'>15</span>, hjust <span class='op'>=</span> <span class='fl'>0.5</span>, family<span class='op'>=</span><span class='st'>"Libre Franklin"</span>,</span>
<span>                              face<span class='op'>=</span> <span class='st'>"bold"</span>, color<span class='op'>=</span> <span class='st'>"black"</span><span class='op'>)</span>,</span>
<span>    plot.title.position <span class='op'>=</span> <span class='st'>"panel"</span>,</span>
<span>    axis.ticks.length.x <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/unit.html'>unit</a></span><span class='op'>(</span><span class='fl'>2</span>, <span class='st'>"pt"</span><span class='op'>)</span>,</span>
<span>    legend.position <span class='op'>=</span> <span class='st'>"top"</span>,</span>
<span>    legend.box <span class='op'>=</span> <span class='st'>"horizontal"</span>,</span>
<span>    legend.title<span class='op'>=</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>,</span>
<span>    legend.text <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>color <span class='op'>=</span> <span class='st'>"grey30"</span>,family<span class='op'>=</span><span class='st'>"Libre Franklin"</span>,</span>
<span>                               face<span class='op'>=</span> <span class='st'>"plain"</span>, size <span class='op'>=</span> <span class='fl'>11</span><span class='op'>)</span>,</span>
<span>    panel.spacing <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/unit.html'>unit</a></span><span class='op'>(</span><span class='fl'>0.5</span>, <span class='st'>"lines"</span><span class='op'>)</span>,</span>
<span>    panel.border <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>colour <span class='op'>=</span> <span class='st'>"white"</span>, fill<span class='op'>=</span><span class='cn'>NA</span>, size<span class='op'>=</span><span class='fl'>1</span><span class='op'>)</span>,</span>
<span>    axis.ticks.x.bottom <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_line</a></span><span class='op'>(</span>color <span class='op'>=</span> <span class='st'>"black"</span><span class='op'>)</span>,</span>
<span>    panel.grid.major.x <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_line</a></span><span class='op'>(</span>colour <span class='op'>=</span> <span class='st'>"black"</span>, linetype <span class='op'>=</span> <span class='st'>"solid"</span><span class='op'>)</span>,</span>
<span>    panel.grid.minor.x <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_line</a></span><span class='op'>(</span>colour <span class='op'>=</span> <span class='st'>"black"</span>, linetype <span class='op'>=</span> <span class='st'>"solid"</span><span class='op'>)</span>,</span>
<span>    panel.background <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>"transparent"</span><span class='op'>)</span>,</span>
<span>    axis.text.y <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>color <span class='op'>=</span> <span class='st'>"grey30"</span>, family<span class='op'>=</span><span class='st'>"Libre Franklin"</span>,</span>
<span>                               face<span class='op'>=</span> <span class='st'>"plain"</span>, size <span class='op'>=</span> <span class='fl'>10</span><span class='op'>)</span>,</span>
<span>    axis.text.x <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>color<span class='op'>=</span><span class='st'>"grey30"</span>, family<span class='op'>=</span><span class='st'>"Libre Franklin"</span>,</span>
<span>                               face<span class='op'>=</span> <span class='st'>"plain"</span>, size<span class='op'>=</span> <span class='fl'>12</span>, angle<span class='op'>=</span> <span class='fl'>45</span>, hjust<span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span>,</span>
<span>    axis.ticks.length <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/unit.html'>unit</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='st'>"pt"</span><span class='op'>)</span>,</span>
<span>    axis.ticks.length.x.bottom <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/unit.html'>unit</a></span><span class='op'>(</span><span class='fl'>5</span>, <span class='st'>"pt"</span><span class='op'>)</span>,</span>
<span>    legend.box.background <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>fill <span class='op'>=</span>  <span class='st'>"white"</span><span class='op'>)</span></span>
<span>  <span class='op'>)</span> </span>
<span><span class='va'>gender</span></span></code></pre>
</div>
<p><img src="100462872_files/figure-html5/unnamed-chunk-24-1.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
<h4 id="the-rest-of-demographic-groups">The rest of demographic groups</h4>
<p>Apply the same theme and color scale style to the rest of socioeconomic
categories:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://colorspace.R-Forge.R-project.org/'>colorspace</a></span><span class='op'>)</span></span></code></pre>
</div>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'>#RACE</span></span>
<span></span>
<span><span class='va'>race</span> <span class='op'>&lt;-</span> <span class='va'>race</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_path.html'>geom_line</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>y <span class='op'>=</span> <span class='fl'>40</span><span class='op'>)</span>, color <span class='op'>=</span> <span class='st'>"grey50"</span>, linetype <span class='op'>=</span> <span class='st'>"dotted"</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_path.html'>geom_line</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>y <span class='op'>=</span> <span class='fl'>20</span><span class='op'>)</span>, color <span class='op'>=</span> <span class='st'>"grey80"</span>, linetype <span class='op'>=</span> <span class='st'>"dotted"</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_path.html'>geom_line</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>y <span class='op'>=</span> <span class='fl'>60</span><span class='op'>)</span>, color <span class='op'>=</span> <span class='st'>"grey80"</span>, linetype <span class='op'>=</span> <span class='st'>"dotted"</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_path.html'>geom_line</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>y <span class='op'>=</span> <span class='fl'>80</span><span class='op'>)</span>, color <span class='op'>=</span> <span class='st'>"grey80"</span>, linetype <span class='op'>=</span> <span class='st'>"dotted"</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_path.html'>geom_line</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>y <span class='op'>=</span> <span class='fl'>100</span><span class='op'>)</span>, color <span class='op'>=</span> <span class='st'>"grey80"</span>, linetype <span class='op'>=</span> <span class='st'>"dotted"</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_path.html'>geom_line</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>y <span class='op'>=</span> <span class='fl'>0</span><span class='op'>)</span>, color <span class='op'>=</span> <span class='st'>"grey80"</span>, linetype <span class='op'>=</span> <span class='st'>"dotted"</span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>race</span> <span class='op'>&lt;-</span> <span class='va'>race</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_color_manual</a></span><span class='op'>(</span>values <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Black"</span><span class='op'>=</span> <span class='st'>"#a2d0a8"</span>, <span class='st'>"Hispanic"</span> <span class='op'>=</span> <span class='st'>"#62a086"</span>,</span>
<span>                                <span class='st'>"White"</span><span class='op'>=</span> <span class='st'>"#294e5e"</span><span class='op'>)</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_continuous.html'>scale_y_continuous</a></span><span class='op'>(</span></span>
<span>    name <span class='op'>=</span> <span class='cn'>NULL</span>,</span>
<span>    limits<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>101</span><span class='op'>)</span>,</span>
<span>    breaks <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>20</span>, <span class='fl'>40</span>, <span class='fl'>60</span>, <span class='fl'>80</span>, <span class='fl'>100</span><span class='op'>)</span>,</span>
<span>    labels <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"0"</span>, <span class='st'>"20"</span>, <span class='st'>"40"</span>, <span class='st'>"60"</span>, <span class='st'>"80"</span>, <span class='st'>"100%"</span><span class='op'>)</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>x<span class='op'>=</span><span class='cn'>NULL</span>, y <span class='op'>=</span> <span class='cn'>NULL</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span></span>
<span>    plot.title <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>size<span class='op'>=</span><span class='fl'>15</span>, hjust <span class='op'>=</span> <span class='fl'>0.5</span>, family<span class='op'>=</span><span class='st'>"Libre Franklin"</span>,</span>
<span>                              face<span class='op'>=</span> <span class='st'>"bold"</span>, color<span class='op'>=</span> <span class='st'>"black"</span><span class='op'>)</span>,</span>
<span>    plot.title.position <span class='op'>=</span> <span class='st'>"panel"</span>,</span>
<span>    axis.ticks.length.x <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/unit.html'>unit</a></span><span class='op'>(</span><span class='fl'>2</span>, <span class='st'>"pt"</span><span class='op'>)</span>,</span>
<span>    legend.position <span class='op'>=</span> <span class='st'>"top"</span>,</span>
<span>    legend.box <span class='op'>=</span> <span class='st'>"horizontal"</span>,</span>
<span>    legend.title<span class='op'>=</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>,</span>
<span>    legend.text <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>color <span class='op'>=</span> <span class='st'>"grey30"</span>,family<span class='op'>=</span><span class='st'>"Libre Franklin"</span>,</span>
<span>                               face<span class='op'>=</span> <span class='st'>"plain"</span>, size <span class='op'>=</span> <span class='fl'>11</span><span class='op'>)</span>,</span>
<span>    panel.spacing <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/unit.html'>unit</a></span><span class='op'>(</span><span class='fl'>0.5</span>, <span class='st'>"lines"</span><span class='op'>)</span>,</span>
<span>    panel.border <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>colour <span class='op'>=</span> <span class='st'>"white"</span>, fill<span class='op'>=</span><span class='cn'>NA</span>, size<span class='op'>=</span><span class='fl'>1</span><span class='op'>)</span>,</span>
<span>    axis.ticks.x.bottom <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_line</a></span><span class='op'>(</span>color <span class='op'>=</span> <span class='st'>"black"</span><span class='op'>)</span>,</span>
<span>    panel.grid.major.x <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_line</a></span><span class='op'>(</span>colour <span class='op'>=</span> <span class='st'>"black"</span>, linetype <span class='op'>=</span> <span class='st'>"solid"</span><span class='op'>)</span>,</span>
<span>    panel.grid.minor.x <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_line</a></span><span class='op'>(</span>colour <span class='op'>=</span> <span class='st'>"black"</span>, linetype <span class='op'>=</span> <span class='st'>"solid"</span><span class='op'>)</span>,</span>
<span>    panel.background <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>"transparent"</span><span class='op'>)</span>,</span>
<span>    axis.text.y <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>color <span class='op'>=</span> <span class='st'>"grey30"</span>, family<span class='op'>=</span><span class='st'>"Libre Franklin"</span>,</span>
<span>                               face<span class='op'>=</span> <span class='st'>"plain"</span>, size <span class='op'>=</span> <span class='fl'>10</span><span class='op'>)</span>,</span>
<span>    axis.text.x <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>color<span class='op'>=</span><span class='st'>"grey30"</span>, family<span class='op'>=</span><span class='st'>"Libre Franklin"</span>,</span>
<span>                               face<span class='op'>=</span> <span class='st'>"plain"</span>, size<span class='op'>=</span> <span class='fl'>12</span>, angle<span class='op'>=</span> <span class='fl'>45</span>, hjust<span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span>,</span>
<span>    axis.ticks.length <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/unit.html'>unit</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='st'>"pt"</span><span class='op'>)</span>,</span>
<span>    axis.ticks.length.x.bottom <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/unit.html'>unit</a></span><span class='op'>(</span><span class='fl'>5</span>, <span class='st'>"pt"</span><span class='op'>)</span>,</span>
<span>    legend.box.background <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>fill <span class='op'>=</span>  <span class='st'>"white"</span><span class='op'>)</span></span>
<span>  <span class='op'>)</span> </span>
<span></span>
<span><span class='co'># AGE</span></span>
<span></span>
<span><span class='va'>age</span> <span class='op'>&lt;-</span> <span class='va'>age</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_path.html'>geom_line</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>y <span class='op'>=</span> <span class='fl'>40</span><span class='op'>)</span>, color <span class='op'>=</span> <span class='st'>"grey50"</span>, linetype <span class='op'>=</span> <span class='st'>"dotted"</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_path.html'>geom_line</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>y <span class='op'>=</span> <span class='fl'>20</span><span class='op'>)</span>, color <span class='op'>=</span> <span class='st'>"grey80"</span>, linetype <span class='op'>=</span> <span class='st'>"dotted"</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_path.html'>geom_line</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>y <span class='op'>=</span> <span class='fl'>60</span><span class='op'>)</span>, color <span class='op'>=</span> <span class='st'>"grey80"</span>, linetype <span class='op'>=</span> <span class='st'>"dotted"</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_path.html'>geom_line</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>y <span class='op'>=</span> <span class='fl'>80</span><span class='op'>)</span>, color <span class='op'>=</span> <span class='st'>"grey80"</span>, linetype <span class='op'>=</span> <span class='st'>"dotted"</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_path.html'>geom_line</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>y <span class='op'>=</span> <span class='fl'>100</span><span class='op'>)</span>, color <span class='op'>=</span> <span class='st'>"grey80"</span>, linetype <span class='op'>=</span> <span class='st'>"dotted"</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_path.html'>geom_line</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>y <span class='op'>=</span> <span class='fl'>0</span><span class='op'>)</span>, color <span class='op'>=</span> <span class='st'>"grey80"</span>, linetype <span class='op'>=</span> <span class='st'>"dotted"</span><span class='op'>)</span></span>
<span></span>
<span></span>
<span><span class='va'>age</span> <span class='op'>&lt;-</span> <span class='va'>age</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://colorspace.R-Forge.R-project.org/reference/scale_colour_discrete_sequential.html'>scale_color_discrete_sequential</a></span><span class='op'>(</span>palette<span class='op'>=</span> <span class='st'>"Red-Blue"</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_continuous.html'>scale_y_continuous</a></span><span class='op'>(</span></span>
<span>    name <span class='op'>=</span> <span class='cn'>NULL</span>,</span>
<span>    limits<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>101</span><span class='op'>)</span>,</span>
<span>    breaks <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>20</span>, <span class='fl'>40</span>, <span class='fl'>60</span>, <span class='fl'>80</span>, <span class='fl'>100</span><span class='op'>)</span>,</span>
<span>    labels <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"0"</span>, <span class='st'>"20"</span>, <span class='st'>"40"</span>, <span class='st'>"60"</span>, <span class='st'>"80"</span>, <span class='st'>"100%"</span><span class='op'>)</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>x<span class='op'>=</span><span class='cn'>NULL</span>, y <span class='op'>=</span> <span class='cn'>NULL</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span></span>
<span>    plot.title <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>size<span class='op'>=</span><span class='fl'>15</span>, hjust <span class='op'>=</span> <span class='fl'>0.5</span>, family<span class='op'>=</span><span class='st'>"Libre Franklin"</span>,</span>
<span>                              face<span class='op'>=</span> <span class='st'>"bold"</span>, color<span class='op'>=</span> <span class='st'>"black"</span><span class='op'>)</span>,</span>
<span>    plot.title.position <span class='op'>=</span> <span class='st'>"panel"</span>,</span>
<span>    axis.ticks.length.x <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/unit.html'>unit</a></span><span class='op'>(</span><span class='fl'>2</span>, <span class='st'>"pt"</span><span class='op'>)</span>,</span>
<span>    legend.position <span class='op'>=</span> <span class='st'>"top"</span>,</span>
<span>    legend.box <span class='op'>=</span> <span class='st'>"horizontal"</span>,</span>
<span>    legend.title<span class='op'>=</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>,</span>
<span>    legend.text <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>color <span class='op'>=</span> <span class='st'>"grey30"</span>,family<span class='op'>=</span><span class='st'>"Libre Franklin"</span>,</span>
<span>                               face<span class='op'>=</span> <span class='st'>"plain"</span>, size <span class='op'>=</span> <span class='fl'>11</span><span class='op'>)</span>,</span>
<span>    panel.spacing <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/unit.html'>unit</a></span><span class='op'>(</span><span class='fl'>0.5</span>, <span class='st'>"lines"</span><span class='op'>)</span>,</span>
<span>    panel.border <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>colour <span class='op'>=</span> <span class='st'>"white"</span>, fill<span class='op'>=</span><span class='cn'>NA</span>, size<span class='op'>=</span><span class='fl'>1</span><span class='op'>)</span>,</span>
<span>    axis.ticks.x.bottom <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_line</a></span><span class='op'>(</span>color <span class='op'>=</span> <span class='st'>"black"</span><span class='op'>)</span>,</span>
<span>    panel.grid.major.x <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_line</a></span><span class='op'>(</span>colour <span class='op'>=</span> <span class='st'>"black"</span>, linetype <span class='op'>=</span> <span class='st'>"solid"</span><span class='op'>)</span>,</span>
<span>    panel.grid.minor.x <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_line</a></span><span class='op'>(</span>colour <span class='op'>=</span> <span class='st'>"black"</span>, linetype <span class='op'>=</span> <span class='st'>"solid"</span><span class='op'>)</span>,</span>
<span>    panel.background <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>"transparent"</span><span class='op'>)</span>,</span>
<span>    axis.text.y <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>color <span class='op'>=</span> <span class='st'>"grey30"</span>, family<span class='op'>=</span><span class='st'>"Libre Franklin"</span>,</span>
<span>                               face<span class='op'>=</span> <span class='st'>"plain"</span>, size <span class='op'>=</span> <span class='fl'>10</span><span class='op'>)</span>,</span>
<span>    axis.text.x <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>color<span class='op'>=</span><span class='st'>"grey30"</span>, family<span class='op'>=</span><span class='st'>"Libre Franklin"</span>,</span>
<span>                               face<span class='op'>=</span> <span class='st'>"plain"</span>, size<span class='op'>=</span> <span class='fl'>12</span>, angle<span class='op'>=</span> <span class='fl'>45</span>, hjust<span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span>,</span>
<span>    axis.ticks.length <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/unit.html'>unit</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='st'>"pt"</span><span class='op'>)</span>,</span>
<span>    axis.ticks.length.x.bottom <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/unit.html'>unit</a></span><span class='op'>(</span><span class='fl'>5</span>, <span class='st'>"pt"</span><span class='op'>)</span>,</span>
<span>    legend.box.background <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>fill <span class='op'>=</span>  <span class='st'>"white"</span><span class='op'>)</span></span>
<span>  <span class='op'>)</span> </span>
<span></span>
<span><span class='co'># INCOME</span></span>
<span></span>
<span></span>
<span><span class='va'>income</span> <span class='op'>&lt;-</span> <span class='va'>income</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_path.html'>geom_line</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>y <span class='op'>=</span> <span class='fl'>40</span><span class='op'>)</span>, color <span class='op'>=</span> <span class='st'>"grey50"</span>, linetype <span class='op'>=</span> <span class='st'>"dotted"</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_path.html'>geom_line</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>y <span class='op'>=</span> <span class='fl'>20</span><span class='op'>)</span>, color <span class='op'>=</span> <span class='st'>"grey80"</span>, linetype <span class='op'>=</span> <span class='st'>"dotted"</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_path.html'>geom_line</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>y <span class='op'>=</span> <span class='fl'>60</span><span class='op'>)</span>, color <span class='op'>=</span> <span class='st'>"grey80"</span>, linetype <span class='op'>=</span> <span class='st'>"dotted"</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_path.html'>geom_line</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>y <span class='op'>=</span> <span class='fl'>80</span><span class='op'>)</span>, color <span class='op'>=</span> <span class='st'>"grey80"</span>, linetype <span class='op'>=</span> <span class='st'>"dotted"</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_path.html'>geom_line</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>y <span class='op'>=</span> <span class='fl'>100</span><span class='op'>)</span>, color <span class='op'>=</span> <span class='st'>"grey80"</span>, linetype <span class='op'>=</span> <span class='st'>"dotted"</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_path.html'>geom_line</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>y <span class='op'>=</span> <span class='fl'>0</span><span class='op'>)</span>, color <span class='op'>=</span> <span class='st'>"grey80"</span>, linetype <span class='op'>=</span> <span class='st'>"dotted"</span><span class='op'>)</span></span>
<span></span>
<span></span>
<span><span class='va'>income</span> <span class='op'>&lt;-</span> <span class='va'>income</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://colorspace.R-Forge.R-project.org/reference/scale_colour_discrete_sequential.html'>scale_color_discrete_sequential</a></span><span class='op'>(</span>palette<span class='op'>=</span> <span class='st'>"Burg"</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_continuous.html'>scale_y_continuous</a></span><span class='op'>(</span></span>
<span>    name <span class='op'>=</span> <span class='cn'>NULL</span>,</span>
<span>    limits<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>101</span><span class='op'>)</span>,</span>
<span>    breaks <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>20</span>, <span class='fl'>40</span>, <span class='fl'>60</span>, <span class='fl'>80</span>, <span class='fl'>100</span><span class='op'>)</span>,</span>
<span>    labels <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"0"</span>, <span class='st'>"20"</span>, <span class='st'>"40"</span>, <span class='st'>"60"</span>, <span class='st'>"80"</span>, <span class='st'>"100%"</span><span class='op'>)</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>x<span class='op'>=</span><span class='cn'>NULL</span>, y <span class='op'>=</span> <span class='cn'>NULL</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span></span>
<span>    plot.title <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>size<span class='op'>=</span><span class='fl'>15</span>, hjust <span class='op'>=</span> <span class='fl'>0.5</span>, family<span class='op'>=</span><span class='st'>"Libre Franklin"</span>,</span>
<span>                              face<span class='op'>=</span> <span class='st'>"bold"</span>, color<span class='op'>=</span> <span class='st'>"black"</span><span class='op'>)</span>,</span>
<span>    plot.title.position <span class='op'>=</span> <span class='st'>"panel"</span>,</span>
<span>    axis.ticks.length.x <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/unit.html'>unit</a></span><span class='op'>(</span><span class='fl'>2</span>, <span class='st'>"pt"</span><span class='op'>)</span>,</span>
<span>    legend.position <span class='op'>=</span> <span class='st'>"top"</span>,</span>
<span>    legend.box <span class='op'>=</span> <span class='st'>"horizontal"</span>,</span>
<span>    legend.title<span class='op'>=</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>,</span>
<span>    legend.text <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>color <span class='op'>=</span> <span class='st'>"grey30"</span>,family<span class='op'>=</span><span class='st'>"Libre Franklin"</span>,</span>
<span>                               face<span class='op'>=</span> <span class='st'>"plain"</span>, size <span class='op'>=</span> <span class='fl'>10</span><span class='op'>)</span>,</span>
<span>    legend.spacing.x <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/unit.html'>unit</a></span><span class='op'>(</span><span class='fl'>3</span>, <span class='st'>"pt"</span><span class='op'>)</span>,</span>
<span>    panel.spacing <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/unit.html'>unit</a></span><span class='op'>(</span><span class='fl'>0.5</span>, <span class='st'>"lines"</span><span class='op'>)</span>,</span>
<span>    panel.border <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>colour <span class='op'>=</span> <span class='st'>"white"</span>, fill<span class='op'>=</span><span class='cn'>NA</span>, size<span class='op'>=</span><span class='fl'>1</span><span class='op'>)</span>,</span>
<span>    axis.ticks.x.bottom <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_line</a></span><span class='op'>(</span>color <span class='op'>=</span> <span class='st'>"black"</span><span class='op'>)</span>,</span>
<span>    panel.grid.major.x <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_line</a></span><span class='op'>(</span>colour <span class='op'>=</span> <span class='st'>"black"</span>, linetype <span class='op'>=</span> <span class='st'>"solid"</span><span class='op'>)</span>,</span>
<span>    panel.grid.minor.x <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_line</a></span><span class='op'>(</span>colour <span class='op'>=</span> <span class='st'>"black"</span>, linetype <span class='op'>=</span> <span class='st'>"solid"</span><span class='op'>)</span>,</span>
<span>    panel.background <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>"transparent"</span><span class='op'>)</span>,</span>
<span>    axis.text.y <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>color <span class='op'>=</span> <span class='st'>"grey30"</span>, family<span class='op'>=</span><span class='st'>"Libre Franklin"</span>,</span>
<span>                               face<span class='op'>=</span> <span class='st'>"plain"</span>, size <span class='op'>=</span> <span class='fl'>10</span><span class='op'>)</span>,</span>
<span>    axis.text.x <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>color<span class='op'>=</span><span class='st'>"grey30"</span>, family<span class='op'>=</span><span class='st'>"Libre Franklin"</span>,</span>
<span>                               face<span class='op'>=</span> <span class='st'>"plain"</span>, size<span class='op'>=</span> <span class='fl'>12</span>, angle<span class='op'>=</span> <span class='fl'>45</span>, hjust<span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span>,</span>
<span>    axis.ticks.length <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/unit.html'>unit</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='st'>"pt"</span><span class='op'>)</span>,</span>
<span>    axis.ticks.length.x.bottom <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/unit.html'>unit</a></span><span class='op'>(</span><span class='fl'>5</span>, <span class='st'>"pt"</span><span class='op'>)</span>,</span>
<span>    legend.box.background <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>fill <span class='op'>=</span>  <span class='st'>"white"</span><span class='op'>)</span></span>
<span>  <span class='op'>)</span> </span>
<span></span>
<span></span>
<span><span class='co'># EDUCATION</span></span>
<span></span>
<span><span class='va'>education</span> <span class='op'>&lt;-</span> <span class='va'>education</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_path.html'>geom_line</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>y <span class='op'>=</span> <span class='fl'>40</span><span class='op'>)</span>, color <span class='op'>=</span> <span class='st'>"grey50"</span>, linetype <span class='op'>=</span> <span class='st'>"dotted"</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_path.html'>geom_line</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>y <span class='op'>=</span> <span class='fl'>20</span><span class='op'>)</span>, color <span class='op'>=</span> <span class='st'>"grey80"</span>, linetype <span class='op'>=</span> <span class='st'>"dotted"</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_path.html'>geom_line</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>y <span class='op'>=</span> <span class='fl'>60</span><span class='op'>)</span>, color <span class='op'>=</span> <span class='st'>"grey80"</span>, linetype <span class='op'>=</span> <span class='st'>"dotted"</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_path.html'>geom_line</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>y <span class='op'>=</span> <span class='fl'>80</span><span class='op'>)</span>, color <span class='op'>=</span> <span class='st'>"grey80"</span>, linetype <span class='op'>=</span> <span class='st'>"dotted"</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_path.html'>geom_line</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>y <span class='op'>=</span> <span class='fl'>100</span><span class='op'>)</span>, color <span class='op'>=</span> <span class='st'>"grey80"</span>, linetype <span class='op'>=</span> <span class='st'>"dotted"</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_path.html'>geom_line</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>y <span class='op'>=</span> <span class='fl'>0</span><span class='op'>)</span>, color <span class='op'>=</span> <span class='st'>"grey80"</span>, linetype <span class='op'>=</span> <span class='st'>"dotted"</span><span class='op'>)</span></span>
<span></span>
<span></span>
<span><span class='va'>education</span> <span class='op'>&lt;-</span> <span class='va'>education</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_colour_manual</a></span><span class='op'>(</span>values <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"HS or less"</span><span class='op'>=</span> <span class='st'>"#fdbb84"</span>,</span>
<span>                                 <span class='st'>"Some college"</span><span class='op'>=</span> <span class='st'>"#f16914"</span>,</span>
<span>                                 <span class='st'>"College+"</span> <span class='op'>=</span> <span class='st'>"#a63603"</span><span class='op'>)</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_continuous.html'>scale_y_continuous</a></span><span class='op'>(</span></span>
<span>    name <span class='op'>=</span> <span class='cn'>NULL</span>,</span>
<span>    limits<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>101</span><span class='op'>)</span>,</span>
<span>    breaks <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>20</span>, <span class='fl'>40</span>, <span class='fl'>60</span>, <span class='fl'>80</span>, <span class='fl'>100</span><span class='op'>)</span>,</span>
<span>    labels <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"0"</span>, <span class='st'>"20"</span>, <span class='st'>"40"</span>, <span class='st'>"60"</span>, <span class='st'>"80"</span>, <span class='st'>"100%"</span><span class='op'>)</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>x<span class='op'>=</span><span class='cn'>NULL</span>, y <span class='op'>=</span> <span class='cn'>NULL</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span></span>
<span>    plot.title <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>size<span class='op'>=</span><span class='fl'>15</span>, hjust <span class='op'>=</span> <span class='fl'>0.5</span>, family<span class='op'>=</span><span class='st'>"Libre Franklin"</span>,</span>
<span>                              face<span class='op'>=</span> <span class='st'>"bold"</span>, color<span class='op'>=</span> <span class='st'>"black"</span><span class='op'>)</span>,</span>
<span>    plot.title.position <span class='op'>=</span> <span class='st'>"panel"</span>,</span>
<span>    axis.ticks.length.x <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/unit.html'>unit</a></span><span class='op'>(</span><span class='fl'>2</span>, <span class='st'>"pt"</span><span class='op'>)</span>,</span>
<span>    legend.position <span class='op'>=</span> <span class='st'>"top"</span>,</span>
<span>    legend.box <span class='op'>=</span> <span class='st'>"horizontal"</span>,</span>
<span>    legend.title<span class='op'>=</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>,</span>
<span>    legend.text <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>color <span class='op'>=</span> <span class='st'>"grey30"</span>,family<span class='op'>=</span><span class='st'>"Libre Franklin"</span>,</span>
<span>                               face<span class='op'>=</span> <span class='st'>"plain"</span>, size <span class='op'>=</span> <span class='fl'>11</span><span class='op'>)</span>,</span>
<span>    panel.spacing <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/unit.html'>unit</a></span><span class='op'>(</span><span class='fl'>0.5</span>, <span class='st'>"lines"</span><span class='op'>)</span>,</span>
<span>    panel.border <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>colour <span class='op'>=</span> <span class='st'>"white"</span>, fill<span class='op'>=</span><span class='cn'>NA</span>, size<span class='op'>=</span><span class='fl'>1</span><span class='op'>)</span>,</span>
<span>    axis.ticks.x.bottom <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_line</a></span><span class='op'>(</span>color <span class='op'>=</span> <span class='st'>"black"</span><span class='op'>)</span>,</span>
<span>    panel.grid.major.x <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_line</a></span><span class='op'>(</span>colour <span class='op'>=</span> <span class='st'>"black"</span>, linetype <span class='op'>=</span> <span class='st'>"solid"</span><span class='op'>)</span>,</span>
<span>    panel.grid.minor.x <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_line</a></span><span class='op'>(</span>colour <span class='op'>=</span> <span class='st'>"black"</span>, linetype <span class='op'>=</span> <span class='st'>"solid"</span><span class='op'>)</span>,</span>
<span>    panel.background <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>"transparent"</span><span class='op'>)</span>,</span>
<span>    axis.text.y <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>color <span class='op'>=</span> <span class='st'>"grey30"</span>, family<span class='op'>=</span><span class='st'>"Libre Franklin"</span>,</span>
<span>                               face<span class='op'>=</span> <span class='st'>"plain"</span>, size <span class='op'>=</span> <span class='fl'>10</span><span class='op'>)</span>,</span>
<span>    axis.text.x <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>color<span class='op'>=</span><span class='st'>"grey30"</span>, family<span class='op'>=</span><span class='st'>"Libre Franklin"</span>,</span>
<span>                               face<span class='op'>=</span> <span class='st'>"plain"</span>, size<span class='op'>=</span> <span class='fl'>12</span>, angle<span class='op'>=</span> <span class='fl'>45</span>, hjust<span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span>,</span>
<span>    axis.ticks.length <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/unit.html'>unit</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='st'>"pt"</span><span class='op'>)</span>,</span>
<span>    axis.ticks.length.x.bottom <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/unit.html'>unit</a></span><span class='op'>(</span><span class='fl'>5</span>, <span class='st'>"pt"</span><span class='op'>)</span>,</span>
<span>    legend.box.background <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>fill <span class='op'>=</span>  <span class='st'>"white"</span><span class='op'>)</span></span>
<span>  <span class='op'>)</span> </span>
<span></span>
<span></span>
<span><span class='co'># PLACE</span></span>
<span></span>
<span><span class='va'>place</span> <span class='op'>&lt;-</span> <span class='va'>place</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_path.html'>geom_line</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>y <span class='op'>=</span> <span class='fl'>40</span><span class='op'>)</span>, color <span class='op'>=</span> <span class='st'>"grey50"</span>, linetype <span class='op'>=</span> <span class='st'>"dotted"</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_path.html'>geom_line</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>y <span class='op'>=</span> <span class='fl'>20</span><span class='op'>)</span>, color <span class='op'>=</span> <span class='st'>"grey80"</span>, linetype <span class='op'>=</span> <span class='st'>"dotted"</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_path.html'>geom_line</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>y <span class='op'>=</span> <span class='fl'>60</span><span class='op'>)</span>, color <span class='op'>=</span> <span class='st'>"grey80"</span>, linetype <span class='op'>=</span> <span class='st'>"dotted"</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_path.html'>geom_line</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>y <span class='op'>=</span> <span class='fl'>80</span><span class='op'>)</span>, color <span class='op'>=</span> <span class='st'>"grey80"</span>, linetype <span class='op'>=</span> <span class='st'>"dotted"</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_path.html'>geom_line</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>y <span class='op'>=</span> <span class='fl'>100</span><span class='op'>)</span>, color <span class='op'>=</span> <span class='st'>"grey80"</span>, linetype <span class='op'>=</span> <span class='st'>"dotted"</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_path.html'>geom_line</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>y <span class='op'>=</span> <span class='fl'>0</span><span class='op'>)</span>, color <span class='op'>=</span> <span class='st'>"grey80"</span>, linetype <span class='op'>=</span> <span class='st'>"dotted"</span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>place</span> <span class='op'>&lt;-</span> <span class='va'>place</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_color_manual</a></span><span class='op'>(</span>values <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Urban"</span> <span class='op'>=</span> <span class='st'>"#213e4b"</span>,</span>
<span>                                <span class='st'>"Suburban"</span> <span class='op'>=</span> <span class='st'>"#3b809a"</span>, <span class='st'>"Rural"</span> <span class='op'>=</span> <span class='st'>"#99cfd1"</span><span class='op'>)</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_continuous.html'>scale_y_continuous</a></span><span class='op'>(</span></span>
<span>    name <span class='op'>=</span> <span class='cn'>NULL</span>,</span>
<span>    limits<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>101</span><span class='op'>)</span>,</span>
<span>    breaks <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>20</span>, <span class='fl'>40</span>, <span class='fl'>60</span>, <span class='fl'>80</span>, <span class='fl'>100</span><span class='op'>)</span>,</span>
<span>    labels <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"0"</span>, <span class='st'>"20"</span>, <span class='st'>"40"</span>, <span class='st'>"60"</span>, <span class='st'>"80"</span>, <span class='st'>"100%"</span><span class='op'>)</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>x<span class='op'>=</span><span class='cn'>NULL</span>, y <span class='op'>=</span> <span class='cn'>NULL</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span></span>
<span>    plot.title <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>size<span class='op'>=</span><span class='fl'>15</span>, hjust <span class='op'>=</span> <span class='fl'>0.5</span>, family<span class='op'>=</span><span class='st'>"Libre Franklin"</span>,</span>
<span>                              face<span class='op'>=</span> <span class='st'>"bold"</span>, color<span class='op'>=</span> <span class='st'>"black"</span><span class='op'>)</span>,</span>
<span>    plot.title.position <span class='op'>=</span> <span class='st'>"panel"</span>,</span>
<span>    axis.ticks.length.x <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/unit.html'>unit</a></span><span class='op'>(</span><span class='fl'>2</span>, <span class='st'>"pt"</span><span class='op'>)</span>,</span>
<span>    legend.position <span class='op'>=</span> <span class='st'>"top"</span>,</span>
<span>    legend.box <span class='op'>=</span> <span class='st'>"horizontal"</span>,</span>
<span>    legend.title<span class='op'>=</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>,</span>
<span>    legend.text <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>color <span class='op'>=</span> <span class='st'>"grey30"</span>,family<span class='op'>=</span><span class='st'>"Libre Franklin"</span>,</span>
<span>                               face<span class='op'>=</span> <span class='st'>"plain"</span>, size <span class='op'>=</span> <span class='fl'>11</span><span class='op'>)</span>,</span>
<span>    panel.spacing <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/unit.html'>unit</a></span><span class='op'>(</span><span class='fl'>0.5</span>, <span class='st'>"lines"</span><span class='op'>)</span>,</span>
<span>    panel.border <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>colour <span class='op'>=</span> <span class='st'>"white"</span>, fill<span class='op'>=</span><span class='cn'>NA</span>, size<span class='op'>=</span><span class='fl'>1</span><span class='op'>)</span>,</span>
<span>    axis.ticks.x.bottom <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_line</a></span><span class='op'>(</span>color <span class='op'>=</span> <span class='st'>"black"</span><span class='op'>)</span>,</span>
<span>    panel.grid.major.x <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_line</a></span><span class='op'>(</span>colour <span class='op'>=</span> <span class='st'>"black"</span>, linetype <span class='op'>=</span> <span class='st'>"solid"</span><span class='op'>)</span>,</span>
<span>    panel.grid.minor.x <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_line</a></span><span class='op'>(</span>colour <span class='op'>=</span> <span class='st'>"black"</span>, linetype <span class='op'>=</span> <span class='st'>"solid"</span><span class='op'>)</span>,</span>
<span>    panel.background <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>"transparent"</span><span class='op'>)</span>,</span>
<span>    axis.text.y <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>color <span class='op'>=</span> <span class='st'>"grey30"</span>, family<span class='op'>=</span><span class='st'>"Libre Franklin"</span>,</span>
<span>                               face<span class='op'>=</span> <span class='st'>"plain"</span>, size <span class='op'>=</span> <span class='fl'>10</span><span class='op'>)</span>,</span>
<span>    axis.text.x <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>color<span class='op'>=</span><span class='st'>"grey30"</span>, family<span class='op'>=</span><span class='st'>"Libre Franklin"</span>,</span>
<span>                               face<span class='op'>=</span> <span class='st'>"plain"</span>, size<span class='op'>=</span> <span class='fl'>12</span>, angle<span class='op'>=</span> <span class='fl'>45</span>, hjust<span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span>,</span>
<span>    axis.ticks.length <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/unit.html'>unit</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='st'>"pt"</span><span class='op'>)</span>,</span>
<span>    axis.ticks.length.x.bottom <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/unit.html'>unit</a></span><span class='op'>(</span><span class='fl'>5</span>, <span class='st'>"pt"</span><span class='op'>)</span>,</span>
<span>    legend.box.background <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>fill <span class='op'>=</span>  <span class='st'>"white"</span><span class='op'>)</span></span>
<span>  <span class='op'>)</span> </span></code></pre>
</div>
</div>
<h3 id="patchwork-and-general-theme">Patchwork and general theme</h3>
<p>We need to paste all the individual plots together with <code>{Patchwork}</code>, add the
title, subtitle and caption with <code>plot_annotation()</code> and add the aesthetics with
<code>theme()</code>. We should keep some coherence in the aesthetics so we will recycle
some elements from the theme of the replication (the plot is expected to be in
the article and should match the rest of the plots).</p>
<div class="layout-chunk" data-layout="l-body-outset">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://patchwork.data-imaginist.com'>patchwork</a></span><span class='op'>)</span></span>
<span></span>
<span><span class='co'># Pasting the plots together</span></span>
<span><span class='va'>global</span> <span class='op'>&lt;-</span><span class='va'>gender</span><span class='op'>+</span><span class='va'>race</span><span class='op'>+</span><span class='va'>age</span><span class='op'>+</span><span class='va'>income</span><span class='op'>+</span></span>
<span>  <span class='va'>education</span><span class='op'>+</span><span class='va'>place</span><span class='op'>+</span><span class='va'>total</span><span class='op'>+</span></span>
<span>  <span class='co'># Distribution in 3 lines</span></span>
<span>  <span class='fu'><a href='https://patchwork.data-imaginist.com/reference/plot_layout.html'>plot_layout</a></span><span class='op'>(</span>ncol <span class='op'>=</span> <span class='fl'>3</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='co'># Labs annotation:</span></span>
<span>  <span class='fu'><a href='https://patchwork.data-imaginist.com/reference/plot_annotation.html'>plot_annotation</a></span><span class='op'>(</span></span>
<span>    title <span class='op'>=</span> <span class='st'>"Use of online platforms, apps varies — sometimes widely — by demographic group"</span>,</span>
<span>    subtitle <span class='op'>=</span> <span class='st'>"% of U.S. adults in each demographic group who say the ever use..."</span>,</span>
<span>    caption <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span><span class='op'>(</span></span>
<span>      <span class='st'>'Note: White and Black adults include those who report being only one '</span>,</span>
<span>      <span class='st'>'race and are not Hispanic. Hispanics are of any race. Not all numerical'</span>,</span>
<span>      <span class='st'>'\ndifferences between groups shown are statistically significant (e.g.,'</span>,</span>
<span>      <span class='st'>' there are no statistically significant differences between the shares '</span>,</span>
<span>      <span class='st'>'of\nWhite, Black or Hispanic Americans who say the use Facebook). '</span>,</span>
<span>      <span class='st'>'Respondents who did not give an answer are not shown.\nSource: Survey '</span>,</span>
<span>      <span class='st'>'of U.S. adults conducted Jan. 25-Feb. 8, 2021.\n\"Social Media Use in 2021\"'</span>,</span>
<span>      <span class='st'>'\n\nPEW RESEARCH CENTER'</span><span class='op'>)</span>,</span>
<span>    theme<span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span>plot.margin <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>margin</a></span><span class='op'>(</span><span class='fl'>17</span>,<span class='fl'>4</span>,<span class='fl'>22</span>,<span class='fl'>4</span><span class='op'>)</span>,</span>
<span>                 plot.title <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>color <span class='op'>=</span> <span class='st'>"black"</span>, size <span class='op'>=</span> <span class='fl'>28</span>,</span>
<span>                                           family <span class='op'>=</span> <span class='st'>"Libre Franklin Black"</span>,</span>
<span>                                           face <span class='op'>=</span> <span class='st'>"bold"</span><span class='op'>)</span>,</span>
<span>                 plot.subtitle <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>color <span class='op'>=</span> <span class='st'>"grey40"</span>, size <span class='op'>=</span> <span class='fl'>21</span>,</span>
<span>                                              lineheight <span class='op'>=</span> <span class='fl'>0.2</span>,</span>
<span>                                              family <span class='op'>=</span> <span class='st'>"Libre Franklin Medium"</span>,</span>
<span>                                              face <span class='op'>=</span> <span class='st'>"italic"</span><span class='op'>)</span>,</span>
<span>                 plot.title.position <span class='op'>=</span> <span class='st'>"plot"</span>,</span>
<span>                 plot.caption.position <span class='op'>=</span> <span class='st'>"plot"</span>,</span>
<span>                 plot.caption <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>color <span class='op'>=</span> <span class='st'>"grey30"</span>, size<span class='op'>=</span> <span class='fl'>14</span>, face<span class='op'>=</span><span class='st'>"plain"</span>,</span>
<span>                                             lineheight <span class='op'>=</span> <span class='fl'>0.8</span>,</span>
<span>                                             family <span class='op'>=</span> <span class='st'>"Libre Franklin"</span>,</span>
<span>                                             hjust <span class='op'>=</span> <span class='fl'>0</span>, vjust <span class='op'>=</span> <span class='fl'>0</span><span class='op'>)</span></span>
<span>                 <span class='op'>)</span></span>
<span>    <span class='op'>)</span></span>
<span></span>
<span><span class='co'># Final result of the replication</span></span>
<span><span class='va'>global</span></span></code></pre>
</div>
<p><img src="100462872_files/figure-html5/unnamed-chunk-27-1.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
<h2 id="conclusions">Conclusions</h2>
<p>Apart from the put-in-practice opportunity of what was seen during the course of
Data Visualization, I would like to highlight some findings and messages for my
future self:</p>
<ul>
<li>It has been such a great exercise to face a real-world example of dataset and
documentation and learn from mistakes. Always read carefully all the
documents in the documentation, it’s all there and it shows (or it should do)
the reasoning behind the author’s choices. The time invested in reading the
documentation will save you tons of time.</li>
<li>Use RMarkdown from the beginning, especially if you intend to share your
project. Comments in .R are ok (if you remember to add them), but adding
text and separate your scripts in chunks gives you a more visually organised
result. Plus, using chunks allows you to section your work progress in stages
and it’s easier to control bugs.</li>
<li>There must be always an ending, specially when replicating.</li>
<li>Leave the fonts and the export size for the last stage (even if it’s hard to
watch). Otherwise, you may invest too much time in doing this process
iteratively. And don’t forget to render them before trying the next font of the
list.</li>
</ul>
<div class="sourceCode" id="cb1"><pre class="sourceCode r distill-force-highlighting-css"><code class="sourceCode r"></code></pre></div>
<!--radix_placeholder_article_footer-->
<!--/radix_placeholder_article_footer-->
</div>

<div class="d-appendix">
</div>


<!--radix_placeholder_site_after_body-->
<!--/radix_placeholder_site_after_body-->
<!--radix_placeholder_appendices-->
<div class="appendix-bottom">
  <h3 id="reuse">Reuse</h3>
  <p>Text and figures are licensed under Creative Commons Attribution <a rel="license" href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a>. The figures that have been reused from other sources don't fall under this license and can be recognized by a note in their caption: "Figure from ...".</p>
  <h3 id="citation">Citation</h3>
  <p>For attribution, please cite this work as</p>
  <pre class="citation-appendix short">Moreno (2023, Jan. 24). Data visualization | MSc CSS: Use of Social Media Platforms in 2021 (U.S.) by Demographic Group. Retrieved from https://csslab.uc3m.es/dataviz/projects/2022/100462872/</pre>
  <p>BibTeX citation</p>
  <pre class="citation-appendix long">@misc{moreno2023use,
  author = {Moreno, Marina Sánchez},
  title = {Data visualization | MSc CSS: Use of Social Media Platforms in 2021 (U.S.) by Demographic Group},
  url = {https://csslab.uc3m.es/dataviz/projects/2022/100462872/},
  year = {2023}
}</pre>
</div>
<!--/radix_placeholder_appendices-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<!--radix_placeholder_navigation_after_body--><html><body>
<div class="distill-site-nav distill-site-footer">
<p><img src="../../../assets/acronimo_nombre1l_0.png" width="400"></p>
</div>
<!--/radix_placeholder_navigation_after_body-->
</body></html>


</body>

</html>
