<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">

<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/>
  <meta name="generator" content="distill" />

  <style type="text/css">
  /* Hide doc at startup (prevent jankiness while JS renders/transforms) */
  body {
    visibility: hidden;
  }
  </style>

 <!--radix_placeholder_import_source-->
 <!--/radix_placeholder_import_source-->

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  { color: #00769e; background-color: #f1f3f5; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span { color: #00769e; } /* Normal */
code span.al { color: #ad0000; } /* Alert */
code span.an { color: #5e5e5e; } /* Annotation */
code span.at { color: #657422; } /* Attribute */
code span.bn { color: #ad0000; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #00769e; } /* ControlFlow */
code span.ch { color: #20794d; } /* Char */
code span.cn { color: #8f5902; } /* Constant */
code span.co { color: #5e5e5e; } /* Comment */
code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
code span.dt { color: #ad0000; } /* DataType */
code span.dv { color: #ad0000; } /* DecVal */
code span.er { color: #ad0000; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #ad0000; } /* Float */
code span.fu { color: #4758ab; } /* Function */
code span.im { } /* Import */
code span.in { color: #5e5e5e; } /* Information */
code span.kw { color: #00769e; } /* Keyword */
code span.op { color: #5e5e5e; } /* Operator */
code span.ot { color: #00769e; } /* Other */
code span.pp { color: #ad0000; } /* Preprocessor */
code span.sc { color: #5e5e5e; } /* SpecialChar */
code span.ss { color: #20794d; } /* SpecialString */
code span.st { color: #20794d; } /* String */
code span.va { color: #111111; } /* Variable */
code span.vs { color: #20794d; } /* VerbatimString */
code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
</style>


  <!--radix_placeholder_meta_tags-->
<title>Data visualization | MSc CSS: New York Times market share graph</title>

<meta property="description" itemprop="description" content="In this article I explain how I replicated a New York Times chart in R and the &#10;process of creating a different chart with ggplot2 with the same data. I&#39;ll &#10;also explain the limitations of replication and alternative visualization, and&#10;discuss the strengths and weaknesses of both charts, based on data &#10;visualization theory."/>

<link rel="canonical" href="https://csslab.uc3m.es/dataviz/projects/2022/100348375/"/>
<link rel="license" href="https://creativecommons.org/licenses/by/4.0/"/>

<!--  https://schema.org/Article -->
<meta property="article:published" itemprop="datePublished" content="2023-01-13"/>
<meta property="article:created" itemprop="dateCreated" content="2023-01-13"/>
<meta name="article:author" content="Isabel Molero Lopez"/>

<!--  https://developers.facebook.com/docs/sharing/webmasters#markup -->
<meta property="og:title" content="Data visualization | MSc CSS: New York Times market share graph"/>
<meta property="og:type" content="article"/>
<meta property="og:description" content="In this article I explain how I replicated a New York Times chart in R and the &#10;process of creating a different chart with ggplot2 with the same data. I&#39;ll &#10;also explain the limitations of replication and alternative visualization, and&#10;discuss the strengths and weaknesses of both charts, based on data &#10;visualization theory."/>
<meta property="og:url" content="https://csslab.uc3m.es/dataviz/projects/2022/100348375/"/>
<meta property="og:image" content="https://csslab.uc3m.es/dataviz/projects/2022/100348375/100348375_files/figure-html5/unnamed-chunk-16-1.png"/>
<meta property="og:image:width" content="1209"/>
<meta property="og:image:height" content="1728"/>
<meta property="og:locale" content="en_US"/>
<meta property="og:site_name" content="Data visualization | MSc CSS"/>

<!--  https://dev.twitter.com/cards/types/summary -->
<meta property="twitter:card" content="summary_large_image"/>
<meta property="twitter:title" content="Data visualization | MSc CSS: New York Times market share graph"/>
<meta property="twitter:description" content="In this article I explain how I replicated a New York Times chart in R and the &#10;process of creating a different chart with ggplot2 with the same data. I&#39;ll &#10;also explain the limitations of replication and alternative visualization, and&#10;discuss the strengths and weaknesses of both charts, based on data &#10;visualization theory."/>
<meta property="twitter:url" content="https://csslab.uc3m.es/dataviz/projects/2022/100348375/"/>
<meta property="twitter:image" content="https://csslab.uc3m.es/dataviz/projects/2022/100348375/100348375_files/figure-html5/unnamed-chunk-16-1.png"/>
<meta property="twitter:image:width" content="1209"/>
<meta property="twitter:image:height" content="1728"/>

<!--  https://scholar.google.com/intl/en/scholar/inclusion.html#indexing -->
<meta name="citation_title" content="Data visualization | MSc CSS: New York Times market share graph"/>
<meta name="citation_fulltext_html_url" content="https://csslab.uc3m.es/dataviz/projects/2022/100348375/"/>
<meta name="citation_fulltext_world_readable" content=""/>
<meta name="citation_online_date" content="2023/01/13"/>
<meta name="citation_publication_date" content="2023/01/13"/>
<meta name="citation_author" content="Isabel Molero Lopez"/>
<!--/radix_placeholder_meta_tags-->
  <!--radix_placeholder_rmarkdown_metadata-->

<script type="text/json" id="radix-rmarkdown-metadata">
{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["creative_commons","title","description","categories","author","date","output","citation_url","canonical_url"]}},"value":[{"type":"character","attributes":{},"value":["CC BY"]},{"type":"character","attributes":{},"value":["New York Times market share graph"]},{"type":"character","attributes":{},"value":["In this article I explain how I replicated a New York Times chart in R and the \nprocess of creating a different chart with ggplot2 with the same data. I'll \nalso explain the limitations of replication and alternative visualization, and\ndiscuss the strengths and weaknesses of both charts, based on data \nvisualization theory."]},{"type":"character","attributes":{},"value":["2022"]},{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name"]}},"value":[{"type":"character","attributes":{},"value":["Isabel Molero Lopez"]}]}]},{"type":"character","attributes":{},"value":["2023-01-13"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["distill::distill_article"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["self_contained","toc"]}},"value":[{"type":"logical","attributes":{},"value":[false]},{"type":"logical","attributes":{},"value":[true]}]}]},{"type":"character","attributes":{},"value":["https://csslab.uc3m.es/dataviz/projects/2022/100348375/"]},{"type":"character","attributes":{},"value":["https://csslab.uc3m.es/dataviz/projects/2022/100348375/"]}]}
</script>
<!--/radix_placeholder_rmarkdown_metadata-->
  
  <script type="text/json" id="radix-resource-manifest">
  {"type":"character","attributes":{},"value":["100348375_files/anchor-4.2.2/anchor.min.js","100348375_files/bowser-1.9.3/bowser.min.js","100348375_files/d3-bundle-5.16.0/d3-bundle.min.js","100348375_files/d3-lasso-0.0.5/d3-lasso.min.js","100348375_files/distill-2.2.21/template.v2.js","100348375_files/figure-html5/unnamed-chunk-10-1.png","100348375_files/figure-html5/unnamed-chunk-11-1.png","100348375_files/figure-html5/unnamed-chunk-12-1.png","100348375_files/figure-html5/unnamed-chunk-13-1.png","100348375_files/figure-html5/unnamed-chunk-14-1.png","100348375_files/figure-html5/unnamed-chunk-15-1.png","100348375_files/figure-html5/unnamed-chunk-16-1.png","100348375_files/figure-html5/unnamed-chunk-19-1.png","100348375_files/figure-html5/unnamed-chunk-20-1.png","100348375_files/figure-html5/unnamed-chunk-21-1.png","100348375_files/figure-html5/unnamed-chunk-7-1.png","100348375_files/figure-html5/unnamed-chunk-8-1.png","100348375_files/figure-html5/unnamed-chunk-9-1.png","100348375_files/flatbush-4.0.0/flatbush.min.js","100348375_files/ggiraphjs-0.4.6/ggiraphjs.min.css","100348375_files/ggiraphjs-0.4.6/ggiraphjs.min.js","100348375_files/girafe-binding-0.8.5/girafe.js","100348375_files/header-attrs-2.18/header-attrs.js","100348375_files/header-attrs-2.19/header-attrs.js","100348375_files/htmlwidgets-1.6.0/htmlwidgets.js","100348375_files/htmlwidgets-1.6.1/htmlwidgets.js","100348375_files/jquery-3.6.0/jquery-3.6.0.js","100348375_files/jquery-3.6.0/jquery-3.6.0.min.js","100348375_files/jquery-3.6.0/jquery-3.6.0.min.map","100348375_files/plotly-binding-4.10.1/plotly.js","100348375_files/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css","100348375_files/plotly-main-2.11.1/plotly-latest.min.js","100348375_files/popper-2.6.0/popper.min.js","100348375_files/save-svg-as-png-1.4.17/save-svg-as-png.min.js","100348375_files/tippy-6.2.7/tippy-bundle.umd.min.js","100348375_files/tippy-6.2.7/tippy-light-border.css","100348375_files/tippy-6.2.7/tippy.css","100348375_files/tippy-6.2.7/tippy.umd.min.js","100348375_files/typedarray-0.1/typedarray.min.js","100348375_files/webcomponents-2.0.0/webcomponents.js","data_graph.csv","Imagen1.png"]}
  </script>
  <!--radix_placeholder_navigation_in_header-->
<meta name="distill:offset" content="../../.."/>

<script type="application/javascript">

  window.headroom_prevent_pin = false;

  window.document.addEventListener("DOMContentLoaded", function (event) {

    // initialize headroom for banner
    var header = $('header').get(0);
    var headerHeight = header.offsetHeight;
    var headroom = new Headroom(header, {
      tolerance: 5,
      onPin : function() {
        if (window.headroom_prevent_pin) {
          window.headroom_prevent_pin = false;
          headroom.unpin();
        }
      }
    });
    headroom.init();
    if(window.location.hash)
      headroom.unpin();
    $(header).addClass('headroom--transition');

    // offset scroll location for banner on hash change
    // (see: https://github.com/WickyNilliams/headroom.js/issues/38)
    window.addEventListener("hashchange", function(event) {
      window.scrollTo(0, window.pageYOffset - (headerHeight + 25));
    });

    // responsive menu
    $('.distill-site-header').each(function(i, val) {
      var topnav = $(this);
      var toggle = topnav.find('.nav-toggle');
      toggle.on('click', function() {
        topnav.toggleClass('responsive');
      });
    });

    // nav dropdowns
    $('.nav-dropbtn').click(function(e) {
      $(this).next('.nav-dropdown-content').toggleClass('nav-dropdown-active');
      $(this).parent().siblings('.nav-dropdown')
         .children('.nav-dropdown-content').removeClass('nav-dropdown-active');
    });
    $("body").click(function(e){
      $('.nav-dropdown-content').removeClass('nav-dropdown-active');
    });
    $(".nav-dropdown").click(function(e){
      e.stopPropagation();
    });
  });
</script>

<style type="text/css">

/* Theme (user-documented overrideables for nav appearance) */

.distill-site-nav {
  color: rgba(255, 255, 255, 0.8);
  background-color: #0F2E3D;
  font-size: 15px;
  font-weight: 300;
}

.distill-site-nav a {
  color: inherit;
  text-decoration: none;
}

.distill-site-nav a:hover {
  color: white;
}

@media print {
  .distill-site-nav {
    display: none;
  }
}

.distill-site-header {

}

.distill-site-footer {

}


/* Site Header */

.distill-site-header {
  width: 100%;
  box-sizing: border-box;
  z-index: 3;
}

.distill-site-header .nav-left {
  display: inline-block;
  margin-left: 8px;
}

@media screen and (max-width: 768px) {
  .distill-site-header .nav-left {
    margin-left: 0;
  }
}


.distill-site-header .nav-right {
  float: right;
  margin-right: 8px;
}

.distill-site-header a,
.distill-site-header .title {
  display: inline-block;
  text-align: center;
  padding: 14px 10px 14px 10px;
}

.distill-site-header .title {
  font-size: 18px;
  min-width: 150px;
}

.distill-site-header .logo {
  padding: 0;
}

.distill-site-header .logo img {
  display: none;
  max-height: 20px;
  width: auto;
  margin-bottom: -4px;
}

.distill-site-header .nav-image img {
  max-height: 18px;
  width: auto;
  display: inline-block;
  margin-bottom: -3px;
}



@media screen and (min-width: 1000px) {
  .distill-site-header .logo img {
    display: inline-block;
  }
  .distill-site-header .nav-left {
    margin-left: 20px;
  }
  .distill-site-header .nav-right {
    margin-right: 20px;
  }
  .distill-site-header .title {
    padding-left: 12px;
  }
}


.distill-site-header .nav-toggle {
  display: none;
}

.nav-dropdown {
  display: inline-block;
  position: relative;
}

.nav-dropdown .nav-dropbtn {
  border: none;
  outline: none;
  color: rgba(255, 255, 255, 0.8);
  padding: 16px 10px;
  background-color: transparent;
  font-family: inherit;
  font-size: inherit;
  font-weight: inherit;
  margin: 0;
  margin-top: 1px;
  z-index: 2;
}

.nav-dropdown-content {
  display: none;
  position: absolute;
  background-color: white;
  min-width: 200px;
  border: 1px solid rgba(0,0,0,0.15);
  border-radius: 4px;
  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.1);
  z-index: 1;
  margin-top: 2px;
  white-space: nowrap;
  padding-top: 4px;
  padding-bottom: 4px;
}

.nav-dropdown-content hr {
  margin-top: 4px;
  margin-bottom: 4px;
  border: none;
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
}

.nav-dropdown-active {
  display: block;
}

.nav-dropdown-content a, .nav-dropdown-content .nav-dropdown-header {
  color: black;
  padding: 6px 24px;
  text-decoration: none;
  display: block;
  text-align: left;
}

.nav-dropdown-content .nav-dropdown-header {
  display: block;
  padding: 5px 24px;
  padding-bottom: 0;
  text-transform: uppercase;
  font-size: 14px;
  color: #999999;
  white-space: nowrap;
}

.nav-dropdown:hover .nav-dropbtn {
  color: white;
}

.nav-dropdown-content a:hover {
  background-color: #ddd;
  color: black;
}

.nav-right .nav-dropdown-content {
  margin-left: -45%;
  right: 0;
}

@media screen and (max-width: 768px) {
  .distill-site-header a, .distill-site-header .nav-dropdown  {display: none;}
  .distill-site-header a.nav-toggle {
    float: right;
    display: block;
  }
  .distill-site-header .title {
    margin-left: 0;
  }
  .distill-site-header .nav-right {
    margin-right: 0;
  }
  .distill-site-header {
    overflow: hidden;
  }
  .nav-right .nav-dropdown-content {
    margin-left: 0;
  }
}


@media screen and (max-width: 768px) {
  .distill-site-header.responsive {position: relative; min-height: 500px; }
  .distill-site-header.responsive a.nav-toggle {
    position: absolute;
    right: 0;
    top: 0;
  }
  .distill-site-header.responsive a,
  .distill-site-header.responsive .nav-dropdown {
    display: block;
    text-align: left;
  }
  .distill-site-header.responsive .nav-left,
  .distill-site-header.responsive .nav-right {
    width: 100%;
  }
  .distill-site-header.responsive .nav-dropdown {float: none;}
  .distill-site-header.responsive .nav-dropdown-content {position: relative;}
  .distill-site-header.responsive .nav-dropdown .nav-dropbtn {
    display: block;
    width: 100%;
    text-align: left;
  }
}

/* Site Footer */

.distill-site-footer {
  width: 100%;
  overflow: hidden;
  box-sizing: border-box;
  z-index: 3;
  margin-top: 30px;
  padding-top: 30px;
  padding-bottom: 30px;
  text-align: center;
}

/* Headroom */

d-title {
  padding-top: 6rem;
}

@media print {
  d-title {
    padding-top: 4rem;
  }
}

.headroom {
  z-index: 1000;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
}

.headroom--transition {
  transition: all .4s ease-in-out;
}

.headroom--unpinned {
  top: -100px;
}

.headroom--pinned {
  top: 0;
}

/* adjust viewport for navbar height */
/* helps vertically center bootstrap (non-distill) content */
.min-vh-100 {
  min-height: calc(100vh - 100px) !important;
}

</style>

<script src="../../../site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<link href="../../../site_libs/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"/>
<link href="../../../site_libs/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"/>
<script src="../../../site_libs/headroom-0.9.4/headroom.min.js"></script>
<script src="../../../site_libs/autocomplete-0.37.1/autocomplete.min.js"></script>
<script src="../../../site_libs/fuse-6.4.1/fuse.min.js"></script>

<script type="application/javascript">

function getMeta(metaName) {
  var metas = document.getElementsByTagName('meta');
  for (let i = 0; i < metas.length; i++) {
    if (metas[i].getAttribute('name') === metaName) {
      return metas[i].getAttribute('content');
    }
  }
  return '';
}

function offsetURL(url) {
  var offset = getMeta('distill:offset');
  return offset ? offset + '/' + url : url;
}

function createFuseIndex() {

  // create fuse index
  var options = {
    keys: [
      { name: 'title', weight: 20 },
      { name: 'categories', weight: 15 },
      { name: 'description', weight: 10 },
      { name: 'contents', weight: 5 },
    ],
    ignoreLocation: true,
    threshold: 0
  };
  var fuse = new window.Fuse([], options);

  // fetch the main search.json
  return fetch(offsetURL('search.json'))
    .then(function(response) {
      if (response.status == 200) {
        return response.json().then(function(json) {
          // index main articles
          json.articles.forEach(function(article) {
            fuse.add(article);
          });
          // download collections and index their articles
          return Promise.all(json.collections.map(function(collection) {
            return fetch(offsetURL(collection)).then(function(response) {
              if (response.status === 200) {
                return response.json().then(function(articles) {
                  articles.forEach(function(article) {
                    fuse.add(article);
                  });
                })
              } else {
                return Promise.reject(
                  new Error('Unexpected status from search index request: ' +
                            response.status)
                );
              }
            });
          })).then(function() {
            return fuse;
          });
        });

      } else {
        return Promise.reject(
          new Error('Unexpected status from search index request: ' +
                      response.status)
        );
      }
    });
}

window.document.addEventListener("DOMContentLoaded", function (event) {

  // get search element (bail if we don't have one)
  var searchEl = window.document.getElementById('distill-search');
  if (!searchEl)
    return;

  createFuseIndex()
    .then(function(fuse) {

      // make search box visible
      searchEl.classList.remove('hidden');

      // initialize autocomplete
      var options = {
        autoselect: true,
        hint: false,
        minLength: 2,
      };
      window.autocomplete(searchEl, options, [{
        source: function(query, callback) {
          const searchOptions = {
            isCaseSensitive: false,
            shouldSort: true,
            minMatchCharLength: 2,
            limit: 10,
          };
          var results = fuse.search(query, searchOptions);
          callback(results
            .map(function(result) { return result.item; })
          );
        },
        templates: {
          suggestion: function(suggestion) {
            var img = suggestion.preview && Object.keys(suggestion.preview).length > 0
              ? `<img src="${offsetURL(suggestion.preview)}"</img>`
              : '';
            var html = `
              <div class="search-item">
                <h3>${suggestion.title}</h3>
                <div class="search-item-description">
                  ${suggestion.description || ''}
                </div>
                <div class="search-item-preview">
                  ${img}
                </div>
              </div>
            `;
            return html;
          }
        }
      }]).on('autocomplete:selected', function(event, suggestion) {
        window.location.href = offsetURL(suggestion.path);
      });
      // remove inline display style on autocompleter (we want to
      // manage responsive display via css)
      $('.algolia-autocomplete').css("display", "");
    })
    .catch(function(error) {
      console.log(error);
    });

});

</script>

<style type="text/css">

.nav-search {
  font-size: x-small;
}

/* Algolioa Autocomplete */

.algolia-autocomplete {
  display: inline-block;
  margin-left: 10px;
  vertical-align: sub;
  background-color: white;
  color: black;
  padding: 6px;
  padding-top: 8px;
  padding-bottom: 0;
  border-radius: 6px;
  border: 1px #0F2E3D solid;
  width: 180px;
}


@media screen and (max-width: 768px) {
  .distill-site-nav .algolia-autocomplete {
    display: none;
    visibility: hidden;
  }
  .distill-site-nav.responsive .algolia-autocomplete {
    display: inline-block;
    visibility: visible;
  }
  .distill-site-nav.responsive .algolia-autocomplete .aa-dropdown-menu {
    margin-left: 0;
    width: 400px;
    max-height: 400px;
  }
}

.algolia-autocomplete .aa-input, .algolia-autocomplete .aa-hint {
  width: 90%;
  outline: none;
  border: none;
}

.algolia-autocomplete .aa-hint {
  color: #999;
}
.algolia-autocomplete .aa-dropdown-menu {
  width: 550px;
  max-height: 70vh;
  overflow-x: visible;
  overflow-y: scroll;
  padding: 5px;
  margin-top: 3px;
  margin-left: -150px;
  background-color: #fff;
  border-radius: 5px;
  border: 1px solid #999;
  border-top: none;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion {
  cursor: pointer;
  padding: 5px 4px;
  border-bottom: 1px solid #eee;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion:last-of-type {
  border-bottom: none;
  margin-bottom: 2px;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item {
  overflow: hidden;
  font-size: 0.8em;
  line-height: 1.4em;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item h3 {
  font-size: 1rem;
  margin-block-start: 0;
  margin-block-end: 5px;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-description {
  display: inline-block;
  overflow: hidden;
  height: 2.8em;
  width: 80%;
  margin-right: 4%;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview {
  display: inline-block;
  width: 15%;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview img {
  height: 3em;
  width: auto;
  display: none;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview img[src] {
  display: initial;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion.aa-cursor {
  background-color: #eee;
}
.algolia-autocomplete .aa-dropdown-menu .aa-suggestion em {
  font-weight: bold;
  font-style: normal;
}

</style>


<!--/radix_placeholder_navigation_in_header-->
  <!--radix_placeholder_distill-->

<style type="text/css">

body {
  background-color: white;
}

.pandoc-table {
  width: 100%;
}

.pandoc-table>caption {
  margin-bottom: 10px;
}

.pandoc-table th:not([align]) {
  text-align: left;
}

.pagedtable-footer {
  font-size: 15px;
}

d-byline .byline {
  grid-template-columns: 2fr 2fr;
}

d-byline .byline h3 {
  margin-block-start: 1.5em;
}

d-byline .byline .authors-affiliations h3 {
  margin-block-start: 0.5em;
}

.authors-affiliations .orcid-id {
  width: 16px;
  height:16px;
  margin-left: 4px;
  margin-right: 4px;
  vertical-align: middle;
  padding-bottom: 2px;
}

d-title .dt-tags {
  margin-top: 1em;
  grid-column: text;
}

.dt-tags .dt-tag {
  text-decoration: none;
  display: inline-block;
  color: rgba(0,0,0,0.6);
  padding: 0em 0.4em;
  margin-right: 0.5em;
  margin-bottom: 0.4em;
  font-size: 70%;
  border: 1px solid rgba(0,0,0,0.2);
  border-radius: 3px;
  text-transform: uppercase;
  font-weight: 500;
}

d-article table.gt_table td,
d-article table.gt_table th {
  border-bottom: none;
  font-size: 100%;
}

.html-widget {
  margin-bottom: 2.0em;
}

.l-screen-inset {
  padding-right: 16px;
}

.l-screen .caption {
  margin-left: 10px;
}

.shaded {
  background: rgb(247, 247, 247);
  padding-top: 20px;
  padding-bottom: 20px;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
}

.shaded .html-widget {
  margin-bottom: 0;
  border: 1px solid rgba(0, 0, 0, 0.1);
}

.shaded .shaded-content {
  background: white;
}

.text-output {
  margin-top: 0;
  line-height: 1.5em;
}

.hidden {
  display: none !important;
}

hr.section-separator {
  border: none;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  margin: 0px;
}


d-byline {
  border-top: none;
}

d-article {
  padding-top: 2.5rem;
  padding-bottom: 30px;
  border-top: none;
}

d-appendix {
  padding-top: 30px;
}

d-article>p>img {
  width: 100%;
}

d-article h2 {
  margin: 1rem 0 1.5rem 0;
}

d-article h3 {
  margin-top: 1.5rem;
}

d-article iframe {
  border: 1px solid rgba(0, 0, 0, 0.1);
  margin-bottom: 2.0em;
  width: 100%;
}

/* Tweak code blocks */

d-article div.sourceCode code,
d-article pre code {
  font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
}

d-article pre,
d-article div.sourceCode,
d-article div.sourceCode pre {
  overflow: auto;
}

d-article div.sourceCode {
  background-color: white;
}

d-article div.sourceCode pre {
  padding-left: 10px;
  font-size: 12px;
  border-left: 2px solid rgba(0,0,0,0.1);
}

d-article pre {
  font-size: 12px;
  color: black;
  background: none;
  margin-top: 0;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.5;

  -moz-tab-size: 4;
  -o-tab-size: 4;
  tab-size: 4;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

d-article pre a {
  border-bottom: none;
}

d-article pre a:hover {
  border-bottom: none;
  text-decoration: underline;
}

d-article details {
  grid-column: text;
  margin-bottom: 0.8em;
}

@media(min-width: 768px) {

d-article pre,
d-article div.sourceCode,
d-article div.sourceCode pre {
  overflow: visible !important;
}

d-article div.sourceCode pre {
  padding-left: 18px;
  font-size: 14px;
}

/* tweak for Pandoc numbered line within distill */
d-article pre.numberSource code > span {
    left: -2em;
}

d-article pre {
  font-size: 14px;
}

}

figure img.external {
  background: white;
  border: 1px solid rgba(0, 0, 0, 0.1);
  box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
  padding: 18px;
  box-sizing: border-box;
}

/* CSS for d-contents */

.d-contents {
  grid-column: text;
  color: rgba(0,0,0,0.8);
  font-size: 0.9em;
  padding-bottom: 1em;
  margin-bottom: 1em;
  padding-bottom: 0.5em;
  margin-bottom: 1em;
  padding-left: 0.25em;
  justify-self: start;
}

@media(min-width: 1000px) {
  .d-contents.d-contents-float {
    height: 0;
    grid-column-start: 1;
    grid-column-end: 4;
    justify-self: center;
    padding-right: 3em;
    padding-left: 2em;
  }
}

.d-contents nav h3 {
  font-size: 18px;
  margin-top: 0;
  margin-bottom: 1em;
}

.d-contents li {
  list-style-type: none
}

.d-contents nav > ul {
  padding-left: 0;
}

.d-contents ul {
  padding-left: 1em
}

.d-contents nav ul li {
  margin-top: 0.6em;
  margin-bottom: 0.2em;
}

.d-contents nav a {
  font-size: 13px;
  border-bottom: none;
  text-decoration: none
  color: rgba(0, 0, 0, 0.8);
}

.d-contents nav a:hover {
  text-decoration: underline solid rgba(0, 0, 0, 0.6)
}

.d-contents nav > ul > li > a {
  font-weight: 600;
}

.d-contents nav > ul > li > ul {
  font-weight: inherit;
}

.d-contents nav > ul > li > ul > li {
  margin-top: 0.2em;
}


.d-contents nav ul {
  margin-top: 0;
  margin-bottom: 0.25em;
}

.d-article-with-toc h2:nth-child(2) {
  margin-top: 0;
}


/* Figure */

.figure {
  position: relative;
  margin-bottom: 2.5em;
  margin-top: 1.5em;
}

.figure .caption {
  color: rgba(0, 0, 0, 0.6);
  font-size: 12px;
  line-height: 1.5em;
}

.figure img.external {
  background: white;
  border: 1px solid rgba(0, 0, 0, 0.1);
  box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
  padding: 18px;
  box-sizing: border-box;
}

.figure .caption a {
  color: rgba(0, 0, 0, 0.6);
}

.figure .caption b,
.figure .caption strong, {
  font-weight: 600;
  color: rgba(0, 0, 0, 1.0);
}

/* Citations */

d-article .citation {
  color: inherit;
  cursor: inherit;
}

div.hanging-indent{
  margin-left: 1em; text-indent: -1em;
}

/* Citation hover box */

.tippy-box[data-theme~=light-border] {
  background-color: rgba(250, 250, 250, 0.95);
}

.tippy-content > p {
  margin-bottom: 0;
  padding: 2px;
}


/* Tweak 1000px media break to show more text */

@media(min-width: 1000px) {
  .base-grid,
  distill-header,
  d-title,
  d-abstract,
  d-article,
  d-appendix,
  distill-appendix,
  d-byline,
  d-footnote-list,
  d-citation-list,
  distill-footer {
    grid-template-columns: [screen-start] 1fr [page-start kicker-start] 80px [middle-start] 50px [text-start kicker-end] 65px 65px 65px 65px 65px 65px 65px 65px [text-end gutter-start] 65px [middle-end] 65px [page-end gutter-end] 1fr [screen-end];
    grid-column-gap: 16px;
  }

  .grid {
    grid-column-gap: 16px;
  }

  d-article {
    font-size: 1.06rem;
    line-height: 1.7em;
  }
  figure .caption, .figure .caption, figure figcaption {
    font-size: 13px;
  }
}

@media(min-width: 1180px) {
  .base-grid,
  distill-header,
  d-title,
  d-abstract,
  d-article,
  d-appendix,
  distill-appendix,
  d-byline,
  d-footnote-list,
  d-citation-list,
  distill-footer {
    grid-template-columns: [screen-start] 1fr [page-start kicker-start] 60px [middle-start] 60px [text-start kicker-end] 60px 60px 60px 60px 60px 60px 60px 60px [text-end gutter-start] 60px [middle-end] 60px [page-end gutter-end] 1fr [screen-end];
    grid-column-gap: 32px;
  }

  .grid {
    grid-column-gap: 32px;
  }
}


/* Get the citation styles for the appendix (not auto-injected on render since
   we do our own rendering of the citation appendix) */

d-appendix .citation-appendix,
.d-appendix .citation-appendix {
  font-size: 11px;
  line-height: 15px;
  border-left: 1px solid rgba(0, 0, 0, 0.1);
  padding-left: 18px;
  border: 1px solid rgba(0,0,0,0.1);
  background: rgba(0, 0, 0, 0.02);
  padding: 10px 18px;
  border-radius: 3px;
  color: rgba(150, 150, 150, 1);
  overflow: hidden;
  margin-top: -12px;
  white-space: pre-wrap;
  word-wrap: break-word;
}

/* Include appendix styles here so they can be overridden */

d-appendix {
  contain: layout style;
  font-size: 0.8em;
  line-height: 1.7em;
  margin-top: 60px;
  margin-bottom: 0;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  color: rgba(0,0,0,0.5);
  padding-top: 60px;
  padding-bottom: 48px;
}

d-appendix h3 {
  grid-column: page-start / text-start;
  font-size: 15px;
  font-weight: 500;
  margin-top: 1em;
  margin-bottom: 0;
  color: rgba(0,0,0,0.65);
}

d-appendix h3 + * {
  margin-top: 1em;
}

d-appendix ol {
  padding: 0 0 0 15px;
}

@media (min-width: 768px) {
  d-appendix ol {
    padding: 0 0 0 30px;
    margin-left: -30px;
  }
}

d-appendix li {
  margin-bottom: 1em;
}

d-appendix a {
  color: rgba(0, 0, 0, 0.6);
}

d-appendix > * {
  grid-column: text;
}

d-appendix > d-footnote-list,
d-appendix > d-citation-list,
d-appendix > distill-appendix {
  grid-column: screen;
}

/* Include footnote styles here so they can be overridden */

d-footnote-list {
  contain: layout style;
}

d-footnote-list > * {
  grid-column: text;
}

d-footnote-list a.footnote-backlink {
  color: rgba(0,0,0,0.3);
  padding-left: 0.5em;
}



/* Anchor.js */

.anchorjs-link {
  /*transition: all .25s linear; */
  text-decoration: none;
  border-bottom: none;
}
*:hover > .anchorjs-link {
  margin-left: -1.125em !important;
  text-decoration: none;
  border-bottom: none;
}

/* Social footer */

.social_footer {
  margin-top: 30px;
  margin-bottom: 0;
  color: rgba(0,0,0,0.67);
}

.disqus-comments {
  margin-right: 30px;
}

.disqus-comment-count {
  border-bottom: 1px solid rgba(0, 0, 0, 0.4);
  cursor: pointer;
}

#disqus_thread {
  margin-top: 30px;
}

.article-sharing a {
  border-bottom: none;
  margin-right: 8px;
}

.article-sharing a:hover {
  border-bottom: none;
}

.sidebar-section.subscribe {
  font-size: 12px;
  line-height: 1.6em;
}

.subscribe p {
  margin-bottom: 0.5em;
}


.article-footer .subscribe {
  font-size: 15px;
  margin-top: 45px;
}


.sidebar-section.custom {
  font-size: 12px;
  line-height: 1.6em;
}

.custom p {
  margin-bottom: 0.5em;
}

/* Styles for listing layout (hide title) */
.layout-listing d-title, .layout-listing .d-title {
  display: none;
}

/* Styles for posts lists (not auto-injected) */


.posts-with-sidebar {
  padding-left: 45px;
  padding-right: 45px;
}

.posts-list .description h2,
.posts-list .description p {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
}

.posts-list .description h2 {
  font-weight: 700;
  border-bottom: none;
  padding-bottom: 0;
}

.posts-list h2.post-tag {
  border-bottom: 1px solid rgba(0, 0, 0, 0.2);
  padding-bottom: 12px;
}
.posts-list {
  margin-top: 60px;
  margin-bottom: 24px;
}

.posts-list .post-preview {
  text-decoration: none;
  overflow: hidden;
  display: block;
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  padding: 24px 0;
}

.post-preview-last {
  border-bottom: none !important;
}

.posts-list .posts-list-caption {
  grid-column: screen;
  font-weight: 400;
}

.posts-list .post-preview h2 {
  margin: 0 0 6px 0;
  line-height: 1.2em;
  font-style: normal;
  font-size: 24px;
}

.posts-list .post-preview p {
  margin: 0 0 12px 0;
  line-height: 1.4em;
  font-size: 16px;
}

.posts-list .post-preview .thumbnail {
  box-sizing: border-box;
  margin-bottom: 24px;
  position: relative;
  max-width: 500px;
}
.posts-list .post-preview img {
  width: 100%;
  display: block;
}

.posts-list .metadata {
  font-size: 12px;
  line-height: 1.4em;
  margin-bottom: 18px;
}

.posts-list .metadata > * {
  display: inline-block;
}

.posts-list .metadata .publishedDate {
  margin-right: 2em;
}

.posts-list .metadata .dt-authors {
  display: block;
  margin-top: 0.3em;
  margin-right: 2em;
}

.posts-list .dt-tags {
  display: block;
  line-height: 1em;
}

.posts-list .dt-tags .dt-tag {
  display: inline-block;
  color: rgba(0,0,0,0.6);
  padding: 0.3em 0.4em;
  margin-right: 0.2em;
  margin-bottom: 0.4em;
  font-size: 60%;
  border: 1px solid rgba(0,0,0,0.2);
  border-radius: 3px;
  text-transform: uppercase;
  font-weight: 500;
}

.posts-list img {
  opacity: 1;
}

.posts-list img[data-src] {
  opacity: 0;
}

.posts-more {
  clear: both;
}


.posts-sidebar {
  font-size: 16px;
}

.posts-sidebar h3 {
  font-size: 16px;
  margin-top: 0;
  margin-bottom: 0.5em;
  font-weight: 400;
  text-transform: uppercase;
}

.sidebar-section {
  margin-bottom: 30px;
}

.categories ul {
  list-style-type: none;
  margin: 0;
  padding: 0;
}

.categories li {
  color: rgba(0, 0, 0, 0.8);
  margin-bottom: 0;
}

.categories li>a {
  border-bottom: none;
}

.categories li>a:hover {
  border-bottom: 1px solid rgba(0, 0, 0, 0.4);
}

.categories .active {
  font-weight: 600;
}

.categories .category-count {
  color: rgba(0, 0, 0, 0.4);
}


@media(min-width: 768px) {
  .posts-list .post-preview h2 {
    font-size: 26px;
  }
  .posts-list .post-preview .thumbnail {
    float: right;
    width: 30%;
    margin-bottom: 0;
  }
  .posts-list .post-preview .description {
    float: left;
    width: 45%;
  }
  .posts-list .post-preview .metadata {
    float: left;
    width: 20%;
    margin-top: 8px;
  }
  .posts-list .post-preview p {
    margin: 0 0 12px 0;
    line-height: 1.5em;
    font-size: 16px;
  }
  .posts-with-sidebar .posts-list {
    float: left;
    width: 75%;
  }
  .posts-with-sidebar .posts-sidebar {
    float: right;
    width: 20%;
    margin-top: 60px;
    padding-top: 24px;
    padding-bottom: 24px;
  }
}


/* Improve display for browsers without grid (IE/Edge <= 15) */

.downlevel {
  line-height: 1.6em;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
  margin: 0;
}

.downlevel .d-title {
  padding-top: 6rem;
  padding-bottom: 1.5rem;
}

.downlevel .d-title h1 {
  font-size: 50px;
  font-weight: 700;
  line-height: 1.1em;
  margin: 0 0 0.5rem;
}

.downlevel .d-title p {
  font-weight: 300;
  font-size: 1.2rem;
  line-height: 1.55em;
  margin-top: 0;
}

.downlevel .d-byline {
  padding-top: 0.8em;
  padding-bottom: 0.8em;
  font-size: 0.8rem;
  line-height: 1.8em;
}

.downlevel .section-separator {
  border: none;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
}

.downlevel .d-article {
  font-size: 1.06rem;
  line-height: 1.7em;
  padding-top: 1rem;
  padding-bottom: 2rem;
}


.downlevel .d-appendix {
  padding-left: 0;
  padding-right: 0;
  max-width: none;
  font-size: 0.8em;
  line-height: 1.7em;
  margin-bottom: 0;
  color: rgba(0,0,0,0.5);
  padding-top: 40px;
  padding-bottom: 48px;
}

.downlevel .footnotes ol {
  padding-left: 13px;
}

.downlevel .base-grid,
.downlevel .distill-header,
.downlevel .d-title,
.downlevel .d-abstract,
.downlevel .d-article,
.downlevel .d-appendix,
.downlevel .distill-appendix,
.downlevel .d-byline,
.downlevel .d-footnote-list,
.downlevel .d-citation-list,
.downlevel .distill-footer,
.downlevel .appendix-bottom,
.downlevel .posts-container {
  padding-left: 40px;
  padding-right: 40px;
}

@media(min-width: 768px) {
  .downlevel .base-grid,
  .downlevel .distill-header,
  .downlevel .d-title,
  .downlevel .d-abstract,
  .downlevel .d-article,
  .downlevel .d-appendix,
  .downlevel .distill-appendix,
  .downlevel .d-byline,
  .downlevel .d-footnote-list,
  .downlevel .d-citation-list,
  .downlevel .distill-footer,
  .downlevel .appendix-bottom,
  .downlevel .posts-container {
  padding-left: 150px;
  padding-right: 150px;
  max-width: 900px;
}
}

.downlevel pre code {
  display: block;
  border-left: 2px solid rgba(0, 0, 0, .1);
  padding: 0 0 0 20px;
  font-size: 14px;
}

.downlevel code, .downlevel pre {
  color: black;
  background: none;
  font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.5;

  -moz-tab-size: 4;
  -o-tab-size: 4;
  tab-size: 4;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

.downlevel .posts-list .post-preview {
  color: inherit;
}



</style>

<script type="application/javascript">

function is_downlevel_browser() {
  if (bowser.isUnsupportedBrowser({ msie: "12", msedge: "16"},
                                 window.navigator.userAgent)) {
    return true;
  } else {
    return window.load_distill_framework === undefined;
  }
}

// show body when load is complete
function on_load_complete() {

  // add anchors
  if (window.anchors) {
    window.anchors.options.placement = 'left';
    window.anchors.add('d-article > h2, d-article > h3, d-article > h4, d-article > h5');
  }


  // set body to visible
  document.body.style.visibility = 'visible';

  // force redraw for leaflet widgets
  if (window.HTMLWidgets) {
    var maps = window.HTMLWidgets.findAll(".leaflet");
    $.each(maps, function(i, el) {
      var map = this.getMap();
      map.invalidateSize();
      map.eachLayer(function(layer) {
        if (layer instanceof L.TileLayer)
          layer.redraw();
      });
    });
  }

  // trigger 'shown' so htmlwidgets resize
  $('d-article').trigger('shown');
}

function init_distill() {

  init_common();

  // create front matter
  var front_matter = $('<d-front-matter></d-front-matter>');
  $('#distill-front-matter').wrap(front_matter);

  // create d-title
  $('.d-title').changeElementType('d-title');

  // separator
  var separator = '<hr class="section-separator" style="clear: both"/>';
  // prepend separator above appendix
  $('.d-byline').before(separator);
  $('.d-article').before(separator);

  // create d-byline
  var byline = $('<d-byline></d-byline>');
  $('.d-byline').replaceWith(byline);

  // create d-article
  var article = $('<d-article></d-article>');
  $('.d-article').wrap(article).children().unwrap();

  // move posts container into article
  $('.posts-container').appendTo($('d-article'));

  // create d-appendix
  $('.d-appendix').changeElementType('d-appendix');

  // flag indicating that we have appendix items
  var appendix = $('.appendix-bottom').children('h3').length > 0;

  // replace footnotes with <d-footnote>
  $('.footnote-ref').each(function(i, val) {
    appendix = true;
    var href = $(this).attr('href');
    var id = href.replace('#', '');
    var fn = $('#' + id);
    var fn_p = $('#' + id + '>p');
    fn_p.find('.footnote-back').remove();
    var text = fn_p.html();
    var dtfn = $('<d-footnote></d-footnote>');
    dtfn.html(text);
    $(this).replaceWith(dtfn);
  });
  // remove footnotes
  $('.footnotes').remove();

  // move refs into #references-listing
  $('#references-listing').replaceWith($('#refs'));

  $('h1.appendix, h2.appendix').each(function(i, val) {
    $(this).changeElementType('h3');
  });
  $('h3.appendix').each(function(i, val) {
    var id = $(this).attr('id');
    $('.d-contents a[href="#' + id + '"]').parent().remove();
    appendix = true;
    $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('d-appendix'));
  });

  // show d-appendix if we have appendix content
  $("d-appendix").css('display', appendix ? 'grid' : 'none');

  // localize layout chunks to just output
  $('.layout-chunk').each(function(i, val) {

    // capture layout
    var layout = $(this).attr('data-layout');

    // apply layout to markdown level block elements
    var elements = $(this).children().not('details, div.sourceCode, pre, script');
    elements.each(function(i, el) {
      var layout_div = $('<div class="' + layout + '"></div>');
      if (layout_div.hasClass('shaded')) {
        var shaded_content = $('<div class="shaded-content"></div>');
        $(this).wrap(shaded_content);
        $(this).parent().wrap(layout_div);
      } else {
        $(this).wrap(layout_div);
      }
    });


    // unwrap the layout-chunk div
    $(this).children().unwrap();
  });

  // remove code block used to force  highlighting css
  $('.distill-force-highlighting-css').parent().remove();

  // remove empty line numbers inserted by pandoc when using a
  // custom syntax highlighting theme, except when numbering line
  // in code chunk
  $('pre:not(.numberLines) code.sourceCode a:empty').remove();

  // load distill framework
  load_distill_framework();

  // wait for window.distillRunlevel == 4 to do post processing
  function distill_post_process() {

    if (!window.distillRunlevel || window.distillRunlevel < 4)
      return;

    // hide author/affiliations entirely if we have no authors
    var front_matter = JSON.parse($("#distill-front-matter").html());
    var have_authors = front_matter.authors && front_matter.authors.length > 0;
    if (!have_authors)
      $('d-byline').addClass('hidden');

    // article with toc class
    $('.d-contents').parent().addClass('d-article-with-toc');

    // strip links that point to #
    $('.authors-affiliations').find('a[href="#"]').removeAttr('href');

    // add orcid ids
    $('.authors-affiliations').find('.author').each(function(i, el) {
      var orcid_id = front_matter.authors[i].orcidID;
      var author_name = front_matter.authors[i].author
      if (orcid_id) {
        var a = $('<a></a>');
        a.attr('href', 'https://orcid.org/' + orcid_id);
        var img = $('<img></img>');
        img.addClass('orcid-id');
        img.attr('alt', author_name ? 'ORCID ID for ' + author_name : 'ORCID ID');
        img.attr('src','data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg==');
        a.append(img);
        $(this).append(a);
      }
    });

    // hide elements of author/affiliations grid that have no value
    function hide_byline_column(caption) {
      $('d-byline').find('h3:contains("' + caption + '")').parent().css('visibility', 'hidden');
    }

    // affiliations
    var have_affiliations = false;
    for (var i = 0; i<front_matter.authors.length; ++i) {
      var author = front_matter.authors[i];
      if (author.affiliation !== "&nbsp;") {
        have_affiliations = true;
        break;
      }
    }
    if (!have_affiliations)
      $('d-byline').find('h3:contains("Affiliations")').css('visibility', 'hidden');

    // published date
    if (!front_matter.publishedDate)
      hide_byline_column("Published");

    // document object identifier
    var doi = $('d-byline').find('h3:contains("DOI")');
    var doi_p = doi.next().empty();
    if (!front_matter.doi) {
      // if we have a citation and valid citationText then link to that
      if ($('#citation').length > 0 && front_matter.citationText) {
        doi.html('Citation');
        $('<a href="#citation"></a>')
          .text(front_matter.citationText)
          .appendTo(doi_p);
      } else {
        hide_byline_column("DOI");
      }
    } else {
      $('<a></a>')
         .attr('href', "https://doi.org/" + front_matter.doi)
         .html(front_matter.doi)
         .appendTo(doi_p);
    }

     // change plural form of authors/affiliations
    if (front_matter.authors.length === 1) {
      var grid = $('.authors-affiliations');
      grid.children('h3:contains("Authors")').text('Author');
      grid.children('h3:contains("Affiliations")').text('Affiliation');
    }

    // remove d-appendix and d-footnote-list local styles
    $('d-appendix > style:first-child').remove();
    $('d-footnote-list > style:first-child').remove();

    // move appendix-bottom entries to the bottom
    $('.appendix-bottom').appendTo('d-appendix').children().unwrap();
    $('.appendix-bottom').remove();

    // hoverable references
    $('span.citation[data-cites]').each(function() {
      const citeChild = $(this).children()[0]
      // Do not process if @xyz has been used without escaping and without bibliography activated
      // https://github.com/rstudio/distill/issues/466
      if (citeChild === undefined) return true

      if (citeChild.nodeName == "D-FOOTNOTE") {
        var fn = citeChild
        $(this).html(fn.shadowRoot.querySelector("sup"))
        $(this).id = fn.id
        fn.remove()
      }
      var refs = $(this).attr('data-cites').split(" ");
      var refHtml = refs.map(function(ref) {
        // Could use CSS.escape too here, we insure backward compatibility in navigator
        return "<p>" + $('div[id="ref-' + ref + '"]').html() + "</p>";
      }).join("\n");
      window.tippy(this, {
        allowHTML: true,
        content: refHtml,
        maxWidth: 500,
        interactive: true,
        interactiveBorder: 10,
        theme: 'light-border',
        placement: 'bottom-start'
      });
    });

    // fix footnotes in tables (#411)
    // replacing broken distill.pub feature
    $('table d-footnote').each(function() {
      // we replace internal showAtNode methode which is triggered when hovering a footnote
      this.hoverBox.showAtNode = function(node) {
        // ported from https://github.com/distillpub/template/pull/105/files
        calcOffset = function(elem) {
            let x = elem.offsetLeft;
            let y = elem.offsetTop;
            // Traverse upwards until an `absolute` element is found or `elem`
            // becomes null.
            while (elem = elem.offsetParent && elem.style.position != 'absolute') {
                x += elem.offsetLeft;
                y += elem.offsetTop;
            }

            return { left: x, top: y };
        }
        // https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/offsetTop
        const bbox = node.getBoundingClientRect();
        const offset = calcOffset(node);
        this.show([offset.left + bbox.width, offset.top + bbox.height]);
      }
    })

    // clear polling timer
    clearInterval(tid);

    // show body now that everything is ready
    on_load_complete();
  }

  var tid = setInterval(distill_post_process, 50);
  distill_post_process();

}

function init_downlevel() {

  init_common();

   // insert hr after d-title
  $('.d-title').after($('<hr class="section-separator"/>'));

  // check if we have authors
  var front_matter = JSON.parse($("#distill-front-matter").html());
  var have_authors = front_matter.authors && front_matter.authors.length > 0;

  // manage byline/border
  if (!have_authors)
    $('.d-byline').remove();
  $('.d-byline').after($('<hr class="section-separator"/>'));
  $('.d-byline a').remove();

  // remove toc
  $('.d-contents').remove();

  // move appendix elements
  $('h1.appendix, h2.appendix').each(function(i, val) {
    $(this).changeElementType('h3');
  });
  $('h3.appendix').each(function(i, val) {
    $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('.d-appendix'));
  });


  // inject headers into references and footnotes
  var refs_header = $('<h3></h3>');
  refs_header.text('References');
  $('#refs').prepend(refs_header);

  var footnotes_header = $('<h3></h3');
  footnotes_header.text('Footnotes');
  $('.footnotes').children('hr').first().replaceWith(footnotes_header);

  // move appendix-bottom entries to the bottom
  $('.appendix-bottom').appendTo('.d-appendix').children().unwrap();
  $('.appendix-bottom').remove();

  // remove appendix if it's empty
  if ($('.d-appendix').children().length === 0)
    $('.d-appendix').remove();

  // prepend separator above appendix
  $('.d-appendix').before($('<hr class="section-separator" style="clear: both"/>'));

  // trim code
  $('pre>code').each(function(i, val) {
    $(this).html($.trim($(this).html()));
  });

  // move posts-container right before article
  $('.posts-container').insertBefore($('.d-article'));

  $('body').addClass('downlevel');

  on_load_complete();
}


function init_common() {

  // jquery plugin to change element types
  (function($) {
    $.fn.changeElementType = function(newType) {
      var attrs = {};

      $.each(this[0].attributes, function(idx, attr) {
        attrs[attr.nodeName] = attr.nodeValue;
      });

      this.replaceWith(function() {
        return $("<" + newType + "/>", attrs).append($(this).contents());
      });
    };
  })(jQuery);

  // prevent underline for linked images
  $('a > img').parent().css({'border-bottom' : 'none'});

  // mark non-body figures created by knitr chunks as 100% width
  $('.layout-chunk').each(function(i, val) {
    var figures = $(this).find('img, .html-widget');
    // ignore leaflet img layers (#106)
    figures = figures.filter(':not(img[class*="leaflet"])')
    if ($(this).attr('data-layout') !== "l-body") {
      figures.css('width', '100%');
    } else {
      figures.css('max-width', '100%');
      figures.filter("[width]").each(function(i, val) {
        var fig = $(this);
        fig.css('width', fig.attr('width') + 'px');
      });

    }
  });

  // auto-append index.html to post-preview links in file: protocol
  // and in rstudio ide preview
  $('.post-preview').each(function(i, val) {
    if (window.location.protocol === "file:")
      $(this).attr('href', $(this).attr('href') + "index.html");
  });

  // get rid of index.html references in header
  if (window.location.protocol !== "file:") {
    $('.distill-site-header a[href]').each(function(i,val) {
      $(this).attr('href', $(this).attr('href').replace(/^index[.]html/, "./"));
    });
  }

  // add class to pandoc style tables
  $('tr.header').parent('thead').parent('table').addClass('pandoc-table');
  $('.kable-table').children('table').addClass('pandoc-table');

  // add figcaption style to table captions
  $('caption').parent('table').addClass("figcaption");

  // initialize posts list
  if (window.init_posts_list)
    window.init_posts_list();

  // implmement disqus comment link
  $('.disqus-comment-count').click(function() {
    window.headroom_prevent_pin = true;
    $('#disqus_thread').toggleClass('hidden');
    if (!$('#disqus_thread').hasClass('hidden')) {
      var offset = $(this).offset();
      $(window).resize();
      $('html, body').animate({
        scrollTop: offset.top - 35
      });
    }
  });
}

document.addEventListener('DOMContentLoaded', function() {
  if (is_downlevel_browser())
    init_downlevel();
  else
    window.addEventListener('WebComponentsReady', init_distill);
});

</script>

<style type="text/css">
/* base variables */

/* Edit the CSS properties in this file to create a custom
   Distill theme. Only edit values in the right column
   for each row; values shown are the CSS defaults.
   To return any property to the default,
   you may set its value to: unset
   All rows must end with a semi-colon.                      */

/* Optional: embed custom fonts here with `@import`          */
/* This must remain at the top of this file.                 */



html {
  /*-- Main font sizes --*/
  --title-size:      50px;
  --body-size:       1.06rem;
  --code-size:       14px;
  --aside-size:      12px;
  --fig-cap-size:    13px;
  /*-- Main font colors --*/
  --title-color:     #000000;
  --header-color:    rgba(0, 0, 0, 0.8);
  --body-color:      rgba(0, 0, 0, 0.8);
  --aside-color:     rgba(0, 0, 0, 0.6);
  --fig-cap-color:   rgba(0, 0, 0, 0.6);
  /*-- Specify custom fonts ~~~ must be imported above   --*/
  --heading-font:    sans-serif;
  --mono-font:       monospace;
  --body-font:       sans-serif;
  --navbar-font:     sans-serif;  /* websites + blogs only */
}

/*-- ARTICLE METADATA --*/
d-byline {
  --heading-size:    0.6rem;
  --heading-color:   rgba(0, 0, 0, 0.5);
  --body-size:       0.8rem;
  --body-color:      rgba(0, 0, 0, 0.8);
}

/*-- ARTICLE TABLE OF CONTENTS --*/
.d-contents {
  --heading-size:    18px;
  --contents-size:   13px;
}

/*-- ARTICLE APPENDIX --*/
d-appendix {
  --heading-size:    15px;
  --heading-color:   rgba(0, 0, 0, 0.65);
  --text-size:       0.8em;
  --text-color:      rgba(0, 0, 0, 0.5);
}

/*-- WEBSITE HEADER + FOOTER --*/
/* These properties only apply to Distill sites and blogs  */

.distill-site-header {
  --title-size:       18px;
  --text-color:       rgba(255, 255, 255, 0.8);
  --text-size:        15px;
  --hover-color:      white;
  --bkgd-color:       #0F2E3D;
}

.distill-site-footer {
  --text-color:       rgba(255, 255, 255, 0.8);
  --text-size:        15px;
  --hover-color:      white;
  --bkgd-color:       #0F2E3D;
}

/*-- Additional custom styles --*/
/* Add any additional CSS rules below                      */
</style>
<style type="text/css">
/* base variables */

/* Edit the CSS properties in this file to create a custom
   Distill theme. Only edit values in the right column
   for each row; values shown are the CSS defaults.
   To return any property to the default,
   you may set its value to: unset
   All rows must end with a semi-colon.                      */

/* Optional: embed custom fonts here with `@import`          */
/* This must remain at the top of this file.                 */

@import url('https://fonts.googleapis.com/css2?family=Questrial');

html {
  /*-- Main font sizes --*/
  --title-size:      50px;
  --body-size:       1.06rem;
  --code-size:       14px;
  --aside-size:      12px;
  --fig-cap-size:    13px;
  /*-- Main font colors --*/
  --title-color:     #000000;
  --header-color:    rgba(0, 0, 0, 0.8);
  --body-color:      rgba(0, 0, 0, 0.8);
  --aside-color:     rgba(0, 0, 0, 0.6);
  --fig-cap-color:   rgba(0, 0, 0, 0.6);
  /*-- Specify custom fonts ~~~ must be imported above   --*/
  --heading-font:    "Questrial", sans-serif;
  --mono-font:       monospace;
  --body-font:       "Questrial", sans-serif;
  --navbar-font:     "Questrial", sans-serif;  /* websites + blogs only */
}

/*-- ARTICLE METADATA --*/
d-byline {
  --heading-size:    0.6rem;
  --heading-color:   rgba(0, 0, 0, 0.5);
  --body-size:       0.8rem;
  --body-color:      rgba(0, 0, 0, 0.8);
}

/*-- ARTICLE TABLE OF CONTENTS --*/
.d-contents {
  --heading-size:    18px;
  --contents-size:   13px;
}

/*-- ARTICLE APPENDIX --*/
d-appendix {
  --heading-size:    15px;
  --heading-color:   rgba(0, 0, 0, 0.65);
  --text-size:       0.8em;
  --text-color:      rgba(0, 0, 0, 0.5);
}

/*-- WEBSITE HEADER + FOOTER --*/
/* These properties only apply to Distill sites and blogs  */

.distill-site-header {
  --title-size:       18px;
  --text-color:       rgba(255, 255, 255, 0.8);
  --text-size:        15px;
  --hover-color:      white;
  --bkgd-color:       #000e78;
}

.distill-site-footer {
  --text-color:       rgba(255, 255, 255, 0.8);
  --text-size:        15px;
  --hover-color:      white;
  --bkgd-color:       #000e78;
}

/*-- Additional custom styles --*/
/* Add any additional CSS rules below                      */

@media screen and (min-width: 768px) {
  d-article aside {
    height: 0;
  }
  aside.slides {
    margin-left: -148px;
    height: auto;
  }
  aside.slides + h2 {
    white-space: nowrap;
  }
}

d-article li {
  margin-bottom: 0.1em;
}

.posts-list .post-preview .thumbnail {
  max-height: 300px;
  overflow: hidden;
}</style>
<style type="text/css">
/* base style */

/* FONT FAMILIES */

:root {
  --heading-default: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
  --mono-default: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  --body-default: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
}

body,
.posts-list .post-preview p,
.posts-list .description p {
  font-family: var(--body-font), var(--body-default);
}

h1, h2, h3, h4, h5, h6,
.posts-list .post-preview h2,
.posts-list .description h2 {
  font-family: var(--heading-font), var(--heading-default);
}

d-article div.sourceCode code,
d-article pre code {
  font-family: var(--mono-font), var(--mono-default);
}


/*-- TITLE --*/
d-title h1,
.posts-list > h1 {
  color: var(--title-color, black);
}

d-title h1 {
  font-size: var(--title-size, 50px);
}

/*-- HEADERS --*/
d-article h1,
d-article h2,
d-article h3,
d-article h4,
d-article h5,
d-article h6 {
  color: var(--header-color, rgba(0, 0, 0, 0.8));
}

/*-- BODY --*/
d-article > p,  /* only text inside of <p> tags */
d-article > ul, /* lists */
d-article > ol {
  color: var(--body-color, rgba(0, 0, 0, 0.8));
  font-size: var(--body-size, 1.06rem);
}


/*-- CODE --*/
d-article div.sourceCode code,
d-article pre code {
  font-size: var(--code-size, 14px);
}

/*-- ASIDE --*/
d-article aside {
  font-size: var(--aside-size, 12px);
  color: var(--aside-color, rgba(0, 0, 0, 0.6));
}

/*-- FIGURE CAPTIONS --*/
figure .caption,
figure figcaption,
.figure .caption {
  font-size: var(--fig-cap-size, 13px);
  color: var(--fig-cap-color, rgba(0, 0, 0, 0.6));
}

/*-- METADATA --*/
d-byline h3 {
  font-size: var(--heading-size, 0.6rem);
  color: var(--heading-color, rgba(0, 0, 0, 0.5));
}

d-byline {
  font-size: var(--body-size, 0.8rem);
  color: var(--body-color, rgba(0, 0, 0, 0.8));
}

d-byline a,
d-article d-byline a {
  color: var(--body-color, rgba(0, 0, 0, 0.8));
}

/*-- TABLE OF CONTENTS --*/
.d-contents nav h3 {
  font-size: var(--heading-size, 18px);
}

.d-contents nav a {
  font-size: var(--contents-size, 13px);
}

/*-- APPENDIX --*/
d-appendix h3 {
  font-size: var(--heading-size, 15px);
  color: var(--heading-color, rgba(0, 0, 0, 0.65));
}

d-appendix {
  font-size: var(--text-size, 0.8em);
  color: var(--text-color, rgba(0, 0, 0, 0.5));
}

d-appendix d-footnote-list a.footnote-backlink {
  color: var(--text-color, rgba(0, 0, 0, 0.5));
}

/*-- WEBSITE HEADER + FOOTER --*/
.distill-site-header .title {
  font-size: var(--title-size, 18px);
  font-family: var(--navbar-font), var(--heading-default);
}

.distill-site-header a,
.nav-dropdown .nav-dropbtn {
  font-family: var(--navbar-font), var(--heading-default);
}

.nav-dropdown .nav-dropbtn {
  color: var(--text-color, rgba(255, 255, 255, 0.8));
  font-size: var(--text-size, 15px);
}

.distill-site-header a:hover,
.nav-dropdown:hover .nav-dropbtn {
  color: var(--hover-color, white);
}

.distill-site-header {
  font-size: var(--text-size, 15px);
  color: var(--text-color, rgba(255, 255, 255, 0.8));
  background-color: var(--bkgd-color, #0F2E3D);
}

.distill-site-footer {
  font-size: var(--text-size, 15px);
  color: var(--text-color, rgba(255, 255, 255, 0.8));
  background-color: var(--bkgd-color, #0F2E3D);
}

.distill-site-footer a:hover {
  color: var(--hover-color, white);
}</style>
<!--/radix_placeholder_distill-->
  <script src="../../../site_libs/header-attrs-2.19/header-attrs.js"></script>
  <script src="../../../site_libs/htmlwidgets-1.6.1/htmlwidgets.js"></script>
  <script src="../../../site_libs/d3-bundle-5.16.0/d3-bundle.min.js"></script>
  <script src="../../../site_libs/d3-lasso-0.0.5/d3-lasso.min.js"></script>
  <script src="../../../site_libs/save-svg-as-png-1.4.17/save-svg-as-png.min.js"></script>
  <script src="../../../site_libs/flatbush-4.0.0/flatbush.min.js"></script>
  <link href="../../../site_libs/ggiraphjs-0.4.6/ggiraphjs.min.css" rel="stylesheet" />
  <script src="../../../site_libs/ggiraphjs-0.4.6/ggiraphjs.min.js"></script>
  <script src="../../../site_libs/girafe-binding-0.8.5/girafe.js"></script>
  <script src="../../../site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
  <script src="../../../site_libs/popper-2.6.0/popper.min.js"></script>
  <link href="../../../site_libs/tippy-6.2.7/tippy.css" rel="stylesheet" />
  <link href="../../../site_libs/tippy-6.2.7/tippy-light-border.css" rel="stylesheet" />
  <script src="../../../site_libs/tippy-6.2.7/tippy.umd.min.js"></script>
  <script src="../../../site_libs/anchor-4.2.2/anchor.min.js"></script>
  <script src="../../../site_libs/bowser-1.9.3/bowser.min.js"></script>
  <script src="../../../site_libs/webcomponents-2.0.0/webcomponents.js"></script>
  <script src="../../../site_libs/distill-2.2.21/template.v2.js"></script>
  <!--radix_placeholder_site_in_header-->
<!--/radix_placeholder_site_in_header-->


</head>

<body>

<!--radix_placeholder_front_matter-->

<script id="distill-front-matter" type="text/json">
{"title":"New York Times market share graph","description":"In this article I explain how I replicated a New York Times chart in R and the \nprocess of creating a different chart with ggplot2 with the same data. I'll \nalso explain the limitations of replication and alternative visualization, and\ndiscuss the strengths and weaknesses of both charts, based on data \nvisualization theory.","authors":[{"author":"Isabel Molero Lopez","authorURL":"#","affiliation":"&nbsp;","affiliationURL":"#","orcidID":""}],"publishedDate":"2023-01-13T00:00:00.000+01:00","citationText":"Lopez, 2023"}
</script>

<!--/radix_placeholder_front_matter-->
<!--radix_placeholder_navigation_before_body-->
<header class="header header--fixed" role="banner">
<nav class="distill-site-nav distill-site-header">
<div class="nav-left">
<span class="logo">
<img src="../../../assets/acronimo_0.png"/>
</span>
<a href="../../../index.html" class="title">Data visualization | MSc CSS</a>
<input id="distill-search" class="nav-search hidden" type="text" placeholder="Search..."/>
</div>
<div class="nav-right">
<a href="../../../contents.html">Contents</a>
<a href="../../../tutorials.html">Tutorials</a>
<a href="../../../resources.html">Resources</a>
<a href="../../../projects.html">Projects</a>
<a href="https://github.com/IBiDat/dataviz" aria-label="Link to source">
<i class="fab fa-github" aria-hidden="true"></i>
</a>
<a href="javascript:void(0);" class="nav-toggle">&#9776;</a>
</div>
</nav>
</header>
<!--/radix_placeholder_navigation_before_body-->
<!--radix_placeholder_site_before_body-->
<!--/radix_placeholder_site_before_body-->

<div class="d-title">
<h1>New York Times market share graph</h1>
<!--radix_placeholder_categories-->
<div class="dt-tags">
  <a href="../../../projects.html#category:2022" class="dt-tag">2022</a>
</div>
<!--/radix_placeholder_categories-->
<p><p>In this article I explain how I replicated a New York Times chart in R and the
process of creating a different chart with ggplot2 with the same data. I’ll
also explain the limitations of replication and alternative visualization, and
discuss the strengths and weaknesses of both charts, based on data
visualization theory.</p></p>
</div>

<div class="d-byline">
  
  Isabel Molero Lopez
  
<br/>2023-01-13
</div>

<div class="d-article">
<div class="d-contents d-contents-float">
<nav class="l-text toc figcaption" id="TOC">
<h3>Contents</h3>
<ul>
<li><a href="#first-step-replicate-the-graph">First step: replicate the graph</a>
<ul>
<li><a href="#original-graphic-source-new-york-times">Original graphic source: New York Times</a></li>
<li><a href="#read-and-prepare-the-data">1. Read and prepare the data</a></li>
<li><a href="#create-the-first-part-of-the-plot">2. Create the first part of the plot</a></li>
<li><a href="#create-the-second-part-of-the-plot">3. Create the second part of the plot</a></li>
<li><a href="#arranging-plots">4. Arranging plots</a></li>
<li><a href="#limitations-of-the-replication-of-the-graph">Limitations of the replication of the graph</a></li>
</ul></li>
<li><a href="#chart-evaluation-based-on-data-visualization-theory">Chart evaluation based on data visualization theory</a></li>
<li><a href="#second-step-create-a-new-visualization-with-the-same-data">Second step: create a new visualization with the same data</a>
<ul>
<li><a href="#prepare-the-data">Prepare the data</a></li>
<li><a href="#create-the-static-graph">Create the static graph</a></li>
<li><a href="#add-interactivity-with-the-package-ggiraph">Add interactivity with the package ggiraph</a></li>
</ul></li>
</ul>
</nav>
</div>
<h2 id="first-step-replicate-the-graph">First step: replicate the graph</h2>
<h3 id="original-graphic-source-new-york-times">Original graphic source: New York Times</h3>
<p>The American newspaper “The New York Times” published in November 2018 an
opinion article written by columnist David Leonhardt. This journalist explained
how in recent years monopolies have increased in the United States despite the
reluctance of many Americans who consider them a threat to market competition
and individual freedom. This article is accompanied by a graph showing how the
combined market share has changed for the top two companies in many industries.</p>
<p><strong><em><a href="https://www.nytimes.com/2018/11/25/opinion/monopolies-in-the-us.html?unlocked_article_code=AAAAAAAAAAAAAAAACEIPuonUktbco4hlSVUZBibSRdkhrxqAwv3IxrskgXv_ITPQSDAH0-QYRpWbvUfRYK4pL_0C4wOmfv4Terk-WK41ieZFI01mTwTvqMqKyMUPfS5woo_pAiZrj5-XGLkzrmevP2Xidr5xlePjskrbenCqDPKEqQApJAlipZFgfFmtyCZIkv-DSrgpr4E4ifQxBZl6RiMDZD2IuZTrDRZ4O9aBa3LM-1V8GrEZCXyIw4nqu_9Xex5SCFnGUHt8_W0_jdtZM94XN6r5RAUyt9cDVL2W_2EO8RB4R-XivQ&amp;smid=nytcore-ios-share&amp;referringSource=articleShare">The Monopolization of America</a></em></strong></p>
<div class="layout-chunk" data-layout="l-body">
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:unnamed-chunk-1"></span>
<img src="Imagen1.png" alt="Source: New York Times" width="50%" />
<p class="caption">
Figure 1: Source: New York Times
</p>
</div>
</div>
<p>In this tutorial I will show how to replicate this data visualization step by
step with R and the package ggplot2.</p>
<p>First we have to load the two basic libraries that we will use throughout the
tutorial: <em>tidyverse</em> and <em>ggplot2</em></p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'># Load libraries:</span></span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://tidyverse.tidyverse.org'>tidyverse</a></span><span class='op'>)</span></span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://ggplot2.tidyverse.org'>ggplot2</a></span><span class='op'>)</span></span></code></pre>
</div>
</div>
<h3 id="read-and-prepare-the-data">1. Read and prepare the data</h3>
<p>Since the chart’s data source was not directly accessible, I created a csv file
with the data. This file contains data for three different variables: the type
of industry, the market share in the year 2000, and the current market share.
Also, since in the original graph the positive and negative increases over time
in the market share are differentiated, I create a new variable (<em>increase</em>)
with this information.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>data</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/utils/read.table.html'>read.csv</a></span><span class='op'>(</span><span class='st'>"data_graph.csv"</span>, sep <span class='op'>=</span> <span class='st'>";"</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> </span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>increase <span class='op'>=</span> <span class='va'>market_share_now</span> <span class='op'>-</span> <span class='va'>market_share_2000</span>,</span>
<span>         increase2 <span class='op'>=</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/case_when.html'>case_when</a></span><span class='op'>(</span><span class='va'>increase</span> <span class='op'>&gt;</span> <span class='fl'>0</span> <span class='op'>~</span> <span class='st'>"positive"</span>,</span>
<span>                              <span class='cn'>T</span> <span class='op'>~</span> <span class='st'>"negative"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/group_by.html'>group_by</a></span><span class='op'>(</span><span class='va'>increase2</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> </span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/arrange.html'>arrange</a></span><span class='op'>(</span><span class='fu'><a href='https://dplyr.tidyverse.org/reference/desc.html'>desc</a></span><span class='op'>(</span><span class='va'>increase</span><span class='op'>)</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<p>Let’s see how the data is!</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://pillar.r-lib.org/reference/glimpse.html'>glimpse</a></span><span class='op'>(</span><span class='va'>data</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>Rows: 26
Columns: 5
Groups: increase2 [2]
$ industry          &lt;chr&gt; &quot;Hardware stores&quot;, &quot;Shipbuilding&quot;, &quot;Privat…
$ market_share_2000 &lt;int&gt; 42, 24, 19, 51, 30, 35, 39, 79, 22, 35, 34…
$ market_share_now  &lt;int&gt; 84, 62, 55, 82, 61, 61, 60, 99, 41, 52, 49…
$ increase          &lt;int&gt; 42, 38, 36, 31, 31, 26, 21, 20, 19, 17, 15…
$ increase2         &lt;chr&gt; &quot;positive&quot;, &quot;positive&quot;, &quot;positive&quot;, &quot;posit…</code></pre>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span><span class='op'>(</span><span class='va'>data</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>   industry         market_share_2000 market_share_now
 Length:26          Min.   :19.00     Min.   :23.00   
 Class :character   1st Qu.:31.00     1st Qu.:42.00   
 Mode  :character   Median :38.50     Median :56.50   
                    Mean   :42.73     Mean   :55.88   
                    3rd Qu.:51.75     3rd Qu.:62.75   
                    Max.   :79.00     Max.   :99.00   
    increase       increase2        
 Min.   :-25.00   Length:26         
 1st Qu.:  5.50   Class :character  
 Median : 11.50   Mode  :character  
 Mean   : 13.15                     
 3rd Qu.: 20.75                     
 Max.   : 42.00                     </code></pre>
</div>
<h3 id="create-the-first-part-of-the-plot">2. Create the first part of the plot</h3>
<p>The chosen graph has two distinct parts. The first one shows the evolution of
the market share since the early 2000s (2002 to 2007 depending on data
availability) and the second since 2012. For this reason, I will do the upper
plot first and then the lower one.</p>
<p>The first step, therefore, is to filter the data to use only those that
correspond to the industries included in the first graph. Also, I need to create
a new variable that allows me to order the categorical variable <em>industry</em> from
the highest to lowest increase in market share over time (<em>industry_order</em>)</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>upper_plot</span> <span class='op'>&lt;-</span> <span class='va'>data</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>industry</span> <span class='op'>!=</span> <span class='st'>"Smartphones"</span> <span class='op'>&amp;</span> <span class='va'>industry</span> <span class='op'>!=</span> <span class='st'>"Social networks"</span> </span>
<span>         <span class='op'>&amp;</span> <span class='va'>industry</span> <span class='op'>!=</span> <span class='st'>"Cellphone service"</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> </span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>industry_order <span class='op'>=</span> <span class='fu'><a href='https://forcats.tidyverse.org/reference/fct_reorder.html'>fct_reorder</a></span><span class='op'>(</span><span class='va'>industry</span>, <span class='va'>increase</span><span class='op'>)</span><span class='op'>)</span> </span></code></pre>
</div>
</div>
<h4 id="coordinates-and-axes">Coordinates and axes</h4>
<p>The graph has Cartesian coordinates, where x is the market share (continuous
variable ranging from 0 to 100) and y is the type of industry (categorical
variable with 25 different categories). However, in this graph for each y (for
each industry) we have to plot two points on the x-axis: the market share in the
early 2000s and now. But we will see this after in the “Data” section.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>upper_plot</span> <span class='op'>&lt;-</span> <span class='va'>upper_plot</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>market_share_2000</span>, </span>
<span>       y <span class='op'>=</span> <span class='va'>industry_order</span><span class='op'>)</span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>upper_plot</span></span></code></pre>
</div>
<p><img src="100348375_files/figure-html5/unnamed-chunk-7-1.png" width="576" style="display: block; margin: auto;" /></p>
</div>
<p>Also, we want the x scale to go from 10% to 100% in steps of 10 and to be at the
top of the graph. We achieve all this with the arguments of the
“scale_x_continuous” function. In the case of the y-axis, we only need to expand
it slightly at the top to accommodate the labels that need to be entered on the
chart later.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>upper_plot</span> <span class='op'>&lt;-</span> <span class='va'>upper_plot</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_continuous.html'>scale_x_continuous</a></span><span class='op'>(</span>position <span class='op'>=</span> <span class='st'>"top"</span>, </span>
<span>                     breaks <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>10</span>, <span class='fl'>20</span>, <span class='fl'>30</span>, <span class='fl'>40</span>, <span class='fl'>50</span>, <span class='fl'>60</span>, <span class='fl'>70</span>, <span class='fl'>80</span>, <span class='fl'>90</span>, <span class='fl'>100</span><span class='op'>)</span>,</span>
<span>                     limits <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>10</span>, <span class='fl'>100</span><span class='op'>)</span>,</span>
<span>                     labels <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"10%"</span>, <span class='st'>"20"</span>, <span class='st'>"30"</span>, <span class='st'>"40"</span>, <span class='st'>"50"</span>, <span class='st'>"60"</span>, <span class='st'>"70"</span>, </span>
<span>                                <span class='st'>"80"</span>, <span class='st'>"90"</span>, <span class='st'>"100"</span><span class='op'>)</span>,</span>
<span>                     name <span class='op'>=</span> <span class='cn'>NULL</span>,</span>
<span>                     expand <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>,<span class='fl'>0</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_discrete.html'>scale_y_discrete</a></span><span class='op'>(</span>name <span class='op'>=</span> <span class='cn'>NULL</span>, expand <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/expansion.html'>expansion</a></span><span class='op'>(</span>add <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0.4</span>, <span class='fl'>1.5</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>upper_plot</span></span></code></pre>
</div>
<p><img src="100348375_files/figure-html5/unnamed-chunk-8-1.png" width="576" style="display: block; margin: auto;" /></p>
</div>
<h4 id="labels">Labels</h4>
<p>The next step is to put the labels we need: the chart title, the subtitle and
the tag. For this I use the “labs” function. Later, within the “theme” function,
I will be able to adjust its characteristics: font size and type, position…</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>upper_plot</span> <span class='op'>&lt;-</span> <span class='va'>upper_plot</span> <span class='op'>+</span></span>
<span>    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>title <span class='op'>=</span> <span class='st'>"Dominance of Corporate Behemoths"</span>,</span>
<span>       subtitle <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span><span class='op'>(</span><span class='st'>"The combined market share of the two largest companies"</span>,</span>
<span>       <span class='st'>" in many industries has grown\n"</span>,</span>
<span>       <span class='st'>"in recent years, often because of mergers."</span><span class='op'>)</span>,</span>
<span>       tag <span class='op'>=</span> <span class='st'>"MARKET SHARE:"</span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>upper_plot</span></span></code></pre>
</div>
<p><img src="100348375_files/figure-html5/unnamed-chunk-9-1.png" width="576" style="display: block; margin: auto;" /></p>
</div>
<h4 id="theme">Theme</h4>
<p><strong>Label settings</strong></p>
<p>Since the original graphic uses the “Noto Serif” font, the first thing I do is
download it from <a href="https://fonts.google.com/noto/specimen/Noto+Serif">Google Fonts</a>
and install it on my computer. Then I use the function “font_add_google” from
the R package “sysfonts” to be able to use it in the graph. Also, in the R
markdown chunk you have to put the following: “fig.showtext= TRUE”.</p>
<p>Now with the “theme” function I establish the characteristics of the labels that
I have created before (font size and color, font family, font face…). With the
“margin” argument I can set the margins (top, bottom, left and right) of each
label. For example, I have added a bottom margin to both the title and the subtitle.
Even though the “market share” tag now looks like it’s not positioned correctly,
since it overlaps the x-axis text, later when I add the margins it will look
fine.</p>
<p>On the other hand, the argument “plot.title.position =”plot” allows both the
title and the subtitle to start at the top corner of the entire plot and not at
the beginning of the plot pane.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'>sysfonts</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/sysfonts/man/font_add_google.html'>font_add_google</a></span><span class='op'>(</span><span class='st'>"Noto Serif"</span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>upper_plot</span> <span class='op'>&lt;-</span> <span class='va'>upper_plot</span> <span class='op'>+</span></span>
<span>    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span>legend.position <span class='op'>=</span> <span class='st'>"none"</span>,</span>
<span>          plot.title <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>12</span>, </span>
<span>                                  face <span class='op'>=</span> <span class='st'>"bold"</span>, </span>
<span>                                  family <span class='op'>=</span> <span class='st'>"Noto Serif"</span>, </span>
<span>                                  margin <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>margin</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>0</span>, <span class='fl'>5</span>, <span class='fl'>0</span><span class='op'>)</span><span class='op'>)</span>,</span>
<span>          plot.subtitle <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>9.5</span>, </span>
<span>                                     colour <span class='op'>=</span> <span class='st'>"#636363"</span>, </span>
<span>                                     family <span class='op'>=</span> <span class='st'>"Noto Serif"</span>, </span>
<span>                                     margin <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>margin</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>0</span>, <span class='fl'>20</span>, <span class='fl'>0</span><span class='op'>)</span><span class='op'>)</span>,</span>
<span>          plot.title.position <span class='op'>=</span> <span class='st'>"plot"</span>,</span>
<span>          plot.tag.position <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0.12</span>, <span class='fl'>0.878</span><span class='op'>)</span>,</span>
<span>          plot.tag <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>8.7</span>, family <span class='op'>=</span> <span class='st'>"sans"</span>, </span>
<span>                                colour <span class='op'>=</span> <span class='st'>"#a7a7a7"</span><span class='op'>)</span><span class='op'>)</span></span>
<span>  </span>
<span><span class='va'>upper_plot</span></span></code></pre>
</div>
<p><img src="100348375_files/figure-html5/unnamed-chunk-10-1.png" width="576" style="display: block; margin: auto;" /></p>
</div>
<p><strong>Panel grid and panel background</strong></p>
<p>The next step is to configure the grid and the background panel, also with
arguments inside the “theme” function. I change the type of line and the color of
the line with “element_line” function and I set the background of the chart to
white with “element_rect”.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>upper_plot</span> <span class='op'>&lt;-</span> <span class='va'>upper_plot</span> <span class='op'>+</span></span>
<span>    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span>panel.grid.major.y <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_line</a></span><span class='op'>(</span>linetype <span class='op'>=</span> <span class='st'>"dotted"</span>, </span>
<span>                                            colour <span class='op'>=</span> <span class='st'>"#a7a7a7"</span><span class='op'>)</span>,</span>
<span>        panel.grid.major.x <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_line</a></span><span class='op'>(</span>colour <span class='op'>=</span> <span class='st'>"#c9c9c9"</span><span class='op'>)</span>,</span>
<span>        panel.grid.minor <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>,</span>
<span>        panel.background <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>"white"</span><span class='op'>)</span><span class='op'>)</span></span>
<span>        </span>
<span><span class='va'>upper_plot</span></span></code></pre>
</div>
<p><img src="100348375_files/figure-html5/unnamed-chunk-11-1.png" width="576" style="display: block; margin: auto;" /></p>
</div>
<p><strong>Axis text, axis ticks and margins</strong></p>
<p>The last step before finishing the theme of the chart is to adjust the ticks of
each axis (x and y), the titles of the axes and the margins of the chart.</p>
<p>In order to bold the “50” on the x-axis I create a vector inside the function
“element_line”, with the argument “linewidth”. This type of function is not
officially supported, so a “warning” appears. However, it works and it’s the
only way I’ve found to do it.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>upper_plot</span> <span class='op'>&lt;-</span> <span class='va'>upper_plot</span> <span class='op'>+</span></span>
<span>    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span>axis.ticks.y <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>,</span>
<span>        axis.ticks.x <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_line</a></span><span class='op'>(</span>colour <span class='op'>=</span> <span class='st'>"#c9c9c9"</span>, </span>
<span>                                    linewidth <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0.3</span>, <span class='fl'>0.5</span>, <span class='fl'>0.5</span>, <span class='fl'>0.5</span>, <span class='fl'>0.8</span>,</span>
<span>                                                  <span class='fl'>0.5</span>, <span class='fl'>0.5</span>, <span class='fl'>0.5</span>, <span class='fl'>0.5</span>, <span class='fl'>0.4</span><span class='op'>)</span><span class='op'>)</span>,</span>
<span>        axis.ticks.length.x <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/unit.html'>unit</a></span><span class='op'>(</span><span class='fl'>0.2</span>, <span class='st'>"cm"</span><span class='op'>)</span>,</span>
<span>        axis.text.y <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>10</span>, family <span class='op'>=</span> <span class='st'>"sans"</span>, </span>
<span>                                   hjust <span class='op'>=</span> <span class='fl'>0</span>, vjust <span class='op'>=</span> <span class='fl'>0.5</span><span class='op'>)</span>,</span>
<span>        axis.text.x <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>9</span>, family <span class='op'>=</span> <span class='st'>"sans"</span>, </span>
<span>                                   colour <span class='op'>=</span> <span class='st'>"#a7a7a7"</span>,</span>
<span>                                   face <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>'plain'</span>, <span class='st'>'plain'</span>, <span class='st'>'plain'</span>, </span>
<span>                                            <span class='st'>'plain'</span>, <span class='st'>'bold'</span>, <span class='st'>'plain'</span>, </span>
<span>                                            <span class='st'>'plain'</span>, <span class='st'>'plain'</span>, <span class='st'>'plain'</span>, <span class='st'>'plain'</span><span class='op'>)</span><span class='op'>)</span>,</span>
<span>        plot.margin <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>margin</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>1.7</span>, <span class='fl'>0</span>, <span class='fl'>0</span>, <span class='st'>"cm"</span><span class='op'>)</span><span class='op'>)</span></span>
<span>  </span>
<span><span class='va'>upper_plot</span></span></code></pre>
</div>
<p><img src="100348375_files/figure-html5/unnamed-chunk-12-1.png" width="576" style="display: block; margin: auto;" /></p>
</div>
<h4 id="data">Data</h4>
<p>Now is the time to put the data on the chart. To plot the arrows from the 2000’s
market share data to now I use “geom_segment”. In this type of geom you have to
give it 4 aesthetics (x, xend, y, y-end). In addition, you can configure the type
of line (an arrow in this case) and the color, which in this graph depends on
whether the increase is positive or negative (variable <em>increase2</em> created
previously). Then, with the “scale_color_manual” function, the colors associated
with each category of this variable are set.
Lastly, I’ve also added a thicker vertical line highlighting the 50, using the
“geom_vline” function.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>upper_plot</span> <span class='op'>&lt;-</span> <span class='va'>upper_plot</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_abline.html'>geom_vline</a></span><span class='op'>(</span>xintercept <span class='op'>=</span> <span class='fl'>50</span>, color <span class='op'>=</span> <span class='st'>"gray"</span>, linewidth <span class='op'>=</span> <span class='fl'>0.8</span><span class='op'>)</span> <span class='op'>+</span> </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_segment.html'>geom_segment</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>market_share_2000</span>, </span>
<span>                   xend <span class='op'>=</span> <span class='va'>market_share_now</span>, </span>
<span>                   y <span class='op'>=</span> <span class='va'>industry_order</span>, </span>
<span>                   yend <span class='op'>=</span> <span class='va'>industry_order</span>, </span>
<span>                   color <span class='op'>=</span> <span class='va'>increase2</span><span class='op'>)</span>, </span>
<span>               arrow <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/arrow.html'>arrow</a></span><span class='op'>(</span>length <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/unit.html'>unit</a></span><span class='op'>(</span><span class='fl'>0.15</span>, <span class='st'>"cm"</span><span class='op'>)</span>, </span>
<span>                             type <span class='op'>=</span> <span class='st'>"closed"</span><span class='op'>)</span>, linewidth <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_color_manual</a></span><span class='op'>(</span>values <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"#575757"</span>, <span class='st'>"#DB3B27"</span><span class='op'>)</span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>upper_plot</span></span></code></pre>
</div>
<p><img src="100348375_files/figure-html5/unnamed-chunk-13-1.png" width="576" style="display: block; margin: auto;" /></p>
</div>
<h4 id="annotations">Annotations</h4>
<p>Finally, to finish the first graph, we must add the two annotations. To do this,
I have used the “annotate” function, using the x and y arguments to get the
proper final position within the plot area.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>upper_plot</span> <span class='op'>&lt;-</span> <span class='va'>upper_plot</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>34.8</span>, y <span class='op'>=</span> <span class='fl'>23.9</span>, label <span class='op'>=</span> <span class='st'>"Early 2000s"</span>, </span>
<span>           size <span class='op'>=</span> <span class='fl'>3</span>, fontface <span class='op'>=</span> <span class='st'>"bold"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>86.2</span>, y <span class='op'>=</span> <span class='fl'>23.9</span>, label <span class='op'>=</span> <span class='st'>"Now"</span>, </span>
<span>           size <span class='op'>=</span> <span class='fl'>3</span>, fontface <span class='op'>=</span> <span class='st'>"bold"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>42</span>, y <span class='op'>=</span> <span class='fl'>23.4</span>, label <span class='op'>=</span> <span class='st'>"|"</span>, </span>
<span>           size <span class='op'>=</span> <span class='fl'>3.2</span>, fontface <span class='op'>=</span> <span class='st'>"bold"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>84</span>, y <span class='op'>=</span> <span class='fl'>23.4</span>, label <span class='op'>=</span> <span class='st'>"|"</span>, </span>
<span>           size <span class='op'>=</span> <span class='fl'>3.2</span>, fontface <span class='op'>=</span> <span class='st'>"bold"</span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>upper_plot</span></span></code></pre>
</div>
<p><img src="100348375_files/figure-html5/unnamed-chunk-14-1.png" width="576" style="display: block; margin: auto;" /></p>
</div>
<h3 id="create-the-second-part-of-the-plot">3. Create the second part of the plot</h3>
<p>To make the second part of the graphic I have used a very similar code. I have
filtered the data to keep only the three industries starting in 2012.
In addition, I have removed the title, put a different subtitle and added a
caption with the argument “caption” inside the “theme” function.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'>grid</span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>bottom_plot</span> <span class='op'>&lt;-</span> <span class='va'>data</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>industry</span> <span class='op'>==</span> <span class='st'>"Smartphones"</span> <span class='op'>|</span> <span class='va'>industry</span> <span class='op'>==</span> <span class='st'>"Social networks"</span> <span class='op'>|</span> </span>
<span>           <span class='va'>industry</span> <span class='op'>==</span> <span class='st'>"Cellphone service"</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> </span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>industry <span class='op'>=</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/case_when.html'>case_when</a></span><span class='op'>(</span><span class='va'>industry</span> <span class='op'><a href='https://rdrr.io/r/base/match.html'>%in%</a></span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Cellphone service"</span><span class='op'>)</span> <span class='op'>~</span> </span>
<span>                                <span class='st'>"Cellphone service  "</span>,</span>
<span>                              <span class='cn'>T</span> <span class='op'>~</span> <span class='va'>industry</span><span class='op'>)</span>,</span>
<span>         industry_order <span class='op'>=</span> <span class='fu'><a href='https://forcats.tidyverse.org/reference/fct_reorder.html'>fct_reorder</a></span><span class='op'>(</span><span class='va'>industry</span>, <span class='va'>increase</span><span class='op'>)</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_abline.html'>geom_vline</a></span><span class='op'>(</span>xintercept <span class='op'>=</span> <span class='fl'>50</span>, color <span class='op'>=</span> <span class='st'>"gray"</span>, size <span class='op'>=</span> <span class='fl'>0.8</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_segment.html'>geom_segment</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>market_share_2000</span>, </span>
<span>                   xend <span class='op'>=</span> <span class='va'>market_share_now</span>, </span>
<span>                   y <span class='op'>=</span> <span class='va'>industry_order</span>, yend <span class='op'>=</span> <span class='va'>industry_order</span>, </span>
<span>                   color <span class='op'>=</span> <span class='va'>increase2</span><span class='op'>)</span>, </span>
<span>               arrow <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/arrow.html'>arrow</a></span><span class='op'>(</span>length <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/unit.html'>unit</a></span><span class='op'>(</span><span class='fl'>0.15</span>, <span class='st'>"cm"</span><span class='op'>)</span>, </span>
<span>                             type <span class='op'>=</span> <span class='st'>"closed"</span><span class='op'>)</span>, size <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_color_manual</a></span><span class='op'>(</span>values <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"#DB3B27"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_continuous.html'>scale_x_continuous</a></span><span class='op'>(</span>position <span class='op'>=</span> <span class='st'>"bottom"</span>, </span>
<span>                     breaks <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>10</span>, <span class='fl'>20</span>, <span class='fl'>30</span>, <span class='fl'>40</span>, <span class='fl'>50</span>, <span class='fl'>60</span>, <span class='fl'>70</span>, <span class='fl'>80</span>, <span class='fl'>90</span>, <span class='fl'>100</span><span class='op'>)</span>,</span>
<span>                     limits <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>10</span>, <span class='fl'>100</span><span class='op'>)</span>,</span>
<span>                     labels <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"10%"</span>, <span class='st'>"20"</span>, <span class='st'>"30"</span>, <span class='st'>"40"</span>, <span class='st'>"50"</span>, </span>
<span>                                <span class='st'>"60"</span>, <span class='st'>"70"</span>, <span class='st'>"80"</span>, <span class='st'>"90"</span>, <span class='st'>"100"</span><span class='op'>)</span>,</span>
<span>                     name <span class='op'>=</span> <span class='cn'>NULL</span>,</span>
<span>                     expand <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>0</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_discrete.html'>scale_y_discrete</a></span><span class='op'>(</span>name <span class='op'>=</span> <span class='cn'>NULL</span>, expand <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/expansion.html'>expansion</a></span><span class='op'>(</span>add <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0.2</span>, <span class='fl'>0.8</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>subtitle <span class='op'>=</span> <span class='st'>"Technology companies since 2012"</span>,</span>
<span>       caption <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span><span class='op'>(</span><span class='st'>'By The New York Times | Source: IbisWorld and Open'</span>,</span>
<span>       <span class='st'>'Markets Institute; "Early 2000s" ranges\n'</span>, <span class='st'>'from 2002 to 2007'</span>,</span>
<span>       <span class='st'>'depending on data availability'</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span>legend.position <span class='op'>=</span> <span class='st'>"none"</span>,</span>
<span>        plot.title.position <span class='op'>=</span> <span class='st'>"plot"</span>,</span>
<span>        plot.subtitle <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>9.5</span>, family <span class='op'>=</span> <span class='st'>"Noto Serif"</span>, </span>
<span>                                     face <span class='op'>=</span> <span class='st'>"bold"</span>, margin <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>margin</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>0</span>, <span class='fl'>0</span>, <span class='fl'>0</span><span class='op'>)</span><span class='op'>)</span>,</span>
<span>        plot.caption <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>9</span>, colour <span class='op'>=</span> <span class='st'>"#636363"</span>, </span>
<span>                                    family <span class='op'>=</span> <span class='st'>"Noto Serif"</span>, </span>
<span>                                    hjust <span class='op'>=</span> <span class='fl'>0</span>, margin <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>margin</a></span><span class='op'>(</span><span class='fl'>20</span>, <span class='fl'>0</span>, <span class='fl'>0</span>, <span class='fl'>0</span><span class='op'>)</span><span class='op'>)</span>,</span>
<span>        plot.caption.position <span class='op'>=</span> <span class='st'>"plot"</span>,</span>
<span>        panel.grid.major.y <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_line</a></span><span class='op'>(</span>linetype <span class='op'>=</span> <span class='st'>"dotted"</span>, </span>
<span>                                          colour <span class='op'>=</span> <span class='st'>"#a7a7a7"</span><span class='op'>)</span>,</span>
<span>        panel.grid.major.x <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_line</a></span><span class='op'>(</span>colour <span class='op'>=</span> <span class='st'>"#c9c9c9"</span><span class='op'>)</span>,</span>
<span>        panel.grid.minor <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>,</span>
<span>        axis.ticks.y <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>,</span>
<span>        axis.ticks.x <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_line</a></span><span class='op'>(</span>colour <span class='op'>=</span> <span class='st'>"#c9c9c9"</span>, </span>
<span>                                    size <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0.3</span>, <span class='fl'>0.5</span>, <span class='fl'>0.5</span>, <span class='fl'>0.5</span>, <span class='fl'>0.8</span>, </span>
<span>                                             <span class='fl'>0.5</span>, <span class='fl'>0.5</span>, <span class='fl'>0.5</span>, <span class='fl'>0.5</span>, <span class='fl'>0.3</span><span class='op'>)</span><span class='op'>)</span>,</span>
<span>        axis.ticks.length.x <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/unit.html'>unit</a></span><span class='op'>(</span><span class='fl'>0.2</span>, <span class='st'>"cm"</span><span class='op'>)</span>,</span>
<span>        axis.text.y <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>10</span>, family <span class='op'>=</span> <span class='st'>"sans"</span>, </span>
<span>                                   hjust <span class='op'>=</span> <span class='fl'>0</span>, vjust <span class='op'>=</span> <span class='fl'>0.5</span><span class='op'>)</span>,</span>
<span>        axis.text.x <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>9</span>, family <span class='op'>=</span> <span class='st'>"sans"</span>, </span>
<span>                                   colour <span class='op'>=</span> <span class='st'>"#a7a7a7"</span>,</span>
<span>                                   face <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>'plain'</span>, <span class='st'>'plain'</span>, <span class='st'>'plain'</span>, </span>
<span>                                            <span class='st'>'plain'</span>, <span class='st'>'bold'</span>,</span>
<span>                                            <span class='st'>'plain'</span>, <span class='st'>'plain'</span>, <span class='st'>'plain'</span>, </span>
<span>                                            <span class='st'>'plain'</span>, <span class='st'>'plain'</span><span class='op'>)</span><span class='op'>)</span>,</span>
<span>        panel.background <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>"white"</span><span class='op'>)</span>,</span>
<span>        plot.margin <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>margin</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>1.7</span>, <span class='fl'>0</span>, <span class='fl'>0</span>, <span class='st'>"cm"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotation_custom.html'>annotation_custom</a></span><span class='op'>(</span>grob <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/grid.text.html'>textGrob</a></span><span class='op'>(</span>label <span class='op'>=</span> <span class='st'>"Now"</span>, </span>
<span>                                    gp <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/gpar.html'>gpar</a></span><span class='op'>(</span>fontsize <span class='op'>=</span> <span class='fl'>8.5</span>, fontface <span class='op'>=</span> <span class='st'>"bold"</span>, </span>
<span>                                              fontfamily <span class='op'>=</span> <span class='st'>"sans"</span><span class='op'>)</span><span class='op'>)</span>,</span>
<span>                    ymin <span class='op'>=</span> <span class='fl'>3</span>, xmin <span class='op'>=</span> <span class='fl'>94.3</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotation_custom.html'>annotation_custom</a></span><span class='op'>(</span>grob <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/grid.text.html'>textGrob</a></span><span class='op'>(</span>label <span class='op'>=</span> <span class='st'>"2012"</span>, </span>
<span>                                    gp <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/gpar.html'>gpar</a></span><span class='op'>(</span>fontsize <span class='op'>=</span> <span class='fl'>8.5</span>, fontface <span class='op'>=</span> <span class='st'>"bold"</span>, </span>
<span>                                              fontfamily <span class='op'>=</span> <span class='st'>"sans"</span><span class='op'>)</span><span class='op'>)</span>,</span>
<span>                    ymin <span class='op'>=</span> <span class='fl'>3</span>, xmin <span class='op'>=</span> <span class='fl'>52</span><span class='op'>)</span> </span>
<span></span>
<span><span class='va'>bottom_plot</span></span></code></pre>
</div>
<p><img src="100348375_files/figure-html5/unnamed-chunk-15-1.png" width="576" style="display: block; margin: auto;" /></p>
</div>
<h3 id="arranging-plots">4. Arranging plots</h3>
<p>Now I am going to show the two plots created previously to see the replication
of the graph from the New York Times. To join the two graphics I have used the
patchwork library, specifying that I want them in a single column, with a space
between both graphics and with different heights. All this is configured with
the “plot_layout” function.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://patchwork.data-imaginist.com'>patchwork</a></span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>upper_plot</span> <span class='op'>+</span> <span class='fu'><a href='https://patchwork.data-imaginist.com/reference/plot_spacer.html'>plot_spacer</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span> <span class='va'>bottom_plot</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://patchwork.data-imaginist.com/reference/plot_layout.html'>plot_layout</a></span><span class='op'>(</span>ncol <span class='op'>=</span> <span class='fl'>1</span>,</span>
<span>              heights <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>11.5</span>, <span class='fl'>0.35</span>, <span class='fl'>1.5</span><span class='op'>)</span><span class='op'>)</span></span></code></pre>
</div>
<p><img src="100348375_files/figure-html5/unnamed-chunk-16-1.png" width="604.8" data-distill-preview=1 style="display: block; margin: auto;" /></p>
</div>
<h3 id="limitations-of-the-replication-of-the-graph">Limitations of the replication of the graph</h3>
<p>The replication of the plot, created with the R package ggplot2, is very close
to the original plot. There is a detail that I have not been able to replicate
exactly. In the lower chart annotations (“2012” and “Now”) I had to expand the
y-axis to fit them, as they were above the last <em>industry</em> category. Expanding
this axis with the “expand” argument of the “scale_y_discrete” function also
expanded the grid major x lines. In the original chart, however, these lines do
not go as far as the x-axis ticks, but intersect at the first category of the
<em>industry</em> variable. For that reason I have also put them closer to the arrow
than in the original graph and I have not had to put a line joining the arrow
with the annotation (with the geom_segment function).</p>
<h2 id="chart-evaluation-based-on-data-visualization-theory">Chart evaluation based on data visualization theory</h2>
<p>Given the data the graph represents and the content of the New York Times
article it is a good graph. This is a chart called a “lollipop chart” which
consists, in short, of a bar chart in which the bar is a line and the end of the
line is a point (a triangle in this case since they are arrows). Unlike typical
bar charts, in this chart the bars (or lines) do not start at the same point on
the x-axis.</p>
<p>At first glance, the colors and size of the arrows already make clear the
increase in market share in the vast majority of industries. Positioning on a
common scale is the most effective visual communication channel together with
the length, so the choice of this type of representation is a wise one and they
have used this highest ranked channels for the most relevant information of the
plot (the change of the market share and the comparison between industries).</p>
<p>In addition, adding the shape of an arrow makes it possible to identify whether
it is an increase or a decrease in market share. The choice of two colors to
represent the positive and negative values in the difference between years is
also very useful as the hue color is a very effective identification channel. It
is true that it is striking that the positive values are represented in red,
socially related to the negative values. However, this may be related to the
content of the article, which seeks to highlight this growth in market share (as
opposed to the gray assigned to the negative values) and which, in a way, sees
this growth as something negative for society.</p>
<p>Another positive element to highlight is the order of the industries on the
y-axis, placed from highest to lowest market share growth. The authors of the
graph have also decided to highlight the line on the x-axis that marks 50% of
the market share, allowing the observer to identify more quickly which
industries have reached a market share above this figure.</p>
<p>As for the titles of the axes, the authors have decided to eliminate the y-axis
title since it is easy to know from the labels of each industry which variable
is represented. The x-axis title is also correctly represented, since it is
placed before the first tick, to which they add the “%” symbol so that the
reader knows what the scale on which it is measured looks like. As soon as you
look down at the subtitle, you know that the x-axis measures the market share,
which starts at 10 and is measured as a percentage.</p>
<p>Finally, the chart has a brief but clear title, which lets the reader know what
he or she will find in the chart. The subtitle is also very useful because it
expands on the information given in the title, explaining that the graph
represents the market share of two large companies. It also gives a brief
analysis to the reader, saying that this share has grown and that it may be a
consequence of the mergers. It also adds a second title to help the reader
understand what the second part of the graph is about and a brief, explanatory
caption.</p>
<h2 id="second-step-create-a-new-visualization-with-the-same-data">Second step: create a new visualization with the same data</h2>
<p>In this section I will explain the process of creating an alternative
visualization of the New York Times chart with the same data.</p>
<p>Since the data to be represented contains one categorical variable (with a large
number of categories) and two continuous variables (ranging from 0 to 100) a bar
chart is a good idea to represent them. However, as I have explained in the
previous section, the original graph is, <em>de facto</em>, a bar chart (with slight
modifications of the traditional ones).
At first I thought of making a bar chart in which to represent only the
difference between the market share of each industry in the early 2000s and now.
However, I think that relevant information would be lost (where was the market
share before and now). I also thought about the possibility of making a grouped
bar chart like <a href="https://r-graph-gallery.com/211-basic-grouped-or-stacked-barplot.html">these from R Graph Gallery</a>,
representing on the x or y axis each industry, and on the other axis a bar for
the market share in the 2000’s and another for the current market share (each
with a different color). However, since the data consists of 25 different
industries (50 bars in total) I thought it would be unattractive and difficult
to understand.</p>
<p>I finally decided on the option of making a graph of parallel coordinates.
Normally, in this type of graphs, time series are not represented, but a set of
variables are placed on the x-axis and a y-axis (a vertical line) is graphed for
each variable. According to graphic perception theory, this type of graphic
would be slightly less visually effective than the one created by the New York
Times. This is because angles are less effective in conveying visual information
than position on a common scale (as in the original graphic) and length. However,
I think it’s also a good way to represent this data in a different way.</p>
<p>In this case I have represented the variable <em>industry</em> on the y axis and on
the x axis I have made two parallel lines with the data related to the <em>market</em>
<em>share</em> of the 2000s and today. Subsequently, I have joined the points between the
two lines of the x axis with a line. Also, I have set two colors in the
aesthetics of the segments: green when the increment is positive and red when it
is negative. In the case of the green ones, I have put a slightly higher alpha
in those increases that exceed 40% (value in which the average of the increases
is), in order to highlight them in the graph. I have decided to put these colors
because we socially associate green with positive or increase and red with
negative or decrease.</p>
<p>On the other hand, I have labeled the type of industries that exceed that 40%,
since labeling all of them was impossible due to overlapping problems. For those
readers who want to expand the information, I have added interactivity in such a
way that if you put the mouse over the lines you can see what type of industry
it is and the percentage of increase.</p>
<p>Instead of making two graphs to represent the technology industries starting in
2012, I have decided to include them by highlighting them with a yellow dot and
a label explaining the difference with the rest of the lines. I thought it
convenient to do so in order to be able to compare at a glance the percentage of
current market share of these industries with that of the rest of the industries.</p>
<p>Finally, I have kept the same original title, which I think is concise and
explicit, and slightly changed the subtitle to highlight information about
those industries that have grown proportionally the most.</p>
<p>Now I will show the code and the steps to follow to create this new
visualization!</p>
<h3 id="prepare-the-data">Prepare the data</h3>
<p>The first step is to prepare the data. For this I have created two different
data frames. In the first, taking the original dataset, I have created four new
variables:</p>
<ol type="1">
<li><p><em>perc_increase</em>, which is the percentage increase in market share between the
two years.</p></li>
<li><p><em>perc_increase_label</em>, to add a “+” to the previous variable in case the
value is positive.</p></li>
<li><p><em>increase2</em>, with three categories to differentiate positive increases below
40%, positive increases above 40% and negative.</p></li>
<li><p><em>industry_labels</em>, keeps the <em>industry</em> label only in case the percentage
increase is greater than 40%.</p></li>
</ol>
<p>The second data frame contains the market share data for the three technology
industries starting in 2012 and an additional column with a 1. This data frame
will serve to draw the three dots that indicate that these data are slightly
different from the rest.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'># First data frame:</span></span>
<span></span>
<span><span class='va'>alternative_plot_data</span> <span class='op'>&lt;-</span> <span class='va'>data</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/group_by.html'>ungroup</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> </span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>perc_increase <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/Round.html'>round</a></span><span class='op'>(</span><span class='va'>increase</span><span class='op'>/</span><span class='va'>market_share_2000</span><span class='op'>*</span><span class='fl'>100</span>, <span class='fl'>1</span><span class='op'>)</span>,</span>
<span>         perc_increase_label <span class='op'>=</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/case_when.html'>case_when</a></span><span class='op'>(</span><span class='va'>perc_increase</span> <span class='op'>&gt;</span> <span class='fl'>0</span> <span class='op'>~</span> </span>
<span>                                           <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span><span class='op'>(</span><span class='st'>"+"</span>, <span class='va'>perc_increase</span><span class='op'>)</span>,</span>
<span>                       <span class='cn'>T</span> <span class='op'>~</span> <span class='fu'><a href='https://rdrr.io/r/base/character.html'>as.character</a></span><span class='op'>(</span><span class='va'>perc_increase</span><span class='op'>)</span><span class='op'>)</span>,</span>
<span>         increase2 <span class='op'>=</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/case_when.html'>case_when</a></span><span class='op'>(</span><span class='va'>perc_increase</span> <span class='op'>&gt;</span> <span class='fu'><a href='https://rdrr.io/r/base/mean.html'>mean</a></span><span class='op'>(</span><span class='va'>perc_increase</span><span class='op'>)</span> <span class='op'>~</span> </span>
<span>                                 <span class='st'>"high_increase"</span>,</span>
<span>                               <span class='cn'>T</span> <span class='op'>~</span> <span class='va'>increase2</span><span class='op'>)</span>,</span>
<span>         industry_labels <span class='op'>=</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/case_when.html'>case_when</a></span><span class='op'>(</span><span class='va'>increase2</span> <span class='op'>!=</span> <span class='st'>"high_increase"</span> <span class='op'>~</span> <span class='st'>""</span>,</span>
<span>                              <span class='cn'>T</span> <span class='op'>~</span> <span class='va'>industry</span><span class='op'>)</span>,</span>
<span>         <span class='st'>"Early 2000s"</span> <span class='op'>=</span> <span class='fl'>1</span>,</span>
<span>         Now <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> </span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/arrange.html'>arrange</a></span><span class='op'>(</span><span class='fu'><a href='https://dplyr.tidyverse.org/reference/desc.html'>desc</a></span><span class='op'>(</span><span class='va'>increase2</span><span class='op'>)</span><span class='op'>)</span></span>
<span></span>
<span><span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='op'>(</span><span class='va'>alternative_plot_data</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code># A tibble: 6 × 10
  industry     marke…¹ marke…² incre…³ incre…⁴ perc_…⁵ perc_…⁶ indus…⁷
  &lt;chr&gt;          &lt;int&gt;   &lt;int&gt;   &lt;int&gt; &lt;chr&gt;     &lt;dbl&gt; &lt;chr&gt;   &lt;chr&gt;  
1 Smartphones       79      99      20 positi…    25.3 +25.3   &quot;&quot;     
2 Sanitary pa…      53      63      10 positi…    18.9 +18.9   &quot;&quot;     
3 Truck and b…      52      62      10 positi…    19.2 +19.2   &quot;&quot;     
4 Railroads         49      58       9 positi…    18.4 +18.4   &quot;&quot;     
5 Amusement p…      60      69       9 positi…    15   +15     &quot;&quot;     
6 Credit cards      26      35       9 positi…    34.6 +34.6   &quot;&quot;     
# … with 2 more variables: `Early 2000s` &lt;dbl&gt;, Now &lt;dbl&gt;, and
#   abbreviated variable names ¹​market_share_2000, ²​market_share_now,
#   ³​increase, ⁴​increase2, ⁵​perc_increase, ⁶​perc_increase_label,
#   ⁷​industry_labels</code></pre>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'># Second data frame:</span></span>
<span></span>
<span><span class='va'>data.frame.points</span> <span class='op'>&lt;-</span> <span class='va'>data</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/group_by.html'>ungroup</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> </span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>industry</span> <span class='op'>==</span> <span class='st'>"Smartphones"</span> <span class='op'>|</span> <span class='va'>industry</span> <span class='op'>==</span> <span class='st'>"Social networks"</span> </span>
<span>         <span class='op'>|</span> <span class='va'>industry</span> <span class='op'>==</span> <span class='st'>"Cellphone service"</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> </span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/select.html'>select</a></span><span class='op'>(</span><span class='va'>market_share_2000</span>, <span class='va'>industry</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> </span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span></span>
<span></span>
<span><span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='op'>(</span><span class='va'>data.frame.points</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code># A tibble: 3 × 3
  market_share_2000 industry              x
              &lt;int&gt; &lt;chr&gt;             &lt;dbl&gt;
1                79 Smartphones           1
2                75 Social networks       1
3                65 Cellphone service     1</code></pre>
</div>
<h3 id="create-the-static-graph">Create the static graph</h3>
<h4 id="data-coordinates-and-axes">Data, coordinates and axes</h4>
<p>Parallel coordinate plots can be easily created with the ggplot2 extension
“ggally”, as explained <a href="https://r-graph-gallery.com/parallel-plot.html">here</a>.
However, in this case I have had to do it with a combination of geom_segment and
“geom_vline” because the ggally functions don’t support interactivity with either
ggplotly or ggiraph. The function used from the ggiraph package is called
“geom_segment_interactive”.
With “geom_vline” I have created the two vertical and parallel lines where the
values of the market share in 2012 and currently are represented.
Subsequently, with the geom_segment function I have created the lines that join
the values between one date and another.
In the geom_segment aesthetic I have specified that I want the color and alpha
to be associated with the previously created variable <em>increase2</em> that
differentiates between positive, negative and positive values above 40%
increment. To set the values of both aesthetics I have used the
“scale_color_manual” and “scale_alpha_manual” functions.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://davidgohel.github.io/ggiraph/'>ggiraph</a></span><span class='op'>)</span></span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'>grid</span><span class='op'>)</span></span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://github.com/slowkow/ggrepel'>ggrepel</a></span><span class='op'>)</span></span>
<span><span class='fu'>sysfonts</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/sysfonts/man/font_add_google.html'>font_add_google</a></span><span class='op'>(</span><span class='st'>"Catamaran"</span>, family <span class='op'>=</span> <span class='st'>"catamaran"</span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>alternative_plot</span> <span class='op'>&lt;-</span> <span class='va'>alternative_plot_data</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span> </span>
<span>  <span class='fu'><a href='https://davidgohel.github.io/ggiraph/reference/geom_segment_interactive.html'>geom_segment_interactive</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>`Early 2000s`</span>, xend <span class='op'>=</span> <span class='va'>Now</span>, </span>
<span>                               y <span class='op'>=</span> <span class='va'>market_share_2000</span>, yend <span class='op'>=</span> <span class='va'>market_share_now</span>, </span>
<span>                               col <span class='op'>=</span> <span class='va'>increase2</span>,</span>
<span>                               alpha <span class='op'>=</span> <span class='va'>increase2</span>,</span>
<span>                               tooltip <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span><span class='op'>(</span><span class='va'>industry</span>, <span class='st'>" "</span>, </span>
<span>                                                <span class='va'>perc_increase_label</span>, <span class='st'>"%"</span><span class='op'>)</span>,</span>
<span>                               data_id <span class='op'>=</span> <span class='va'>industry</span><span class='op'>)</span>, </span>
<span>               size <span class='op'>=</span> <span class='fl'>0.71</span>, show.legend <span class='op'>=</span> <span class='cn'>F</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_abline.html'>geom_vline</a></span><span class='op'>(</span>xintercept <span class='op'>=</span> <span class='fl'>1</span>, size <span class='op'>=</span> <span class='fl'>0.5</span>, color <span class='op'>=</span> <span class='st'>"gray"</span><span class='op'>)</span> <span class='op'>+</span> </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_abline.html'>geom_vline</a></span><span class='op'>(</span>xintercept <span class='op'>=</span> <span class='fl'>2</span>, size <span class='op'>=</span> <span class='fl'>0.5</span>, color <span class='op'>=</span> <span class='st'>"gray"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_color_manual</a></span><span class='op'>(</span>values <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"#006400"</span>, <span class='st'>"#d3101e"</span>, <span class='st'>"#006400"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_alpha_manual</a></span><span class='op'>(</span>values <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0.9</span>, <span class='fl'>0.6</span>, <span class='fl'>0.5</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_continuous.html'>scale_y_continuous</a></span><span class='op'>(</span>breaks <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>20</span>, <span class='fl'>30</span>, <span class='fl'>40</span>, <span class='fl'>50</span>, <span class='fl'>60</span>, <span class='fl'>70</span>, <span class='fl'>80</span>, <span class='fl'>90</span>, <span class='fl'>100</span><span class='op'>)</span>,</span>
<span>                     limits <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>15</span>, <span class='fl'>100</span><span class='op'>)</span>,</span>
<span>                     labels <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"20"</span>, <span class='st'>"30"</span>, <span class='st'>"40"</span>, <span class='st'>"50"</span>, </span>
<span>                                <span class='st'>"60"</span>, <span class='st'>"70"</span>, <span class='st'>"80"</span>, <span class='st'>"90"</span>, <span class='st'>"100%"</span><span class='op'>)</span>,</span>
<span>                     name <span class='op'>=</span> <span class='st'>"Market share"</span>,</span>
<span>                     expand <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>,<span class='fl'>0</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_discrete.html'>scale_x_discrete</a></span><span class='op'>(</span>name <span class='op'>=</span> <span class='st'>"Now"</span>, position <span class='op'>=</span> <span class='st'>"top"</span>, </span>
<span>                   expand <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/expansion.html'>expansion</a></span><span class='op'>(</span>add <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0.02</span>, <span class='fl'>0.32</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span> </span>
<span></span>
<span><span class='va'>alternative_plot</span></span></code></pre>
</div>
<p><img src="100348375_files/figure-html5/unnamed-chunk-19-1.png" width="576" style="display: block; margin: auto;" /></p>
</div>
<h4 id="theme-and-labels">Theme and labels</h4>
<p>With the “labs” function I have created the title, the subtitle, the tag, and
the caption. I used the “tag” argument to create the “Early 2000s” tag because
unlike the “annotation” function it allowed me to place it outside the chart
area without expanding the grid lines. In order to create the parallel label
“Now” that names the second vertical line, I have used the title of the x axis
itself.
With the “theme” function I have configured all these labs and I have
established a very minimalist theme, with dotted grid lines of the y-axis and a
white background. I also wanted to highlight the “50” of the “y” scale by
putting it in bold.
To put the industry type labels at the end of each line I have used the
“geom_label_repel” function, thus making sure that they do not overlap each
other. With the “direction” argument I have specified that in case of
overlapping I wanted them to move in the y axis, never in the x axis, in such a
way that they would be aligned.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>alternative_plot</span> <span class='op'>&lt;-</span> <span class='va'>alternative_plot</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>title <span class='op'>=</span> <span class='st'>"Dominance of Corporate Behemoths"</span>,</span>
<span>       subtitle <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span><span class='op'>(</span><span class='st'>'The combined market share of the two largest '</span>, </span>
<span>                         <span class='st'>'companies in many industries\n'</span>,<span class='st'>'has grown in recent'</span>, </span>
<span>                         <span class='st'>' years, often more than 40%.'</span><span class='op'>)</span>,</span>
<span>       tag <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Early 2000s"</span>, <span class='st'>"Now"</span><span class='op'>)</span>,</span>
<span>       caption <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span><span class='op'>(</span><span class='st'>'By Isabel Molero López | Source: New York Times; "Early 2000s "'</span>,</span>
<span>       <span class='st'>'ranges from 2002 to 2007.\n'</span>, <span class='st'>'Lines that begin with a yellow dot '</span>, </span>
<span>       <span class='st'>'correspond to the data of technology companies since 2012.'</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span>legend.position <span class='op'>=</span> <span class='st'>"none"</span>,</span>
<span>        plot.title <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>13.5</span>, face <span class='op'>=</span> <span class='st'>"bold"</span>, family <span class='op'>=</span> <span class='st'>"catamaran"</span>, </span>
<span>                                  margin <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>margin</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>0</span>, <span class='fl'>5</span>, <span class='fl'>0</span><span class='op'>)</span><span class='op'>)</span>,</span>
<span>        plot.subtitle <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>11.5</span>, colour <span class='op'>=</span> <span class='st'>"#636363"</span>, </span>
<span>                                     family <span class='op'>=</span> <span class='st'>"catamaran"</span>, </span>
<span>                                     margin <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>margin</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>0</span>, <span class='fl'>30</span>, <span class='fl'>0</span><span class='op'>)</span><span class='op'>)</span>,</span>
<span>        plot.title.position <span class='op'>=</span> <span class='st'>"plot"</span>,</span>
<span>        plot.tag.position <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0.11</span>, <span class='fl'>0.88</span><span class='op'>)</span>,</span>
<span>        plot.tag <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>11.5</span>, family <span class='op'>=</span> <span class='st'>"catamaran"</span>, </span>
<span>                                colour <span class='op'>=</span> <span class='st'>"#636363"</span>, face <span class='op'>=</span> <span class='st'>"bold"</span><span class='op'>)</span>,</span>
<span>        plot.caption <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>9.5</span>, colour <span class='op'>=</span> <span class='st'>"#636363"</span>, </span>
<span>                                    family <span class='op'>=</span> <span class='st'>"catamaran"</span>, </span>
<span>                                    margin <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>margin</a></span><span class='op'>(</span><span class='fl'>15</span>, <span class='fl'>0</span>, <span class='fl'>0</span>, <span class='fl'>0</span><span class='op'>)</span>,</span>
<span>                                    hjust <span class='op'>=</span> <span class='fl'>0</span><span class='op'>)</span>,</span>
<span>        plot.caption.position <span class='op'>=</span> <span class='st'>"plot"</span>,</span>
<span>        panel.grid.major.y <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_line</a></span><span class='op'>(</span>linetype <span class='op'>=</span> <span class='st'>"dotted"</span>, </span>
<span>                                          colour <span class='op'>=</span> <span class='st'>"#a7a7a7"</span><span class='op'>)</span>,</span>
<span>        panel.grid.major.x <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_line</a></span><span class='op'>(</span>colour <span class='op'>=</span> <span class='st'>"#c9c9c9"</span><span class='op'>)</span>,</span>
<span>        panel.grid.minor <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>,</span>
<span>        axis.ticks.y <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>,</span>
<span>        axis.ticks.x <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>,</span>
<span>        axis.text.y <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>10</span>, family <span class='op'>=</span> <span class='st'>"catamaran"</span>, </span>
<span>                                   hjust <span class='op'>=</span> <span class='fl'>0.7</span>, vjust <span class='op'>=</span> <span class='fl'>0.5</span>, </span>
<span>                                   face <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>'plain'</span>, <span class='st'>'plain'</span>, <span class='st'>'plain'</span>, </span>
<span>                                            <span class='st'>'bold'</span>, <span class='st'>'plain'</span>,<span class='st'>'plain'</span>, </span>
<span>                                            <span class='st'>'plain'</span>, <span class='st'>'plain'</span>, <span class='st'>'plain'</span><span class='op'>)</span><span class='op'>)</span>,</span>
<span>        axis.title.x <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>hjust <span class='op'>=</span> <span class='fl'>0.78</span>, margin <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>margin</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>0</span>, <span class='fl'>20</span>, <span class='fl'>0</span><span class='op'>)</span>, </span>
<span>                                    size <span class='op'>=</span> <span class='fl'>11.5</span>, family <span class='op'>=</span> <span class='st'>"catamaran"</span>, </span>
<span>                                    colour <span class='op'>=</span> <span class='st'>"#636363"</span>,</span>
<span>                                   face <span class='op'>=</span> <span class='st'>"bold"</span><span class='op'>)</span>,</span>
<span>        axis.title.y <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>11</span>, family <span class='op'>=</span> <span class='st'>"catamaran"</span>, </span>
<span>                                    colour <span class='op'>=</span> <span class='st'>"#636363"</span>, margin <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>margin</a></span><span class='op'>(</span>r <span class='op'>=</span> <span class='fl'>7</span><span class='op'>)</span><span class='op'>)</span>,</span>
<span>        axis.title.x.top <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>vjust <span class='op'>=</span> <span class='fl'>7.6</span><span class='op'>)</span>,</span>
<span>        panel.background <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>"white"</span><span class='op'>)</span>,</span>
<span>        plot.margin <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>margin</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>1.7</span>, <span class='fl'>0</span>, <span class='fl'>0</span>, <span class='st'>"cm"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>     <span class='fu'><a href='https://rdrr.io/pkg/ggrepel/man/geom_text_repel.html'>geom_label_repel</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>2</span>, y <span class='op'>=</span> <span class='va'>market_share_now</span>, label <span class='op'>=</span> <span class='va'>industry_labels</span>,</span>
<span>                         segment.alpha <span class='op'>=</span> <span class='fl'>0</span><span class='op'>)</span>,</span>
<span>                    inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span>, </span>
<span>                    color <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"#505050"</span><span class='op'>)</span>, </span>
<span>                    alpha <span class='op'>=</span> <span class='fl'>2</span>, hjust <span class='op'>=</span> <span class='fl'>1</span>,</span>
<span>                    size <span class='op'>=</span> <span class='fl'>3.2</span>,</span>
<span>                    force <span class='op'>=</span> <span class='fl'>0.0016</span>,</span>
<span>                    force_pull <span class='op'>=</span> <span class='fl'>10</span>,</span>
<span>                    direction <span class='op'>=</span> <span class='st'>"y"</span>,</span>
<span>                    xlim <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>2</span>, <span class='cn'>NA</span><span class='op'>)</span>,</span>
<span>                    label.size <span class='op'>=</span> <span class='cn'>NA</span>,</span>
<span>                    box.padding <span class='op'>=</span> <span class='fl'>0.002</span>,</span>
<span>                    family <span class='op'>=</span> <span class='st'>"catamaran"</span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>alternative_plot</span></span></code></pre>
</div>
<p><img src="100348375_files/figure-html5/unnamed-chunk-20-1.png" width="576" style="display: block; margin: auto;" /></p>
</div>
<h4 id="annotations-and-other-aditional-settings">Annotations and other aditional settings</h4>
<p>Finally, I have added with the “annotate_interactive” function a label that
indicates the lines that correspond to the technological industries. Also, I’ve
used the “geom_point” function to put a point at the beginning of these lines so
that the reader can quickly identify them. With the “geom_segment” function I
have joined the point with the annotation by means of a line. Finally, the
“geom_hline” function has allowed me to overlay a thicker, black line at 50%,
thus highlighting industries that have a market share above this value.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>alternative_plot</span> <span class='op'>&lt;-</span> <span class='va'>alternative_plot</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_abline.html'>geom_hline</a></span><span class='op'>(</span>yintercept <span class='op'>=</span> <span class='fl'>50</span>, size <span class='op'>=</span> <span class='fl'>0.7</span>, color <span class='op'>=</span> <span class='st'>"black"</span>, linetype <span class='op'>=</span> <span class='st'>"dotted"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://davidgohel.github.io/ggiraph/reference/geom_segment_interactive.html'>geom_segment_interactive</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>1.01</span>, xend <span class='op'>=</span> <span class='fl'>1.07</span>,</span>
<span>                   y <span class='op'>=</span> <span class='fl'>80</span>, yend <span class='op'>=</span> <span class='fl'>83.5</span>,</span>
<span>                   tooltip <span class='op'>=</span> <span class='st'>""</span>,</span>
<span>                   data_id <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span>,</span>
<span>               size <span class='op'>=</span> <span class='fl'>0.17</span>,</span>
<span>               color <span class='op'>=</span> <span class='st'>"#E6B400"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://davidgohel.github.io/ggiraph/reference/geom_point_interactive.html'>geom_point_interactive</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>data.frame.points</span>, </span>
<span>                         <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>market_share_2000</span>,</span>
<span>                             tooltip <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span><span class='op'>(</span><span class='va'>industry</span>, <span class='st'>", since 2012"</span><span class='op'>)</span>,</span>
<span>                             data_id <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span>,</span>
<span>             colour <span class='op'>=</span> <span class='st'>"#E6B400"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://davidgohel.github.io/ggiraph/reference/annotate_interactive.html'>annotate_interactive</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>1.09</span>, y <span class='op'>=</span> <span class='fl'>84.7</span>, label <span class='op'>=</span> <span class='st'>"2012"</span>, </span>
<span>                       size <span class='op'>=</span> <span class='fl'>3.4</span>, color <span class='op'>=</span> <span class='st'>"#E6B400"</span>, </span>
<span>                       fontface <span class='op'>=</span> <span class='st'>"bold"</span>, family <span class='op'>=</span> <span class='st'>"catamaran"</span>,</span>
<span>                       tooltip <span class='op'>=</span> <span class='st'>""</span>, data_id <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://davidgohel.github.io/ggiraph/reference/annotate_interactive.html'>annotate_interactive</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>1.11</span>, y <span class='op'>=</span> <span class='fl'>88</span>, label <span class='op'>=</span> <span class='st'>"Technology"</span>, </span>
<span>                       size <span class='op'>=</span> <span class='fl'>3.1</span>, color <span class='op'>=</span> <span class='st'>"#E6B400"</span>, </span>
<span>                       fontface <span class='op'>=</span> <span class='st'>"bold"</span>, family <span class='op'>=</span> <span class='st'>"catamaran"</span>, </span>
<span>                       tooltip <span class='op'>=</span> <span class='st'>""</span>, data_id <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://davidgohel.github.io/ggiraph/reference/annotate_interactive.html'>annotate_interactive</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>1.11</span>, y <span class='op'>=</span> <span class='fl'>86.5</span>, label <span class='op'>=</span> <span class='st'>"companies"</span>, </span>
<span>                       size <span class='op'>=</span> <span class='fl'>3.1</span>, color <span class='op'>=</span> <span class='st'>"#E6B400"</span>,</span>
<span>                       fontface <span class='op'>=</span> <span class='st'>"bold"</span>, family <span class='op'>=</span> <span class='st'>"catamaran"</span>,</span>
<span>                       tooltip <span class='op'>=</span> <span class='st'>""</span>, data_id <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>alternative_plot</span></span></code></pre>
</div>
<p><img src="100348375_files/figure-html5/unnamed-chunk-21-1.png" width="576" style="display: block; margin: auto;" /></p>
</div>
<h3 id="add-interactivity-with-the-package-ggiraph">Add interactivity with the package ggiraph</h3>
<p>Interactivity can be added to the graph previously created to expand information.</p>
<p>In this case I have decided that when placing the mouse over each line the rest
lower their alpha, in such a way that it stands out. In addition, a label
appears with the name of the industry that corresponds to that line along with
the percentage increase or decrease in market share between the different years.</p>
<p>To add interactivity I have used the R package “ggiraph”. When making the graph
itself I have used the geoms from this library (for example,
“geom_segment_interactive”). Finally, with the “girafe” function the
interactivity is added to the created graph and with “girafe_options” the
options are set. For example, I have selected the color and background of the
labels that appear and the font with “opts_tooltip”. With “opts_hover_inv” I
have set the opacity of the rest of the lines when I pass the mouse over one in
particular.</p>
<p>Below you can see the final result!</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>alternative_plot_interactive</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://davidgohel.github.io/ggiraph/reference/girafe.html'>girafe</a></span><span class='op'>(</span>ggobj <span class='op'>=</span> <span class='va'>alternative_plot</span>, width_svg <span class='op'>=</span> <span class='fl'>6</span>, </span>
<span>                                       height_svg <span class='op'>=</span> <span class='fl'>7</span><span class='op'>)</span></span>
<span><span class='va'>alternative_plot_interactive</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://davidgohel.github.io/ggiraph/reference/girafe_options.html'>girafe_options</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>alternative_plot_interactive</span>,</span>
<span>                    <span class='fu'><a href='https://davidgohel.github.io/ggiraph/reference/opts_tooltip.html'>opts_tooltip</a></span><span class='op'>(</span><span class='st'>"background-color:gray;color:white;</span></span>
<span><span class='st'>                                 font-style:italic;padding:6px;</span></span>
<span><span class='st'>                                 border-radius:7px;"</span><span class='op'>)</span>,</span>
<span>                    <span class='fu'><a href='https://davidgohel.github.io/ggiraph/reference/opts_hover.html'>opts_hover_inv</a></span><span class='op'>(</span>css <span class='op'>=</span> <span class='st'>"opacity:0.1;"</span><span class='op'>)</span>,</span>
<span>                    <span class='fu'><a href='https://davidgohel.github.io/ggiraph/reference/opts_hover.html'>opts_hover</a></span><span class='op'>(</span>css <span class='op'>=</span> <span class='st'>"opacity:1;"</span><span class='op'>)</span>,</span>
<span>                    <span class='fu'><a href='https://davidgohel.github.io/ggiraph/reference/opts_sizing.html'>opts_sizing</a></span><span class='op'>(</span>rescale <span class='op'>=</span> <span class='cn'>TRUE</span>, width <span class='op'>=</span> <span class='fl'>0.75</span><span class='op'>)</span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>alternative_plot_interactive</span></span></code></pre>
</div>
<div class="girafe html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-06d7a3e1db11ab6a8f4f" style="width:624px;height:384px;"></div>
<script type="application/json" data-for="htmlwidget-06d7a3e1db11ab6a8f4f">{"x":{"html":"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' class='ggiraph-svg' role='img' id='svg_8d29c970_73ae_4878_b59f_26440f345ffd' viewBox='0 0 432 504'>\n <defs id='svg_8d29c970_73ae_4878_b59f_26440f345ffd_defs'>\n  <clipPath id='svg_8d29c970_73ae_4878_b59f_26440f345ffd_c1'>\n   <rect x='0' y='0' width='432' height='504'/>\n  <\/clipPath>\n  <clipPath id='svg_8d29c970_73ae_4878_b59f_26440f345ffd_c2'>\n   <rect x='50.81' y='84.22' width='333' height='385.68'/>\n  <\/clipPath>\n <\/defs>\n <g id='svg_8d29c970_73ae_4878_b59f_26440f345ffd_rootg' class='ggiraph-svg-rootg'>\n  <g clip-path='url(#svg_8d29c970_73ae_4878_b59f_26440f345ffd_c1)'>\n   <rect x='0' y='0' width='432' height='504' fill='#FFFFFF' fill-opacity='1' stroke='#FFFFFF' stroke-opacity='1' stroke-width='0.75' stroke-linejoin='round' stroke-linecap='round' class='ggiraph-svg-bg'/>\n   <rect x='0' y='-0' width='432' height='504' fill='#FFFFFF' fill-opacity='1' stroke='#FFFFFF' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='round'/>\n  <\/g>\n  <g clip-path='url(#svg_8d29c970_73ae_4878_b59f_26440f345ffd_c2)'>\n   <rect x='50.81' y='84.22' width='333' height='385.68' fill='#FFFFFF' fill-opacity='1' stroke='none'/>\n   <polyline points='50.81,447.21 383.81,447.21' fill='none' stroke='#A7A7A7' stroke-opacity='1' stroke-width='1.07' stroke-dasharray='1,3' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='50.81,401.84 383.81,401.84' fill='none' stroke='#A7A7A7' stroke-opacity='1' stroke-width='1.07' stroke-dasharray='1,3' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='50.81,356.46 383.81,356.46' fill='none' stroke='#A7A7A7' stroke-opacity='1' stroke-width='1.07' stroke-dasharray='1,3' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='50.81,311.09 383.81,311.09' fill='none' stroke='#A7A7A7' stroke-opacity='1' stroke-width='1.07' stroke-dasharray='1,3' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='50.81,265.72 383.81,265.72' fill='none' stroke='#A7A7A7' stroke-opacity='1' stroke-width='1.07' stroke-dasharray='1,3' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='50.81,220.34 383.81,220.34' fill='none' stroke='#A7A7A7' stroke-opacity='1' stroke-width='1.07' stroke-dasharray='1,3' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='50.81,174.97 383.81,174.97' fill='none' stroke='#A7A7A7' stroke-opacity='1' stroke-width='1.07' stroke-dasharray='1,3' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='50.81,129.60 383.81,129.60' fill='none' stroke='#A7A7A7' stroke-opacity='1' stroke-width='1.07' stroke-dasharray='1,3' stroke-linejoin='round' stroke-linecap='butt'/>\n   <polyline points='50.81,84.22 383.81,84.22' fill='none' stroke='#A7A7A7' stroke-opacity='1' stroke-width='1.07' stroke-dasharray='1,3' stroke-linejoin='round' stroke-linecap='butt'/>\n   <line id='svg_8d29c970_73ae_4878_b59f_26440f345ffd_e1' x1='55.78' y1='179.51' x2='304.29' y2='88.76' stroke='#006400' stroke-opacity='0.5' stroke-width='1.52' stroke-linejoin='round' stroke-linecap='butt' title='Smartphones +25.3%' data-id='Smartphones'/>\n   <line id='svg_8d29c970_73ae_4878_b59f_26440f345ffd_e2' x1='55.78' y1='297.48' x2='304.29' y2='252.1' stroke='#006400' stroke-opacity='0.5' stroke-width='1.52' stroke-linejoin='round' stroke-linecap='butt' title='Sanitary paper +18.9%' data-id='Sanitary paper'/>\n   <line id='svg_8d29c970_73ae_4878_b59f_26440f345ffd_e3' x1='55.78' y1='302.01' x2='304.29' y2='256.64' stroke='#006400' stroke-opacity='0.5' stroke-width='1.52' stroke-linejoin='round' stroke-linecap='butt' title='Truck and bus mfg. +19.2%' data-id='Truck and bus mfg.'/>\n   <line id='svg_8d29c970_73ae_4878_b59f_26440f345ffd_e4' x1='55.78' y1='315.63' x2='304.29' y2='274.79' stroke='#006400' stroke-opacity='0.5' stroke-width='1.52' stroke-linejoin='round' stroke-linecap='butt' title='Railroads +18.4%' data-id='Railroads'/>\n   <line id='svg_8d29c970_73ae_4878_b59f_26440f345ffd_e5' x1='55.78' y1='265.72' x2='304.29' y2='224.88' stroke='#006400' stroke-opacity='0.5' stroke-width='1.52' stroke-linejoin='round' stroke-linecap='butt' title='Amusement parks +15%' data-id='Amusement parks'/>\n   <line id='svg_8d29c970_73ae_4878_b59f_26440f345ffd_e6' x1='55.78' y1='419.99' x2='304.29' y2='379.15' stroke='#006400' stroke-opacity='0.5' stroke-width='1.52' stroke-linejoin='round' stroke-linecap='butt' title='Credit cards +34.6%' data-id='Credit cards'/>\n   <line id='svg_8d29c970_73ae_4878_b59f_26440f345ffd_e7' x1='55.78' y1='197.66' x2='304.29' y2='165.89' stroke='#006400' stroke-opacity='0.5' stroke-width='1.52' stroke-linejoin='round' stroke-linecap='butt' title='Social networks +9.3%' data-id='Social networks'/>\n   <line id='svg_8d29c970_73ae_4878_b59f_26440f345ffd_e8' x1='55.78' y1='374.61' x2='304.29' y2='351.93' stroke='#006400' stroke-opacity='0.5' stroke-width='1.52' stroke-linejoin='round' stroke-linecap='butt' title='Movie theaters +13.9%' data-id='Movie theaters'/>\n   <line id='svg_8d29c970_73ae_4878_b59f_26440f345ffd_e9' x1='55.78' y1='243.03' x2='304.29' y2='229.42' stroke='#006400' stroke-opacity='0.5' stroke-width='1.52' stroke-linejoin='round' stroke-linecap='butt' title='Cellphone service +4.6%' data-id='Cellphone service'/>\n   <line id='svg_8d29c970_73ae_4878_b59f_26440f345ffd_e10' x1='55.78' y1='306.55' x2='304.29' y2='315.63' stroke='#D3101E' stroke-opacity='0.6' stroke-width='1.52' stroke-linejoin='round' stroke-linecap='butt' title='Aircraft mfg. -3.9%' data-id='Aircraft mfg.'/>\n   <line id='svg_8d29c970_73ae_4878_b59f_26440f345ffd_e11' x1='55.78' y1='365.54' x2='304.29' y2='374.61' stroke='#D3101E' stroke-opacity='0.6' stroke-width='1.52' stroke-linejoin='round' stroke-linecap='butt' title='Outdoor ads -5.3%' data-id='Outdoor ads'/>\n   <line id='svg_8d29c970_73ae_4878_b59f_26440f345ffd_e12' x1='55.78' y1='315.63' x2='304.29' y2='329.24' stroke='#D3101E' stroke-opacity='0.6' stroke-width='1.52' stroke-linejoin='round' stroke-linecap='butt' title='Pesticides -6.1%' data-id='Pesticides'/>\n   <line id='svg_8d29c970_73ae_4878_b59f_26440f345ffd_e13' x1='55.78' y1='383.69' x2='304.29' y2='433.6' stroke='#D3101E' stroke-opacity='0.6' stroke-width='1.52' stroke-linejoin='round' stroke-linecap='butt' title='Investment banking -32.4%' data-id='Investment banking'/>\n   <line id='svg_8d29c970_73ae_4878_b59f_26440f345ffd_e14' x1='55.78' y1='220.34' x2='304.29' y2='333.78' stroke='#D3101E' stroke-opacity='0.6' stroke-width='1.52' stroke-linejoin='round' stroke-linecap='butt' title='Tire mfg. -35.7%' data-id='Tire mfg.'/>\n   <line id='svg_8d29c970_73ae_4878_b59f_26440f345ffd_e15' x1='55.78' y1='347.39' x2='304.29' y2='156.82' stroke='#006400' stroke-opacity='0.9' stroke-width='1.52' stroke-linejoin='round' stroke-linecap='butt' title='Hardware stores +100%' data-id='Hardware stores'/>\n   <line id='svg_8d29c970_73ae_4878_b59f_26440f345ffd_e16' x1='55.78' y1='429.06' x2='304.29' y2='256.64' stroke='#006400' stroke-opacity='0.9' stroke-width='1.52' stroke-linejoin='round' stroke-linecap='butt' title='Shipbuilding +158.3%' data-id='Shipbuilding'/>\n   <line id='svg_8d29c970_73ae_4878_b59f_26440f345ffd_e17' x1='55.78' y1='451.75' x2='304.29' y2='288.4' stroke='#006400' stroke-opacity='0.9' stroke-width='1.52' stroke-linejoin='round' stroke-linecap='butt' title='Private prisons +189.5%' data-id='Private prisons'/>\n   <line id='svg_8d29c970_73ae_4878_b59f_26440f345ffd_e18' x1='55.78' y1='306.55' x2='304.29' y2='165.89' stroke='#006400' stroke-opacity='0.9' stroke-width='1.52' stroke-linejoin='round' stroke-linecap='butt' title='Tobacco +60.8%' data-id='Tobacco'/>\n   <line id='svg_8d29c970_73ae_4878_b59f_26440f345ffd_e19' x1='55.78' y1='401.84' x2='304.29' y2='261.18' stroke='#006400' stroke-opacity='0.9' stroke-width='1.52' stroke-linejoin='round' stroke-linecap='butt' title='Pharmacies +103.3%' data-id='Pharmacies'/>\n   <line id='svg_8d29c970_73ae_4878_b59f_26440f345ffd_e20' x1='55.78' y1='379.15' x2='304.29' y2='261.18' stroke='#006400' stroke-opacity='0.9' stroke-width='1.52' stroke-linejoin='round' stroke-linecap='butt' title='Mattress mfg +74.3%' data-id='Mattress mfg'/>\n   <line id='svg_8d29c970_73ae_4878_b59f_26440f345ffd_e21' x1='55.78' y1='361' x2='304.29' y2='265.72' stroke='#006400' stroke-opacity='0.9' stroke-width='1.52' stroke-linejoin='round' stroke-linecap='butt' title='Craft stores +53.8%' data-id='Craft stores'/>\n   <line id='svg_8d29c970_73ae_4878_b59f_26440f345ffd_e22' x1='55.78' y1='438.14' x2='304.29' y2='351.93' stroke='#006400' stroke-opacity='0.9' stroke-width='1.52' stroke-linejoin='round' stroke-linecap='butt' title='Airlines +86.4%' data-id='Airlines'/>\n   <line id='svg_8d29c970_73ae_4878_b59f_26440f345ffd_e23' x1='55.78' y1='379.15' x2='304.29' y2='302.01' stroke='#006400' stroke-opacity='0.9' stroke-width='1.52' stroke-linejoin='round' stroke-linecap='butt' title='Car rental +48.6%' data-id='Car rental'/>\n   <line id='svg_8d29c970_73ae_4878_b59f_26440f345ffd_e24' x1='55.78' y1='383.69' x2='304.29' y2='315.63' stroke='#006400' stroke-opacity='0.9' stroke-width='1.52' stroke-linejoin='round' stroke-linecap='butt' title='Industrial laundry +44.1%' data-id='Industrial laundry'/>\n   <line id='svg_8d29c970_73ae_4878_b59f_26440f345ffd_e25' x1='55.78' y1='442.67' x2='304.29' y2='379.15' stroke='#006400' stroke-opacity='0.9' stroke-width='1.52' stroke-linejoin='round' stroke-linecap='butt' title='Meat processing +66.7%' data-id='Meat processing'/>\n   <line id='svg_8d29c970_73ae_4878_b59f_26440f345ffd_e26' x1='55.78' y1='438.14' x2='304.29' y2='379.15' stroke='#006400' stroke-opacity='0.9' stroke-width='1.52' stroke-linejoin='round' stroke-linecap='butt' title='Credit rating +59.1%' data-id='Credit rating'/>\n   <line x1='55.78' y1='469.9' x2='55.78' y2='84.22' stroke='#BEBEBE' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <line x1='304.29' y1='469.9' x2='304.29' y2='84.22' stroke='#BEBEBE' stroke-opacity='1' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='butt'/>\n   <line x1='304.32' y1='243.04' x2='304.29' y2='255.53' stroke='#505050' stroke-opacity='0' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='round'/>\n   <line x1='304.32' y1='277.23' x2='304.29' y2='266.82' stroke='#505050' stroke-opacity='0' stroke-width='1.07' stroke-linejoin='round' stroke-linecap='round'/>\n   <polygon points='306.04,162.23 383.45,162.23 383.36,162.23 383.71,162.21 384.05,162.14 384.38,162.02 384.68,161.85 384.95,161.63 385.18,161.37 385.36,161.07 385.50,160.75 385.58,160.41 385.61,160.07 385.61,160.07 385.61,150.56 385.61,150.56 385.58,150.21 385.50,149.87 385.36,149.55 385.18,149.26 384.95,149.00 384.68,148.78 384.38,148.61 384.05,148.48 383.71,148.41 383.45,148.40 306.04,148.40 306.30,148.41 305.96,148.40 305.61,148.44 305.28,148.54 304.96,148.69 304.68,148.88 304.43,149.12 304.22,149.40 304.06,149.71 303.95,150.04 303.89,150.38 303.88,150.56 303.88,160.07 303.89,159.89 303.89,160.24 303.95,160.58 304.06,160.91 304.22,161.22 304.43,161.50 304.68,161.74 304.96,161.94 305.28,162.09 305.61,162.18 305.96,162.23' fill='#FFFFFF' fill-opacity='1' stroke='none'/>\n   <text x='309.28' y='158.63' font-size='6.83pt' font-family='catamaran' fill='#505050' fill-opacity='1'>Hardware stores<\/text>\n   <polygon points='308.31,247.06 367.45,247.06 367.36,247.06 367.71,247.04 368.05,246.97 368.37,246.85 368.67,246.68 368.94,246.46 369.17,246.20 369.36,245.90 369.50,245.58 369.58,245.25 369.61,244.90 369.61,244.90 369.61,235.39 369.61,235.39 369.58,235.04 369.50,234.70 369.36,234.38 369.17,234.09 368.94,233.83 368.67,233.61 368.37,233.44 368.05,233.31 367.71,233.24 367.45,233.23 308.31,233.23 308.57,233.24 308.22,233.23 307.87,233.27 307.54,233.37 307.23,233.52 306.94,233.71 306.69,233.96 306.48,234.23 306.32,234.54 306.21,234.87 306.15,235.21 306.15,235.39 306.15,244.90 306.15,244.72 306.15,245.07 306.21,245.42 306.32,245.75 306.48,246.05 306.69,246.33 306.94,246.57 307.23,246.77 307.54,246.92 307.87,247.02 308.22,247.06' fill='#FFFFFF' fill-opacity='1' stroke='none'/>\n   <text x='311.55' y='243.46' font-size='6.83pt' font-family='catamaran' fill='#505050' fill-opacity='1'>Shipbuilding<\/text>\n   <polygon points='308.31,297.59 378.61,297.59 378.53,297.59 378.88,297.57 379.22,297.50 379.54,297.38 379.84,297.20 380.11,296.98 380.34,296.72 380.53,296.43 380.66,296.11 380.75,295.77 380.77,295.43 380.77,295.43 380.77,285.92 380.77,285.92 380.75,285.57 380.66,285.23 380.53,284.91 380.34,284.62 380.11,284.36 379.84,284.14 379.54,283.96 379.22,283.84 378.88,283.77 378.61,283.76 308.31,283.76 308.57,283.77 308.22,283.76 307.87,283.80 307.54,283.90 307.23,284.04 306.94,284.24 306.69,284.48 306.48,284.76 306.32,285.07 306.21,285.40 306.15,285.74 306.15,285.92 306.15,295.43 306.15,295.25 306.15,295.60 306.21,295.94 306.32,296.27 306.48,296.58 306.69,296.86 306.94,297.10 307.23,297.30 307.54,297.45 307.87,297.54 308.22,297.59' fill='#FFFFFF' fill-opacity='1' stroke='none'/>\n   <text x='311.55' y='293.99' font-size='6.83pt' font-family='catamaran' fill='#505050' fill-opacity='1'>Private prisons<\/text>\n   <polygon points='308.31,174.14 347.66,174.14 347.58,174.14 347.92,174.12 348.26,174.06 348.59,173.93 348.89,173.76 349.16,173.54 349.39,173.28 349.57,172.98 349.71,172.66 349.79,172.33 349.82,171.98 349.82,171.98 349.82,162.47 349.82,162.47 349.79,162.12 349.71,161.79 349.57,161.47 349.39,161.17 349.16,160.91 348.89,160.69 348.59,160.52 348.26,160.39 347.92,160.32 347.66,160.31 308.31,160.31 308.57,160.32 308.22,160.31 307.87,160.35 307.54,160.45 307.23,160.60 306.94,160.80 306.69,161.04 306.48,161.31 306.32,161.62 306.21,161.95 306.15,162.30 306.15,162.47 306.15,171.98 306.15,171.81 306.15,172.15 306.21,172.50 306.32,172.83 306.48,173.13 306.69,173.41 306.94,173.65 307.23,173.85 307.54,174.00 307.87,174.10 308.22,174.14' fill='#FFFFFF' fill-opacity='1' stroke='none'/>\n   <text x='311.55' y='170.54' font-size='6.83pt' font-family='catamaran' fill='#505050' fill-opacity='1'>Tobacco<\/text>\n   <polygon points='308.31,273.50 363.87,273.50 363.78,273.50 364.13,273.48 364.47,273.41 364.80,273.29 365.10,273.12 365.37,272.90 365.60,272.64 365.78,272.34 365.92,272.02 366.00,271.68 366.03,271.34 366.03,271.34 366.03,261.83 366.03,261.83 366.00,261.48 365.92,261.14 365.78,260.82 365.60,260.53 365.37,260.27 365.10,260.05 364.80,259.88 364.47,259.75 364.13,259.68 363.87,259.67 308.31,259.67 308.57,259.68 308.22,259.67 307.87,259.71 307.54,259.81 307.23,259.96 306.94,260.15 306.69,260.39 306.48,260.67 306.32,260.98 306.21,261.31 306.15,261.65 306.15,261.83 306.15,271.34 306.15,271.16 306.15,271.51 306.21,271.85 306.32,272.18 306.48,272.49 306.69,272.77 306.94,273.01 307.23,273.21 307.54,273.36 307.87,273.45 308.22,273.50' fill='#FFFFFF' fill-opacity='1' stroke='none'/>\n   <text x='311.55' y='269.9' font-size='6.83pt' font-family='catamaran' fill='#505050' fill-opacity='1'>Pharmacies<\/text>\n   <polygon points='308.31,260.27 371.06,260.27 370.98,260.27 371.32,260.25 371.66,260.19 371.99,260.06 372.29,259.89 372.56,259.67 372.79,259.41 372.97,259.11 373.11,258.79 373.19,258.46 373.22,258.11 373.22,258.11 373.22,248.60 373.22,248.60 373.19,248.25 373.11,247.92 372.97,247.60 372.79,247.30 372.56,247.04 372.29,246.82 371.99,246.65 371.66,246.52 371.32,246.46 371.06,246.44 308.31,246.44 308.57,246.46 308.22,246.44 307.87,246.48 307.54,246.58 307.23,246.73 306.94,246.93 306.69,247.17 306.48,247.44 306.32,247.75 306.21,248.08 306.15,248.43 306.15,248.60 306.15,258.11 306.15,257.94 306.15,258.28 306.21,258.63 306.32,258.96 306.48,259.26 306.69,259.54 306.94,259.78 307.23,259.98 307.54,260.13 307.87,260.23 308.22,260.27' fill='#FFFFFF' fill-opacity='1' stroke='none'/>\n   <text x='311.55' y='256.67' font-size='6.83pt' font-family='catamaran' fill='#505050' fill-opacity='1'>Mattress mfg<\/text>\n   <polygon points='308.31,287.39 364.08,287.39 363.99,287.38 364.34,287.37 364.68,287.30 365.00,287.18 365.31,287.00 365.57,286.78 365.80,286.52 365.99,286.23 366.13,285.91 366.21,285.57 366.24,285.23 366.24,285.23 366.24,275.72 366.24,275.72 366.21,275.37 366.13,275.03 365.99,274.71 365.80,274.42 365.57,274.16 365.31,273.94 365.00,273.76 364.68,273.64 364.34,273.57 364.08,273.56 308.31,273.56 308.57,273.57 308.22,273.56 307.87,273.60 307.54,273.70 307.23,273.84 306.94,274.04 306.69,274.28 306.48,274.56 306.32,274.87 306.21,275.20 306.15,275.54 306.15,275.72 306.15,285.23 306.15,285.05 306.15,285.40 306.21,285.74 306.32,286.07 306.48,286.38 306.69,286.66 306.94,286.90 307.23,287.10 307.54,287.25 307.87,287.34 308.22,287.38' fill='#FFFFFF' fill-opacity='1' stroke='none'/>\n   <text x='311.55' y='283.79' font-size='6.83pt' font-family='catamaran' fill='#505050' fill-opacity='1'>Craft stores<\/text>\n   <polygon points='308.31,358.39 344.82,358.39 344.73,358.39 345.08,358.38 345.42,358.31 345.74,358.18 346.05,358.01 346.31,357.79 346.54,357.53 346.73,357.24 346.87,356.92 346.95,356.58 346.98,356.23 346.98,356.23 346.98,346.72 346.98,346.72 346.95,346.37 346.87,346.04 346.73,345.72 346.54,345.42 346.31,345.16 346.05,344.94 345.74,344.77 345.42,344.65 345.08,344.58 344.82,344.56 308.31,344.56 308.57,344.58 308.22,344.56 307.87,344.60 307.54,344.70 307.23,344.85 306.94,345.05 306.69,345.29 306.48,345.57 306.32,345.87 306.21,346.20 306.15,346.55 306.15,346.72 306.15,356.23 306.15,356.06 306.15,356.41 306.21,356.75 306.32,357.08 306.48,357.39 306.69,357.66 306.94,357.91 307.23,358.10 307.54,358.25 307.87,358.35 308.22,358.39' fill='#FFFFFF' fill-opacity='1' stroke='none'/>\n   <text x='311.55' y='354.79' font-size='6.83pt' font-family='catamaran' fill='#505050' fill-opacity='1'>Airlines<\/text>\n   <polygon points='308.31,310.76 356.29,310.76 356.20,310.76 356.55,310.75 356.89,310.68 357.21,310.55 357.51,310.38 357.78,310.16 358.01,309.90 358.20,309.61 358.34,309.29 358.42,308.95 358.45,308.60 358.45,308.60 358.45,299.09 358.45,299.09 358.42,298.75 358.34,298.41 358.20,298.09 358.01,297.79 357.78,297.53 357.51,297.31 357.21,297.14 356.89,297.02 356.55,296.95 356.29,296.93 308.31,296.93 308.57,296.95 308.22,296.93 307.87,296.98 307.54,297.07 307.23,297.22 306.94,297.42 306.69,297.66 306.48,297.94 306.32,298.25 306.21,298.58 306.15,298.92 306.15,299.09 306.15,308.60 306.15,308.43 306.15,308.78 306.21,309.12 306.32,309.45 306.48,309.76 306.69,310.04 306.94,310.28 307.23,310.47 307.54,310.62 307.87,310.72 308.22,310.76' fill='#FFFFFF' fill-opacity='1' stroke='none'/>\n   <text x='311.55' y='307.16' font-size='6.83pt' font-family='catamaran' fill='#505050' fill-opacity='1'>Car rental<\/text>\n   <polygon points='300.54,324.65 383.45,324.65 383.36,324.65 383.71,324.64 384.05,324.57 384.38,324.44 384.68,324.27 384.95,324.05 385.18,323.79 385.36,323.50 385.50,323.18 385.58,322.84 385.61,322.49 385.61,322.49 385.61,312.98 385.61,312.98 385.58,312.63 385.50,312.30 385.36,311.98 385.18,311.68 384.95,311.42 384.68,311.20 384.38,311.03 384.05,310.91 383.71,310.84 383.45,310.82 300.54,310.82 300.80,310.84 300.45,310.82 300.10,310.86 299.77,310.96 299.46,311.11 299.17,311.31 298.92,311.55 298.71,311.83 298.55,312.13 298.44,312.46 298.38,312.81 298.38,312.98 298.38,322.49 298.38,322.32 298.38,322.67 298.44,323.01 298.55,323.34 298.71,323.65 298.92,323.92 299.17,324.17 299.46,324.36 299.77,324.51 300.10,324.61 300.45,324.65' fill='#FFFFFF' fill-opacity='1' stroke='none'/>\n   <text x='303.78' y='321.05' font-size='6.83pt' font-family='catamaran' fill='#505050' fill-opacity='1'>Industrial laundry<\/text>\n   <polygon points='306.10,378.54 383.45,378.54 383.36,378.54 383.71,378.52 384.05,378.45 384.38,378.33 384.68,378.15 384.95,377.93 385.18,377.67 385.36,377.38 385.50,377.06 385.58,376.72 385.61,376.38 385.61,376.38 385.61,366.87 385.61,366.87 385.58,366.52 385.50,366.18 385.36,365.86 385.18,365.57 384.95,365.31 384.68,365.09 384.38,364.91 384.05,364.79 383.71,364.72 383.45,364.71 306.10,364.71 306.36,364.72 306.01,364.71 305.67,364.75 305.34,364.85 305.02,365.00 304.74,365.19 304.48,365.43 304.28,365.71 304.11,366.02 304.00,366.35 303.95,366.69 303.94,366.87 303.94,376.38 303.95,376.20 303.95,376.55 304.00,376.89 304.11,377.22 304.28,377.53 304.48,377.81 304.74,378.05 305.02,378.25 305.34,378.40 305.67,378.49 306.01,378.54' fill='#FFFFFF' fill-opacity='1' stroke='none'/>\n   <text x='309.34' y='374.94' font-size='6.83pt' font-family='catamaran' fill='#505050' fill-opacity='1'>Meat processing<\/text>\n   <polygon points='308.31,392.05 368.35,392.05 368.27,392.05 368.62,392.03 368.96,391.96 369.28,391.84 369.58,391.67 369.85,391.45 370.08,391.19 370.27,390.89 370.40,390.57 370.49,390.24 370.51,389.89 370.51,389.89 370.51,380.38 370.51,380.38 370.49,380.03 370.40,379.69 370.27,379.37 370.08,379.08 369.85,378.82 369.58,378.60 369.28,378.43 368.96,378.30 368.62,378.23 368.35,378.22 308.31,378.22 308.57,378.23 308.22,378.22 307.87,378.26 307.54,378.36 307.23,378.51 306.94,378.71 306.69,378.95 306.48,379.22 306.32,379.53 306.21,379.86 306.15,380.20 306.15,380.38 306.15,389.89 306.15,389.72 306.15,390.06 306.21,390.41 306.32,390.74 306.48,391.04 306.69,391.32 306.94,391.56 307.23,391.76 307.54,391.91 307.87,392.01 308.22,392.05' fill='#FFFFFF' fill-opacity='1' stroke='none'/>\n   <text x='311.55' y='388.45' font-size='6.83pt' font-family='catamaran' fill='#505050' fill-opacity='1'>Credit rating<\/text>\n   <line x1='50.81' y1='311.09' x2='383.81' y2='311.09' stroke='#000000' stroke-opacity='1' stroke-width='1.49' stroke-dasharray='1,3' stroke-linejoin='round' stroke-linecap='butt'/>\n   <line id='svg_8d29c970_73ae_4878_b59f_26440f345ffd_e27' x1='58.27' y1='174.97' x2='73.18' y2='159.09' stroke='#E6B400' stroke-opacity='1' stroke-width='0.36' stroke-linejoin='round' stroke-linecap='butt' data-id='1'/>\n   <line id='svg_8d29c970_73ae_4878_b59f_26440f345ffd_e28' x1='58.27' y1='174.97' x2='73.18' y2='159.09' stroke='#E6B400' stroke-opacity='1' stroke-width='0.36' stroke-linejoin='round' stroke-linecap='butt' data-id='1'/>\n   <line id='svg_8d29c970_73ae_4878_b59f_26440f345ffd_e29' x1='58.27' y1='174.97' x2='73.18' y2='159.09' stroke='#E6B400' stroke-opacity='1' stroke-width='0.36' stroke-linejoin='round' stroke-linecap='butt' data-id='1'/>\n   <line id='svg_8d29c970_73ae_4878_b59f_26440f345ffd_e30' x1='58.27' y1='174.97' x2='73.18' y2='159.09' stroke='#E6B400' stroke-opacity='1' stroke-width='0.36' stroke-linejoin='round' stroke-linecap='butt' data-id='1'/>\n   <line id='svg_8d29c970_73ae_4878_b59f_26440f345ffd_e31' x1='58.27' y1='174.97' x2='73.18' y2='159.09' stroke='#E6B400' stroke-opacity='1' stroke-width='0.36' stroke-linejoin='round' stroke-linecap='butt' data-id='1'/>\n   <line id='svg_8d29c970_73ae_4878_b59f_26440f345ffd_e32' x1='58.27' y1='174.97' x2='73.18' y2='159.09' stroke='#E6B400' stroke-opacity='1' stroke-width='0.36' stroke-linejoin='round' stroke-linecap='butt' data-id='1'/>\n   <line id='svg_8d29c970_73ae_4878_b59f_26440f345ffd_e33' x1='58.27' y1='174.97' x2='73.18' y2='159.09' stroke='#E6B400' stroke-opacity='1' stroke-width='0.36' stroke-linejoin='round' stroke-linecap='butt' data-id='1'/>\n   <line id='svg_8d29c970_73ae_4878_b59f_26440f345ffd_e34' x1='58.27' y1='174.97' x2='73.18' y2='159.09' stroke='#E6B400' stroke-opacity='1' stroke-width='0.36' stroke-linejoin='round' stroke-linecap='butt' data-id='1'/>\n   <line id='svg_8d29c970_73ae_4878_b59f_26440f345ffd_e35' x1='58.27' y1='174.97' x2='73.18' y2='159.09' stroke='#E6B400' stroke-opacity='1' stroke-width='0.36' stroke-linejoin='round' stroke-linecap='butt' data-id='1'/>\n   <line id='svg_8d29c970_73ae_4878_b59f_26440f345ffd_e36' x1='58.27' y1='174.97' x2='73.18' y2='159.09' stroke='#E6B400' stroke-opacity='1' stroke-width='0.36' stroke-linejoin='round' stroke-linecap='butt' data-id='1'/>\n   <line id='svg_8d29c970_73ae_4878_b59f_26440f345ffd_e37' x1='58.27' y1='174.97' x2='73.18' y2='159.09' stroke='#E6B400' stroke-opacity='1' stroke-width='0.36' stroke-linejoin='round' stroke-linecap='butt' data-id='1'/>\n   <line id='svg_8d29c970_73ae_4878_b59f_26440f345ffd_e38' x1='58.27' y1='174.97' x2='73.18' y2='159.09' stroke='#E6B400' stroke-opacity='1' stroke-width='0.36' stroke-linejoin='round' stroke-linecap='butt' data-id='1'/>\n   <line id='svg_8d29c970_73ae_4878_b59f_26440f345ffd_e39' x1='58.27' y1='174.97' x2='73.18' y2='159.09' stroke='#E6B400' stroke-opacity='1' stroke-width='0.36' stroke-linejoin='round' stroke-linecap='butt' data-id='1'/>\n   <line id='svg_8d29c970_73ae_4878_b59f_26440f345ffd_e40' x1='58.27' y1='174.97' x2='73.18' y2='159.09' stroke='#E6B400' stroke-opacity='1' stroke-width='0.36' stroke-linejoin='round' stroke-linecap='butt' data-id='1'/>\n   <line id='svg_8d29c970_73ae_4878_b59f_26440f345ffd_e41' x1='58.27' y1='174.97' x2='73.18' y2='159.09' stroke='#E6B400' stroke-opacity='1' stroke-width='0.36' stroke-linejoin='round' stroke-linecap='butt' data-id='1'/>\n   <line id='svg_8d29c970_73ae_4878_b59f_26440f345ffd_e42' x1='58.27' y1='174.97' x2='73.18' y2='159.09' stroke='#E6B400' stroke-opacity='1' stroke-width='0.36' stroke-linejoin='round' stroke-linecap='butt' data-id='1'/>\n   <line id='svg_8d29c970_73ae_4878_b59f_26440f345ffd_e43' x1='58.27' y1='174.97' x2='73.18' y2='159.09' stroke='#E6B400' stroke-opacity='1' stroke-width='0.36' stroke-linejoin='round' stroke-linecap='butt' data-id='1'/>\n   <line id='svg_8d29c970_73ae_4878_b59f_26440f345ffd_e44' x1='58.27' y1='174.97' x2='73.18' y2='159.09' stroke='#E6B400' stroke-opacity='1' stroke-width='0.36' stroke-linejoin='round' stroke-linecap='butt' data-id='1'/>\n   <line id='svg_8d29c970_73ae_4878_b59f_26440f345ffd_e45' x1='58.27' y1='174.97' x2='73.18' y2='159.09' stroke='#E6B400' stroke-opacity='1' stroke-width='0.36' stroke-linejoin='round' stroke-linecap='butt' data-id='1'/>\n   <line id='svg_8d29c970_73ae_4878_b59f_26440f345ffd_e46' x1='58.27' y1='174.97' x2='73.18' y2='159.09' stroke='#E6B400' stroke-opacity='1' stroke-width='0.36' stroke-linejoin='round' stroke-linecap='butt' data-id='1'/>\n   <line id='svg_8d29c970_73ae_4878_b59f_26440f345ffd_e47' x1='58.27' y1='174.97' x2='73.18' y2='159.09' stroke='#E6B400' stroke-opacity='1' stroke-width='0.36' stroke-linejoin='round' stroke-linecap='butt' data-id='1'/>\n   <line id='svg_8d29c970_73ae_4878_b59f_26440f345ffd_e48' x1='58.27' y1='174.97' x2='73.18' y2='159.09' stroke='#E6B400' stroke-opacity='1' stroke-width='0.36' stroke-linejoin='round' stroke-linecap='butt' data-id='1'/>\n   <line id='svg_8d29c970_73ae_4878_b59f_26440f345ffd_e49' x1='58.27' y1='174.97' x2='73.18' y2='159.09' stroke='#E6B400' stroke-opacity='1' stroke-width='0.36' stroke-linejoin='round' stroke-linecap='butt' data-id='1'/>\n   <line id='svg_8d29c970_73ae_4878_b59f_26440f345ffd_e50' x1='58.27' y1='174.97' x2='73.18' y2='159.09' stroke='#E6B400' stroke-opacity='1' stroke-width='0.36' stroke-linejoin='round' stroke-linecap='butt' data-id='1'/>\n   <line id='svg_8d29c970_73ae_4878_b59f_26440f345ffd_e51' x1='58.27' y1='174.97' x2='73.18' y2='159.09' stroke='#E6B400' stroke-opacity='1' stroke-width='0.36' stroke-linejoin='round' stroke-linecap='butt' data-id='1'/>\n   <line id='svg_8d29c970_73ae_4878_b59f_26440f345ffd_e52' x1='58.27' y1='174.97' x2='73.18' y2='159.09' stroke='#E6B400' stroke-opacity='1' stroke-width='0.36' stroke-linejoin='round' stroke-linecap='butt' data-id='1'/>\n   <circle id='svg_8d29c970_73ae_4878_b59f_26440f345ffd_e53' cx='55.78' cy='179.51' r='1.47pt' fill='#E6B400' fill-opacity='1' stroke='#E6B400' stroke-opacity='1' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Smartphones, since 2012' data-id='1'/>\n   <circle id='svg_8d29c970_73ae_4878_b59f_26440f345ffd_e54' cx='55.78' cy='197.66' r='1.47pt' fill='#E6B400' fill-opacity='1' stroke='#E6B400' stroke-opacity='1' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Social networks, since 2012' data-id='1'/>\n   <circle id='svg_8d29c970_73ae_4878_b59f_26440f345ffd_e55' cx='55.78' cy='243.03' r='1.47pt' fill='#E6B400' fill-opacity='1' stroke='#E6B400' stroke-opacity='1' stroke-width='0.71' stroke-linejoin='round' stroke-linecap='round' title='Cellphone service, since 2012' data-id='1'/>\n   <text id='svg_8d29c970_73ae_4878_b59f_26440f345ffd_e56' x='64.7' y='157.17' font-size='7.26pt' font-weight='bold' font-family='catamaran' fill='#E6B400' fill-opacity='1' data-id='1'>2012<\/text>\n   <text id='svg_8d29c970_73ae_4878_b59f_26440f345ffd_e57' x='55.23' y='141.88' font-size='6.62pt' font-weight='bold' font-family='catamaran' fill='#E6B400' fill-opacity='1' data-id='1'>Technology<\/text>\n   <text id='svg_8d29c970_73ae_4878_b59f_26440f345ffd_e58' x='56.5' y='148.69' font-size='6.62pt' font-weight='bold' font-family='catamaran' fill='#E6B400' fill-opacity='1' data-id='1'>companies<\/text>\n  <\/g>\n  <g clip-path='url(#svg_8d29c970_73ae_4878_b59f_26440f345ffd_c1)'>\n   <text x='28.39' y='450.86' font-size='7.5pt' font-family='catamaran' fill='#4D4D4D' fill-opacity='1'>20<\/text>\n   <text x='28.39' y='405.48' font-size='7.5pt' font-family='catamaran' fill='#4D4D4D' fill-opacity='1'>30<\/text>\n   <text x='28.39' y='360.11' font-size='7.5pt' font-family='catamaran' fill='#4D4D4D' fill-opacity='1'>40<\/text>\n   <text x='27.57' y='314.74' font-size='7.5pt' font-weight='bold' font-family='catamaran' fill='#4D4D4D' fill-opacity='1'>50<\/text>\n   <text x='28.39' y='269.36' font-size='7.5pt' font-family='catamaran' fill='#4D4D4D' fill-opacity='1'>60<\/text>\n   <text x='28.39' y='223.99' font-size='7.5pt' font-family='catamaran' fill='#4D4D4D' fill-opacity='1'>70<\/text>\n   <text x='28.39' y='178.62' font-size='7.5pt' font-family='catamaran' fill='#4D4D4D' fill-opacity='1'>80<\/text>\n   <text x='28.39' y='133.24' font-size='7.5pt' font-family='catamaran' fill='#4D4D4D' fill-opacity='1'>90<\/text>\n   <text x='17.28' y='87.87' font-size='7.5pt' font-family='catamaran' fill='#4D4D4D' fill-opacity='1'>100%<\/text>\n   <text x='288.6' y='63.32' font-size='8.62pt' font-weight='bold' font-family='catamaran' fill='#636363' fill-opacity='1'>Now<\/text>\n   <text transform='translate(8.02,312.96) rotate(-90.00)' font-size='8.25pt' font-family='catamaran' fill='#636363' fill-opacity='1'>Market share<\/text>\n   <text x='0' y='26.01' font-size='8.62pt' font-family='catamaran' fill='#636363' fill-opacity='1'>The combined market share of the two largest companies in many industries<\/text>\n   <text x='0' y='38.43' font-size='8.62pt' font-family='catamaran' fill='#636363' fill-opacity='1'>has grown in recent years, often more than 40%.<\/text>\n   <text x='0' y='9.84' font-size='10.12pt' font-weight='bold' font-family='catamaran'>Dominance of Corporate Behemoths<\/text>\n   <text x='0' y='491.77' font-size='7.12pt' font-family='catamaran' fill='#636363' fill-opacity='1'>By Isabel Molero López | Source: New York Times; \"Early 2000s \"ranges from 2002 to 2007.<\/text>\n   <text x='0' y='502.03' font-size='7.12pt' font-family='catamaran' fill='#636363' fill-opacity='1'>Lines that begin with a yellow dot correspond to the data of technology companies since 2012.<\/text>\n   <text x='4.43' y='64.67' font-size='8.62pt' font-weight='bold' font-family='catamaran' fill='#636363' fill-opacity='1'>Early 2000s<\/text>\n  <\/g>\n <\/g>\n<\/svg>","js":null,"uid":"svg_8d29c970_73ae_4878_b59f_26440f345ffd","ratio":0.857142857142857,"settings":{"tooltip":{"css":".tooltip_SVGID_ { background-color:gray;color:white;\n                                 font-style:italic;padding:6px;\n                                 border-radius:7px; ; position:absolute;pointer-events:none;z-index:999;}","placement":"doc","opacity":0.9,"offx":10,"offy":0,"use_cursor_pos":true,"use_fill":false,"use_stroke":false,"delay_over":200,"delay_out":500},"hover":{"css":".hover_data_SVGID_ { opacity:1; }","reactive":false,"nearest_distance":null},"hover_inv":{"css":".hover_inv_SVGID_ { opacity:0.1; }"},"hover_key":{"css":".hover_key_SVGID_ { fill:orange;stroke:black;cursor:pointer; }\ntext.hover_key_SVGID_ { stroke:none;fill:orange; }\ncircle.hover_key_SVGID_ { fill:orange;stroke:black; }\nline.hover_key_SVGID_, polyline.hover_key_SVGID_ { fill:none;stroke:orange; }\nrect.hover_key_SVGID_, polygon.hover_key_SVGID_, path.hover_key_SVGID_ { fill:orange;stroke:none; }\nimage.hover_key_SVGID_ { stroke:orange; }","reactive":true},"hover_theme":{"css":".hover_theme_SVGID_ { fill:orange;stroke:black;cursor:pointer; }\ntext.hover_theme_SVGID_ { stroke:none;fill:orange; }\ncircle.hover_theme_SVGID_ { fill:orange;stroke:black; }\nline.hover_theme_SVGID_, polyline.hover_theme_SVGID_ { fill:none;stroke:orange; }\nrect.hover_theme_SVGID_, polygon.hover_theme_SVGID_, path.hover_theme_SVGID_ { fill:orange;stroke:none; }\nimage.hover_theme_SVGID_ { stroke:orange; }","reactive":true},"select":{"css":".select_data_SVGID_ { fill:red;stroke:black;cursor:pointer; }\ntext.select_data_SVGID_ { stroke:none;fill:red; }\ncircle.select_data_SVGID_ { fill:red;stroke:black; }\nline.select_data_SVGID_, polyline.select_data_SVGID_ { fill:none;stroke:red; }\nrect.select_data_SVGID_, polygon.select_data_SVGID_, path.select_data_SVGID_ { fill:red;stroke:none; }\nimage.select_data_SVGID_ { stroke:red; }","type":"multiple","only_shiny":true,"selected":[]},"select_inv":{"css":""},"select_key":{"css":".select_key_SVGID_ { fill:red;stroke:black;cursor:pointer; }\ntext.select_key_SVGID_ { stroke:none;fill:red; }\ncircle.select_key_SVGID_ { fill:red;stroke:black; }\nline.select_key_SVGID_, polyline.select_key_SVGID_ { fill:none;stroke:red; }\nrect.select_key_SVGID_, polygon.select_key_SVGID_, path.select_key_SVGID_ { fill:red;stroke:none; }\nimage.select_key_SVGID_ { stroke:red; }","type":"single","only_shiny":true,"selected":[]},"select_theme":{"css":".select_theme_SVGID_ { fill:red;stroke:black;cursor:pointer; }\ntext.select_theme_SVGID_ { stroke:none;fill:red; }\ncircle.select_theme_SVGID_ { fill:red;stroke:black; }\nline.select_theme_SVGID_, polyline.select_theme_SVGID_ { fill:none;stroke:red; }\nrect.select_theme_SVGID_, polygon.select_theme_SVGID_, path.select_theme_SVGID_ { fill:red;stroke:none; }\nimage.select_theme_SVGID_ { stroke:red; }","type":"single","only_shiny":true,"selected":[]},"zoom":{"min":1,"max":1,"duration":300},"toolbar":{"position":"topright","pngname":"diagram","tooltips":null,"hidden":[],"delay_over":200,"delay_out":500},"sizing":{"rescale":true,"width":0.75}}},"evals":[],"jsHooks":[]}</script>
</div>
<div class="sourceCode" id="cb5"><pre class="sourceCode r distill-force-highlighting-css"><code class="sourceCode r"></code></pre></div>
<!--radix_placeholder_article_footer-->
<!--/radix_placeholder_article_footer-->
</div>

<div class="d-appendix">
</div>


<!--radix_placeholder_site_after_body-->
<!--/radix_placeholder_site_after_body-->
<!--radix_placeholder_appendices-->
<div class="appendix-bottom">
  <h3 id="reuse">Reuse</h3>
  <p>Text and figures are licensed under Creative Commons Attribution <a rel="license" href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a>. The figures that have been reused from other sources don't fall under this license and can be recognized by a note in their caption: "Figure from ...".</p>
  <h3 id="citation">Citation</h3>
  <p>For attribution, please cite this work as</p>
  <pre class="citation-appendix short">Lopez (2023, Jan. 13). Data visualization | MSc CSS: New York Times market share graph. Retrieved from https://csslab.uc3m.es/dataviz/projects/2022/100348375/</pre>
  <p>BibTeX citation</p>
  <pre class="citation-appendix long">@misc{lopez2023new,
  author = {Lopez, Isabel Molero},
  title = {Data visualization | MSc CSS: New York Times market share graph},
  url = {https://csslab.uc3m.es/dataviz/projects/2022/100348375/},
  year = {2023}
}</pre>
</div>
<!--/radix_placeholder_appendices-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<!--radix_placeholder_navigation_after_body--><html><body>
<div class="distill-site-nav distill-site-footer">
<p><img src="../../../assets/acronimo_nombre1l_0.png" width="400"></p>
</div>
<!--/radix_placeholder_navigation_after_body-->
</body></html>


</body>

</html>
