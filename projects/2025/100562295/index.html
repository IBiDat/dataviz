<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">

<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/>
  <meta name="generator" content="distill" />

  <style type="text/css">
  /* Hide doc at startup (prevent jankiness while JS renders/transforms) */
  body {
    visibility: hidden;
  }
  </style>

 <!--radix_placeholder_import_source-->
 <!--/radix_placeholder_import_source-->

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  { color: #00769e; background-color: #f1f3f5; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span { color: #00769e; } /* Normal */
code span.al { color: #ad0000; } /* Alert */
code span.an { color: #5e5e5e; } /* Annotation */
code span.at { color: #657422; } /* Attribute */
code span.bn { color: #ad0000; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #00769e; } /* ControlFlow */
code span.ch { color: #20794d; } /* Char */
code span.cn { color: #8f5902; } /* Constant */
code span.co { color: #5e5e5e; } /* Comment */
code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
code span.dt { color: #ad0000; } /* DataType */
code span.dv { color: #ad0000; } /* DecVal */
code span.er { color: #ad0000; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #ad0000; } /* Float */
code span.fu { color: #4758ab; } /* Function */
code span.im { } /* Import */
code span.in { color: #5e5e5e; } /* Information */
code span.kw { color: #00769e; } /* Keyword */
code span.op { color: #5e5e5e; } /* Operator */
code span.ot { color: #00769e; } /* Other */
code span.pp { color: #ad0000; } /* Preprocessor */
code span.sc { color: #5e5e5e; } /* SpecialChar */
code span.ss { color: #20794d; } /* SpecialString */
code span.st { color: #20794d; } /* String */
code span.va { color: #111111; } /* Variable */
code span.vs { color: #20794d; } /* VerbatimString */
code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
</style>


  <!--radix_placeholder_meta_tags-->
<title>Data Visualization | MSc CSS: Billion Dollar Weather and Climate Disasters in the U.S.</title>

<meta property="description" itemprop="description" content="Recreation of Fortune Magazine&#39;s visualization showing the increase in billion-dollar climate disasters in the U.S. from 1980-2017"/>

<link rel="canonical" href="https://csslab.uc3m.es/dataviz/projects/2025/100562295/"/>
<link rel="license" href="https://creativecommons.org/licenses/by/4.0/"/>

<!--  https://schema.org/Article -->
<meta property="article:published" itemprop="datePublished" content="2026-01-14"/>
<meta property="article:created" itemprop="dateCreated" content="2026-01-14"/>
<meta name="article:author" content="Paloma Navarro"/>

<!--  https://developers.facebook.com/docs/sharing/webmasters#markup -->
<meta property="og:title" content="Data Visualization | MSc CSS: Billion Dollar Weather and Climate Disasters in the U.S."/>
<meta property="og:type" content="article"/>
<meta property="og:description" content="Recreation of Fortune Magazine&#39;s visualization showing the increase in billion-dollar climate disasters in the U.S. from 1980-2017"/>
<meta property="og:url" content="https://csslab.uc3m.es/dataviz/projects/2025/100562295/"/>
<meta property="og:image" content="https://csslab.uc3m.es/dataviz/projects/2025/100562295/100562295_files/figure-html5/unnamed-chunk-12-1.png"/>
<meta property="og:image:width" content="1440"/>
<meta property="og:image:height" content="1152"/>
<meta property="og:locale" content="en_US"/>
<meta property="og:site_name" content="Data Visualization | MSc CSS"/>

<!--  https://dev.twitter.com/cards/types/summary -->
<meta property="twitter:card" content="summary_large_image"/>
<meta property="twitter:title" content="Data Visualization | MSc CSS: Billion Dollar Weather and Climate Disasters in the U.S."/>
<meta property="twitter:description" content="Recreation of Fortune Magazine&#39;s visualization showing the increase in billion-dollar climate disasters in the U.S. from 1980-2017"/>
<meta property="twitter:url" content="https://csslab.uc3m.es/dataviz/projects/2025/100562295/"/>
<meta property="twitter:image" content="https://csslab.uc3m.es/dataviz/projects/2025/100562295/100562295_files/figure-html5/unnamed-chunk-12-1.png"/>
<meta property="twitter:image:width" content="1440"/>
<meta property="twitter:image:height" content="1152"/>

<!--  https://scholar.google.com/intl/en/scholar/inclusion.html#indexing -->
<meta name="citation_title" content="Data Visualization | MSc CSS: Billion Dollar Weather and Climate Disasters in the U.S."/>
<meta name="citation_fulltext_html_url" content="https://csslab.uc3m.es/dataviz/projects/2025/100562295/"/>
<meta name="citation_fulltext_world_readable" content=""/>
<meta name="citation_online_date" content="2026/01/14"/>
<meta name="citation_publication_date" content="2026/01/14"/>
<meta name="citation_author" content="Paloma Navarro"/>
<!--/radix_placeholder_meta_tags-->
  <!--radix_placeholder_rmarkdown_metadata-->

<script type="text/json" id="radix-rmarkdown-metadata">
{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["creative_commons","title","description","categories","author","date","output","citation_url","canonical_url"]}},"value":[{"type":"character","attributes":{},"value":["CC BY"]},{"type":"character","attributes":{},"value":["Billion Dollar Weather and Climate Disasters in the U.S."]},{"type":"character","attributes":{},"value":["Recreation of Fortune Magazine's visualization showing the increase in billion-dollar climate disasters in the U.S. from 1980-2017"]},{"type":"character","attributes":{},"value":["2025"]},{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name"]}},"value":[{"type":"character","attributes":{},"value":["Paloma Navarro"]}]}]},{"type":"character","attributes":{},"value":["2026-01-14"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["distill::distill_article"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["self_contained","toc"]}},"value":[{"type":"logical","attributes":{},"value":[false]},{"type":"logical","attributes":{},"value":[true]}]}]},{"type":"character","attributes":{},"value":["https://csslab.uc3m.es/dataviz/projects/2025/100562295/"]},{"type":"character","attributes":{},"value":["https://csslab.uc3m.es/dataviz/projects/2025/100562295/"]}]}
</script>
<!--/radix_placeholder_rmarkdown_metadata-->
  
  <script type="text/json" id="radix-resource-manifest">
  {"type":"character","attributes":{},"value":["100562295_files/figure-html5/unnamed-chunk-12-1.png","100562295_files/figure-html5/unnamed-chunk-19-1.png","clipboard-2156084656.png","events-US-1980-2024.csv"]}
  </script>
  <!--radix_placeholder_navigation_in_header-->
<meta name="distill:offset" content="../../.."/>

<script type="application/javascript">

  window.headroom_prevent_pin = false;

  window.document.addEventListener("DOMContentLoaded", function (event) {

    // initialize headroom for banner
    var header = $('header').get(0);
    var headerHeight = header.offsetHeight;
    var headroom = new Headroom(header, {
      tolerance: 5,
      onPin : function() {
        if (window.headroom_prevent_pin) {
          window.headroom_prevent_pin = false;
          headroom.unpin();
        }
      }
    });
    headroom.init();
    if(window.location.hash)
      headroom.unpin();
    $(header).addClass('headroom--transition');

    // offset scroll location for banner on hash change
    // (see: https://github.com/WickyNilliams/headroom.js/issues/38)
    window.addEventListener("hashchange", function(event) {
      window.scrollTo(0, window.pageYOffset - (headerHeight + 25));
    });

    // responsive menu
    $('.distill-site-header').each(function(i, val) {
      var topnav = $(this);
      var toggle = topnav.find('.nav-toggle');
      toggle.on('click', function() {
        topnav.toggleClass('responsive');
      });
    });

    // nav dropdowns
    $('.nav-dropbtn').click(function(e) {
      $(this).next('.nav-dropdown-content').toggleClass('nav-dropdown-active');
      $(this).parent().siblings('.nav-dropdown')
         .children('.nav-dropdown-content').removeClass('nav-dropdown-active');
    });
    $("body").click(function(e){
      $('.nav-dropdown-content').removeClass('nav-dropdown-active');
    });
    $(".nav-dropdown").click(function(e){
      e.stopPropagation();
    });
  });
</script>

<style type="text/css">

/* Theme (user-documented overrideables for nav appearance) */

.distill-site-nav {
  color: rgba(255, 255, 255, 0.8);
  background-color: #0F2E3D;
  font-size: 15px;
  font-weight: 300;
}

.distill-site-nav a {
  color: inherit;
  text-decoration: none;
}

.distill-site-nav a:hover {
  color: white;
}

@media print {
  .distill-site-nav {
    display: none;
  }
}

.distill-site-header {

}

.distill-site-footer {

}


/* Site Header */

.distill-site-header {
  width: 100%;
  box-sizing: border-box;
  z-index: 3;
}

.distill-site-header .nav-left {
  display: inline-block;
  margin-left: 8px;
}

@media screen and (max-width: 768px) {
  .distill-site-header .nav-left {
    margin-left: 0;
  }
}


.distill-site-header .nav-right {
  float: right;
  margin-right: 8px;
}

.distill-site-header a,
.distill-site-header .title {
  display: inline-block;
  text-align: center;
  padding: 14px 10px 14px 10px;
}

.distill-site-header .title {
  font-size: 18px;
  min-width: 150px;
}

.distill-site-header .logo {
  padding: 0;
}

.distill-site-header .logo img {
  display: none;
  max-height: 20px;
  width: auto;
  margin-bottom: -4px;
}

.distill-site-header .nav-image img {
  max-height: 18px;
  width: auto;
  display: inline-block;
  margin-bottom: -3px;
}



@media screen and (min-width: 1000px) {
  .distill-site-header .logo img {
    display: inline-block;
  }
  .distill-site-header .nav-left {
    margin-left: 20px;
  }
  .distill-site-header .nav-right {
    margin-right: 20px;
  }
  .distill-site-header .title {
    padding-left: 12px;
  }
}


.distill-site-header .nav-toggle {
  display: none;
}

.nav-dropdown {
  display: inline-block;
  position: relative;
}

.nav-dropdown .nav-dropbtn {
  border: none;
  outline: none;
  color: rgba(255, 255, 255, 0.8);
  padding: 16px 10px;
  background-color: transparent;
  font-family: inherit;
  font-size: inherit;
  font-weight: inherit;
  margin: 0;
  margin-top: 1px;
  z-index: 2;
}

.nav-dropdown-content {
  display: none;
  position: absolute;
  background-color: white;
  min-width: 200px;
  border: 1px solid rgba(0,0,0,0.15);
  border-radius: 4px;
  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.1);
  z-index: 1;
  margin-top: 2px;
  white-space: nowrap;
  padding-top: 4px;
  padding-bottom: 4px;
}

.nav-dropdown-content hr {
  margin-top: 4px;
  margin-bottom: 4px;
  border: none;
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
}

.nav-dropdown-active {
  display: block;
}

.nav-dropdown-content a, .nav-dropdown-content .nav-dropdown-header {
  color: black;
  padding: 6px 24px;
  text-decoration: none;
  display: block;
  text-align: left;
}

.nav-dropdown-content .nav-dropdown-header {
  display: block;
  padding: 5px 24px;
  padding-bottom: 0;
  text-transform: uppercase;
  font-size: 14px;
  color: #999999;
  white-space: nowrap;
}

.nav-dropdown:hover .nav-dropbtn {
  color: white;
}

.nav-dropdown-content a:hover {
  background-color: #ddd;
  color: black;
}

.nav-right .nav-dropdown-content {
  margin-left: -45%;
  right: 0;
}

@media screen and (max-width: 768px) {
  .distill-site-header a, .distill-site-header .nav-dropdown  {display: none;}
  .distill-site-header a.nav-toggle {
    float: right;
    display: block;
  }
  .distill-site-header .title {
    margin-left: 0;
  }
  .distill-site-header .nav-right {
    margin-right: 0;
  }
  .distill-site-header {
    overflow: hidden;
  }
  .nav-right .nav-dropdown-content {
    margin-left: 0;
  }
}


@media screen and (max-width: 768px) {
  .distill-site-header.responsive {position: relative; min-height: 500px; }
  .distill-site-header.responsive a.nav-toggle {
    position: absolute;
    right: 0;
    top: 0;
  }
  .distill-site-header.responsive a,
  .distill-site-header.responsive .nav-dropdown {
    display: block;
    text-align: left;
  }
  .distill-site-header.responsive .nav-left,
  .distill-site-header.responsive .nav-right {
    width: 100%;
  }
  .distill-site-header.responsive .nav-dropdown {float: none;}
  .distill-site-header.responsive .nav-dropdown-content {position: relative;}
  .distill-site-header.responsive .nav-dropdown .nav-dropbtn {
    display: block;
    width: 100%;
    text-align: left;
  }
}

/* Site Footer */

.distill-site-footer {
  width: 100%;
  overflow: hidden;
  box-sizing: border-box;
  z-index: 3;
  margin-top: 30px;
  padding-top: 30px;
  padding-bottom: 30px;
  text-align: center;
}

/* Headroom */

d-title {
  padding-top: 6rem;
}

@media print {
  d-title {
    padding-top: 4rem;
  }
}

.headroom {
  z-index: 1000;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
}

.headroom--transition {
  transition: all .4s ease-in-out;
}

.headroom--unpinned {
  top: -100px;
}

.headroom--pinned {
  top: 0;
}

/* adjust viewport for navbar height */
/* helps vertically center bootstrap (non-distill) content */
.min-vh-100 {
  min-height: calc(100vh - 100px) !important;
}

</style>

<script src="../../../site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<link href="../../../site_libs/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"/>
<link href="../../../site_libs/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"/>
<script src="../../../site_libs/headroom-0.9.4/headroom.min.js"></script>
<script src="../../../site_libs/autocomplete-0.37.1/autocomplete.min.js"></script>
<script src="../../../site_libs/fuse-6.4.1/fuse.min.js"></script>

<script type="application/javascript">

function getMeta(metaName) {
  var metas = document.getElementsByTagName('meta');
  for (let i = 0; i < metas.length; i++) {
    if (metas[i].getAttribute('name') === metaName) {
      return metas[i].getAttribute('content');
    }
  }
  return '';
}

function offsetURL(url) {
  var offset = getMeta('distill:offset');
  return offset ? offset + '/' + url : url;
}

function createFuseIndex() {

  // create fuse index
  var options = {
    keys: [
      { name: 'title', weight: 20 },
      { name: 'categories', weight: 15 },
      { name: 'description', weight: 10 },
      { name: 'contents', weight: 5 },
    ],
    ignoreLocation: true,
    threshold: 0
  };
  var fuse = new window.Fuse([], options);

  // fetch the main search.json
  return fetch(offsetURL('search.json'))
    .then(function(response) {
      if (response.status == 200) {
        return response.json().then(function(json) {
          // index main articles
          json.articles.forEach(function(article) {
            fuse.add(article);
          });
          // download collections and index their articles
          return Promise.all(json.collections.map(function(collection) {
            return fetch(offsetURL(collection)).then(function(response) {
              if (response.status === 200) {
                return response.json().then(function(articles) {
                  articles.forEach(function(article) {
                    fuse.add(article);
                  });
                })
              } else {
                return Promise.reject(
                  new Error('Unexpected status from search index request: ' +
                            response.status)
                );
              }
            });
          })).then(function() {
            return fuse;
          });
        });

      } else {
        return Promise.reject(
          new Error('Unexpected status from search index request: ' +
                      response.status)
        );
      }
    });
}

window.document.addEventListener("DOMContentLoaded", function (event) {

  // get search element (bail if we don't have one)
  var searchEl = window.document.getElementById('distill-search');
  if (!searchEl)
    return;

  createFuseIndex()
    .then(function(fuse) {

      // make search box visible
      searchEl.classList.remove('hidden');

      // initialize autocomplete
      var options = {
        autoselect: true,
        hint: false,
        minLength: 2,
      };
      window.autocomplete(searchEl, options, [{
        source: function(query, callback) {
          const searchOptions = {
            isCaseSensitive: false,
            shouldSort: true,
            minMatchCharLength: 2,
            limit: 10,
          };
          var results = fuse.search(query, searchOptions);
          callback(results
            .map(function(result) { return result.item; })
          );
        },
        templates: {
          suggestion: function(suggestion) {
            var img = suggestion.preview && Object.keys(suggestion.preview).length > 0
              ? `<img src="${offsetURL(suggestion.preview)}"</img>`
              : '';
            var html = `
              <div class="search-item">
                <h3>${suggestion.title}</h3>
                <div class="search-item-description">
                  ${suggestion.description || ''}
                </div>
                <div class="search-item-preview">
                  ${img}
                </div>
              </div>
            `;
            return html;
          }
        }
      }]).on('autocomplete:selected', function(event, suggestion) {
        window.location.href = offsetURL(suggestion.path);
      });
      // remove inline display style on autocompleter (we want to
      // manage responsive display via css)
      $('.algolia-autocomplete').css("display", "");
    })
    .catch(function(error) {
      console.log(error);
    });

});

</script>

<style type="text/css">

.nav-search {
  font-size: x-small;
}

/* Algolioa Autocomplete */

.algolia-autocomplete {
  display: inline-block;
  margin-left: 10px;
  vertical-align: sub;
  background-color: white;
  color: black;
  padding: 6px;
  padding-top: 8px;
  padding-bottom: 0;
  border-radius: 6px;
  border: 1px #0F2E3D solid;
  width: 180px;
}


@media screen and (max-width: 768px) {
  .distill-site-nav .algolia-autocomplete {
    display: none;
    visibility: hidden;
  }
  .distill-site-nav.responsive .algolia-autocomplete {
    display: inline-block;
    visibility: visible;
  }
  .distill-site-nav.responsive .algolia-autocomplete .aa-dropdown-menu {
    margin-left: 0;
    width: 400px;
    max-height: 400px;
  }
}

.algolia-autocomplete .aa-input, .algolia-autocomplete .aa-hint {
  width: 90%;
  outline: none;
  border: none;
}

.algolia-autocomplete .aa-hint {
  color: #999;
}
.algolia-autocomplete .aa-dropdown-menu {
  width: 550px;
  max-height: 70vh;
  overflow-x: visible;
  overflow-y: scroll;
  padding: 5px;
  margin-top: 3px;
  margin-left: -150px;
  background-color: #fff;
  border-radius: 5px;
  border: 1px solid #999;
  border-top: none;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion {
  cursor: pointer;
  padding: 5px 4px;
  border-bottom: 1px solid #eee;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion:last-of-type {
  border-bottom: none;
  margin-bottom: 2px;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item {
  overflow: hidden;
  font-size: 0.8em;
  line-height: 1.4em;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item h3 {
  font-size: 1rem;
  margin-block-start: 0;
  margin-block-end: 5px;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-description {
  display: inline-block;
  overflow: hidden;
  height: 2.8em;
  width: 80%;
  margin-right: 4%;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview {
  display: inline-block;
  width: 15%;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview img {
  height: 3em;
  width: auto;
  display: none;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview img[src] {
  display: initial;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion.aa-cursor {
  background-color: #eee;
}
.algolia-autocomplete .aa-dropdown-menu .aa-suggestion em {
  font-weight: bold;
  font-style: normal;
}

</style>


<!--/radix_placeholder_navigation_in_header-->
  <!--radix_placeholder_distill-->

<style type="text/css">

body {
  background-color: white;
}

.pandoc-table {
  width: 100%;
}

.pandoc-table>caption {
  margin-bottom: 10px;
}

.pandoc-table th:not([align]) {
  text-align: left;
}

.pagedtable-footer {
  font-size: 15px;
}

d-byline .byline {
  grid-template-columns: 2fr 2fr;
}

d-byline .byline h3 {
  margin-block-start: 1.5em;
}

d-byline .byline .authors-affiliations h3 {
  margin-block-start: 0.5em;
}

.authors-affiliations .orcid-id {
  width: 16px;
  height:16px;
  margin-left: 4px;
  margin-right: 4px;
  vertical-align: middle;
  padding-bottom: 2px;
}

d-title .dt-tags {
  margin-top: 1em;
  grid-column: text;
}

.dt-tags .dt-tag {
  text-decoration: none;
  display: inline-block;
  color: rgba(0,0,0,0.6);
  padding: 0em 0.4em;
  margin-right: 0.5em;
  margin-bottom: 0.4em;
  font-size: 70%;
  border: 1px solid rgba(0,0,0,0.2);
  border-radius: 3px;
  text-transform: uppercase;
  font-weight: 500;
}

d-article table.gt_table td,
d-article table.gt_table th {
  border-bottom: none;
  font-size: 100%;
}

.html-widget {
  margin-bottom: 2.0em;
}

.l-screen-inset {
  padding-right: 16px;
}

.l-screen .caption {
  margin-left: 10px;
}

.shaded {
  background: rgb(247, 247, 247);
  padding-top: 20px;
  padding-bottom: 20px;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
}

.shaded .html-widget {
  margin-bottom: 0;
  border: 1px solid rgba(0, 0, 0, 0.1);
}

.shaded .shaded-content {
  background: white;
}

.text-output {
  margin-top: 0;
  line-height: 1.5em;
}

.hidden {
  display: none !important;
}

hr.section-separator {
  border: none;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  margin: 0px;
}


d-byline {
  border-top: none;
}

d-article {
  padding-top: 2.5rem;
  padding-bottom: 30px;
  border-top: none;
}

d-appendix {
  padding-top: 30px;
}

d-article>p>img {
  width: 100%;
}

d-article h2 {
  margin: 1rem 0 1.5rem 0;
}

d-article h3 {
  margin-top: 1.5rem;
}

d-article iframe {
  border: 1px solid rgba(0, 0, 0, 0.1);
  margin-bottom: 2.0em;
  width: 100%;
}

/* Tweak code blocks */

d-article div.sourceCode code,
d-article pre code {
  font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
}

d-article pre,
d-article div.sourceCode,
d-article div.sourceCode pre {
  overflow: auto;
}

d-article div.sourceCode {
  background-color: white;
}

d-article div.sourceCode pre {
  padding-left: 10px;
  font-size: 12px;
  border-left: 2px solid rgba(0,0,0,0.1);
}

d-article pre {
  font-size: 12px;
  color: black;
  background: none;
  margin-top: 0;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.5;

  -moz-tab-size: 4;
  -o-tab-size: 4;
  tab-size: 4;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

d-article pre a {
  border-bottom: none;
}

d-article pre a:hover {
  border-bottom: none;
  text-decoration: underline;
}

d-article details {
  grid-column: text;
  margin-bottom: 0.8em;
}

@media(min-width: 768px) {

d-article pre,
d-article div.sourceCode,
d-article div.sourceCode pre {
  overflow: visible !important;
}

d-article div.sourceCode pre {
  padding-left: 18px;
  font-size: 14px;
}

/* tweak for Pandoc numbered line within distill */
d-article pre.numberSource code > span {
    left: -2em;
}

d-article pre {
  font-size: 14px;
}

}

figure img.external {
  background: white;
  border: 1px solid rgba(0, 0, 0, 0.1);
  box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
  padding: 18px;
  box-sizing: border-box;
}

/* CSS for d-contents */

.d-contents {
  grid-column: text;
  color: rgba(0,0,0,0.8);
  font-size: 0.9em;
  padding-bottom: 1em;
  margin-bottom: 1em;
  padding-bottom: 0.5em;
  margin-bottom: 1em;
  padding-left: 0.25em;
  justify-self: start;
}

@media(min-width: 1000px) {
  .d-contents.d-contents-float {
    height: 0;
    grid-column-start: 1;
    grid-column-end: 4;
    justify-self: center;
    padding-right: 3em;
    padding-left: 2em;
  }
}

.d-contents nav h3 {
  font-size: 18px;
  margin-top: 0;
  margin-bottom: 1em;
}

.d-contents li {
  list-style-type: none
}

.d-contents nav > ul {
  padding-left: 0;
}

.d-contents ul {
  padding-left: 1em
}

.d-contents nav ul li {
  margin-top: 0.6em;
  margin-bottom: 0.2em;
}

.d-contents nav a {
  font-size: 13px;
  border-bottom: none;
  text-decoration: none
  color: rgba(0, 0, 0, 0.8);
}

.d-contents nav a:hover {
  text-decoration: underline solid rgba(0, 0, 0, 0.6)
}

.d-contents nav > ul > li > a {
  font-weight: 600;
}

.d-contents nav > ul > li > ul {
  font-weight: inherit;
}

.d-contents nav > ul > li > ul > li {
  margin-top: 0.2em;
}


.d-contents nav ul {
  margin-top: 0;
  margin-bottom: 0.25em;
}

.d-article-with-toc h2:nth-child(2) {
  margin-top: 0;
}


/* Figure */

.figure {
  position: relative;
  margin-bottom: 2.5em;
  margin-top: 1.5em;
}

.figure .caption {
  color: rgba(0, 0, 0, 0.6);
  font-size: 12px;
  line-height: 1.5em;
}

.figure img.external {
  background: white;
  border: 1px solid rgba(0, 0, 0, 0.1);
  box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
  padding: 18px;
  box-sizing: border-box;
}

.figure .caption a {
  color: rgba(0, 0, 0, 0.6);
}

.figure .caption b,
.figure .caption strong, {
  font-weight: 600;
  color: rgba(0, 0, 0, 1.0);
}

/* Citations */

d-article .citation {
  color: inherit;
  cursor: inherit;
}

div.hanging-indent{
  margin-left: 1em; text-indent: -1em;
}

/* Citation hover box */

.tippy-box[data-theme~=light-border] {
  background-color: rgba(250, 250, 250, 0.95);
}

.tippy-content > p {
  margin-bottom: 0;
  padding: 2px;
}


/* Tweak 1000px media break to show more text */

@media(min-width: 1000px) {
  .base-grid,
  distill-header,
  d-title,
  d-abstract,
  d-article,
  d-appendix,
  distill-appendix,
  d-byline,
  d-footnote-list,
  d-citation-list,
  distill-footer {
    grid-template-columns: [screen-start] 1fr [page-start kicker-start] 80px [middle-start] 50px [text-start kicker-end] 65px 65px 65px 65px 65px 65px 65px 65px [text-end gutter-start] 65px [middle-end] 65px [page-end gutter-end] 1fr [screen-end];
    grid-column-gap: 16px;
  }

  .grid {
    grid-column-gap: 16px;
  }

  d-article {
    font-size: 1.06rem;
    line-height: 1.7em;
  }
  figure .caption, .figure .caption, figure figcaption {
    font-size: 13px;
  }
}

@media(min-width: 1180px) {
  .base-grid,
  distill-header,
  d-title,
  d-abstract,
  d-article,
  d-appendix,
  distill-appendix,
  d-byline,
  d-footnote-list,
  d-citation-list,
  distill-footer {
    grid-template-columns: [screen-start] 1fr [page-start kicker-start] 60px [middle-start] 60px [text-start kicker-end] 60px 60px 60px 60px 60px 60px 60px 60px [text-end gutter-start] 60px [middle-end] 60px [page-end gutter-end] 1fr [screen-end];
    grid-column-gap: 32px;
  }

  .grid {
    grid-column-gap: 32px;
  }
}


/* Get the citation styles for the appendix (not auto-injected on render since
   we do our own rendering of the citation appendix) */

d-appendix .citation-appendix,
.d-appendix .citation-appendix {
  font-size: 11px;
  line-height: 15px;
  border-left: 1px solid rgba(0, 0, 0, 0.1);
  padding-left: 18px;
  border: 1px solid rgba(0,0,0,0.1);
  background: rgba(0, 0, 0, 0.02);
  padding: 10px 18px;
  border-radius: 3px;
  color: rgba(150, 150, 150, 1);
  overflow: hidden;
  margin-top: -12px;
  white-space: pre-wrap;
  word-wrap: break-word;
}

/* Include appendix styles here so they can be overridden */

d-appendix {
  contain: layout style;
  font-size: 0.8em;
  line-height: 1.7em;
  margin-top: 60px;
  margin-bottom: 0;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  color: rgba(0,0,0,0.5);
  padding-top: 60px;
  padding-bottom: 48px;
}

d-appendix h3 {
  grid-column: page-start / text-start;
  font-size: 15px;
  font-weight: 500;
  margin-top: 1em;
  margin-bottom: 0;
  color: rgba(0,0,0,0.65);
}

d-appendix h3 + * {
  margin-top: 1em;
}

d-appendix ol {
  padding: 0 0 0 15px;
}

@media (min-width: 768px) {
  d-appendix ol {
    padding: 0 0 0 30px;
    margin-left: -30px;
  }
}

d-appendix li {
  margin-bottom: 1em;
}

d-appendix a {
  color: rgba(0, 0, 0, 0.6);
}

d-appendix > * {
  grid-column: text;
}

d-appendix > d-footnote-list,
d-appendix > d-citation-list,
d-appendix > distill-appendix {
  grid-column: screen;
}

/* Include footnote styles here so they can be overridden */

d-footnote-list {
  contain: layout style;
}

d-footnote-list > * {
  grid-column: text;
}

d-footnote-list a.footnote-backlink {
  color: rgba(0,0,0,0.3);
  padding-left: 0.5em;
}



/* Anchor.js */

.anchorjs-link {
  /*transition: all .25s linear; */
  text-decoration: none;
  border-bottom: none;
}
*:hover > .anchorjs-link {
  margin-left: -1.125em !important;
  text-decoration: none;
  border-bottom: none;
}

/* Social footer */

.social_footer {
  margin-top: 30px;
  margin-bottom: 0;
  color: rgba(0,0,0,0.67);
}

.disqus-comments {
  margin-right: 30px;
}

.disqus-comment-count {
  border-bottom: 1px solid rgba(0, 0, 0, 0.4);
  cursor: pointer;
}

#disqus_thread {
  margin-top: 30px;
}

.article-sharing a {
  border-bottom: none;
  margin-right: 8px;
}

.article-sharing a:hover {
  border-bottom: none;
}

.sidebar-section.subscribe {
  font-size: 12px;
  line-height: 1.6em;
}

.subscribe p {
  margin-bottom: 0.5em;
}


.article-footer .subscribe {
  font-size: 15px;
  margin-top: 45px;
}


.sidebar-section.custom {
  font-size: 12px;
  line-height: 1.6em;
}

.custom p {
  margin-bottom: 0.5em;
}

/* Styles for listing layout (hide title) */
.layout-listing d-title, .layout-listing .d-title {
  display: none;
}

/* Styles for posts lists (not auto-injected) */


.posts-with-sidebar {
  padding-left: 45px;
  padding-right: 45px;
}

.posts-list .description h2,
.posts-list .description p {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
}

.posts-list .description h2 {
  font-weight: 700;
  border-bottom: none;
  padding-bottom: 0;
}

.posts-list h2.post-tag {
  border-bottom: 1px solid rgba(0, 0, 0, 0.2);
  padding-bottom: 12px;
}
.posts-list {
  margin-top: 60px;
  margin-bottom: 24px;
}

.posts-list .post-preview {
  text-decoration: none;
  overflow: hidden;
  display: block;
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  padding: 24px 0;
}

.post-preview-last {
  border-bottom: none !important;
}

.posts-list .posts-list-caption {
  grid-column: screen;
  font-weight: 400;
}

.posts-list .post-preview h2 {
  margin: 0 0 6px 0;
  line-height: 1.2em;
  font-style: normal;
  font-size: 24px;
}

.posts-list .post-preview p {
  margin: 0 0 12px 0;
  line-height: 1.4em;
  font-size: 16px;
}

.posts-list .post-preview .thumbnail {
  box-sizing: border-box;
  margin-bottom: 24px;
  position: relative;
  max-width: 500px;
}
.posts-list .post-preview img {
  width: 100%;
  display: block;
}

.posts-list .metadata {
  font-size: 12px;
  line-height: 1.4em;
  margin-bottom: 18px;
}

.posts-list .metadata > * {
  display: inline-block;
}

.posts-list .metadata .publishedDate {
  margin-right: 2em;
}

.posts-list .metadata .dt-authors {
  display: block;
  margin-top: 0.3em;
  margin-right: 2em;
}

.posts-list .dt-tags {
  display: block;
  line-height: 1em;
}

.posts-list .dt-tags .dt-tag {
  display: inline-block;
  color: rgba(0,0,0,0.6);
  padding: 0.3em 0.4em;
  margin-right: 0.2em;
  margin-bottom: 0.4em;
  font-size: 60%;
  border: 1px solid rgba(0,0,0,0.2);
  border-radius: 3px;
  text-transform: uppercase;
  font-weight: 500;
}

.posts-list img {
  opacity: 1;
}

.posts-list img[data-src] {
  opacity: 0;
}

.posts-more {
  clear: both;
}


.posts-sidebar {
  font-size: 16px;
}

.posts-sidebar h3 {
  font-size: 16px;
  margin-top: 0;
  margin-bottom: 0.5em;
  font-weight: 400;
  text-transform: uppercase;
}

.sidebar-section {
  margin-bottom: 30px;
}

.categories ul {
  list-style-type: none;
  margin: 0;
  padding: 0;
}

.categories li {
  color: rgba(0, 0, 0, 0.8);
  margin-bottom: 0;
}

.categories li>a {
  border-bottom: none;
}

.categories li>a:hover {
  border-bottom: 1px solid rgba(0, 0, 0, 0.4);
}

.categories .active {
  font-weight: 600;
}

.categories .category-count {
  color: rgba(0, 0, 0, 0.4);
}


@media(min-width: 768px) {
  .posts-list .post-preview h2 {
    font-size: 26px;
  }
  .posts-list .post-preview .thumbnail {
    float: right;
    width: 30%;
    margin-bottom: 0;
  }
  .posts-list .post-preview .description {
    float: left;
    width: 45%;
  }
  .posts-list .post-preview .metadata {
    float: left;
    width: 20%;
    margin-top: 8px;
  }
  .posts-list .post-preview p {
    margin: 0 0 12px 0;
    line-height: 1.5em;
    font-size: 16px;
  }
  .posts-with-sidebar .posts-list {
    float: left;
    width: 75%;
  }
  .posts-with-sidebar .posts-sidebar {
    float: right;
    width: 20%;
    margin-top: 60px;
    padding-top: 24px;
    padding-bottom: 24px;
  }
}


/* Improve display for browsers without grid (IE/Edge <= 15) */

.downlevel {
  line-height: 1.6em;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
  margin: 0;
}

.downlevel .d-title {
  padding-top: 6rem;
  padding-bottom: 1.5rem;
}

.downlevel .d-title h1 {
  font-size: 50px;
  font-weight: 700;
  line-height: 1.1em;
  margin: 0 0 0.5rem;
}

.downlevel .d-title p {
  font-weight: 300;
  font-size: 1.2rem;
  line-height: 1.55em;
  margin-top: 0;
}

.downlevel .d-byline {
  padding-top: 0.8em;
  padding-bottom: 0.8em;
  font-size: 0.8rem;
  line-height: 1.8em;
}

.downlevel .section-separator {
  border: none;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
}

.downlevel .d-article {
  font-size: 1.06rem;
  line-height: 1.7em;
  padding-top: 1rem;
  padding-bottom: 2rem;
}


.downlevel .d-appendix {
  padding-left: 0;
  padding-right: 0;
  max-width: none;
  font-size: 0.8em;
  line-height: 1.7em;
  margin-bottom: 0;
  color: rgba(0,0,0,0.5);
  padding-top: 40px;
  padding-bottom: 48px;
}

.downlevel .footnotes ol {
  padding-left: 13px;
}

.downlevel .base-grid,
.downlevel .distill-header,
.downlevel .d-title,
.downlevel .d-abstract,
.downlevel .d-article,
.downlevel .d-appendix,
.downlevel .distill-appendix,
.downlevel .d-byline,
.downlevel .d-footnote-list,
.downlevel .d-citation-list,
.downlevel .distill-footer,
.downlevel .appendix-bottom,
.downlevel .posts-container {
  padding-left: 40px;
  padding-right: 40px;
}

@media(min-width: 768px) {
  .downlevel .base-grid,
  .downlevel .distill-header,
  .downlevel .d-title,
  .downlevel .d-abstract,
  .downlevel .d-article,
  .downlevel .d-appendix,
  .downlevel .distill-appendix,
  .downlevel .d-byline,
  .downlevel .d-footnote-list,
  .downlevel .d-citation-list,
  .downlevel .distill-footer,
  .downlevel .appendix-bottom,
  .downlevel .posts-container {
  padding-left: 150px;
  padding-right: 150px;
  max-width: 900px;
}
}

.downlevel pre code {
  display: block;
  border-left: 2px solid rgba(0, 0, 0, .1);
  padding: 0 0 0 20px;
  font-size: 14px;
}

.downlevel code, .downlevel pre {
  color: black;
  background: none;
  font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.5;

  -moz-tab-size: 4;
  -o-tab-size: 4;
  tab-size: 4;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

.downlevel .posts-list .post-preview {
  color: inherit;
}



</style>

<script type="application/javascript">

function is_downlevel_browser() {
  if (bowser.isUnsupportedBrowser({ msie: "12", msedge: "16"},
                                 window.navigator.userAgent)) {
    return true;
  } else {
    return window.load_distill_framework === undefined;
  }
}

// show body when load is complete
function on_load_complete() {

  // add anchors
  if (window.anchors) {
    window.anchors.options.placement = 'left';
    window.anchors.add('d-article > h2, d-article > h3, d-article > h4, d-article > h5');
  }


  // set body to visible
  document.body.style.visibility = 'visible';

  // force redraw for leaflet widgets
  if (window.HTMLWidgets) {
    var maps = window.HTMLWidgets.findAll(".leaflet");
    $.each(maps, function(i, el) {
      var map = this.getMap();
      map.invalidateSize();
      map.eachLayer(function(layer) {
        if (layer instanceof L.TileLayer)
          layer.redraw();
      });
    });
  }

  // trigger 'shown' so htmlwidgets resize
  $('d-article').trigger('shown');
}

function init_distill() {

  init_common();

  // create front matter
  var front_matter = $('<d-front-matter></d-front-matter>');
  $('#distill-front-matter').wrap(front_matter);

  // create d-title
  $('.d-title').changeElementType('d-title');

  // separator
  var separator = '<hr class="section-separator" style="clear: both"/>';
  // prepend separator above appendix
  $('.d-byline').before(separator);
  $('.d-article').before(separator);

  // create d-byline
  var byline = $('<d-byline></d-byline>');
  $('.d-byline').replaceWith(byline);

  // create d-article
  var article = $('<d-article></d-article>');
  $('.d-article').wrap(article).children().unwrap();

  // move posts container into article
  $('.posts-container').appendTo($('d-article'));

  // create d-appendix
  $('.d-appendix').changeElementType('d-appendix');

  // flag indicating that we have appendix items
  var appendix = $('.appendix-bottom').children('h3').length > 0;

  // replace footnotes with <d-footnote>
  $('.footnote-ref').each(function(i, val) {
    appendix = true;
    var href = $(this).attr('href');
    var id = href.replace('#', '');
    var fn = $('#' + id);
    var fn_p = $('#' + id + '>p');
    fn_p.find('.footnote-back').remove();
    var text = fn_p.html();
    var dtfn = $('<d-footnote></d-footnote>');
    dtfn.html(text);
    $(this).replaceWith(dtfn);
  });
  // remove footnotes
  $('.footnotes').remove();

  // move refs into #references-listing
  $('#references-listing').replaceWith($('#refs'));

  $('h1.appendix, h2.appendix').each(function(i, val) {
    $(this).changeElementType('h3');
  });
  $('h3.appendix').each(function(i, val) {
    var id = $(this).attr('id');
    $('.d-contents a[href="#' + id + '"]').parent().remove();
    appendix = true;
    $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('d-appendix'));
  });

  // show d-appendix if we have appendix content
  $("d-appendix").css('display', appendix ? 'grid' : 'none');

  // localize layout chunks to just output
  $('.layout-chunk').each(function(i, val) {

    // capture layout
    var layout = $(this).attr('data-layout');

    // apply layout to markdown level block elements
    var elements = $(this).children().not('details, div.sourceCode, pre, script');
    elements.each(function(i, el) {
      var layout_div = $('<div class="' + layout + '"></div>');
      if (layout_div.hasClass('shaded')) {
        var shaded_content = $('<div class="shaded-content"></div>');
        $(this).wrap(shaded_content);
        $(this).parent().wrap(layout_div);
      } else {
        $(this).wrap(layout_div);
      }
    });


    // unwrap the layout-chunk div
    $(this).children().unwrap();
  });

  // remove code block used to force  highlighting css
  $('.distill-force-highlighting-css').parent().remove();

  // remove empty line numbers inserted by pandoc when using a
  // custom syntax highlighting theme, except when numbering line
  // in code chunk
  $('pre:not(.numberLines) code.sourceCode a:empty').remove();

  // load distill framework
  load_distill_framework();

  // wait for window.distillRunlevel == 4 to do post processing
  function distill_post_process() {

    if (!window.distillRunlevel || window.distillRunlevel < 4)
      return;

    // hide author/affiliations entirely if we have no authors
    var front_matter = JSON.parse($("#distill-front-matter").html());
    var have_authors = front_matter.authors && front_matter.authors.length > 0;
    if (!have_authors)
      $('d-byline').addClass('hidden');

    // article with toc class
    $('.d-contents').parent().addClass('d-article-with-toc');

    // strip links that point to #
    $('.authors-affiliations').find('a[href="#"]').removeAttr('href');

    // add orcid ids
    $('.authors-affiliations').find('.author').each(function(i, el) {
      var orcid_id = front_matter.authors[i].orcidID;
      var author_name = front_matter.authors[i].author
      if (orcid_id) {
        var a = $('<a></a>');
        a.attr('href', 'https://orcid.org/' + orcid_id);
        var img = $('<img></img>');
        img.addClass('orcid-id');
        img.attr('alt', author_name ? 'ORCID ID for ' + author_name : 'ORCID ID');
        img.attr('src','data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg==');
        a.append(img);
        $(this).append(a);
      }
    });

    // hide elements of author/affiliations grid that have no value
    function hide_byline_column(caption) {
      $('d-byline').find('h3:contains("' + caption + '")').parent().css('visibility', 'hidden');
    }

    // affiliations
    var have_affiliations = false;
    for (var i = 0; i<front_matter.authors.length; ++i) {
      var author = front_matter.authors[i];
      if (author.affiliation !== "&nbsp;") {
        have_affiliations = true;
        break;
      }
    }
    if (!have_affiliations)
      $('d-byline').find('h3:contains("Affiliations")').css('visibility', 'hidden');

    // published date
    if (!front_matter.publishedDate)
      hide_byline_column("Published");

    // document object identifier
    var doi = $('d-byline').find('h3:contains("DOI")');
    var doi_p = doi.next().empty();
    if (!front_matter.doi) {
      // if we have a citation and valid citationText then link to that
      if ($('#citation').length > 0 && front_matter.citationText) {
        doi.html('Citation');
        $('<a href="#citation"></a>')
          .text(front_matter.citationText)
          .appendTo(doi_p);
      } else {
        hide_byline_column("DOI");
      }
    } else {
      $('<a></a>')
         .attr('href', "https://doi.org/" + front_matter.doi)
         .html(front_matter.doi)
         .appendTo(doi_p);
    }

     // change plural form of authors/affiliations
    if (front_matter.authors.length === 1) {
      var grid = $('.authors-affiliations');
      grid.children('h3:contains("Authors")').text('Author');
      grid.children('h3:contains("Affiliations")').text('Affiliation');
    }

    // remove d-appendix and d-footnote-list local styles
    $('d-appendix > style:first-child').remove();
    $('d-footnote-list > style:first-child').remove();

    // move appendix-bottom entries to the bottom
    $('.appendix-bottom').appendTo('d-appendix').children().unwrap();
    $('.appendix-bottom').remove();

    // hoverable references
    $('span.citation[data-cites]').each(function() {
      const citeChild = $(this).children()[0]
      // Do not process if @xyz has been used without escaping and without bibliography activated
      // https://github.com/rstudio/distill/issues/466
      if (citeChild === undefined) return true

      if (citeChild.nodeName == "D-FOOTNOTE") {
        var fn = citeChild
        $(this).html(fn.shadowRoot.querySelector("sup"))
        $(this).id = fn.id
        fn.remove()
      }
      var refs = $(this).attr('data-cites').split(" ");
      var refHtml = refs.map(function(ref) {
        // Could use CSS.escape too here, we insure backward compatibility in navigator
        return "<p>" + $('div[id="ref-' + ref + '"]').html() + "</p>";
      }).join("\n");
      window.tippy(this, {
        allowHTML: true,
        content: refHtml,
        maxWidth: 500,
        interactive: true,
        interactiveBorder: 10,
        theme: 'light-border',
        placement: 'bottom-start'
      });
    });

    // fix footnotes in tables (#411)
    // replacing broken distill.pub feature
    $('table d-footnote').each(function() {
      // we replace internal showAtNode methode which is triggered when hovering a footnote
      this.hoverBox.showAtNode = function(node) {
        // ported from https://github.com/distillpub/template/pull/105/files
        calcOffset = function(elem) {
            let x = elem.offsetLeft;
            let y = elem.offsetTop;
            // Traverse upwards until an `absolute` element is found or `elem`
            // becomes null.
            while (elem = elem.offsetParent && elem.style.position != 'absolute') {
                x += elem.offsetLeft;
                y += elem.offsetTop;
            }

            return { left: x, top: y };
        }
        // https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/offsetTop
        const bbox = node.getBoundingClientRect();
        const offset = calcOffset(node);
        this.show([offset.left + bbox.width, offset.top + bbox.height]);
      }
    })

    // clear polling timer
    clearInterval(tid);

    // show body now that everything is ready
    on_load_complete();
  }

  var tid = setInterval(distill_post_process, 50);
  distill_post_process();

}

function init_downlevel() {

  init_common();

   // insert hr after d-title
  $('.d-title').after($('<hr class="section-separator"/>'));

  // check if we have authors
  var front_matter = JSON.parse($("#distill-front-matter").html());
  var have_authors = front_matter.authors && front_matter.authors.length > 0;

  // manage byline/border
  if (!have_authors)
    $('.d-byline').remove();
  $('.d-byline').after($('<hr class="section-separator"/>'));
  $('.d-byline a').remove();

  // remove toc
  $('.d-contents').remove();

  // move appendix elements
  $('h1.appendix, h2.appendix').each(function(i, val) {
    $(this).changeElementType('h3');
  });
  $('h3.appendix').each(function(i, val) {
    $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('.d-appendix'));
  });


  // inject headers into references and footnotes
  var refs_header = $('<h3></h3>');
  refs_header.text('References');
  $('#refs').prepend(refs_header);

  var footnotes_header = $('<h3></h3');
  footnotes_header.text('Footnotes');
  $('.footnotes').children('hr').first().replaceWith(footnotes_header);

  // move appendix-bottom entries to the bottom
  $('.appendix-bottom').appendTo('.d-appendix').children().unwrap();
  $('.appendix-bottom').remove();

  // remove appendix if it's empty
  if ($('.d-appendix').children().length === 0)
    $('.d-appendix').remove();

  // prepend separator above appendix
  $('.d-appendix').before($('<hr class="section-separator" style="clear: both"/>'));

  // trim code
  $('pre>code').each(function(i, val) {
    $(this).html($.trim($(this).html()));
  });

  // move posts-container right before article
  $('.posts-container').insertBefore($('.d-article'));

  $('body').addClass('downlevel');

  on_load_complete();
}


function init_common() {

  // jquery plugin to change element types
  (function($) {
    $.fn.changeElementType = function(newType) {
      var attrs = {};

      $.each(this[0].attributes, function(idx, attr) {
        attrs[attr.nodeName] = attr.nodeValue;
      });

      this.replaceWith(function() {
        return $("<" + newType + "/>", attrs).append($(this).contents());
      });
    };
  })(jQuery);

  // prevent underline for linked images
  $('a > img').parent().css({'border-bottom' : 'none'});

  // mark non-body figures created by knitr chunks as 100% width
  $('.layout-chunk').each(function(i, val) {
    var figures = $(this).find('img, .html-widget');
    // ignore leaflet img layers (#106)
    figures = figures.filter(':not(img[class*="leaflet"])')
    if ($(this).attr('data-layout') !== "l-body") {
      figures.css('width', '100%');
    } else {
      figures.css('max-width', '100%');
      figures.filter("[width]").each(function(i, val) {
        var fig = $(this);
        fig.css('width', fig.attr('width') + 'px');
      });

    }
  });

  // auto-append index.html to post-preview links in file: protocol
  // and in rstudio ide preview
  $('.post-preview').each(function(i, val) {
    if (window.location.protocol === "file:")
      $(this).attr('href', $(this).attr('href') + "index.html");
  });

  // get rid of index.html references in header
  if (window.location.protocol !== "file:") {
    $('.distill-site-header a[href]').each(function(i,val) {
      $(this).attr('href', $(this).attr('href').replace(/^index[.]html/, "./"));
    });
  }

  // add class to pandoc style tables
  $('tr.header').parent('thead').parent('table').addClass('pandoc-table');
  $('.kable-table').children('table').addClass('pandoc-table');

  // add figcaption style to table captions
  $('caption').parent('table').addClass("figcaption");

  // initialize posts list
  if (window.init_posts_list)
    window.init_posts_list();

  // implmement disqus comment link
  $('.disqus-comment-count').click(function() {
    window.headroom_prevent_pin = true;
    $('#disqus_thread').toggleClass('hidden');
    if (!$('#disqus_thread').hasClass('hidden')) {
      var offset = $(this).offset();
      $(window).resize();
      $('html, body').animate({
        scrollTop: offset.top - 35
      });
    }
  });
}

document.addEventListener('DOMContentLoaded', function() {
  if (is_downlevel_browser())
    init_downlevel();
  else
    window.addEventListener('WebComponentsReady', init_distill);
});

</script>

<style type="text/css">
/* base variables */

/* Edit the CSS properties in this file to create a custom
   Distill theme. Only edit values in the right column
   for each row; values shown are the CSS defaults.
   To return any property to the default,
   you may set its value to: unset
   All rows must end with a semi-colon.                      */

/* Optional: embed custom fonts here with `@import`          */
/* This must remain at the top of this file.                 */



html {
  /*-- Main font sizes --*/
  --title-size:      50px;
  --body-size:       1.06rem;
  --code-size:       14px;
  --aside-size:      12px;
  --fig-cap-size:    13px;
  /*-- Main font colors --*/
  --title-color:     #000000;
  --header-color:    rgba(0, 0, 0, 0.8);
  --body-color:      rgba(0, 0, 0, 0.8);
  --aside-color:     rgba(0, 0, 0, 0.6);
  --fig-cap-color:   rgba(0, 0, 0, 0.6);
  /*-- Specify custom fonts ~~~ must be imported above   --*/
  --heading-font:    sans-serif;
  --mono-font:       monospace;
  --body-font:       sans-serif;
  --navbar-font:     sans-serif;  /* websites + blogs only */
}

/*-- ARTICLE METADATA --*/
d-byline {
  --heading-size:    0.6rem;
  --heading-color:   rgba(0, 0, 0, 0.5);
  --body-size:       0.8rem;
  --body-color:      rgba(0, 0, 0, 0.8);
}

/*-- ARTICLE TABLE OF CONTENTS --*/
.d-contents {
  --heading-size:    18px;
  --contents-size:   13px;
}

/*-- ARTICLE APPENDIX --*/
d-appendix {
  --heading-size:    15px;
  --heading-color:   rgba(0, 0, 0, 0.65);
  --text-size:       0.8em;
  --text-color:      rgba(0, 0, 0, 0.5);
}

/*-- WEBSITE HEADER + FOOTER --*/
/* These properties only apply to Distill sites and blogs  */

.distill-site-header {
  --title-size:       18px;
  --text-color:       rgba(255, 255, 255, 0.8);
  --text-size:        15px;
  --hover-color:      white;
  --bkgd-color:       #0F2E3D;
}

.distill-site-footer {
  --text-color:       rgba(255, 255, 255, 0.8);
  --text-size:        15px;
  --hover-color:      white;
  --bkgd-color:       #0F2E3D;
}

/*-- Additional custom styles --*/
/* Add any additional CSS rules below                      */
</style>
<style type="text/css">
/* base variables */

/* Edit the CSS properties in this file to create a custom
   Distill theme. Only edit values in the right column
   for each row; values shown are the CSS defaults.
   To return any property to the default,
   you may set its value to: unset
   All rows must end with a semi-colon.                      */

/* Optional: embed custom fonts here with `@import`          */
/* This must remain at the top of this file.                 */

@import url('https://fonts.googleapis.com/css2?family=Questrial');

html {
  /*-- Main font sizes --*/
  --title-size:      50px;
  --body-size:       1.06rem;
  --code-size:       14px;
  --aside-size:      12px;
  --fig-cap-size:    13px;
  /*-- Main font colors --*/
  --title-color:     #000000;
  --header-color:    rgba(0, 0, 0, 0.8);
  --body-color:      rgba(0, 0, 0, 0.8);
  --aside-color:     rgba(0, 0, 0, 0.6);
  --fig-cap-color:   rgba(0, 0, 0, 0.6);
  /*-- Specify custom fonts ~~~ must be imported above   --*/
  --heading-font:    "Questrial", sans-serif;
  --mono-font:       monospace;
  --body-font:       "Questrial", sans-serif;
  --navbar-font:     "Questrial", sans-serif;  /* websites + blogs only */
}

/*-- ARTICLE METADATA --*/
d-byline {
  --heading-size:    0.6rem;
  --heading-color:   rgba(0, 0, 0, 0.5);
  --body-size:       0.8rem;
  --body-color:      rgba(0, 0, 0, 0.8);
}

/*-- ARTICLE TABLE OF CONTENTS --*/
.d-contents {
  --heading-size:    18px;
  --contents-size:   13px;
}

/*-- ARTICLE APPENDIX --*/
d-appendix {
  --heading-size:    15px;
  --heading-color:   rgba(0, 0, 0, 0.65);
  --text-size:       0.8em;
  --text-color:      rgba(0, 0, 0, 0.5);
}

/*-- WEBSITE HEADER + FOOTER --*/
/* These properties only apply to Distill sites and blogs  */

.distill-site-header {
  --title-size:       18px;
  --text-color:       rgba(255, 255, 255, 0.8);
  --text-size:        15px;
  --hover-color:      white;
  --bkgd-color:       #000e78;
}

.distill-site-footer {
  --text-color:       rgba(255, 255, 255, 0.8);
  --text-size:        15px;
  --hover-color:      white;
  --bkgd-color:       #000e78;
}

/*-- Additional custom styles --*/
/* Add any additional CSS rules below                      */

@media screen and (min-width: 768px) {
  d-article aside {
    height: 0;
  }
  aside.slides {
    margin-left: -148px;
    height: auto;
  }
  aside.slides + h2 {
    white-space: nowrap;
  }
}

d-article li {
  margin-bottom: 0.1em;
}

.posts-list .post-preview .thumbnail {
  max-height: 300px;
  overflow: hidden;
}</style>
<style type="text/css">
/* base style */

/* FONT FAMILIES */

:root {
  --heading-default: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
  --mono-default: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  --body-default: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
}

body,
.posts-list .post-preview p,
.posts-list .description p {
  font-family: var(--body-font), var(--body-default);
}

h1, h2, h3, h4, h5, h6,
.posts-list .post-preview h2,
.posts-list .description h2 {
  font-family: var(--heading-font), var(--heading-default);
}

d-article div.sourceCode code,
d-article pre code {
  font-family: var(--mono-font), var(--mono-default);
}


/*-- TITLE --*/
d-title h1,
.posts-list > h1 {
  color: var(--title-color, black);
}

d-title h1 {
  font-size: var(--title-size, 50px);
}

/*-- HEADERS --*/
d-article h1,
d-article h2,
d-article h3,
d-article h4,
d-article h5,
d-article h6 {
  color: var(--header-color, rgba(0, 0, 0, 0.8));
}

/*-- BODY --*/
d-article > p,  /* only text inside of <p> tags */
d-article > ul, /* lists */
d-article > ol {
  color: var(--body-color, rgba(0, 0, 0, 0.8));
  font-size: var(--body-size, 1.06rem);
}


/*-- CODE --*/
d-article div.sourceCode code,
d-article pre code {
  font-size: var(--code-size, 14px);
}

/*-- ASIDE --*/
d-article aside {
  font-size: var(--aside-size, 12px);
  color: var(--aside-color, rgba(0, 0, 0, 0.6));
}

/*-- FIGURE CAPTIONS --*/
figure .caption,
figure figcaption,
.figure .caption {
  font-size: var(--fig-cap-size, 13px);
  color: var(--fig-cap-color, rgba(0, 0, 0, 0.6));
}

/*-- METADATA --*/
d-byline h3 {
  font-size: var(--heading-size, 0.6rem);
  color: var(--heading-color, rgba(0, 0, 0, 0.5));
}

d-byline {
  font-size: var(--body-size, 0.8rem);
  color: var(--body-color, rgba(0, 0, 0, 0.8));
}

d-byline a,
d-article d-byline a {
  color: var(--body-color, rgba(0, 0, 0, 0.8));
}

/*-- TABLE OF CONTENTS --*/
.d-contents nav h3 {
  font-size: var(--heading-size, 18px);
}

.d-contents nav a {
  font-size: var(--contents-size, 13px);
}

/*-- APPENDIX --*/
d-appendix h3 {
  font-size: var(--heading-size, 15px);
  color: var(--heading-color, rgba(0, 0, 0, 0.65));
}

d-appendix {
  font-size: var(--text-size, 0.8em);
  color: var(--text-color, rgba(0, 0, 0, 0.5));
}

d-appendix d-footnote-list a.footnote-backlink {
  color: var(--text-color, rgba(0, 0, 0, 0.5));
}

/*-- WEBSITE HEADER + FOOTER --*/
.distill-site-header .title {
  font-size: var(--title-size, 18px);
  font-family: var(--navbar-font), var(--heading-default);
}

.distill-site-header a,
.nav-dropdown .nav-dropbtn {
  font-family: var(--navbar-font), var(--heading-default);
}

.nav-dropdown .nav-dropbtn {
  color: var(--text-color, rgba(255, 255, 255, 0.8));
  font-size: var(--text-size, 15px);
}

.distill-site-header a:hover,
.nav-dropdown:hover .nav-dropbtn {
  color: var(--hover-color, white);
}

.distill-site-header {
  font-size: var(--text-size, 15px);
  color: var(--text-color, rgba(255, 255, 255, 0.8));
  background-color: var(--bkgd-color, #0F2E3D);
}

.distill-site-footer {
  font-size: var(--text-size, 15px);
  color: var(--text-color, rgba(255, 255, 255, 0.8));
  background-color: var(--bkgd-color, #0F2E3D);
}

.distill-site-footer a:hover {
  color: var(--hover-color, white);
}</style>
<!--/radix_placeholder_distill-->
  <script src="../../../site_libs/header-attrs-2.30/header-attrs.js"></script>
  <script src="../../../site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
  <script src="../../../site_libs/popper-2.6.0/popper.min.js"></script>
  <link href="../../../site_libs/tippy-6.2.7/tippy.css" rel="stylesheet" />
  <link href="../../../site_libs/tippy-6.2.7/tippy-light-border.css" rel="stylesheet" />
  <script src="../../../site_libs/tippy-6.2.7/tippy.umd.min.js"></script>
  <script src="../../../site_libs/anchor-4.2.2/anchor.min.js"></script>
  <script src="../../../site_libs/bowser-1.9.3/bowser.min.js"></script>
  <script src="../../../site_libs/webcomponents-2.0.0/webcomponents.js"></script>
  <script src="../../../site_libs/distill-2.2.21/template.v2.js"></script>
  <!--radix_placeholder_site_in_header-->
<!--/radix_placeholder_site_in_header-->


</head>

<body>

<!--radix_placeholder_front_matter-->

<script id="distill-front-matter" type="text/json">
{"title":"Billion Dollar Weather and Climate Disasters in the U.S.","description":"Recreation of Fortune Magazine's visualization showing the increase in billion-dollar climate disasters in the U.S. from 1980-2017","authors":[{"author":"Paloma Navarro","authorURL":"#","affiliation":"&nbsp;","affiliationURL":"#","orcidID":""}],"publishedDate":"2026-01-14T00:00:00.000+01:00","citationText":"Navarro, 2026"}
</script>

<!--/radix_placeholder_front_matter-->
<!--radix_placeholder_navigation_before_body-->
<header class="header header--fixed" role="banner">
<nav class="distill-site-nav distill-site-header">
<div class="nav-left">
<span class="logo">
<img src="../../../assets/acronimo_0.png"/>
</span>
<a href="../../../index.html" class="title">Data Visualization | MSc CSS</a>
<input id="distill-search" class="nav-search hidden" type="text" placeholder="Search..."/>
</div>
<div class="nav-right">
<a href="../../../contents.html">Contents</a>
<a href="../../../tutorials.html">Tutorials</a>
<a href="../../../resources.html">Resources</a>
<a href="../../../projects.html">Projects</a>
<a href="https://github.com/IBiDat/dataviz" aria-label="Link to source">
<i class="fab fa-github" aria-hidden="true"></i>
</a>
<a href="javascript:void(0);" class="nav-toggle">&#9776;</a>
</div>
</nav>
</header>
<!--/radix_placeholder_navigation_before_body-->
<!--radix_placeholder_site_before_body-->
<!--/radix_placeholder_site_before_body-->

<div class="d-title">
<h1>Billion Dollar Weather and Climate Disasters in the U.S.</h1>

<!--radix_placeholder_categories-->
<div class="dt-tags">
  <a href="../../../projects.html#category:2025" class="dt-tag">2025</a>
</div>
<!--/radix_placeholder_categories-->
<p>Recreation of Fortune Magazines visualization showing the increase in billion-dollar climate disasters in the U.S. from 1980-2017</p>
</div>

<div class="d-byline">
  
  Paloma Navarro
  
<br/>2026-01-14
</div>

<div class="d-article">
<div class="d-contents d-contents-float">
<nav class="l-text toc figcaption" id="TOC">
<h3>Contents</h3>
<ul>
<li><a href="#storm-warnings" id="toc-storm-warnings">Storm Warnings</a></li>
<li><a href="#getting-started" id="toc-getting-started">Getting started</a>
<ul>
<li><a href="#loading-libraries" id="toc-loading-libraries">Loading libraries</a></li>
<li><a href="#adding-fonts" id="toc-adding-fonts">Adding fonts</a></li>
<li><a href="#loading-data" id="toc-loading-data">Loading data</a></li>
<li><a href="#recoding-and-tidying-data" id="toc-recoding-and-tidying-data">Recoding and tidying data</a></li>
<li><a href="#manual-coordinates" id="toc-manual-coordinates">Manual coordinates</a></li>
<li><a href="#creating-curves-for-stacked-area-chart" id="toc-creating-curves-for-stacked-area-chart">Creating curves for stacked area chart</a></li>
</ul></li>
<li><a href="#limitation-side-curves" id="toc-limitation-side-curves">Limitation: side curves</a>
<ul>
<li><a href="#creating-connectors-of-the-different-segments" id="toc-creating-connectors-of-the-different-segments">Creating connectors of the different segments</a></li>
</ul></li>
<li><a href="#defining-colors" id="toc-defining-colors">Defining colors</a></li>
<li><a href="#creating-diagram-number-of-events" id="toc-creating-diagram-number-of-events">Creating diagram Number of events</a></li>
<li><a href="#main-graph" id="toc-main-graph">Main graph</a>
<ul>
<li><a href="#title-and-descrption-paragrah" id="toc-title-and-descrption-paragrah">Title and descrption paragrah</a></li>
<li><a href="#patchwork-to-create-final-project" id="toc-patchwork-to-create-final-project">Patchwork to create final project</a></li>
</ul></li>
<li><a href="#improvement" id="toc-improvement">Improvement</a>
<ul>
<li><a href="#chronological-direction" id="toc-chronological-direction">Chronological direction</a></li>
</ul></li>
</ul>
</nav>
</div>
<h2 id="storm-warnings">Storm Warnings</h2>
<p>This project recreates an editorial visualization originally published by Fortune Magazine, which shows the increase in billion-dollar weather and climate disasters in the United States. The goal was not only to reproduce the data, but also to explore how far an editorial-style layout could be replicated using ggplot2.</p>
<p>Because the original graph was designed for publication in a magazine, certain visual and formatting elements could not be reproduced exactly as in the original image. This provided limitations for the reproduction of the graph. The idea was to reproduce the Fortune Magazine visualization as close as possible.</p>
<p>Throughout the process, I found limitations to represent this graph. Some elements of the original designespecially the curved side edges of the streamsproved difficult to reproduce, which led to several design decisions and adaptations.</p>
<p><img src="clipboard-2156084656.png" /></p>
<h2 id="getting-started">Getting started</h2>
<h3 id="loading-libraries">Loading libraries</h3>
<p>I start by loading the libraries used throughout the project. tidyverse handles data cleaning and transformation, while janitor is used to standardize column names. ggplot2 is the main plotting tool, and showtext allows the use of Google Fonts. patchwork is used later to combine the chart with the text panel.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://tidyverse.tidyverse.org'>tidyverse</a></span><span class='op'>)</span></span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://github.com/sfirke/janitor'>janitor</a></span><span class='op'>)</span></span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://ggplot2.tidyverse.org'>ggplot2</a></span><span class='op'>)</span></span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://github.com/yixuan/showtext'>showtext</a></span><span class='op'>)</span></span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://patchwork.data-imaginist.com'>patchwork</a></span><span class='op'>)</span></span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'>ggstream</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<h3 id="adding-fonts">Adding fonts</h3>
<p>To match the editorial style of the reference visualization, I load two Google Fonts. Barlow Condensed is used for titles, while Barlow is used for annotations and labels. These were the most similar fonts to the original ones. Original fonts were not available.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://rdrr.io/pkg/sysfonts/man/font_add_google.html'>font_add_google</a></span><span class='op'>(</span><span class='st'>"Barlow"</span>, <span class='st'>"barlow"</span><span class='op'>)</span></span>
<span><span class='fu'><a href='https://rdrr.io/pkg/sysfonts/man/font_add_google.html'>font_add_google</a></span><span class='op'>(</span><span class='st'>"Barlow Condensed"</span>, <span class='st'>"Barlow Condensed"</span><span class='op'>)</span>  </span>
<span><span class='fu'><a href='https://rdrr.io/pkg/showtext/man/showtext_auto.html'>showtext_auto</a></span><span class='op'>(</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<h3 id="loading-data">Loading data</h3>
<p>The dataset contains National Oceanic and Atmospheric Administration records of U.S. weather and climate disasters. I skip the first two rows because they contain metadata rather than observations. I also clean the column names to avoid issues with inconsistent naming later in the process. I use the janitor package clean names function to standardize the name of the columns (lowercase)</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>data_raw</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://readr.tidyverse.org/reference/read_delim.html'>read_csv</a></span><span class='op'>(</span><span class='st'>"events-US-1980-2024.csv"</span>, skip <span class='op'>=</span> <span class='fl'>2</span>, show_col_types <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'><a href='https://sfirke.github.io/janitor/reference/clean_names.html'>clean_names</a></span><span class='op'>(</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<h3 id="recoding-and-tidying-data">Recoding and tidying data</h3>
<p>In this step, I extract the year from the event start date and limit the analysis to the period shown in the original visualization (19802017). Disaster categories are recoded into the set of labels used in the original visualization.</p>
<p>I then aggregate the data by year and disaster type, counting how many events occur in each category. Missing yeartype combinations are filled with zeros to ensure the stacked areas remain continuous. Finally, I define a fixed factor order to control how the categories are stacked visually.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>data_raw</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://readr.tidyverse.org/reference/read_delim.html'>read_csv</a></span><span class='op'>(</span><span class='st'>"events-US-1980-2024.csv"</span>, skip <span class='op'>=</span> <span class='fl'>2</span>, show_col_types <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'><a href='https://sfirke.github.io/janitor/reference/clean_names.html'>clean_names</a></span><span class='op'>(</span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>data_aggregated</span> <span class='op'>&lt;-</span> <span class='va'>data_raw</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>year <span class='op'>=</span> <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_sub.html'>str_sub</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/character.html'>as.character</a></span><span class='op'>(</span><span class='va'>begin_date</span><span class='op'>)</span>, <span class='fl'>1</span>, <span class='fl'>4</span><span class='op'>)</span> <span class='op'>|&gt;</span> <span class='fu'><a href='https://rdrr.io/r/base/numeric.html'>as.numeric</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>year</span> <span class='op'>&gt;=</span> <span class='fl'>1980</span>, <span class='va'>year</span> <span class='op'>&lt;=</span> <span class='fl'>2017</span><span class='op'>)</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span></span>
<span>    disaster_type <span class='op'>=</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/case_when.html'>case_when</a></span><span class='op'>(</span></span>
<span>      <span class='va'>disaster</span> <span class='op'>==</span> <span class='st'>"Tropical Cyclone"</span> <span class='op'>~</span> <span class='st'>"HURRICANE"</span>,</span>
<span>      <span class='va'>disaster</span> <span class='op'>==</span> <span class='st'>"Drought"</span> <span class='op'>~</span> <span class='st'>"DROUGHT"</span>,</span>
<span>      <span class='va'>disaster</span> <span class='op'>==</span> <span class='st'>"Severe Storm"</span> <span class='op'>~</span> <span class='st'>"SEVERE STORM"</span>,</span>
<span>      <span class='va'>disaster</span> <span class='op'>==</span> <span class='st'>"Flooding"</span> <span class='op'>~</span> <span class='st'>"FLOODING"</span>,</span>
<span>      <span class='va'>disaster</span> <span class='op'>==</span> <span class='st'>"Freeze"</span> <span class='op'>~</span> <span class='st'>"FREEZE"</span>,</span>
<span>      <span class='va'>disaster</span> <span class='op'>==</span> <span class='st'>"Wildfire"</span> <span class='op'>~</span> <span class='st'>"WILDFIRE"</span>,</span>
<span>      <span class='va'>disaster</span> <span class='op'>==</span> <span class='st'>"Winter Storm"</span> <span class='op'>~</span> <span class='st'>"WINTER STORM"</span>,</span>
<span>      .default <span class='op'>=</span> <span class='va'>disaster</span> </span>
<span>    <span class='op'>)</span></span>
<span>  <span class='op'>)</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/group_by.html'>group_by</a></span><span class='op'>(</span><span class='va'>year</span>, <span class='va'>disaster_type</span><span class='op'>)</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/summarise.html'>summarise</a></span><span class='op'>(</span>n_events <span class='op'>=</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/context.html'>n</a></span><span class='op'>(</span><span class='op'>)</span>, .groups <span class='op'>=</span> <span class='st'>"drop"</span><span class='op'>)</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'><a href='https://tidyr.tidyverse.org/reference/complete.html'>complete</a></span><span class='op'>(</span>year <span class='op'>=</span> <span class='fl'>1980</span><span class='op'>:</span><span class='fl'>2017</span>, <span class='va'>disaster_type</span>, fill <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>n_events <span class='op'>=</span> <span class='fl'>0</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span></span>
<span>    disaster_type <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span><span class='op'>(</span><span class='va'>disaster_type</span>, levels <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span></span>
<span>      <span class='st'>"SEVERE STORM"</span>, <span class='st'>"HURRICANE"</span>, <span class='st'>"FLOODING"</span>, <span class='st'>"WILDFIRE"</span>,</span>
<span>      <span class='st'>"FREEZE"</span>, <span class='st'>"DROUGHT"</span>, <span class='st'>"WINTER STORM"</span></span>
<span>    <span class='op'>)</span><span class='op'>)</span></span>
<span>  <span class='op'>)</span></span></code></pre>
</div>
</div>
<h3 id="manual-coordinates">Manual coordinates</h3>
<p>At this point, I stop using the default ggplot scales and switch to manual coordinates. This is mainly because ggplot does not allow this kind of segmented timeline directly. Setting a fixed width per year gives me full control over where each year is placed and makes the segmented layout possible.</p>
<p>I split the timeline into four segments corresponding to decades. Each segment is stored separately and then recombined, which makes it easier to control direction, spacing, and vertical offsets later on.</p>
<p>I manually calculate the vertical stacking of the ribbons for each year. I use cumulative sums to define the top and bottom of each category and then center the stack vertically. Different x-directions and vertical offsets are applied to each segment to recreate the back-and-forth layout of the original graphic.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>WIDTH_FACTOR</span> <span class='op'>&lt;-</span> <span class='fl'>2</span> <span class='co'>#Width of each year</span></span>
<span><span class='va'>MAX_WIDTH</span> <span class='op'>&lt;-</span> <span class='fl'>10</span> <span class='op'>*</span> <span class='va'>WIDTH_FACTOR</span> <span class='co'>#width of each segment</span></span>
<span></span>
<span><span class='co'>#dividing data for each segment</span></span>
<span><span class='va'>seg1</span> <span class='op'>&lt;-</span> <span class='va'>data_aggregated</span> <span class='op'>|&gt;</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>year</span> <span class='op'>&lt;=</span> <span class='fl'>1990</span><span class='op'>)</span> <span class='op'>|&gt;</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>segment <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span></span>
<span><span class='va'>seg2</span> <span class='op'>&lt;-</span> <span class='va'>data_aggregated</span> <span class='op'>|&gt;</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>year</span> <span class='op'>&gt;=</span> <span class='fl'>1990</span>, <span class='va'>year</span> <span class='op'>&lt;=</span> <span class='fl'>2000</span><span class='op'>)</span> <span class='op'>|&gt;</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>segment <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span></span>
<span><span class='va'>seg3</span> <span class='op'>&lt;-</span> <span class='va'>data_aggregated</span> <span class='op'>|&gt;</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>year</span> <span class='op'>&gt;=</span> <span class='fl'>2000</span>, <span class='va'>year</span> <span class='op'>&lt;=</span> <span class='fl'>2010</span><span class='op'>)</span> <span class='op'>|&gt;</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>segment <span class='op'>=</span> <span class='fl'>3</span><span class='op'>)</span></span>
<span><span class='va'>seg4</span> <span class='op'>&lt;-</span> <span class='va'>data_aggregated</span> <span class='op'>|&gt;</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>year</span> <span class='op'>&gt;=</span> <span class='fl'>2010</span><span class='op'>)</span> <span class='op'>|&gt;</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>segment <span class='op'>=</span> <span class='fl'>4</span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>path_data_base</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/bind_rows.html'>bind_rows</a></span><span class='op'>(</span><span class='va'>seg1</span>, <span class='va'>seg2</span>, <span class='va'>seg3</span>, <span class='va'>seg4</span><span class='op'>)</span></span>
<span></span>
<span><span class='co'>#Ordering Y axis position</span></span>
<span><span class='va'>path_data</span> <span class='op'>&lt;-</span> <span class='va'>path_data_base</span> <span class='op'>|&gt;</span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/arrange.html'>arrange</a></span><span class='op'>(</span><span class='va'>segment</span>, <span class='va'>year</span>, <span class='fu'><a href='https://dplyr.tidyverse.org/reference/desc.html'>desc</a></span><span class='op'>(</span><span class='va'>disaster_type</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/group_by.html'>group_by</a></span><span class='op'>(</span><span class='va'>segment</span>, <span class='va'>year</span><span class='op'>)</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span></span>
<span>    SCALE_FACTOR <span class='op'>=</span> <span class='fl'>1.5</span>, </span>
<span>    total_height <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/sum.html'>sum</a></span><span class='op'>(</span><span class='va'>n_events</span><span class='op'>)</span> <span class='op'>*</span> <span class='va'>SCALE_FACTOR</span>, </span>
<span>    center_offset <span class='op'>=</span> <span class='op'>-</span><span class='va'>total_height</span> <span class='op'>/</span> <span class='fl'>2</span>,</span>
<span>    ymax_cumulative <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/cumsum.html'>cumsum</a></span><span class='op'>(</span><span class='va'>n_events</span> <span class='op'>*</span> <span class='va'>SCALE_FACTOR</span><span class='op'>)</span>, </span>
<span>    ymin_cumulative <span class='op'>=</span> <span class='va'>ymax_cumulative</span> <span class='op'>-</span> <span class='op'>(</span><span class='va'>n_events</span> <span class='op'>*</span> <span class='va'>SCALE_FACTOR</span><span class='op'>)</span>,</span>
<span>    y_centered_min <span class='op'>=</span> <span class='va'>ymin_cumulative</span> <span class='op'>+</span> <span class='va'>center_offset</span>,</span>
<span>    y_centered_max <span class='op'>=</span> <span class='va'>ymax_cumulative</span> <span class='op'>+</span> <span class='va'>center_offset</span></span>
<span>  <span class='op'>)</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/group_by.html'>ungroup</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span></span>
<span>    x_new <span class='op'>=</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/case_when.html'>case_when</a></span><span class='op'>(</span></span>
<span>      <span class='va'>segment</span> <span class='op'>==</span> <span class='fl'>1</span> <span class='op'>~</span> <span class='op'>(</span><span class='fl'>1990</span> <span class='op'>-</span> <span class='va'>year</span><span class='op'>)</span> <span class='op'>*</span> <span class='va'>WIDTH_FACTOR</span>,</span>
<span>      <span class='va'>segment</span> <span class='op'>==</span> <span class='fl'>2</span> <span class='op'>~</span> <span class='op'>(</span><span class='va'>year</span> <span class='op'>-</span> <span class='fl'>1990</span><span class='op'>)</span> <span class='op'>*</span> <span class='va'>WIDTH_FACTOR</span>,</span>
<span>      <span class='va'>segment</span> <span class='op'>==</span> <span class='fl'>3</span> <span class='op'>~</span> <span class='op'>(</span><span class='fl'>2010</span> <span class='op'>-</span> <span class='va'>year</span><span class='op'>)</span> <span class='op'>*</span> <span class='va'>WIDTH_FACTOR</span>,</span>
<span>      <span class='va'>segment</span> <span class='op'>==</span> <span class='fl'>4</span> <span class='op'>~</span> <span class='op'>(</span><span class='va'>year</span> <span class='op'>-</span> <span class='fl'>2010</span><span class='op'>)</span> <span class='op'>*</span> <span class='va'>WIDTH_FACTOR</span></span>
<span>    <span class='op'>)</span>,</span>
<span>    y_offset <span class='op'>=</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/case_when.html'>case_when</a></span><span class='op'>(</span></span>
<span>      <span class='va'>segment</span> <span class='op'>==</span> <span class='fl'>1</span> <span class='op'>~</span> <span class='fl'>0</span>,</span>
<span>      <span class='va'>segment</span> <span class='op'>==</span> <span class='fl'>2</span> <span class='op'>~</span> <span class='op'>-</span><span class='fl'>22</span>,</span>
<span>      <span class='va'>segment</span> <span class='op'>==</span> <span class='fl'>3</span> <span class='op'>~</span> <span class='op'>-</span><span class='fl'>44</span>,</span>
<span>      <span class='va'>segment</span> <span class='op'>==</span> <span class='fl'>4</span> <span class='op'>~</span> <span class='op'>-</span><span class='fl'>74</span></span>
<span>    <span class='op'>)</span>,</span>
<span>    y_final_min <span class='op'>=</span> <span class='va'>y_centered_min</span> <span class='op'>+</span> <span class='va'>y_offset</span>,</span>
<span>    y_final_max <span class='op'>=</span> <span class='va'>y_centered_max</span> <span class='op'>+</span> <span class='va'>y_offset</span></span>
<span>  <span class='op'>)</span></span></code></pre>
</div>
</div>
<h3 id="creating-curves-for-stacked-area-chart">Creating curves for stacked area chart</h3>
<p>To soften the appearance of the stacked areas, I smooth the top and bottom boundaries using spline interpolation. This helps reduce sharp corners between years and gives the streams a more fluid look.
Then, the smoothing function is applied separately to each disaster type within each segment.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>smooth_segment</span> <span class='op'>&lt;-</span> <span class='kw'>function</span><span class='op'>(</span><span class='va'>df</span><span class='op'>)</span> <span class='op'>{</span> </span>
<span>  <span class='kw'>if</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/nrow.html'>nrow</a></span><span class='op'>(</span><span class='va'>df</span><span class='op'>)</span> <span class='op'>&lt;</span> <span class='fl'>2</span><span class='op'>)</span> <span class='kw'><a href='https://rdrr.io/r/base/function.html'>return</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span> <span class='co'>#two necessary points to                                          create a curve -&gt; creating a union </span></span>
<span>  <span class='va'>df_augmented</span> <span class='op'>&lt;-</span> <span class='va'>df</span> <span class='op'>|&gt;</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/arrange.html'>arrange</a></span><span class='op'>(</span><span class='va'>x_new</span><span class='op'>)</span><span class='co'>#ordered by the established data</span></span>
<span>  <span class='va'>x_seq</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/Extremes.html'>min</a></span><span class='op'>(</span><span class='va'>df</span><span class='op'>$</span><span class='va'>x_new</span><span class='op'>)</span>, <span class='fu'><a href='https://rdrr.io/r/base/Extremes.html'>max</a></span><span class='op'>(</span><span class='va'>df</span><span class='op'>$</span><span class='va'>x_new</span><span class='op'>)</span>, length.out <span class='op'>=</span> <span class='fl'>400</span><span class='op'>)</span> </span>
<span>  <span class='va'>smooth_min</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/splinefun.html'>spline</a></span><span class='op'>(</span><span class='va'>df_augmented</span><span class='op'>$</span><span class='va'>x_new</span>, <span class='va'>df_augmented</span><span class='op'>$</span><span class='va'>y_final_min</span>, xout <span class='op'>=</span> <span class='va'>x_seq</span>, method <span class='op'>=</span> <span class='st'>"natural"</span><span class='op'>)</span></span>
<span>  <span class='va'>smooth_max</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/splinefun.html'>spline</a></span><span class='op'>(</span><span class='va'>df_augmented</span><span class='op'>$</span><span class='va'>x_new</span>, <span class='va'>df_augmented</span><span class='op'>$</span><span class='va'>y_final_max</span>, xout <span class='op'>=</span> <span class='va'>x_seq</span>, method <span class='op'>=</span> <span class='st'>"natural"</span><span class='op'>)</span> <span class='co'>#smoothing and creating the curve</span></span>
<span>  <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>x_new <span class='op'>=</span> <span class='va'>x_seq</span>, y_final_min <span class='op'>=</span> <span class='va'>smooth_min</span><span class='op'>$</span><span class='va'>y</span>, y_final_max <span class='op'>=</span> <span class='va'>smooth_max</span><span class='op'>$</span><span class='va'>y</span><span class='op'>)</span></span>
<span><span class='op'>}</span></span>
<span></span>
<span><span class='va'>path_data_smooth</span> <span class='op'>&lt;-</span> <span class='va'>path_data</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/group_by.html'>group_by</a></span><span class='op'>(</span><span class='va'>segment</span>, <span class='va'>disaster_type</span><span class='op'>)</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/group_map.html'>group_modify</a></span><span class='op'>(</span><span class='op'>~</span> <span class='fu'>smooth_segment</span><span class='op'>(</span><span class='va'>.x</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/group_by.html'>ungroup</a></span><span class='op'>(</span><span class='op'>)</span> <span class='co'>#apply to all segments </span></span></code></pre>
</div>
</div>
<h2 id="limitation-side-curves">Limitation: side curves</h2>
<p>At this point, I tried to reproduce the curved side edges visible in the original visualization. However, controlling the lateral shape of stacked ribbons in ggplot2 is very limited, especially when the data is manually segmented and repositioned.</p>
<p>While I could smooth the top and bottom boundaries, I was not able to apply the same level of control to the left and right edges without distorting the data or breaking the stacking logic. Because of this limitation, I decided to change the approach.</p>
<p>Instead of forcing curved side edges, I introduced segment boundaries and added curved connectors between segments to suggest continuity. This solution preserves visual flow, even though it does not exactly replicate the original design.</p>
<h3 id="creating-connectors-of-the-different-segments">Creating connectors of the different segments</h3>
<p>These are purely visual, to understand the flow of the data and how to read it.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>connectors_left</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span></span>
<span>  x <span class='op'>=</span> <span class='fl'>0</span>, xend <span class='op'>=</span> <span class='fl'>0</span>,</span>
<span>  y <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='op'>-</span><span class='fl'>44</span><span class='op'>)</span>,      </span>
<span>  yend <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='op'>-</span><span class='fl'>22</span>, <span class='op'>-</span><span class='fl'>74</span><span class='op'>)</span>  </span>
<span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>connectors_right</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span></span>
<span>  x <span class='op'>=</span> <span class='va'>MAX_WIDTH</span>, xend <span class='op'>=</span> <span class='va'>MAX_WIDTH</span>,</span>
<span>  y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>22</span>,</span>
<span>  yend <span class='op'>=</span> <span class='op'>-</span><span class='fl'>44</span></span>
<span><span class='op'>)</span></span></code></pre>
</div>
</div>
<h2 id="defining-colors">Defining colors</h2>
<p>Selecting the colors of each disaster as the original visualization.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>chart_colors</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span></span>
<span>  <span class='st'>"SEVERE STORM"</span> <span class='op'>=</span> <span class='st'>"#6fcfe4"</span>, <span class='st'>"HURRICANE"</span> <span class='op'>=</span> <span class='st'>"#b0bfe0"</span>, <span class='st'>"FLOODING"</span> <span class='op'>=</span> <span class='st'>"#fdd870"</span>,</span>
<span>  <span class='st'>"WILDFIRE"</span> <span class='op'>=</span> <span class='st'>"#b8dda8"</span>, <span class='st'>"FREEZE"</span> <span class='op'>=</span> <span class='st'>"#c7d6da"</span>, <span class='st'>"DROUGHT"</span> <span class='op'>=</span> <span class='st'>"#f291b8"</span>,</span>
<span>  <span class='st'>"WINTER STORM"</span> <span class='op'>=</span> <span class='st'>"#d9b3d0"</span></span>
<span><span class='op'>)</span></span></code></pre>
</div>
</div>
<h2 id="creating-diagram-number-of-events">Creating diagram Number of events</h2>
<p>In the original Fortune graphic there is a small scale that explains how thick the streams are (how many events they represent). Since my main chart does not have a traditional y-axis, I needed a custom visual legend to communicate magnitude.</p>
<p>Instead of using geom_text() on a regular axis, I generate a small wavy ribbon with increasing thickness. The waves are not data-driven: they are just a design element to match the editorial style. I position this scale next to 2017 because that area already contains explanatory annotations, so it works like an info panel.
I create a fake dataset to draw the scale ribbon. The ribbon thickness increaes with x to visually represent 0 to 8.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>POS_2017</span> <span class='op'>&lt;-</span> <span class='fl'>7</span> <span class='op'>*</span> <span class='va'>WIDTH_FACTOR</span> <span class='co'>#base position of plot</span></span>
<span><span class='va'>SHIFT_RIGHT</span> <span class='op'>&lt;-</span> <span class='fl'>7.5</span></span>
<span></span>
<span><span class='va'>WAVE_HEIGHT_FACTOR</span> <span class='op'>&lt;-</span> <span class='fl'>5.5</span> </span>
<span></span>
<span><span class='va'>scale_data</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>8</span>, length.out <span class='op'>=</span> <span class='fl'>200</span><span class='op'>)</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span></span>
<span>    base_thickness <span class='op'>=</span> <span class='va'>x</span> <span class='op'>*</span> <span class='fl'>0.12</span>, </span>
<span>    wave1 <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/Trig.html'>sin</a></span><span class='op'>(</span><span class='va'>x</span> <span class='op'>*</span> <span class='fl'>2</span><span class='op'>)</span> <span class='op'>*</span> <span class='fl'>0.05</span>,</span>
<span>    wave2 <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/Trig.html'>sin</a></span><span class='op'>(</span><span class='va'>x</span> <span class='op'>*</span> <span class='fl'>3.5</span><span class='op'>)</span> <span class='op'>*</span> <span class='fl'>0.03</span>, </span>
<span>    thickness <span class='op'>=</span> <span class='va'>base_thickness</span> <span class='op'>+</span> <span class='va'>wave1</span> <span class='op'>+</span> <span class='va'>wave2</span>, </span>
<span>    x_scaled <span class='op'>=</span> <span class='va'>POS_2017</span> <span class='op'>+</span> <span class='va'>SHIFT_RIGHT</span> <span class='op'>+</span> <span class='va'>x</span> <span class='op'>*</span> <span class='fl'>0.5</span>, </span>
<span>    y_top <span class='op'>=</span> <span class='op'>-</span><span class='fl'>81</span> <span class='op'>+</span> <span class='va'>thickness</span> <span class='op'>*</span> <span class='va'>WAVE_HEIGHT_FACTOR</span>,     <span class='co'># Ms alto</span></span>
<span>    y_bottom <span class='op'>=</span> <span class='op'>-</span><span class='fl'>81</span> <span class='op'>-</span> <span class='va'>thickness</span> <span class='op'>*</span> <span class='va'>WAVE_HEIGHT_FACTOR</span>   <span class='co'># Ms bajo</span></span>
<span>  <span class='op'>)</span></span></code></pre>
</div>
</div>
<h2 id="main-graph">Main graph</h2>
<p>This is the core of my visualization. This is the main plotting step where I assemble everything: the segmented stream chart, the connecting curves between segments, the guide lines, and all the editorial annotations.</p>
<p>A key decision here is that the actual data is drawn using geom_ribbon() with the smoothed boundaries computed earlier. This lets me keep control over the exact shapes and stacking while still getting a stream-like appearance.</p>
<p>Because I could not recreate the original curved side edges (the tapered caps on each segment) with ggplot2, I use two strategies instead:</p>
<ol type="1">
<li><p>vertical guide lines and clean segment boundaries to keep the layout readable, and</p></li>
<li><p>large curved connectors (geom_curve) to visually suggest continuity between blocks.</p></li>
</ol>
<p>geom_ribbon () draws the actual stream areas. I group by segment and disaster type to ensure each ribbon is plotted correctly. I add a thin white border to separate categories, which helps readability when colors are similar.</p>
<p>After the ribbons, I add decorative vertical line blocks and the top title. These lines imitate the reference layout and also help the reader orient inside each row of the segmented timeline.</p>
<p>The year labels are not driven by an axis. Since I used manual coordinates and segmented rows, I place years using annotate(text). It is repetitive, but it gives me full control over the exact placement and the bold emphasis on decade boundaries (1980, 1990, 2000, 2010, 2017).</p>
<p>For the 2017 callout, I add a dark vertical marker and three points to highlight the categories mentioned in the text annotation. This is an editorial annotation layer.</p>
<p>The Type of event legend is also custom. I build it using rectangles + text so it matches the layout of the reference. A standard ggplot legend would be easier, but it would not allow this level of positioning and styling.</p>
<p>Finally, I add the wavy scale ribbon created earlier. This acts as a magnitude guide (08 events). I then place the numeric labels and a double arrow, again as manual annotations.</p>
<p>The plot uses a fixed coordinate ratio to avoid distortion. I remove axes and background using theme_void() and set a light paper-like background color to match the magazine look.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>main_graph</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_abline.html'>geom_vline</a></span><span class='op'>(</span>xintercept <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='va'>MAX_WIDTH</span>, by <span class='op'>=</span> <span class='va'>WIDTH_FACTOR</span><span class='op'>)</span>, </span>
<span>             color <span class='op'>=</span> <span class='st'>"#e5e3d8"</span>, linewidth <span class='op'>=</span> <span class='fl'>0.3</span>, linetype <span class='op'>=</span> <span class='st'>"dotted"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_segment.html'>geom_curve</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>connectors_left</span>, <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x<span class='op'>=</span><span class='va'>x</span>, xend<span class='op'>=</span><span class='va'>xend</span>, y<span class='op'>=</span><span class='va'>y</span>, yend<span class='op'>=</span><span class='va'>yend</span><span class='op'>)</span>,</span>
<span>             curvature <span class='op'>=</span> <span class='fl'>0.6</span>, angle <span class='op'>=</span> <span class='fl'>90</span>, ncp <span class='op'>=</span> <span class='fl'>15</span>,</span>
<span>             color <span class='op'>=</span> <span class='st'>"#d5d3c8"</span>, linewidth <span class='op'>=</span> <span class='fl'>6</span>, lineend <span class='op'>=</span> <span class='st'>"round"</span>, alpha <span class='op'>=</span> <span class='fl'>0.5</span><span class='op'>)</span> <span class='op'>+</span>  </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_segment.html'>geom_curve</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>connectors_right</span>, <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x<span class='op'>=</span><span class='va'>x</span>, xend<span class='op'>=</span><span class='va'>xend</span>, y<span class='op'>=</span><span class='va'>y</span>, yend<span class='op'>=</span><span class='va'>yend</span><span class='op'>)</span>,</span>
<span>             curvature <span class='op'>=</span> <span class='op'>-</span><span class='fl'>0.6</span>, angle <span class='op'>=</span> <span class='fl'>90</span>, ncp <span class='op'>=</span> <span class='fl'>15</span>,</span>
<span>             color <span class='op'>=</span> <span class='st'>"#d5d3c8"</span>, linewidth <span class='op'>=</span> <span class='fl'>6</span>, lineend <span class='op'>=</span> <span class='st'>"round"</span>, alpha <span class='op'>=</span> <span class='fl'>0.5</span><span class='op'>)</span> <span class='op'>+</span> </span>
<span>   <span class='co'>#creating the curves that connect segments </span></span>
<span>  </span>
<span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_ribbon.html'>geom_ribbon</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='va'>path_data_smooth</span>,</span>
<span>    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>x_new</span>, ymin <span class='op'>=</span> <span class='va'>y_final_min</span>, ymax <span class='op'>=</span> <span class='va'>y_final_max</span>, fill <span class='op'>=</span> <span class='va'>disaster_type</span>,</span>
<span>        group <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/interaction.html'>interaction</a></span><span class='op'>(</span><span class='va'>segment</span>, <span class='va'>disaster_type</span><span class='op'>)</span><span class='op'>)</span>, </span>
<span>    color <span class='op'>=</span> <span class='st'>"white"</span>, linewidth <span class='op'>=</span> <span class='fl'>0.15</span>, alpha <span class='op'>=</span> <span class='fl'>0.9</span></span>
<span>  <span class='op'>)</span> <span class='op'>+</span> </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_fill_manual</a></span><span class='op'>(</span>values <span class='op'>=</span> <span class='va'>chart_colors</span><span class='op'>)</span> <span class='op'>+</span> <span class='co'>#representing each disaster </span></span>
<span>  </span>
<span>  </span>
<span>  <span class='co'># Vertical lines</span></span>
<span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"segment"</span>, x <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>10</span>, by <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span> <span class='op'>*</span> <span class='va'>WIDTH_FACTOR</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>8</span>, yend <span class='op'>=</span> <span class='fl'>8</span>, color <span class='op'>=</span> <span class='st'>"grey40"</span>, linewidth <span class='op'>=</span> <span class='fl'>0.4</span>, alpha <span class='op'>=</span> <span class='fl'>0.6</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"segment"</span>, x <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>10</span>, by <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span> <span class='op'>*</span> <span class='va'>WIDTH_FACTOR</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>30</span>, yend <span class='op'>=</span> <span class='op'>-</span><span class='fl'>14</span>, color <span class='op'>=</span> <span class='st'>"grey40"</span>, linewidth <span class='op'>=</span> <span class='fl'>0.4</span>, alpha <span class='op'>=</span> <span class='fl'>0.6</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"segment"</span>, x <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>10</span>, by <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span> <span class='op'>*</span> <span class='va'>WIDTH_FACTOR</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>54</span>, yend <span class='op'>=</span> <span class='op'>-</span><span class='fl'>34</span>, color <span class='op'>=</span> <span class='st'>"grey40"</span>, linewidth <span class='op'>=</span> <span class='fl'>0.4</span>, alpha <span class='op'>=</span> <span class='fl'>0.6</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"segment"</span>, x <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>7</span>, by <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span> <span class='op'>*</span> <span class='va'>WIDTH_FACTOR</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>90</span>, yend <span class='op'>=</span> <span class='op'>-</span><span class='fl'>59</span>, color <span class='op'>=</span> <span class='st'>"grey40"</span>, linewidth <span class='op'>=</span> <span class='fl'>0.4</span>, alpha <span class='op'>=</span> <span class='fl'>0.6</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='co'># Up title</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='va'>MAX_WIDTH</span> <span class='op'>+</span> <span class='fl'>0.8</span>, y <span class='op'>=</span> <span class='fl'>6.5</span>, </span>
<span>           label <span class='op'>=</span> <span class='st'>"NUMBER OF\nBILLION-\nDOLLAR\nWEATHER AND\nCLIMATE\nDISASTERS IN\nTHE U.S."</span>,</span>
<span>           size <span class='op'>=</span> <span class='fl'>3</span>, color <span class='op'>=</span> <span class='st'>"grey20"</span>, hjust <span class='op'>=</span> <span class='fl'>0</span>, vjust <span class='op'>=</span> <span class='fl'>1</span>, </span>
<span>           lineheight <span class='op'>=</span> <span class='fl'>0.9</span>, fontface <span class='op'>=</span> <span class='st'>"bold"</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='co'># Years annotation- segment 1</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>10</span> <span class='op'>*</span> <span class='va'>WIDTH_FACTOR</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>9.5</span>, label <span class='op'>=</span> <span class='st'>"1980"</span>, size <span class='op'>=</span> <span class='fl'>3</span>, color <span class='op'>=</span> <span class='st'>"grey22"</span>, fontface <span class='op'>=</span> <span class='st'>"bold"</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>9</span> <span class='op'>*</span> <span class='va'>WIDTH_FACTOR</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>9.5</span>, label <span class='op'>=</span> <span class='st'>"'81"</span>, size <span class='op'>=</span> <span class='fl'>3</span>, color <span class='op'>=</span> <span class='st'>"grey30"</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>8</span> <span class='op'>*</span> <span class='va'>WIDTH_FACTOR</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>9.5</span>, label <span class='op'>=</span> <span class='st'>"'82"</span>, size <span class='op'>=</span> <span class='fl'>3</span>, color <span class='op'>=</span> <span class='st'>"grey30"</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>7</span> <span class='op'>*</span> <span class='va'>WIDTH_FACTOR</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>9.5</span>, label <span class='op'>=</span> <span class='st'>"'83"</span>, size <span class='op'>=</span> <span class='fl'>3</span>, color <span class='op'>=</span> <span class='st'>"grey30"</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>6</span> <span class='op'>*</span> <span class='va'>WIDTH_FACTOR</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>9.5</span>, label <span class='op'>=</span> <span class='st'>"'84"</span>, size <span class='op'>=</span> <span class='fl'>3</span>, color <span class='op'>=</span> <span class='st'>"grey30"</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>5</span> <span class='op'>*</span> <span class='va'>WIDTH_FACTOR</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>9.5</span>, label <span class='op'>=</span> <span class='st'>"1985"</span>, size <span class='op'>=</span> <span class='fl'>3</span>, color <span class='op'>=</span> <span class='st'>"grey30"</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>4</span> <span class='op'>*</span> <span class='va'>WIDTH_FACTOR</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>9.5</span>, label <span class='op'>=</span> <span class='st'>"'86"</span>, size <span class='op'>=</span> <span class='fl'>3</span>, color <span class='op'>=</span> <span class='st'>"grey30"</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>3</span> <span class='op'>*</span> <span class='va'>WIDTH_FACTOR</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>9.5</span>, label <span class='op'>=</span> <span class='st'>"'87"</span>, size <span class='op'>=</span> <span class='fl'>3</span>, color <span class='op'>=</span> <span class='st'>"grey30"</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>2</span> <span class='op'>*</span> <span class='va'>WIDTH_FACTOR</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>9.5</span>, label <span class='op'>=</span> <span class='st'>"'88"</span>, size <span class='op'>=</span> <span class='fl'>3</span>, color <span class='op'>=</span> <span class='st'>"grey30"</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>1</span> <span class='op'>*</span> <span class='va'>WIDTH_FACTOR</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>9.5</span>, label <span class='op'>=</span> <span class='st'>"'89"</span>, size <span class='op'>=</span> <span class='fl'>3</span>, color <span class='op'>=</span> <span class='st'>"grey30"</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>0</span> <span class='op'>*</span> <span class='va'>WIDTH_FACTOR</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>9.5</span>, label <span class='op'>=</span> <span class='st'>"1990"</span>, size <span class='op'>=</span> <span class='fl'>3</span>, color <span class='op'>=</span> <span class='st'>"grey22"</span>, fontface <span class='op'>=</span> <span class='st'>"bold"</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span>  </span>
<span>  </span>
<span>  <span class='co'># Years annotation- segment 2</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>1</span> <span class='op'>*</span> <span class='va'>WIDTH_FACTOR</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>31.5</span>, label <span class='op'>=</span> <span class='st'>"'91"</span>, size <span class='op'>=</span> <span class='fl'>3</span>, color <span class='op'>=</span> <span class='st'>"grey30"</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>2</span> <span class='op'>*</span> <span class='va'>WIDTH_FACTOR</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>31.5</span>, label <span class='op'>=</span> <span class='st'>"'92"</span>, size <span class='op'>=</span> <span class='fl'>3</span>, color <span class='op'>=</span> <span class='st'>"grey30"</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>3</span> <span class='op'>*</span> <span class='va'>WIDTH_FACTOR</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>31.5</span>, label <span class='op'>=</span> <span class='st'>"'93"</span>, size <span class='op'>=</span> <span class='fl'>3</span>, color <span class='op'>=</span> <span class='st'>"grey30"</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>4</span> <span class='op'>*</span> <span class='va'>WIDTH_FACTOR</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>31.5</span>, label <span class='op'>=</span> <span class='st'>"'94"</span>, size <span class='op'>=</span> <span class='fl'>3</span>, color <span class='op'>=</span> <span class='st'>"grey30"</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>5</span> <span class='op'>*</span> <span class='va'>WIDTH_FACTOR</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>31.5</span>, label <span class='op'>=</span> <span class='st'>"1995"</span>, size <span class='op'>=</span> <span class='fl'>3</span>, color <span class='op'>=</span> <span class='st'>"grey30"</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>6</span> <span class='op'>*</span> <span class='va'>WIDTH_FACTOR</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>31.5</span>, label <span class='op'>=</span> <span class='st'>"'96"</span>, size <span class='op'>=</span> <span class='fl'>3</span>, color <span class='op'>=</span> <span class='st'>"grey30"</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>7</span> <span class='op'>*</span> <span class='va'>WIDTH_FACTOR</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>31.5</span>, label <span class='op'>=</span> <span class='st'>"'97"</span>, size <span class='op'>=</span> <span class='fl'>3</span>, color <span class='op'>=</span> <span class='st'>"grey30"</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>8</span> <span class='op'>*</span> <span class='va'>WIDTH_FACTOR</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>31.5</span>, label <span class='op'>=</span> <span class='st'>"'98"</span>, size <span class='op'>=</span> <span class='fl'>3</span>, color <span class='op'>=</span> <span class='st'>"grey30"</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>9</span> <span class='op'>*</span> <span class='va'>WIDTH_FACTOR</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>31.5</span>, label <span class='op'>=</span> <span class='st'>"'99"</span>, size <span class='op'>=</span> <span class='fl'>3</span>, color <span class='op'>=</span> <span class='st'>"grey30"</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>10</span> <span class='op'>*</span> <span class='va'>WIDTH_FACTOR</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>31.5</span>, label <span class='op'>=</span> <span class='st'>"2000"</span>, size <span class='op'>=</span> <span class='fl'>3</span>, color <span class='op'>=</span> <span class='st'>"grey22"</span>, fontface <span class='op'>=</span> <span class='st'>"bold"</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='co'># Years annotation- segment 3</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>9</span> <span class='op'>*</span> <span class='va'>WIDTH_FACTOR</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>55.5</span>, label <span class='op'>=</span> <span class='st'>"'01"</span>, size <span class='op'>=</span> <span class='fl'>3</span>, color <span class='op'>=</span> <span class='st'>"grey30"</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>8</span> <span class='op'>*</span> <span class='va'>WIDTH_FACTOR</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>55.5</span>, label <span class='op'>=</span> <span class='st'>"'02"</span>, size <span class='op'>=</span> <span class='fl'>3</span>, color <span class='op'>=</span> <span class='st'>"grey30"</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>7</span> <span class='op'>*</span> <span class='va'>WIDTH_FACTOR</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>55.5</span>, label <span class='op'>=</span> <span class='st'>"'03"</span>, size <span class='op'>=</span> <span class='fl'>3</span>, color <span class='op'>=</span> <span class='st'>"grey30"</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>6</span> <span class='op'>*</span> <span class='va'>WIDTH_FACTOR</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>55.5</span>, label <span class='op'>=</span> <span class='st'>"'04"</span>, size <span class='op'>=</span> <span class='fl'>3</span>, color <span class='op'>=</span> <span class='st'>"grey30"</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>5</span> <span class='op'>*</span> <span class='va'>WIDTH_FACTOR</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>55.5</span>, label <span class='op'>=</span> <span class='st'>"2005"</span>, size <span class='op'>=</span> <span class='fl'>3</span>, color <span class='op'>=</span> <span class='st'>"grey30"</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>4</span> <span class='op'>*</span> <span class='va'>WIDTH_FACTOR</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>55.5</span>, label <span class='op'>=</span> <span class='st'>"'06"</span>, size <span class='op'>=</span> <span class='fl'>3</span>, color <span class='op'>=</span> <span class='st'>"grey30"</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>3</span> <span class='op'>*</span> <span class='va'>WIDTH_FACTOR</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>55.5</span>, label <span class='op'>=</span> <span class='st'>"'07"</span>, size <span class='op'>=</span> <span class='fl'>3</span>, color <span class='op'>=</span> <span class='st'>"grey30"</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>2</span> <span class='op'>*</span> <span class='va'>WIDTH_FACTOR</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>55.5</span>, label <span class='op'>=</span> <span class='st'>"'08"</span>, size <span class='op'>=</span> <span class='fl'>3</span>, color <span class='op'>=</span> <span class='st'>"grey30"</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>1</span> <span class='op'>*</span> <span class='va'>WIDTH_FACTOR</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>55.5</span>, label <span class='op'>=</span> <span class='st'>"'09"</span>, size <span class='op'>=</span> <span class='fl'>3</span>, color <span class='op'>=</span> <span class='st'>"grey30"</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>0</span> <span class='op'>*</span> <span class='va'>WIDTH_FACTOR</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>55.5</span>, label <span class='op'>=</span> <span class='st'>"2010"</span>, size <span class='op'>=</span> <span class='fl'>3</span>, color <span class='op'>=</span> <span class='st'>"grey22"</span>, fontface <span class='op'>=</span> <span class='st'>"bold"</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='co'># Years annotation- segment  4</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>1</span> <span class='op'>*</span> <span class='va'>WIDTH_FACTOR</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>91.5</span>, label <span class='op'>=</span> <span class='st'>"'11"</span>, size <span class='op'>=</span> <span class='fl'>3</span>, color <span class='op'>=</span> <span class='st'>"grey30"</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>2</span> <span class='op'>*</span> <span class='va'>WIDTH_FACTOR</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>91.5</span>, label <span class='op'>=</span> <span class='st'>"'12"</span>, size <span class='op'>=</span> <span class='fl'>3</span>, color <span class='op'>=</span> <span class='st'>"grey30"</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>3</span> <span class='op'>*</span> <span class='va'>WIDTH_FACTOR</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>91.5</span>, label <span class='op'>=</span> <span class='st'>"'13"</span>, size <span class='op'>=</span> <span class='fl'>3</span>, color <span class='op'>=</span> <span class='st'>"grey30"</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>4</span> <span class='op'>*</span> <span class='va'>WIDTH_FACTOR</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>91.5</span>, label <span class='op'>=</span> <span class='st'>"'14"</span>, size <span class='op'>=</span> <span class='fl'>3</span>, color <span class='op'>=</span> <span class='st'>"grey30"</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>5</span> <span class='op'>*</span> <span class='va'>WIDTH_FACTOR</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>91.5</span>, label <span class='op'>=</span> <span class='st'>"2015"</span>, size <span class='op'>=</span> <span class='fl'>3</span>, color <span class='op'>=</span> <span class='st'>"grey30"</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>6</span> <span class='op'>*</span> <span class='va'>WIDTH_FACTOR</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>91.5</span>, label <span class='op'>=</span> <span class='st'>"'16"</span>, size <span class='op'>=</span> <span class='fl'>3</span>, color <span class='op'>=</span> <span class='st'>"grey30"</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='va'>POS_2017</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>91.5</span>, label <span class='op'>=</span> <span class='st'>"2017"</span>, size <span class='op'>=</span> <span class='fl'>3</span>, color <span class='op'>=</span> <span class='st'>"grey22"</span>, fontface <span class='op'>=</span> <span class='st'>"bold"</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='co'># 2017</span></span>
<span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"segment"</span>, x <span class='op'>=</span> <span class='va'>POS_2017</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>90</span>, xend <span class='op'>=</span> <span class='va'>POS_2017</span>, yend <span class='op'>=</span> <span class='op'>-</span><span class='fl'>59</span>, color <span class='op'>=</span> <span class='st'>"grey10"</span>, linewidth <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"point"</span>, x <span class='op'>=</span> <span class='va'>POS_2017</span>, y <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='op'>-</span><span class='fl'>67</span>, <span class='op'>-</span><span class='fl'>78</span>, <span class='op'>-</span><span class='fl'>82</span><span class='op'>)</span>, color <span class='op'>=</span> <span class='st'>"grey10"</span>, size <span class='op'>=</span> <span class='fl'>3</span>, shape <span class='op'>=</span> <span class='fl'>19</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='va'>POS_2017</span> <span class='op'>+</span> <span class='fl'>0.5</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>60</span>, label <span class='op'>=</span> <span class='st'>"IN 2017, THE MOST\nFREQUENT\nDISASTERS WERE:"</span>, size <span class='op'>=</span> <span class='fl'>3.5</span>, color <span class='op'>=</span> <span class='st'>"grey30"</span>, hjust <span class='op'>=</span> <span class='fl'>0</span>, vjust <span class='op'>=</span> <span class='fl'>1</span>, lineheight <span class='op'>=</span> <span class='fl'>0.8</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='va'>POS_2017</span> <span class='op'>+</span> <span class='fl'>0.5</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>68</span>, label <span class='op'>=</span> <span class='st'>"SEVERE STORMS\n[8 EVENTS] ..."</span>, size <span class='op'>=</span> <span class='fl'>3.2</span>, color <span class='op'>=</span> <span class='st'>"grey20"</span>, hjust <span class='op'>=</span> <span class='fl'>0</span>, vjust <span class='op'>=</span> <span class='fl'>0.5</span>, lineheight <span class='op'>=</span> <span class='fl'>0.8</span>, fontface <span class='op'>=</span> <span class='st'>"bold"</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='va'>POS_2017</span> <span class='op'>+</span> <span class='fl'>0.5</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>79</span>, label <span class='op'>=</span> <span class='st'>"... HURRICANES\n[3 EVENTS] ..."</span>, size <span class='op'>=</span> <span class='fl'>3.2</span>, color <span class='op'>=</span> <span class='st'>"grey20"</span>, hjust <span class='op'>=</span> <span class='fl'>0</span>, vjust <span class='op'>=</span> <span class='fl'>0.5</span>, lineheight <span class='op'>=</span> <span class='fl'>0.8</span>, fontface <span class='op'>=</span> <span class='st'>"bold"</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='va'>POS_2017</span> <span class='op'>+</span> <span class='fl'>0.5</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>83</span>, label <span class='op'>=</span> <span class='st'>"... AND FLOODING\n[2 EVENTS]."</span>, size <span class='op'>=</span> <span class='fl'>3.2</span>, color <span class='op'>=</span> <span class='st'>"grey20"</span>, hjust <span class='op'>=</span> <span class='fl'>0</span>, vjust <span class='op'>=</span> <span class='fl'>0.5</span>, lineheight <span class='op'>=</span> <span class='fl'>0.8</span>, fontface <span class='op'>=</span> <span class='st'>"bold"</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  </span>
<span>  <span class='co'># Type of event</span></span>
<span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='va'>POS_2017</span> <span class='op'>+</span> <span class='va'>SHIFT_RIGHT</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>60</span>, label <span class='op'>=</span> <span class='st'>"TYPE OF EVENT"</span>, fontface <span class='op'>=</span> <span class='st'>"bold"</span>, size <span class='op'>=</span> <span class='fl'>4</span>, color <span class='op'>=</span> <span class='st'>"grey35"</span>, hjust <span class='op'>=</span> <span class='fl'>0</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"rect"</span>, xmin <span class='op'>=</span> <span class='va'>POS_2017</span> <span class='op'>+</span> <span class='va'>SHIFT_RIGHT</span>, xmax <span class='op'>=</span> <span class='va'>POS_2017</span> <span class='op'>+</span> <span class='va'>SHIFT_RIGHT</span> <span class='op'>+</span> <span class='fl'>1.0</span>,</span>
<span>           ymin <span class='op'>=</span> <span class='op'>-</span><span class='fl'>62.5</span> <span class='op'>+</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='op'>-</span><span class='fl'>1.8</span>, <span class='op'>-</span><span class='fl'>3.6</span>, <span class='op'>-</span><span class='fl'>5.4</span>, <span class='op'>-</span><span class='fl'>7.2</span>, <span class='op'>-</span><span class='fl'>9.0</span>, <span class='op'>-</span><span class='fl'>10.8</span><span class='op'>)</span> <span class='op'>*</span> <span class='fl'>0.8</span>,</span>
<span>           ymax <span class='op'>=</span> <span class='op'>-</span><span class='fl'>62.5</span> <span class='op'>+</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1.0</span>, <span class='op'>-</span><span class='fl'>0.8</span>, <span class='op'>-</span><span class='fl'>2.6</span>, <span class='op'>-</span><span class='fl'>4.4</span>, <span class='op'>-</span><span class='fl'>6.2</span>, <span class='op'>-</span><span class='fl'>8.0</span>, <span class='op'>-</span><span class='fl'>9.8</span><span class='op'>)</span> <span class='op'>*</span> <span class='fl'>0.8</span>,</span>
<span>           fill <span class='op'>=</span> <span class='va'>chart_colors</span>, color <span class='op'>=</span> <span class='st'>"white"</span>, linewidth <span class='op'>=</span> <span class='fl'>0.2</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='va'>POS_2017</span> <span class='op'>+</span> <span class='va'>SHIFT_RIGHT</span> <span class='op'>+</span> <span class='fl'>1.2</span>,</span>
<span>           y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>62.5</span> <span class='op'>+</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0.5</span>, <span class='op'>-</span><span class='fl'>1.3</span>, <span class='op'>-</span><span class='fl'>3.1</span>, <span class='op'>-</span><span class='fl'>4.9</span>, <span class='op'>-</span><span class='fl'>6.7</span>, <span class='op'>-</span><span class='fl'>8.5</span>, <span class='op'>-</span><span class='fl'>10.3</span><span class='op'>)</span> <span class='op'>*</span> <span class='fl'>0.8</span>,</span>
<span>           label <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"SEVERE STORM"</span>, <span class='st'>"HURRICANE"</span>, <span class='st'>"FLOODING"</span>, <span class='st'>"WILDFIRE"</span>, <span class='st'>"FREEZE"</span>, <span class='st'>"DROUGHT"</span>, <span class='st'>"WINTER STORM"</span><span class='op'>)</span>,</span>
<span>           hjust <span class='op'>=</span> <span class='fl'>0</span>, size <span class='op'>=</span> <span class='fl'>3</span>, color <span class='op'>=</span> <span class='st'>"grey40"</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='co'># Number of events diagram</span></span>
<span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_ribbon.html'>geom_ribbon</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>scale_data</span>, <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>x_scaled</span>, ymin <span class='op'>=</span> <span class='va'>y_bottom</span>, ymax <span class='op'>=</span> <span class='va'>y_top</span><span class='op'>)</span>,</span>
<span>              fill <span class='op'>=</span> <span class='st'>"grey70"</span>, color <span class='op'>=</span> <span class='cn'>NA</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='va'>POS_2017</span> <span class='op'>+</span> <span class='va'>SHIFT_RIGHT</span> <span class='op'>+</span> <span class='fl'>0</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>89.5</span> <span class='op'>+</span> <span class='fl'>1.75</span> <span class='op'>*</span> <span class='fl'>5.5</span>, label <span class='op'>=</span> <span class='st'>"0"</span>, </span>
<span>           size <span class='op'>=</span> <span class='fl'>3.5</span>, color <span class='op'>=</span> <span class='st'>"grey20"</span>, fontface <span class='op'>=</span> <span class='st'>"bold"</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='va'>POS_2017</span> <span class='op'>+</span> <span class='va'>SHIFT_RIGHT</span> <span class='op'>+</span> <span class='fl'>1.0</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>89.5</span> <span class='op'>+</span> <span class='fl'>1.95</span> <span class='op'>*</span> <span class='fl'>5.5</span>, label <span class='op'>=</span> <span class='st'>"2"</span>, </span>
<span>           size <span class='op'>=</span> <span class='fl'>3.5</span>, color <span class='op'>=</span> <span class='st'>"grey20"</span>, fontface <span class='op'>=</span> <span class='st'>"bold"</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='va'>POS_2017</span> <span class='op'>+</span> <span class='va'>SHIFT_RIGHT</span> <span class='op'>+</span> <span class='fl'>2.0</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>89.5</span> <span class='op'>+</span> <span class='fl'>2.20</span> <span class='op'>*</span> <span class='fl'>5.5</span>, label <span class='op'>=</span> <span class='st'>"4"</span>, </span>
<span>           size <span class='op'>=</span> <span class='fl'>3.5</span>, color <span class='op'>=</span> <span class='st'>"grey20"</span>, fontface <span class='op'>=</span> <span class='st'>"bold"</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='va'>POS_2017</span> <span class='op'>+</span> <span class='va'>SHIFT_RIGHT</span> <span class='op'>+</span> <span class='fl'>3.0</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>89.5</span> <span class='op'>+</span> <span class='fl'>2.45</span> <span class='op'>*</span> <span class='fl'>5.5</span>, label <span class='op'>=</span> <span class='st'>"6"</span>, </span>
<span>           size <span class='op'>=</span> <span class='fl'>3.5</span>, color <span class='op'>=</span> <span class='st'>"grey20"</span>, fontface <span class='op'>=</span> <span class='st'>"bold"</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='va'>POS_2017</span> <span class='op'>+</span> <span class='va'>SHIFT_RIGHT</span> <span class='op'>+</span> <span class='fl'>3.88</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>89.5</span> <span class='op'>+</span> <span class='fl'>2.7</span> <span class='op'>*</span> <span class='fl'>5.5</span>, label <span class='op'>=</span> <span class='st'>"8"</span>, </span>
<span>           size <span class='op'>=</span> <span class='fl'>3.5</span>, color <span class='op'>=</span> <span class='st'>"grey20"</span>, fontface <span class='op'>=</span> <span class='st'>"bold"</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"segment"</span>, x <span class='op'>=</span> <span class='va'>POS_2017</span> <span class='op'>+</span> <span class='va'>SHIFT_RIGHT</span> <span class='op'>+</span> <span class='fl'>3.8</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>89.5</span> <span class='op'>+</span> <span class='fl'>0.8</span> <span class='op'>*</span> <span class='fl'>5.5</span>, </span>
<span>           xend <span class='op'>=</span> <span class='va'>POS_2017</span> <span class='op'>+</span> <span class='va'>SHIFT_RIGHT</span> <span class='op'>+</span> <span class='fl'>3.8</span>, yend <span class='op'>=</span> <span class='op'>-</span><span class='fl'>89.5</span> <span class='op'>+</span> <span class='fl'>2.2</span> <span class='op'>*</span> <span class='fl'>5.5</span>,</span>
<span>           arrow <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/arrow.html'>arrow</a></span><span class='op'>(</span>length <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/unit.html'>unit</a></span><span class='op'>(</span><span class='fl'>0.12</span>, <span class='st'>"cm"</span><span class='op'>)</span>, type <span class='op'>=</span> <span class='st'>"closed"</span>, ends <span class='op'>=</span> <span class='st'>"both"</span><span class='op'>)</span>,</span>
<span>           color <span class='op'>=</span> <span class='st'>"grey10"</span>, linewidth <span class='op'>=</span> <span class='fl'>0.6</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='va'>POS_2017</span> <span class='op'>+</span> <span class='va'>SHIFT_RIGHT</span> <span class='op'>+</span> <span class='fl'>3.6</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>89.5</span> <span class='op'>+</span> <span class='fl'>1.5</span> <span class='op'>*</span> <span class='fl'>5.5</span>,</span>
<span>           label <span class='op'>=</span> <span class='st'>"NUMBER\nOF\nEVENTS"</span>,</span>
<span>           size <span class='op'>=</span> <span class='fl'>2.8</span>, color <span class='op'>=</span> <span class='st'>"grey10"</span>, fontface <span class='op'>=</span> <span class='st'>"bold"</span>,</span>
<span>           hjust <span class='op'>=</span> <span class='fl'>1</span>, vjust <span class='op'>=</span> <span class='fl'>0.5</span>, lineheight <span class='op'>=</span> <span class='fl'>0.8</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/coord_fixed.html'>coord_fixed</a></span><span class='op'>(</span>ratio <span class='op'>=</span> <span class='fl'>0.3</span>, xlim <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='op'>-</span><span class='fl'>5</span>, <span class='va'>POS_2017</span> <span class='op'>+</span> <span class='fl'>13</span><span class='op'>)</span>, ylim <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='op'>-</span><span class='fl'>95</span>, <span class='fl'>10</span><span class='op'>)</span>, expand <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_void</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span>plot.background <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>"#f4f1e4"</span>, color <span class='op'>=</span> <span class='cn'>NA</span><span class='op'>)</span>,</span>
<span>        plot.margin <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>margin</a></span><span class='op'>(</span><span class='fl'>10</span>, <span class='fl'>30</span>, <span class='fl'>5</span>, <span class='fl'>30</span><span class='op'>)</span>,</span>
<span>        legend.position <span class='op'>=</span> <span class='st'>"none"</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<h3 id="title-and-descrption-paragrah">Title and descrption paragrah</h3>
<p>The reference visualization includes a strong headline and a long editorial paragraph. I reproduce that by creating a separate ggplot object where I only place text. Doing this separately makes layout control easier and avoids messing with the main charts coordinate system.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>text_panel</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>5</span>, y <span class='op'>=</span> <span class='fl'>0.5</span>, </span>
<span>           label <span class='op'>=</span> <span class='st'>"STORM\nWARNINGS"</span>,</span>
<span>           size <span class='op'>=</span> <span class='fl'>17</span>, color <span class='op'>=</span> <span class='st'>"grey10"</span>, hjust <span class='op'>=</span> <span class='fl'>0</span>, vjust <span class='op'>=</span> <span class='fl'>0.5</span>, </span>
<span>           lineheight <span class='op'>=</span> <span class='fl'>0.85</span>, fontface <span class='op'>=</span> <span class='st'>"bold"</span>, family <span class='op'>=</span> <span class='st'>"Barlow Condensed"</span><span class='op'>)</span> <span class='op'>+</span> </span>
<span>  </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>12.5</span>, y <span class='op'>=</span> <span class='fl'>0.5</span>, </span>
<span>           label <span class='op'>=</span><span class='st'>"EXTREME WEATHER IS becoming more common, and the economic impact is soaring. Last year\n there were 16 weather events in the U.S. that caused at least $1 billion each in damage,\n according to the National Oceanic and Atmospheric Administration. The cumulative cost was\n $306 billioneasily surpassing the previous one-year record of $215 billion set in 2005. In\n September a report from the nonprofit Universal Ecological Fund, \"The Economics Case for\n Climate Action in the United States,\" estimated that total climate-related economic losses\n and health costs in the U.S. averaged $240 billion a year over the past decade. The authors\n project the annual cost will rise to $360 billion over the next 10 years.BRIAN O'KEEFE"</span>,</span>
<span>           size <span class='op'>=</span> <span class='fl'>3</span>, color <span class='op'>=</span> <span class='st'>"grey20"</span>, hjust <span class='op'>=</span> <span class='fl'>0</span>, vjust <span class='op'>=</span> <span class='fl'>0.5</span>, lineheight <span class='op'>=</span> <span class='fl'>1.2</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/lims.html'>xlim</a></span><span class='op'>(</span><span class='op'>-</span><span class='fl'>2</span>, <span class='fl'>30</span><span class='op'>)</span> <span class='op'>+</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/lims.html'>ylim</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>1</span><span class='op'>)</span> <span class='op'>+</span> </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_void</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span>plot.background <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>"#f4f1e4"</span>, color <span class='op'>=</span> <span class='cn'>NA</span><span class='op'>)</span>, </span>
<span>        plot.margin <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>margin</a></span><span class='op'>(</span><span class='fl'>5</span>, <span class='fl'>30</span>, <span class='fl'>20</span>, <span class='fl'>30</span><span class='op'>)</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<h3 id="patchwork-to-create-final-project">Patchwork to create final project</h3>
<p>I combine the main visualization and the text panel into a single figure using patchwork. This reproduces the two-part editorial composition from the reference graphic (chart on top, text below).</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>final_plot</span> <span class='op'>&lt;-</span> <span class='va'>main_graph</span> <span class='op'>/</span> <span class='va'>text_panel</span> <span class='op'>+</span> <span class='fu'><a href='https://patchwork.data-imaginist.com/reference/plot_layout.html'>plot_layout</a></span><span class='op'>(</span>heights <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>10</span>, <span class='fl'>2</span><span class='op'>)</span><span class='op'>)</span></span>
<span></span>
<span><span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='va'>final_plot</span><span class='op'>)</span></span></code></pre>
</div>
<p><img src="100562295_files/figure-html5/unnamed-chunk-12-1.png" alt="" width="100%" data-distill-preview=1 /></p>
</div>
<h2 id="improvement">Improvement</h2>
<h3 id="chronological-direction">Chronological direction</h3>
<p>In this section I tried an alternative version of the chart where the timeline in every segment runs left-to-right. In the main plot I used a zig-zag direction (some segments go right-to-left) to mimic the reference layout, but it makes reading the years slightly less intuitive.</p>
<p>To build the chronological version, I keep the same data preparation, stacking logic, and smoothing. The main differences are:</p>
<ol type="1">
<li><p>x_new is recomputed so all segments increase left-to-right.</p></li>
<li><p>The right-side info panel (legend + scale) is shifted left using a new SHIFT_RIGHT_CHRONO.</p></li>
<li><p>I remove the curved connectors between segments, because the zig-zag turn is no longer part of the layout.</p></li>
</ol>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>SHIFT_RIGHT_CHRONO</span> <span class='op'>&lt;-</span> <span class='fl'>3.5</span>  <span class='co'># Moved to the right</span></span></code></pre>
</div>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>scale_data_chrono</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>8</span>, length.out <span class='op'>=</span> <span class='fl'>200</span><span class='op'>)</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span></span>
<span>    base_thickness <span class='op'>=</span> <span class='va'>x</span> <span class='op'>*</span> <span class='fl'>0.12</span>, </span>
<span>    wave1 <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/Trig.html'>sin</a></span><span class='op'>(</span><span class='va'>x</span> <span class='op'>*</span> <span class='fl'>2</span><span class='op'>)</span> <span class='op'>*</span> <span class='fl'>0.05</span>,</span>
<span>    wave2 <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/Trig.html'>sin</a></span><span class='op'>(</span><span class='va'>x</span> <span class='op'>*</span> <span class='fl'>3.5</span><span class='op'>)</span> <span class='op'>*</span> <span class='fl'>0.03</span>, </span>
<span>    thickness <span class='op'>=</span> <span class='va'>base_thickness</span> <span class='op'>+</span> <span class='va'>wave1</span> <span class='op'>+</span> <span class='va'>wave2</span>, </span>
<span>    x_scaled <span class='op'>=</span> <span class='va'>POS_2017</span> <span class='op'>+</span> <span class='va'>SHIFT_RIGHT_CHRONO</span> <span class='op'>+</span> <span class='va'>x</span> <span class='op'>*</span> <span class='fl'>0.5</span>, </span>
<span>    y_top <span class='op'>=</span> <span class='op'>-</span><span class='fl'>81</span> <span class='op'>+</span> <span class='va'>thickness</span> <span class='op'>*</span> <span class='va'>WAVE_HEIGHT_FACTOR</span>,</span>
<span>    y_bottom <span class='op'>=</span> <span class='op'>-</span><span class='fl'>81</span> <span class='op'>-</span> <span class='va'>thickness</span> <span class='op'>*</span> <span class='va'>WAVE_HEIGHT_FACTOR</span></span>
<span>  <span class='op'>)</span></span></code></pre>
</div>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>path_data_chrono</span> <span class='op'>&lt;-</span> <span class='va'>path_data_base</span> <span class='op'>|&gt;</span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/arrange.html'>arrange</a></span><span class='op'>(</span><span class='va'>segment</span>, <span class='va'>year</span>, <span class='fu'><a href='https://dplyr.tidyverse.org/reference/desc.html'>desc</a></span><span class='op'>(</span><span class='va'>disaster_type</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/group_by.html'>group_by</a></span><span class='op'>(</span><span class='va'>segment</span>, <span class='va'>year</span><span class='op'>)</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span></span>
<span>    SCALE_FACTOR <span class='op'>=</span> <span class='fl'>1.5</span>, </span>
<span>    total_height <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/sum.html'>sum</a></span><span class='op'>(</span><span class='va'>n_events</span><span class='op'>)</span> <span class='op'>*</span> <span class='va'>SCALE_FACTOR</span>, </span>
<span>    center_offset <span class='op'>=</span> <span class='op'>-</span><span class='va'>total_height</span> <span class='op'>/</span> <span class='fl'>2</span>,</span>
<span>    ymax_cumulative <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/cumsum.html'>cumsum</a></span><span class='op'>(</span><span class='va'>n_events</span> <span class='op'>*</span> <span class='va'>SCALE_FACTOR</span><span class='op'>)</span>, </span>
<span>    ymin_cumulative <span class='op'>=</span> <span class='va'>ymax_cumulative</span> <span class='op'>-</span> <span class='op'>(</span><span class='va'>n_events</span> <span class='op'>*</span> <span class='va'>SCALE_FACTOR</span><span class='op'>)</span>,</span>
<span>    y_centered_min <span class='op'>=</span> <span class='va'>ymin_cumulative</span> <span class='op'>+</span> <span class='va'>center_offset</span>,</span>
<span>    y_centered_max <span class='op'>=</span> <span class='va'>ymax_cumulative</span> <span class='op'>+</span> <span class='va'>center_offset</span></span>
<span>  <span class='op'>)</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/group_by.html'>ungroup</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span></span>
<span>    <span class='co'># Switching direction</span></span>
<span>    x_new <span class='op'>=</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/case_when.html'>case_when</a></span><span class='op'>(</span></span>
<span>      <span class='va'>segment</span> <span class='op'>==</span> <span class='fl'>1</span> <span class='op'>~</span> <span class='op'>(</span><span class='va'>year</span> <span class='op'>-</span> <span class='fl'>1980</span><span class='op'>)</span> <span class='op'>*</span> <span class='va'>WIDTH_FACTOR</span>,</span>
<span>      <span class='va'>segment</span> <span class='op'>==</span> <span class='fl'>2</span> <span class='op'>~</span> <span class='op'>(</span><span class='va'>year</span> <span class='op'>-</span> <span class='fl'>1990</span><span class='op'>)</span> <span class='op'>*</span> <span class='va'>WIDTH_FACTOR</span>,</span>
<span>      <span class='va'>segment</span> <span class='op'>==</span> <span class='fl'>3</span> <span class='op'>~</span> <span class='op'>(</span><span class='va'>year</span> <span class='op'>-</span> <span class='fl'>2000</span><span class='op'>)</span> <span class='op'>*</span> <span class='va'>WIDTH_FACTOR</span>,</span>
<span>      <span class='va'>segment</span> <span class='op'>==</span> <span class='fl'>4</span> <span class='op'>~</span> <span class='op'>(</span><span class='va'>year</span> <span class='op'>-</span> <span class='fl'>2010</span><span class='op'>)</span> <span class='op'>*</span> <span class='va'>WIDTH_FACTOR</span></span>
<span>    <span class='op'>)</span>,</span>
<span>    y_offset <span class='op'>=</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/case_when.html'>case_when</a></span><span class='op'>(</span></span>
<span>      <span class='va'>segment</span> <span class='op'>==</span> <span class='fl'>1</span> <span class='op'>~</span> <span class='fl'>0</span>,</span>
<span>      <span class='va'>segment</span> <span class='op'>==</span> <span class='fl'>2</span> <span class='op'>~</span> <span class='op'>-</span><span class='fl'>22</span>,</span>
<span>      <span class='va'>segment</span> <span class='op'>==</span> <span class='fl'>3</span> <span class='op'>~</span> <span class='op'>-</span><span class='fl'>44</span>,</span>
<span>      <span class='va'>segment</span> <span class='op'>==</span> <span class='fl'>4</span> <span class='op'>~</span> <span class='op'>-</span><span class='fl'>74</span></span>
<span>    <span class='op'>)</span>,</span>
<span>    y_final_min <span class='op'>=</span> <span class='va'>y_centered_min</span> <span class='op'>+</span> <span class='va'>y_offset</span>,</span>
<span>    y_final_max <span class='op'>=</span> <span class='va'>y_centered_max</span> <span class='op'>+</span> <span class='va'>y_offset</span></span>
<span>  <span class='op'>)</span></span></code></pre>
</div>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>path_data_smooth_chrono</span> <span class='op'>&lt;-</span> <span class='va'>path_data_chrono</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/group_by.html'>group_by</a></span><span class='op'>(</span><span class='va'>segment</span>, <span class='va'>disaster_type</span><span class='op'>)</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/group_map.html'>group_modify</a></span><span class='op'>(</span><span class='op'>~</span> <span class='fu'>smooth_segment</span><span class='op'>(</span><span class='va'>.x</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/group_by.html'>ungroup</a></span><span class='op'>(</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>main_graph_chrono</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_abline.html'>geom_vline</a></span><span class='op'>(</span>xintercept <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='va'>MAX_WIDTH</span>, by <span class='op'>=</span> <span class='va'>WIDTH_FACTOR</span><span class='op'>)</span>, </span>
<span>             color <span class='op'>=</span> <span class='st'>"#e5e3d8"</span>, linewidth <span class='op'>=</span> <span class='fl'>0.3</span>, linetype <span class='op'>=</span> <span class='st'>"dotted"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_ribbon.html'>geom_ribbon</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='va'>path_data_smooth_chrono</span>,</span>
<span>    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>x_new</span>, ymin <span class='op'>=</span> <span class='va'>y_final_min</span>, ymax <span class='op'>=</span> <span class='va'>y_final_max</span>, fill <span class='op'>=</span> <span class='va'>disaster_type</span>,</span>
<span>        group <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/interaction.html'>interaction</a></span><span class='op'>(</span><span class='va'>segment</span>, <span class='va'>disaster_type</span><span class='op'>)</span><span class='op'>)</span>, </span>
<span>    color <span class='op'>=</span> <span class='st'>"white"</span>, linewidth <span class='op'>=</span> <span class='fl'>0.15</span>, alpha <span class='op'>=</span> <span class='fl'>0.9</span></span>
<span>  <span class='op'>)</span> <span class='op'>+</span> </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_fill_manual</a></span><span class='op'>(</span>values <span class='op'>=</span> <span class='va'>chart_colors</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"segment"</span>, x <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>10</span>, by <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span> <span class='op'>*</span> <span class='va'>WIDTH_FACTOR</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>8</span>, yend <span class='op'>=</span> <span class='fl'>8</span>, color <span class='op'>=</span> <span class='st'>"grey40"</span>, linewidth <span class='op'>=</span> <span class='fl'>0.4</span>, alpha <span class='op'>=</span> <span class='fl'>0.6</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"segment"</span>, x <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>10</span>, by <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span> <span class='op'>*</span> <span class='va'>WIDTH_FACTOR</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>30</span>, yend <span class='op'>=</span> <span class='op'>-</span><span class='fl'>14</span>, color <span class='op'>=</span> <span class='st'>"grey40"</span>, linewidth <span class='op'>=</span> <span class='fl'>0.4</span>, alpha <span class='op'>=</span> <span class='fl'>0.6</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"segment"</span>, x <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>10</span>, by <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span> <span class='op'>*</span> <span class='va'>WIDTH_FACTOR</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>54</span>, yend <span class='op'>=</span> <span class='op'>-</span><span class='fl'>34</span>, color <span class='op'>=</span> <span class='st'>"grey40"</span>, linewidth <span class='op'>=</span> <span class='fl'>0.4</span>, alpha <span class='op'>=</span> <span class='fl'>0.6</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"segment"</span>, x <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>7</span>, by <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span> <span class='op'>*</span> <span class='va'>WIDTH_FACTOR</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>90</span>, yend <span class='op'>=</span> <span class='op'>-</span><span class='fl'>59</span>, color <span class='op'>=</span> <span class='st'>"grey40"</span>, linewidth <span class='op'>=</span> <span class='fl'>0.4</span>, alpha <span class='op'>=</span> <span class='fl'>0.6</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='va'>MAX_WIDTH</span> <span class='op'>+</span> <span class='fl'>0.8</span>, y <span class='op'>=</span> <span class='fl'>6.5</span>, </span>
<span>           label <span class='op'>=</span> <span class='st'>"NUMBER OF\nBILLION-\nDOLLAR\nWEATHER AND\nCLIMATE\nDISASTERS IN\nTHE U.S."</span>,</span>
<span>           size <span class='op'>=</span> <span class='fl'>3</span>, color <span class='op'>=</span> <span class='st'>"grey20"</span>, hjust <span class='op'>=</span> <span class='fl'>0</span>, vjust <span class='op'>=</span> <span class='fl'>1</span>, </span>
<span>           lineheight <span class='op'>=</span> <span class='fl'>0.9</span>, fontface <span class='op'>=</span> <span class='st'>"bold"</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>0</span> <span class='op'>*</span> <span class='va'>WIDTH_FACTOR</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>9.5</span>, label <span class='op'>=</span> <span class='st'>"1980"</span>, size <span class='op'>=</span> <span class='fl'>3</span>, color <span class='op'>=</span> <span class='st'>"grey22"</span>, fontface <span class='op'>=</span> <span class='st'>"bold"</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>1</span> <span class='op'>*</span> <span class='va'>WIDTH_FACTOR</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>9.5</span>, label <span class='op'>=</span> <span class='st'>"'81"</span>, size <span class='op'>=</span> <span class='fl'>3</span>, color <span class='op'>=</span> <span class='st'>"grey30"</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>2</span> <span class='op'>*</span> <span class='va'>WIDTH_FACTOR</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>9.5</span>, label <span class='op'>=</span> <span class='st'>"'82"</span>, size <span class='op'>=</span> <span class='fl'>3</span>, color <span class='op'>=</span> <span class='st'>"grey30"</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>3</span> <span class='op'>*</span> <span class='va'>WIDTH_FACTOR</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>9.5</span>, label <span class='op'>=</span> <span class='st'>"'83"</span>, size <span class='op'>=</span> <span class='fl'>3</span>, color <span class='op'>=</span> <span class='st'>"grey30"</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>4</span> <span class='op'>*</span> <span class='va'>WIDTH_FACTOR</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>9.5</span>, label <span class='op'>=</span> <span class='st'>"'84"</span>, size <span class='op'>=</span> <span class='fl'>3</span>, color <span class='op'>=</span> <span class='st'>"grey30"</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>5</span> <span class='op'>*</span> <span class='va'>WIDTH_FACTOR</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>9.5</span>, label <span class='op'>=</span> <span class='st'>"1985"</span>, size <span class='op'>=</span> <span class='fl'>3</span>, color <span class='op'>=</span> <span class='st'>"grey30"</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>6</span> <span class='op'>*</span> <span class='va'>WIDTH_FACTOR</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>9.5</span>, label <span class='op'>=</span> <span class='st'>"'86"</span>, size <span class='op'>=</span> <span class='fl'>3</span>, color <span class='op'>=</span> <span class='st'>"grey30"</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>7</span> <span class='op'>*</span> <span class='va'>WIDTH_FACTOR</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>9.5</span>, label <span class='op'>=</span> <span class='st'>"'87"</span>, size <span class='op'>=</span> <span class='fl'>3</span>, color <span class='op'>=</span> <span class='st'>"grey30"</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>8</span> <span class='op'>*</span> <span class='va'>WIDTH_FACTOR</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>9.5</span>, label <span class='op'>=</span> <span class='st'>"'88"</span>, size <span class='op'>=</span> <span class='fl'>3</span>, color <span class='op'>=</span> <span class='st'>"grey30"</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>9</span> <span class='op'>*</span> <span class='va'>WIDTH_FACTOR</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>9.5</span>, label <span class='op'>=</span> <span class='st'>"'89"</span>, size <span class='op'>=</span> <span class='fl'>3</span>, color <span class='op'>=</span> <span class='st'>"grey30"</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>10</span> <span class='op'>*</span> <span class='va'>WIDTH_FACTOR</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>9.5</span>, label <span class='op'>=</span> <span class='st'>"1990"</span>, size <span class='op'>=</span> <span class='fl'>3</span>, color <span class='op'>=</span> <span class='st'>"grey22"</span>, fontface <span class='op'>=</span> <span class='st'>"bold"</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>0</span> <span class='op'>*</span> <span class='va'>WIDTH_FACTOR</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>31.5</span>, label <span class='op'>=</span> <span class='st'>"1990"</span>, size <span class='op'>=</span> <span class='fl'>3</span>, color <span class='op'>=</span> <span class='st'>"grey22"</span>, fontface <span class='op'>=</span> <span class='st'>"bold"</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>1</span> <span class='op'>*</span> <span class='va'>WIDTH_FACTOR</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>31.5</span>, label <span class='op'>=</span> <span class='st'>"'91"</span>, size <span class='op'>=</span> <span class='fl'>3</span>, color <span class='op'>=</span> <span class='st'>"grey30"</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>2</span> <span class='op'>*</span> <span class='va'>WIDTH_FACTOR</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>31.5</span>, label <span class='op'>=</span> <span class='st'>"'92"</span>, size <span class='op'>=</span> <span class='fl'>3</span>, color <span class='op'>=</span> <span class='st'>"grey30"</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>3</span> <span class='op'>*</span> <span class='va'>WIDTH_FACTOR</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>31.5</span>, label <span class='op'>=</span> <span class='st'>"'93"</span>, size <span class='op'>=</span> <span class='fl'>3</span>, color <span class='op'>=</span> <span class='st'>"grey30"</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>4</span> <span class='op'>*</span> <span class='va'>WIDTH_FACTOR</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>31.5</span>, label <span class='op'>=</span> <span class='st'>"'94"</span>, size <span class='op'>=</span> <span class='fl'>3</span>, color <span class='op'>=</span> <span class='st'>"grey30"</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>5</span> <span class='op'>*</span> <span class='va'>WIDTH_FACTOR</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>31.5</span>, label <span class='op'>=</span> <span class='st'>"1995"</span>, size <span class='op'>=</span> <span class='fl'>3</span>, color <span class='op'>=</span> <span class='st'>"grey30"</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>6</span> <span class='op'>*</span> <span class='va'>WIDTH_FACTOR</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>31.5</span>, label <span class='op'>=</span> <span class='st'>"'96"</span>, size <span class='op'>=</span> <span class='fl'>3</span>, color <span class='op'>=</span> <span class='st'>"grey30"</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>7</span> <span class='op'>*</span> <span class='va'>WIDTH_FACTOR</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>31.5</span>, label <span class='op'>=</span> <span class='st'>"'97"</span>, size <span class='op'>=</span> <span class='fl'>3</span>, color <span class='op'>=</span> <span class='st'>"grey30"</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>8</span> <span class='op'>*</span> <span class='va'>WIDTH_FACTOR</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>31.5</span>, label <span class='op'>=</span> <span class='st'>"'98"</span>, size <span class='op'>=</span> <span class='fl'>3</span>, color <span class='op'>=</span> <span class='st'>"grey30"</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>9</span> <span class='op'>*</span> <span class='va'>WIDTH_FACTOR</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>31.5</span>, label <span class='op'>=</span> <span class='st'>"'99"</span>, size <span class='op'>=</span> <span class='fl'>3</span>, color <span class='op'>=</span> <span class='st'>"grey30"</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>10</span> <span class='op'>*</span> <span class='va'>WIDTH_FACTOR</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>31.5</span>, label <span class='op'>=</span> <span class='st'>"2000"</span>, size <span class='op'>=</span> <span class='fl'>3</span>, color <span class='op'>=</span> <span class='st'>"grey22"</span>, fontface <span class='op'>=</span> <span class='st'>"bold"</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>0</span> <span class='op'>*</span> <span class='va'>WIDTH_FACTOR</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>55.5</span>, label <span class='op'>=</span> <span class='st'>"2000"</span>, size <span class='op'>=</span> <span class='fl'>3</span>, color <span class='op'>=</span> <span class='st'>"grey22"</span>, fontface <span class='op'>=</span> <span class='st'>"bold"</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>1</span> <span class='op'>*</span> <span class='va'>WIDTH_FACTOR</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>55.5</span>, label <span class='op'>=</span> <span class='st'>"'01"</span>, size <span class='op'>=</span> <span class='fl'>3</span>, color <span class='op'>=</span> <span class='st'>"grey30"</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>2</span> <span class='op'>*</span> <span class='va'>WIDTH_FACTOR</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>55.5</span>, label <span class='op'>=</span> <span class='st'>"'02"</span>, size <span class='op'>=</span> <span class='fl'>3</span>, color <span class='op'>=</span> <span class='st'>"grey30"</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>3</span> <span class='op'>*</span> <span class='va'>WIDTH_FACTOR</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>55.5</span>, label <span class='op'>=</span> <span class='st'>"'03"</span>, size <span class='op'>=</span> <span class='fl'>3</span>, color <span class='op'>=</span> <span class='st'>"grey30"</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>4</span> <span class='op'>*</span> <span class='va'>WIDTH_FACTOR</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>55.5</span>, label <span class='op'>=</span> <span class='st'>"'04"</span>, size <span class='op'>=</span> <span class='fl'>3</span>, color <span class='op'>=</span> <span class='st'>"grey30"</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>5</span> <span class='op'>*</span> <span class='va'>WIDTH_FACTOR</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>55.5</span>, label <span class='op'>=</span> <span class='st'>"2005"</span>, size <span class='op'>=</span> <span class='fl'>3</span>, color <span class='op'>=</span> <span class='st'>"grey30"</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>6</span> <span class='op'>*</span> <span class='va'>WIDTH_FACTOR</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>55.5</span>, label <span class='op'>=</span> <span class='st'>"'06"</span>, size <span class='op'>=</span> <span class='fl'>3</span>, color <span class='op'>=</span> <span class='st'>"grey30"</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>7</span> <span class='op'>*</span> <span class='va'>WIDTH_FACTOR</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>55.5</span>, label <span class='op'>=</span> <span class='st'>"'07"</span>, size <span class='op'>=</span> <span class='fl'>3</span>, color <span class='op'>=</span> <span class='st'>"grey30"</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>8</span> <span class='op'>*</span> <span class='va'>WIDTH_FACTOR</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>55.5</span>, label <span class='op'>=</span> <span class='st'>"'08"</span>, size <span class='op'>=</span> <span class='fl'>3</span>, color <span class='op'>=</span> <span class='st'>"grey30"</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>9</span> <span class='op'>*</span> <span class='va'>WIDTH_FACTOR</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>55.5</span>, label <span class='op'>=</span> <span class='st'>"'09"</span>, size <span class='op'>=</span> <span class='fl'>3</span>, color <span class='op'>=</span> <span class='st'>"grey30"</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>10</span> <span class='op'>*</span> <span class='va'>WIDTH_FACTOR</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>55.5</span>, label <span class='op'>=</span> <span class='st'>"2010"</span>, size <span class='op'>=</span> <span class='fl'>3</span>, color <span class='op'>=</span> <span class='st'>"grey22"</span>, fontface <span class='op'>=</span> <span class='st'>"bold"</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>0</span> <span class='op'>*</span> <span class='va'>WIDTH_FACTOR</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>91.5</span>, label <span class='op'>=</span> <span class='st'>"2010"</span>, size <span class='op'>=</span> <span class='fl'>3</span>, color <span class='op'>=</span> <span class='st'>"grey22"</span>, fontface <span class='op'>=</span> <span class='st'>"bold"</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>1</span> <span class='op'>*</span> <span class='va'>WIDTH_FACTOR</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>91.5</span>, label <span class='op'>=</span> <span class='st'>"'11"</span>, size <span class='op'>=</span> <span class='fl'>3</span>, color <span class='op'>=</span> <span class='st'>"grey30"</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>2</span> <span class='op'>*</span> <span class='va'>WIDTH_FACTOR</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>91.5</span>, label <span class='op'>=</span> <span class='st'>"'12"</span>, size <span class='op'>=</span> <span class='fl'>3</span>, color <span class='op'>=</span> <span class='st'>"grey30"</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>3</span> <span class='op'>*</span> <span class='va'>WIDTH_FACTOR</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>91.5</span>, label <span class='op'>=</span> <span class='st'>"'13"</span>, size <span class='op'>=</span> <span class='fl'>3</span>, color <span class='op'>=</span> <span class='st'>"grey30"</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>4</span> <span class='op'>*</span> <span class='va'>WIDTH_FACTOR</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>91.5</span>, label <span class='op'>=</span> <span class='st'>"'14"</span>, size <span class='op'>=</span> <span class='fl'>3</span>, color <span class='op'>=</span> <span class='st'>"grey30"</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>5</span> <span class='op'>*</span> <span class='va'>WIDTH_FACTOR</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>91.5</span>, label <span class='op'>=</span> <span class='st'>"2015"</span>, size <span class='op'>=</span> <span class='fl'>3</span>, color <span class='op'>=</span> <span class='st'>"grey30"</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>6</span> <span class='op'>*</span> <span class='va'>WIDTH_FACTOR</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>91.5</span>, label <span class='op'>=</span> <span class='st'>"'16"</span>, size <span class='op'>=</span> <span class='fl'>3</span>, color <span class='op'>=</span> <span class='st'>"grey30"</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>7</span> <span class='op'>*</span> <span class='va'>WIDTH_FACTOR</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>91.5</span>, label <span class='op'>=</span> <span class='st'>"2017"</span>, size <span class='op'>=</span> <span class='fl'>3</span>, color <span class='op'>=</span> <span class='st'>"grey22"</span>, fontface <span class='op'>=</span> <span class='st'>"bold"</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='co'># Type of event legend moved</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='va'>POS_2017</span> <span class='op'>+</span> <span class='va'>SHIFT_RIGHT_CHRONO</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>60</span>, label <span class='op'>=</span> <span class='st'>"TYPE OF EVENT"</span>, fontface <span class='op'>=</span> <span class='st'>"bold"</span>, size <span class='op'>=</span> <span class='fl'>4</span>, color <span class='op'>=</span> <span class='st'>"grey35"</span>, hjust <span class='op'>=</span> <span class='fl'>0</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"rect"</span>, xmin <span class='op'>=</span> <span class='va'>POS_2017</span> <span class='op'>+</span> <span class='va'>SHIFT_RIGHT_CHRONO</span>, xmax <span class='op'>=</span> <span class='va'>POS_2017</span> <span class='op'>+</span> <span class='va'>SHIFT_RIGHT_CHRONO</span> <span class='op'>+</span> <span class='fl'>1.0</span>,</span>
<span>           ymin <span class='op'>=</span> <span class='op'>-</span><span class='fl'>62.5</span> <span class='op'>+</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='op'>-</span><span class='fl'>1.8</span>, <span class='op'>-</span><span class='fl'>3.6</span>, <span class='op'>-</span><span class='fl'>5.4</span>, <span class='op'>-</span><span class='fl'>7.2</span>, <span class='op'>-</span><span class='fl'>9.0</span>, <span class='op'>-</span><span class='fl'>10.8</span><span class='op'>)</span> <span class='op'>*</span> <span class='fl'>0.8</span>,</span>
<span>           ymax <span class='op'>=</span> <span class='op'>-</span><span class='fl'>62.5</span> <span class='op'>+</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1.0</span>, <span class='op'>-</span><span class='fl'>0.8</span>, <span class='op'>-</span><span class='fl'>2.6</span>, <span class='op'>-</span><span class='fl'>4.4</span>, <span class='op'>-</span><span class='fl'>6.2</span>, <span class='op'>-</span><span class='fl'>8.0</span>, <span class='op'>-</span><span class='fl'>9.8</span><span class='op'>)</span> <span class='op'>*</span> <span class='fl'>0.8</span>,</span>
<span>           fill <span class='op'>=</span> <span class='va'>chart_colors</span>, color <span class='op'>=</span> <span class='st'>"white"</span>, linewidth <span class='op'>=</span> <span class='fl'>0.2</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='va'>POS_2017</span> <span class='op'>+</span> <span class='va'>SHIFT_RIGHT_CHRONO</span> <span class='op'>+</span> <span class='fl'>1.2</span>,</span>
<span>           y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>62.5</span> <span class='op'>+</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0.5</span>, <span class='op'>-</span><span class='fl'>1.3</span>, <span class='op'>-</span><span class='fl'>3.1</span>, <span class='op'>-</span><span class='fl'>4.9</span>, <span class='op'>-</span><span class='fl'>6.7</span>, <span class='op'>-</span><span class='fl'>8.5</span>, <span class='op'>-</span><span class='fl'>10.3</span><span class='op'>)</span> <span class='op'>*</span> <span class='fl'>0.8</span>,</span>
<span>           label <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"SEVERE STORM"</span>, <span class='st'>"HURRICANE"</span>, <span class='st'>"FLOODING"</span>, <span class='st'>"WILDFIRE"</span>, <span class='st'>"FREEZE"</span>, <span class='st'>"DROUGHT"</span>, <span class='st'>"WINTER STORM"</span><span class='op'>)</span>,</span>
<span>           hjust <span class='op'>=</span> <span class='fl'>0</span>, size <span class='op'>=</span> <span class='fl'>3</span>, color <span class='op'>=</span> <span class='st'>"grey40"</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='co'># Making the scale bigger </span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_ribbon.html'>geom_ribbon</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>scale_data_chrono</span>, <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>x_scaled</span>, ymin <span class='op'>=</span> <span class='va'>y_bottom</span>, ymax <span class='op'>=</span> <span class='va'>y_top</span><span class='op'>)</span>,</span>
<span>              fill <span class='op'>=</span> <span class='st'>"grey70"</span>, color <span class='op'>=</span> <span class='cn'>NA</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='va'>POS_2017</span> <span class='op'>+</span> <span class='va'>SHIFT_RIGHT_CHRONO</span> <span class='op'>+</span> <span class='fl'>0</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>89.5</span> <span class='op'>+</span> <span class='fl'>1.75</span> <span class='op'>*</span> <span class='fl'>5.5</span>, label <span class='op'>=</span> <span class='st'>"0"</span>, </span>
<span>           size <span class='op'>=</span> <span class='fl'>3.5</span>, color <span class='op'>=</span> <span class='st'>"grey20"</span>, fontface <span class='op'>=</span> <span class='st'>"bold"</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='va'>POS_2017</span> <span class='op'>+</span> <span class='va'>SHIFT_RIGHT_CHRONO</span> <span class='op'>+</span> <span class='fl'>1.0</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>89.5</span> <span class='op'>+</span> <span class='fl'>1.95</span> <span class='op'>*</span> <span class='fl'>5.5</span>, label <span class='op'>=</span> <span class='st'>"2"</span>, </span>
<span>           size <span class='op'>=</span> <span class='fl'>3.5</span>, color <span class='op'>=</span> <span class='st'>"grey20"</span>, fontface <span class='op'>=</span> <span class='st'>"bold"</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='va'>POS_2017</span> <span class='op'>+</span> <span class='va'>SHIFT_RIGHT_CHRONO</span> <span class='op'>+</span> <span class='fl'>2.0</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>89.5</span> <span class='op'>+</span> <span class='fl'>2.20</span> <span class='op'>*</span> <span class='fl'>5.5</span>, label <span class='op'>=</span> <span class='st'>"4"</span>, </span>
<span>           size <span class='op'>=</span> <span class='fl'>3.5</span>, color <span class='op'>=</span> <span class='st'>"grey20"</span>, fontface <span class='op'>=</span> <span class='st'>"bold"</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='va'>POS_2017</span> <span class='op'>+</span> <span class='va'>SHIFT_RIGHT_CHRONO</span> <span class='op'>+</span> <span class='fl'>3.0</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>89.5</span> <span class='op'>+</span> <span class='fl'>2.45</span> <span class='op'>*</span> <span class='fl'>5.5</span>, label <span class='op'>=</span> <span class='st'>"6"</span>, </span>
<span>           size <span class='op'>=</span> <span class='fl'>3.5</span>, color <span class='op'>=</span> <span class='st'>"grey20"</span>, fontface <span class='op'>=</span> <span class='st'>"bold"</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='va'>POS_2017</span> <span class='op'>+</span> <span class='va'>SHIFT_RIGHT_CHRONO</span> <span class='op'>+</span> <span class='fl'>3.88</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>89.5</span> <span class='op'>+</span> <span class='fl'>2.7</span> <span class='op'>*</span> <span class='fl'>5.5</span>, label <span class='op'>=</span> <span class='st'>"8"</span>, </span>
<span>           size <span class='op'>=</span> <span class='fl'>3.5</span>, color <span class='op'>=</span> <span class='st'>"grey20"</span>, fontface <span class='op'>=</span> <span class='st'>"bold"</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"segment"</span>, x <span class='op'>=</span> <span class='va'>POS_2017</span> <span class='op'>+</span> <span class='va'>SHIFT_RIGHT_CHRONO</span> <span class='op'>+</span> <span class='fl'>3.8</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>89.5</span> <span class='op'>+</span> <span class='fl'>0.8</span> <span class='op'>*</span> <span class='fl'>5.5</span>, </span>
<span>           xend <span class='op'>=</span> <span class='va'>POS_2017</span> <span class='op'>+</span> <span class='va'>SHIFT_RIGHT_CHRONO</span> <span class='op'>+</span> <span class='fl'>3.8</span>, yend <span class='op'>=</span> <span class='op'>-</span><span class='fl'>89.5</span> <span class='op'>+</span> <span class='fl'>2.2</span> <span class='op'>*</span> <span class='fl'>5.5</span>,</span>
<span>           arrow <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/arrow.html'>arrow</a></span><span class='op'>(</span>length <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/unit.html'>unit</a></span><span class='op'>(</span><span class='fl'>0.12</span>, <span class='st'>"cm"</span><span class='op'>)</span>, type <span class='op'>=</span> <span class='st'>"closed"</span>, ends <span class='op'>=</span> <span class='st'>"both"</span><span class='op'>)</span>,</span>
<span>           color <span class='op'>=</span> <span class='st'>"grey10"</span>, linewidth <span class='op'>=</span> <span class='fl'>0.6</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='va'>POS_2017</span> <span class='op'>+</span> <span class='va'>SHIFT_RIGHT_CHRONO</span> <span class='op'>+</span> <span class='fl'>3.6</span>, y <span class='op'>=</span> <span class='op'>-</span><span class='fl'>89.5</span> <span class='op'>+</span> <span class='fl'>1.5</span> <span class='op'>*</span> <span class='fl'>5.5</span>,</span>
<span>           label <span class='op'>=</span> <span class='st'>"NUMBER\nOF\nEVENTS"</span>,</span>
<span>           size <span class='op'>=</span> <span class='fl'>2.8</span>, color <span class='op'>=</span> <span class='st'>"grey10"</span>, fontface <span class='op'>=</span> <span class='st'>"bold"</span>,</span>
<span>           hjust <span class='op'>=</span> <span class='fl'>1</span>, vjust <span class='op'>=</span> <span class='fl'>0.5</span>, lineheight <span class='op'>=</span> <span class='fl'>0.8</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/coord_fixed.html'>coord_fixed</a></span><span class='op'>(</span>ratio <span class='op'>=</span> <span class='fl'>0.3</span>, xlim <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='op'>-</span><span class='fl'>5</span>, <span class='va'>POS_2017</span> <span class='op'>+</span> <span class='fl'>13</span><span class='op'>)</span>, ylim <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='op'>-</span><span class='fl'>95</span>, <span class='fl'>10</span><span class='op'>)</span>, expand <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_void</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span>plot.background <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>"#f4f1e4"</span>, color <span class='op'>=</span> <span class='cn'>NA</span><span class='op'>)</span>,</span>
<span>        plot.margin <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>margin</a></span><span class='op'>(</span><span class='fl'>10</span>, <span class='fl'>30</span>, <span class='fl'>5</span>, <span class='fl'>30</span><span class='op'>)</span>,</span>
<span>        legend.position <span class='op'>=</span> <span class='st'>"none"</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>text_panel_chrono</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>5</span>, y <span class='op'>=</span> <span class='fl'>0.5</span>, </span>
<span>           label <span class='op'>=</span> <span class='st'>"STORM\nWARNINGS"</span>,</span>
<span>           size <span class='op'>=</span> <span class='fl'>17</span>, color <span class='op'>=</span> <span class='st'>"grey10"</span>, hjust <span class='op'>=</span> <span class='fl'>0</span>, vjust <span class='op'>=</span> <span class='fl'>0.5</span>, </span>
<span>           lineheight <span class='op'>=</span> <span class='fl'>0.85</span>, fontface <span class='op'>=</span> <span class='st'>"bold"</span>, family <span class='op'>=</span> <span class='st'>"Barlow Condensed"</span><span class='op'>)</span> <span class='op'>+</span> </span>
<span>  </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>12.5</span>, y <span class='op'>=</span> <span class='fl'>0.5</span>, </span>
<span>           label <span class='op'>=</span><span class='st'>"EXTREME WEATHER IS becoming more common, and the economic impact is soaring. Last year\n there were 16 weather events in the U.S. that caused at least $1 billion each in damage,\n according to the National Oceanic and Atmospheric Administration. The cumulative cost was\n $306 billioneasily surpassing the previous one-year record of $215 billion set in 2005. In\n September a report from the nonprofit Universal Ecological Fund, \"The Economics Case for\n Climate Action in the United States,\" estimated that total climate-related economic losses\n and health costs in the U.S. averaged $240 billion a year over the past decade. The authors\n project the annual cost will rise to $360 billion over the next 10 years.BRIAN O'KEEFE"</span>,</span>
<span>           size <span class='op'>=</span> <span class='fl'>3</span>, color <span class='op'>=</span> <span class='st'>"grey20"</span>, hjust <span class='op'>=</span> <span class='fl'>0</span>, vjust <span class='op'>=</span> <span class='fl'>0.5</span>, lineheight <span class='op'>=</span> <span class='fl'>1.2</span>, family <span class='op'>=</span> <span class='st'>"barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/lims.html'>xlim</a></span><span class='op'>(</span><span class='op'>-</span><span class='fl'>2</span>, <span class='fl'>30</span><span class='op'>)</span> <span class='op'>+</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/lims.html'>ylim</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>1</span><span class='op'>)</span> <span class='op'>+</span> </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_void</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span>plot.background <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>"#f4f1e4"</span>, color <span class='op'>=</span> <span class='cn'>NA</span><span class='op'>)</span>, </span>
<span>        plot.margin <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>margin</a></span><span class='op'>(</span><span class='fl'>5</span>, <span class='fl'>30</span>, <span class='fl'>20</span>, <span class='fl'>30</span><span class='op'>)</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>final_plot_chrono</span> <span class='op'>&lt;-</span> <span class='va'>main_graph_chrono</span> <span class='op'>/</span> <span class='va'>text_panel_chrono</span> <span class='op'>+</span> <span class='fu'><a href='https://patchwork.data-imaginist.com/reference/plot_layout.html'>plot_layout</a></span><span class='op'>(</span>heights <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>10</span>, <span class='fl'>2</span><span class='op'>)</span><span class='op'>)</span></span>
<span></span>
<span><span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='va'>final_plot_chrono</span><span class='op'>)</span></span></code></pre>
</div>
<p><img src="100562295_files/figure-html5/unnamed-chunk-19-1.png" alt="" width="100%" /></p>
</div>
<div class="sourceCode" id="cb1"><pre class="sourceCode r distill-force-highlighting-css"><code class="sourceCode r"></code></pre></div>
<!--radix_placeholder_article_footer-->
<!--/radix_placeholder_article_footer-->
</div>

<div class="d-appendix">
</div>


<!--radix_placeholder_site_after_body-->
<!--/radix_placeholder_site_after_body-->
<!--radix_placeholder_appendices-->
<div class="appendix-bottom">
  <h3 id="reuse">Reuse</h3>
  <p>Text and figures are licensed under Creative Commons Attribution <a rel="license" href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a>. The figures that have been reused from other sources don't fall under this license and can be recognized by a note in their caption: "Figure from ...".</p>
  <h3 id="citation">Citation</h3>
  <p>For attribution, please cite this work as</p>
  <pre class="citation-appendix short">Navarro (2026, Jan. 14). Data Visualization | MSc CSS: Billion Dollar Weather and Climate Disasters in the U.S.. Retrieved from https://csslab.uc3m.es/dataviz/projects/2025/100562295/</pre>
  <p>BibTeX citation</p>
  <pre class="citation-appendix long">@misc{navarro2026billion,
  author = {Navarro, Paloma},
  title = {Data Visualization | MSc CSS: Billion Dollar Weather and Climate Disasters in the U.S.},
  url = {https://csslab.uc3m.es/dataviz/projects/2025/100562295/},
  year = {2026}
}</pre>
</div>
<!--/radix_placeholder_appendices-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<!--radix_placeholder_navigation_after_body--><html><body>
<div class="distill-site-nav distill-site-footer">
<p><img src="../../../assets/acronimo_nombre1l_0.png" width="400"></p>
</div>
<!--/radix_placeholder_navigation_after_body-->
</body></html>


</body>

</html>
