<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">

<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/>
  <meta name="generator" content="distill" />

  <style type="text/css">
  /* Hide doc at startup (prevent jankiness while JS renders/transforms) */
  body {
    visibility: hidden;
  }
  </style>

 <!--radix_placeholder_import_source-->
 <!--/radix_placeholder_import_source-->

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  { color: #00769e; background-color: #f1f3f5; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span { color: #00769e; } /* Normal */
code span.al { color: #ad0000; } /* Alert */
code span.an { color: #5e5e5e; } /* Annotation */
code span.at { color: #657422; } /* Attribute */
code span.bn { color: #ad0000; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #00769e; } /* ControlFlow */
code span.ch { color: #20794d; } /* Char */
code span.cn { color: #8f5902; } /* Constant */
code span.co { color: #5e5e5e; } /* Comment */
code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
code span.dt { color: #ad0000; } /* DataType */
code span.dv { color: #ad0000; } /* DecVal */
code span.er { color: #ad0000; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #ad0000; } /* Float */
code span.fu { color: #4758ab; } /* Function */
code span.im { } /* Import */
code span.in { color: #5e5e5e; } /* Information */
code span.kw { color: #00769e; } /* Keyword */
code span.op { color: #5e5e5e; } /* Operator */
code span.ot { color: #00769e; } /* Other */
code span.pp { color: #ad0000; } /* Preprocessor */
code span.sc { color: #5e5e5e; } /* SpecialChar */
code span.ss { color: #20794d; } /* SpecialString */
code span.st { color: #20794d; } /* String */
code span.va { color: #111111; } /* Variable */
code span.vs { color: #20794d; } /* VerbatimString */
code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
</style>


  <!--radix_placeholder_meta_tags-->
<title>Data visualization | MSc CSS: Bipartisanship Unveiled: The Evolution of Recent History in the Spanish Congress</title>

<meta property="description" itemprop="description" content="Replication and alternative rendition of a streamgraph sourced from El Orden Mundial,&#10;utilizing data on congressional deputies available on the official website of the Spanish Congress."/>

<link rel="canonical" href="https://csslab.uc3m.es/dataviz/projects/2023/100516517/"/>
<link rel="license" href="https://creativecommons.org/licenses/by/4.0/"/>

<!--  https://schema.org/Article -->
<meta property="article:published" itemprop="datePublished" content="2024-01-18"/>
<meta property="article:created" itemprop="dateCreated" content="2024-01-18"/>
<meta name="article:author" content="Candela Gómez-Blanco"/>

<!--  https://developers.facebook.com/docs/sharing/webmasters#markup -->
<meta property="og:title" content="Data visualization | MSc CSS: Bipartisanship Unveiled: The Evolution of Recent History in the Spanish Congress"/>
<meta property="og:type" content="article"/>
<meta property="og:description" content="Replication and alternative rendition of a streamgraph sourced from El Orden Mundial,&#10;utilizing data on congressional deputies available on the official website of the Spanish Congress."/>
<meta property="og:url" content="https://csslab.uc3m.es/dataviz/projects/2023/100516517/"/>
<meta property="og:image" content="https://csslab.uc3m.es/dataviz/projects/2023/100516517/100516517_files/figure-html5/unnamed-chunk-10-1.png"/>
<meta property="og:image:width" content="672"/>
<meta property="og:image:height" content="1248"/>
<meta property="og:locale" content="en_US"/>
<meta property="og:site_name" content="Data visualization | MSc CSS"/>

<!--  https://dev.twitter.com/cards/types/summary -->
<meta property="twitter:card" content="summary_large_image"/>
<meta property="twitter:title" content="Data visualization | MSc CSS: Bipartisanship Unveiled: The Evolution of Recent History in the Spanish Congress"/>
<meta property="twitter:description" content="Replication and alternative rendition of a streamgraph sourced from El Orden Mundial,&#10;utilizing data on congressional deputies available on the official website of the Spanish Congress."/>
<meta property="twitter:url" content="https://csslab.uc3m.es/dataviz/projects/2023/100516517/"/>
<meta property="twitter:image" content="https://csslab.uc3m.es/dataviz/projects/2023/100516517/100516517_files/figure-html5/unnamed-chunk-10-1.png"/>
<meta property="twitter:image:width" content="672"/>
<meta property="twitter:image:height" content="1248"/>

<!--  https://scholar.google.com/intl/en/scholar/inclusion.html#indexing -->
<meta name="citation_title" content="Data visualization | MSc CSS: Bipartisanship Unveiled: The Evolution of Recent History in the Spanish Congress"/>
<meta name="citation_fulltext_html_url" content="https://csslab.uc3m.es/dataviz/projects/2023/100516517/"/>
<meta name="citation_fulltext_world_readable" content=""/>
<meta name="citation_online_date" content="2024/01/18"/>
<meta name="citation_publication_date" content="2024/01/18"/>
<meta name="citation_author" content="Candela Gómez-Blanco"/>
<!--/radix_placeholder_meta_tags-->
  <!--radix_placeholder_rmarkdown_metadata-->

<script type="text/json" id="radix-rmarkdown-metadata">
{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["creative_commons","title","description","categories","author","date","output","citation_url","canonical_url"]}},"value":[{"type":"character","attributes":{},"value":["CC BY"]},{"type":"character","attributes":{},"value":["Bipartisanship Unveiled: The Evolution of Recent History in the Spanish Congress"]},{"type":"character","attributes":{},"value":["Replication and alternative rendition of a streamgraph sourced from El Orden Mundial,\nutilizing data on congressional deputies available on the official website of the Spanish Congress."]},{"type":"character","attributes":{},"value":["2023"]},{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name"]}},"value":[{"type":"character","attributes":{},"value":["Candela Gómez-Blanco"]}]}]},{"type":"character","attributes":{},"value":["2024-01-18"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["distill::distill_article"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["self_contained","toc"]}},"value":[{"type":"logical","attributes":{},"value":[false]},{"type":"logical","attributes":{},"value":[true]}]}]},{"type":"character","attributes":{},"value":["https://csslab.uc3m.es/dataviz/projects/2023/100516517/"]},{"type":"character","attributes":{},"value":["https://csslab.uc3m.es/dataviz/projects/2023/100516517/"]}]}
</script>
<!--/radix_placeholder_rmarkdown_metadata-->
  
  <script type="text/json" id="radix-resource-manifest">
  {"type":"character","attributes":{},"value":["100516517_files/anchor-4.2.2/anchor.min.js","100516517_files/bowser-1.9.3/bowser.min.js","100516517_files/distill-2.2.21/template.v2.js","100516517_files/figure-html5/unnamed-chunk-10-1.png","100516517_files/figure-html5/unnamed-chunk-11-1.png","100516517_files/figure-html5/unnamed-chunk-12-1.png","100516517_files/figure-html5/unnamed-chunk-13-1.png","100516517_files/figure-html5/unnamed-chunk-13-2.png","100516517_files/figure-html5/unnamed-chunk-14-1.png","100516517_files/figure-html5/unnamed-chunk-5-1.png","100516517_files/figure-html5/unnamed-chunk-6-1.png","100516517_files/figure-html5/unnamed-chunk-7-1.png","100516517_files/figure-html5/unnamed-chunk-8-1.png","100516517_files/figure-html5/unnamed-chunk-9-1.png","100516517_files/header-attrs-2.24/header-attrs.js","100516517_files/header-attrs-2.25/header-attrs.js","100516517_files/jquery-3.6.0/jquery-3.6.0.js","100516517_files/jquery-3.6.0/jquery-3.6.0.min.js","100516517_files/jquery-3.6.0/jquery-3.6.0.min.map","100516517_files/popper-2.6.0/popper.min.js","100516517_files/tippy-6.2.7/tippy-bundle.umd.min.js","100516517_files/tippy-6.2.7/tippy-light-border.css","100516517_files/tippy-6.2.7/tippy.css","100516517_files/tippy-6.2.7/tippy.umd.min.js","100516517_files/webcomponents-2.0.0/webcomponents.js","screenshot-2023-12-26.png","terms-unified.xlsx"]}
  </script>
  <!--radix_placeholder_navigation_in_header-->
<meta name="distill:offset" content="../../.."/>

<script type="application/javascript">

  window.headroom_prevent_pin = false;

  window.document.addEventListener("DOMContentLoaded", function (event) {

    // initialize headroom for banner
    var header = $('header').get(0);
    var headerHeight = header.offsetHeight;
    var headroom = new Headroom(header, {
      tolerance: 5,
      onPin : function() {
        if (window.headroom_prevent_pin) {
          window.headroom_prevent_pin = false;
          headroom.unpin();
        }
      }
    });
    headroom.init();
    if(window.location.hash)
      headroom.unpin();
    $(header).addClass('headroom--transition');

    // offset scroll location for banner on hash change
    // (see: https://github.com/WickyNilliams/headroom.js/issues/38)
    window.addEventListener("hashchange", function(event) {
      window.scrollTo(0, window.pageYOffset - (headerHeight + 25));
    });

    // responsive menu
    $('.distill-site-header').each(function(i, val) {
      var topnav = $(this);
      var toggle = topnav.find('.nav-toggle');
      toggle.on('click', function() {
        topnav.toggleClass('responsive');
      });
    });

    // nav dropdowns
    $('.nav-dropbtn').click(function(e) {
      $(this).next('.nav-dropdown-content').toggleClass('nav-dropdown-active');
      $(this).parent().siblings('.nav-dropdown')
         .children('.nav-dropdown-content').removeClass('nav-dropdown-active');
    });
    $("body").click(function(e){
      $('.nav-dropdown-content').removeClass('nav-dropdown-active');
    });
    $(".nav-dropdown").click(function(e){
      e.stopPropagation();
    });
  });
</script>

<style type="text/css">

/* Theme (user-documented overrideables for nav appearance) */

.distill-site-nav {
  color: rgba(255, 255, 255, 0.8);
  background-color: #0F2E3D;
  font-size: 15px;
  font-weight: 300;
}

.distill-site-nav a {
  color: inherit;
  text-decoration: none;
}

.distill-site-nav a:hover {
  color: white;
}

@media print {
  .distill-site-nav {
    display: none;
  }
}

.distill-site-header {

}

.distill-site-footer {

}


/* Site Header */

.distill-site-header {
  width: 100%;
  box-sizing: border-box;
  z-index: 3;
}

.distill-site-header .nav-left {
  display: inline-block;
  margin-left: 8px;
}

@media screen and (max-width: 768px) {
  .distill-site-header .nav-left {
    margin-left: 0;
  }
}


.distill-site-header .nav-right {
  float: right;
  margin-right: 8px;
}

.distill-site-header a,
.distill-site-header .title {
  display: inline-block;
  text-align: center;
  padding: 14px 10px 14px 10px;
}

.distill-site-header .title {
  font-size: 18px;
  min-width: 150px;
}

.distill-site-header .logo {
  padding: 0;
}

.distill-site-header .logo img {
  display: none;
  max-height: 20px;
  width: auto;
  margin-bottom: -4px;
}

.distill-site-header .nav-image img {
  max-height: 18px;
  width: auto;
  display: inline-block;
  margin-bottom: -3px;
}



@media screen and (min-width: 1000px) {
  .distill-site-header .logo img {
    display: inline-block;
  }
  .distill-site-header .nav-left {
    margin-left: 20px;
  }
  .distill-site-header .nav-right {
    margin-right: 20px;
  }
  .distill-site-header .title {
    padding-left: 12px;
  }
}


.distill-site-header .nav-toggle {
  display: none;
}

.nav-dropdown {
  display: inline-block;
  position: relative;
}

.nav-dropdown .nav-dropbtn {
  border: none;
  outline: none;
  color: rgba(255, 255, 255, 0.8);
  padding: 16px 10px;
  background-color: transparent;
  font-family: inherit;
  font-size: inherit;
  font-weight: inherit;
  margin: 0;
  margin-top: 1px;
  z-index: 2;
}

.nav-dropdown-content {
  display: none;
  position: absolute;
  background-color: white;
  min-width: 200px;
  border: 1px solid rgba(0,0,0,0.15);
  border-radius: 4px;
  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.1);
  z-index: 1;
  margin-top: 2px;
  white-space: nowrap;
  padding-top: 4px;
  padding-bottom: 4px;
}

.nav-dropdown-content hr {
  margin-top: 4px;
  margin-bottom: 4px;
  border: none;
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
}

.nav-dropdown-active {
  display: block;
}

.nav-dropdown-content a, .nav-dropdown-content .nav-dropdown-header {
  color: black;
  padding: 6px 24px;
  text-decoration: none;
  display: block;
  text-align: left;
}

.nav-dropdown-content .nav-dropdown-header {
  display: block;
  padding: 5px 24px;
  padding-bottom: 0;
  text-transform: uppercase;
  font-size: 14px;
  color: #999999;
  white-space: nowrap;
}

.nav-dropdown:hover .nav-dropbtn {
  color: white;
}

.nav-dropdown-content a:hover {
  background-color: #ddd;
  color: black;
}

.nav-right .nav-dropdown-content {
  margin-left: -45%;
  right: 0;
}

@media screen and (max-width: 768px) {
  .distill-site-header a, .distill-site-header .nav-dropdown  {display: none;}
  .distill-site-header a.nav-toggle {
    float: right;
    display: block;
  }
  .distill-site-header .title {
    margin-left: 0;
  }
  .distill-site-header .nav-right {
    margin-right: 0;
  }
  .distill-site-header {
    overflow: hidden;
  }
  .nav-right .nav-dropdown-content {
    margin-left: 0;
  }
}


@media screen and (max-width: 768px) {
  .distill-site-header.responsive {position: relative; min-height: 500px; }
  .distill-site-header.responsive a.nav-toggle {
    position: absolute;
    right: 0;
    top: 0;
  }
  .distill-site-header.responsive a,
  .distill-site-header.responsive .nav-dropdown {
    display: block;
    text-align: left;
  }
  .distill-site-header.responsive .nav-left,
  .distill-site-header.responsive .nav-right {
    width: 100%;
  }
  .distill-site-header.responsive .nav-dropdown {float: none;}
  .distill-site-header.responsive .nav-dropdown-content {position: relative;}
  .distill-site-header.responsive .nav-dropdown .nav-dropbtn {
    display: block;
    width: 100%;
    text-align: left;
  }
}

/* Site Footer */

.distill-site-footer {
  width: 100%;
  overflow: hidden;
  box-sizing: border-box;
  z-index: 3;
  margin-top: 30px;
  padding-top: 30px;
  padding-bottom: 30px;
  text-align: center;
}

/* Headroom */

d-title {
  padding-top: 6rem;
}

@media print {
  d-title {
    padding-top: 4rem;
  }
}

.headroom {
  z-index: 1000;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
}

.headroom--transition {
  transition: all .4s ease-in-out;
}

.headroom--unpinned {
  top: -100px;
}

.headroom--pinned {
  top: 0;
}

/* adjust viewport for navbar height */
/* helps vertically center bootstrap (non-distill) content */
.min-vh-100 {
  min-height: calc(100vh - 100px) !important;
}

</style>

<script src="../../../site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<link href="../../../site_libs/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"/>
<link href="../../../site_libs/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"/>
<script src="../../../site_libs/headroom-0.9.4/headroom.min.js"></script>
<script src="../../../site_libs/autocomplete-0.37.1/autocomplete.min.js"></script>
<script src="../../../site_libs/fuse-6.4.1/fuse.min.js"></script>

<script type="application/javascript">

function getMeta(metaName) {
  var metas = document.getElementsByTagName('meta');
  for (let i = 0; i < metas.length; i++) {
    if (metas[i].getAttribute('name') === metaName) {
      return metas[i].getAttribute('content');
    }
  }
  return '';
}

function offsetURL(url) {
  var offset = getMeta('distill:offset');
  return offset ? offset + '/' + url : url;
}

function createFuseIndex() {

  // create fuse index
  var options = {
    keys: [
      { name: 'title', weight: 20 },
      { name: 'categories', weight: 15 },
      { name: 'description', weight: 10 },
      { name: 'contents', weight: 5 },
    ],
    ignoreLocation: true,
    threshold: 0
  };
  var fuse = new window.Fuse([], options);

  // fetch the main search.json
  return fetch(offsetURL('search.json'))
    .then(function(response) {
      if (response.status == 200) {
        return response.json().then(function(json) {
          // index main articles
          json.articles.forEach(function(article) {
            fuse.add(article);
          });
          // download collections and index their articles
          return Promise.all(json.collections.map(function(collection) {
            return fetch(offsetURL(collection)).then(function(response) {
              if (response.status === 200) {
                return response.json().then(function(articles) {
                  articles.forEach(function(article) {
                    fuse.add(article);
                  });
                })
              } else {
                return Promise.reject(
                  new Error('Unexpected status from search index request: ' +
                            response.status)
                );
              }
            });
          })).then(function() {
            return fuse;
          });
        });

      } else {
        return Promise.reject(
          new Error('Unexpected status from search index request: ' +
                      response.status)
        );
      }
    });
}

window.document.addEventListener("DOMContentLoaded", function (event) {

  // get search element (bail if we don't have one)
  var searchEl = window.document.getElementById('distill-search');
  if (!searchEl)
    return;

  createFuseIndex()
    .then(function(fuse) {

      // make search box visible
      searchEl.classList.remove('hidden');

      // initialize autocomplete
      var options = {
        autoselect: true,
        hint: false,
        minLength: 2,
      };
      window.autocomplete(searchEl, options, [{
        source: function(query, callback) {
          const searchOptions = {
            isCaseSensitive: false,
            shouldSort: true,
            minMatchCharLength: 2,
            limit: 10,
          };
          var results = fuse.search(query, searchOptions);
          callback(results
            .map(function(result) { return result.item; })
          );
        },
        templates: {
          suggestion: function(suggestion) {
            var img = suggestion.preview && Object.keys(suggestion.preview).length > 0
              ? `<img src="${offsetURL(suggestion.preview)}"</img>`
              : '';
            var html = `
              <div class="search-item">
                <h3>${suggestion.title}</h3>
                <div class="search-item-description">
                  ${suggestion.description || ''}
                </div>
                <div class="search-item-preview">
                  ${img}
                </div>
              </div>
            `;
            return html;
          }
        }
      }]).on('autocomplete:selected', function(event, suggestion) {
        window.location.href = offsetURL(suggestion.path);
      });
      // remove inline display style on autocompleter (we want to
      // manage responsive display via css)
      $('.algolia-autocomplete').css("display", "");
    })
    .catch(function(error) {
      console.log(error);
    });

});

</script>

<style type="text/css">

.nav-search {
  font-size: x-small;
}

/* Algolioa Autocomplete */

.algolia-autocomplete {
  display: inline-block;
  margin-left: 10px;
  vertical-align: sub;
  background-color: white;
  color: black;
  padding: 6px;
  padding-top: 8px;
  padding-bottom: 0;
  border-radius: 6px;
  border: 1px #0F2E3D solid;
  width: 180px;
}


@media screen and (max-width: 768px) {
  .distill-site-nav .algolia-autocomplete {
    display: none;
    visibility: hidden;
  }
  .distill-site-nav.responsive .algolia-autocomplete {
    display: inline-block;
    visibility: visible;
  }
  .distill-site-nav.responsive .algolia-autocomplete .aa-dropdown-menu {
    margin-left: 0;
    width: 400px;
    max-height: 400px;
  }
}

.algolia-autocomplete .aa-input, .algolia-autocomplete .aa-hint {
  width: 90%;
  outline: none;
  border: none;
}

.algolia-autocomplete .aa-hint {
  color: #999;
}
.algolia-autocomplete .aa-dropdown-menu {
  width: 550px;
  max-height: 70vh;
  overflow-x: visible;
  overflow-y: scroll;
  padding: 5px;
  margin-top: 3px;
  margin-left: -150px;
  background-color: #fff;
  border-radius: 5px;
  border: 1px solid #999;
  border-top: none;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion {
  cursor: pointer;
  padding: 5px 4px;
  border-bottom: 1px solid #eee;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion:last-of-type {
  border-bottom: none;
  margin-bottom: 2px;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item {
  overflow: hidden;
  font-size: 0.8em;
  line-height: 1.4em;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item h3 {
  font-size: 1rem;
  margin-block-start: 0;
  margin-block-end: 5px;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-description {
  display: inline-block;
  overflow: hidden;
  height: 2.8em;
  width: 80%;
  margin-right: 4%;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview {
  display: inline-block;
  width: 15%;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview img {
  height: 3em;
  width: auto;
  display: none;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview img[src] {
  display: initial;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion.aa-cursor {
  background-color: #eee;
}
.algolia-autocomplete .aa-dropdown-menu .aa-suggestion em {
  font-weight: bold;
  font-style: normal;
}

</style>


<!--/radix_placeholder_navigation_in_header-->
  <!--radix_placeholder_distill-->

<style type="text/css">

body {
  background-color: white;
}

.pandoc-table {
  width: 100%;
}

.pandoc-table>caption {
  margin-bottom: 10px;
}

.pandoc-table th:not([align]) {
  text-align: left;
}

.pagedtable-footer {
  font-size: 15px;
}

d-byline .byline {
  grid-template-columns: 2fr 2fr;
}

d-byline .byline h3 {
  margin-block-start: 1.5em;
}

d-byline .byline .authors-affiliations h3 {
  margin-block-start: 0.5em;
}

.authors-affiliations .orcid-id {
  width: 16px;
  height:16px;
  margin-left: 4px;
  margin-right: 4px;
  vertical-align: middle;
  padding-bottom: 2px;
}

d-title .dt-tags {
  margin-top: 1em;
  grid-column: text;
}

.dt-tags .dt-tag {
  text-decoration: none;
  display: inline-block;
  color: rgba(0,0,0,0.6);
  padding: 0em 0.4em;
  margin-right: 0.5em;
  margin-bottom: 0.4em;
  font-size: 70%;
  border: 1px solid rgba(0,0,0,0.2);
  border-radius: 3px;
  text-transform: uppercase;
  font-weight: 500;
}

d-article table.gt_table td,
d-article table.gt_table th {
  border-bottom: none;
  font-size: 100%;
}

.html-widget {
  margin-bottom: 2.0em;
}

.l-screen-inset {
  padding-right: 16px;
}

.l-screen .caption {
  margin-left: 10px;
}

.shaded {
  background: rgb(247, 247, 247);
  padding-top: 20px;
  padding-bottom: 20px;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
}

.shaded .html-widget {
  margin-bottom: 0;
  border: 1px solid rgba(0, 0, 0, 0.1);
}

.shaded .shaded-content {
  background: white;
}

.text-output {
  margin-top: 0;
  line-height: 1.5em;
}

.hidden {
  display: none !important;
}

hr.section-separator {
  border: none;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  margin: 0px;
}


d-byline {
  border-top: none;
}

d-article {
  padding-top: 2.5rem;
  padding-bottom: 30px;
  border-top: none;
}

d-appendix {
  padding-top: 30px;
}

d-article>p>img {
  width: 100%;
}

d-article h2 {
  margin: 1rem 0 1.5rem 0;
}

d-article h3 {
  margin-top: 1.5rem;
}

d-article iframe {
  border: 1px solid rgba(0, 0, 0, 0.1);
  margin-bottom: 2.0em;
  width: 100%;
}

/* Tweak code blocks */

d-article div.sourceCode code,
d-article pre code {
  font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
}

d-article pre,
d-article div.sourceCode,
d-article div.sourceCode pre {
  overflow: auto;
}

d-article div.sourceCode {
  background-color: white;
}

d-article div.sourceCode pre {
  padding-left: 10px;
  font-size: 12px;
  border-left: 2px solid rgba(0,0,0,0.1);
}

d-article pre {
  font-size: 12px;
  color: black;
  background: none;
  margin-top: 0;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.5;

  -moz-tab-size: 4;
  -o-tab-size: 4;
  tab-size: 4;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

d-article pre a {
  border-bottom: none;
}

d-article pre a:hover {
  border-bottom: none;
  text-decoration: underline;
}

d-article details {
  grid-column: text;
  margin-bottom: 0.8em;
}

@media(min-width: 768px) {

d-article pre,
d-article div.sourceCode,
d-article div.sourceCode pre {
  overflow: visible !important;
}

d-article div.sourceCode pre {
  padding-left: 18px;
  font-size: 14px;
}

/* tweak for Pandoc numbered line within distill */
d-article pre.numberSource code > span {
    left: -2em;
}

d-article pre {
  font-size: 14px;
}

}

figure img.external {
  background: white;
  border: 1px solid rgba(0, 0, 0, 0.1);
  box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
  padding: 18px;
  box-sizing: border-box;
}

/* CSS for d-contents */

.d-contents {
  grid-column: text;
  color: rgba(0,0,0,0.8);
  font-size: 0.9em;
  padding-bottom: 1em;
  margin-bottom: 1em;
  padding-bottom: 0.5em;
  margin-bottom: 1em;
  padding-left: 0.25em;
  justify-self: start;
}

@media(min-width: 1000px) {
  .d-contents.d-contents-float {
    height: 0;
    grid-column-start: 1;
    grid-column-end: 4;
    justify-self: center;
    padding-right: 3em;
    padding-left: 2em;
  }
}

.d-contents nav h3 {
  font-size: 18px;
  margin-top: 0;
  margin-bottom: 1em;
}

.d-contents li {
  list-style-type: none
}

.d-contents nav > ul {
  padding-left: 0;
}

.d-contents ul {
  padding-left: 1em
}

.d-contents nav ul li {
  margin-top: 0.6em;
  margin-bottom: 0.2em;
}

.d-contents nav a {
  font-size: 13px;
  border-bottom: none;
  text-decoration: none
  color: rgba(0, 0, 0, 0.8);
}

.d-contents nav a:hover {
  text-decoration: underline solid rgba(0, 0, 0, 0.6)
}

.d-contents nav > ul > li > a {
  font-weight: 600;
}

.d-contents nav > ul > li > ul {
  font-weight: inherit;
}

.d-contents nav > ul > li > ul > li {
  margin-top: 0.2em;
}


.d-contents nav ul {
  margin-top: 0;
  margin-bottom: 0.25em;
}

.d-article-with-toc h2:nth-child(2) {
  margin-top: 0;
}


/* Figure */

.figure {
  position: relative;
  margin-bottom: 2.5em;
  margin-top: 1.5em;
}

.figure .caption {
  color: rgba(0, 0, 0, 0.6);
  font-size: 12px;
  line-height: 1.5em;
}

.figure img.external {
  background: white;
  border: 1px solid rgba(0, 0, 0, 0.1);
  box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
  padding: 18px;
  box-sizing: border-box;
}

.figure .caption a {
  color: rgba(0, 0, 0, 0.6);
}

.figure .caption b,
.figure .caption strong, {
  font-weight: 600;
  color: rgba(0, 0, 0, 1.0);
}

/* Citations */

d-article .citation {
  color: inherit;
  cursor: inherit;
}

div.hanging-indent{
  margin-left: 1em; text-indent: -1em;
}

/* Citation hover box */

.tippy-box[data-theme~=light-border] {
  background-color: rgba(250, 250, 250, 0.95);
}

.tippy-content > p {
  margin-bottom: 0;
  padding: 2px;
}


/* Tweak 1000px media break to show more text */

@media(min-width: 1000px) {
  .base-grid,
  distill-header,
  d-title,
  d-abstract,
  d-article,
  d-appendix,
  distill-appendix,
  d-byline,
  d-footnote-list,
  d-citation-list,
  distill-footer {
    grid-template-columns: [screen-start] 1fr [page-start kicker-start] 80px [middle-start] 50px [text-start kicker-end] 65px 65px 65px 65px 65px 65px 65px 65px [text-end gutter-start] 65px [middle-end] 65px [page-end gutter-end] 1fr [screen-end];
    grid-column-gap: 16px;
  }

  .grid {
    grid-column-gap: 16px;
  }

  d-article {
    font-size: 1.06rem;
    line-height: 1.7em;
  }
  figure .caption, .figure .caption, figure figcaption {
    font-size: 13px;
  }
}

@media(min-width: 1180px) {
  .base-grid,
  distill-header,
  d-title,
  d-abstract,
  d-article,
  d-appendix,
  distill-appendix,
  d-byline,
  d-footnote-list,
  d-citation-list,
  distill-footer {
    grid-template-columns: [screen-start] 1fr [page-start kicker-start] 60px [middle-start] 60px [text-start kicker-end] 60px 60px 60px 60px 60px 60px 60px 60px [text-end gutter-start] 60px [middle-end] 60px [page-end gutter-end] 1fr [screen-end];
    grid-column-gap: 32px;
  }

  .grid {
    grid-column-gap: 32px;
  }
}


/* Get the citation styles for the appendix (not auto-injected on render since
   we do our own rendering of the citation appendix) */

d-appendix .citation-appendix,
.d-appendix .citation-appendix {
  font-size: 11px;
  line-height: 15px;
  border-left: 1px solid rgba(0, 0, 0, 0.1);
  padding-left: 18px;
  border: 1px solid rgba(0,0,0,0.1);
  background: rgba(0, 0, 0, 0.02);
  padding: 10px 18px;
  border-radius: 3px;
  color: rgba(150, 150, 150, 1);
  overflow: hidden;
  margin-top: -12px;
  white-space: pre-wrap;
  word-wrap: break-word;
}

/* Include appendix styles here so they can be overridden */

d-appendix {
  contain: layout style;
  font-size: 0.8em;
  line-height: 1.7em;
  margin-top: 60px;
  margin-bottom: 0;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  color: rgba(0,0,0,0.5);
  padding-top: 60px;
  padding-bottom: 48px;
}

d-appendix h3 {
  grid-column: page-start / text-start;
  font-size: 15px;
  font-weight: 500;
  margin-top: 1em;
  margin-bottom: 0;
  color: rgba(0,0,0,0.65);
}

d-appendix h3 + * {
  margin-top: 1em;
}

d-appendix ol {
  padding: 0 0 0 15px;
}

@media (min-width: 768px) {
  d-appendix ol {
    padding: 0 0 0 30px;
    margin-left: -30px;
  }
}

d-appendix li {
  margin-bottom: 1em;
}

d-appendix a {
  color: rgba(0, 0, 0, 0.6);
}

d-appendix > * {
  grid-column: text;
}

d-appendix > d-footnote-list,
d-appendix > d-citation-list,
d-appendix > distill-appendix {
  grid-column: screen;
}

/* Include footnote styles here so they can be overridden */

d-footnote-list {
  contain: layout style;
}

d-footnote-list > * {
  grid-column: text;
}

d-footnote-list a.footnote-backlink {
  color: rgba(0,0,0,0.3);
  padding-left: 0.5em;
}



/* Anchor.js */

.anchorjs-link {
  /*transition: all .25s linear; */
  text-decoration: none;
  border-bottom: none;
}
*:hover > .anchorjs-link {
  margin-left: -1.125em !important;
  text-decoration: none;
  border-bottom: none;
}

/* Social footer */

.social_footer {
  margin-top: 30px;
  margin-bottom: 0;
  color: rgba(0,0,0,0.67);
}

.disqus-comments {
  margin-right: 30px;
}

.disqus-comment-count {
  border-bottom: 1px solid rgba(0, 0, 0, 0.4);
  cursor: pointer;
}

#disqus_thread {
  margin-top: 30px;
}

.article-sharing a {
  border-bottom: none;
  margin-right: 8px;
}

.article-sharing a:hover {
  border-bottom: none;
}

.sidebar-section.subscribe {
  font-size: 12px;
  line-height: 1.6em;
}

.subscribe p {
  margin-bottom: 0.5em;
}


.article-footer .subscribe {
  font-size: 15px;
  margin-top: 45px;
}


.sidebar-section.custom {
  font-size: 12px;
  line-height: 1.6em;
}

.custom p {
  margin-bottom: 0.5em;
}

/* Styles for listing layout (hide title) */
.layout-listing d-title, .layout-listing .d-title {
  display: none;
}

/* Styles for posts lists (not auto-injected) */


.posts-with-sidebar {
  padding-left: 45px;
  padding-right: 45px;
}

.posts-list .description h2,
.posts-list .description p {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
}

.posts-list .description h2 {
  font-weight: 700;
  border-bottom: none;
  padding-bottom: 0;
}

.posts-list h2.post-tag {
  border-bottom: 1px solid rgba(0, 0, 0, 0.2);
  padding-bottom: 12px;
}
.posts-list {
  margin-top: 60px;
  margin-bottom: 24px;
}

.posts-list .post-preview {
  text-decoration: none;
  overflow: hidden;
  display: block;
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  padding: 24px 0;
}

.post-preview-last {
  border-bottom: none !important;
}

.posts-list .posts-list-caption {
  grid-column: screen;
  font-weight: 400;
}

.posts-list .post-preview h2 {
  margin: 0 0 6px 0;
  line-height: 1.2em;
  font-style: normal;
  font-size: 24px;
}

.posts-list .post-preview p {
  margin: 0 0 12px 0;
  line-height: 1.4em;
  font-size: 16px;
}

.posts-list .post-preview .thumbnail {
  box-sizing: border-box;
  margin-bottom: 24px;
  position: relative;
  max-width: 500px;
}
.posts-list .post-preview img {
  width: 100%;
  display: block;
}

.posts-list .metadata {
  font-size: 12px;
  line-height: 1.4em;
  margin-bottom: 18px;
}

.posts-list .metadata > * {
  display: inline-block;
}

.posts-list .metadata .publishedDate {
  margin-right: 2em;
}

.posts-list .metadata .dt-authors {
  display: block;
  margin-top: 0.3em;
  margin-right: 2em;
}

.posts-list .dt-tags {
  display: block;
  line-height: 1em;
}

.posts-list .dt-tags .dt-tag {
  display: inline-block;
  color: rgba(0,0,0,0.6);
  padding: 0.3em 0.4em;
  margin-right: 0.2em;
  margin-bottom: 0.4em;
  font-size: 60%;
  border: 1px solid rgba(0,0,0,0.2);
  border-radius: 3px;
  text-transform: uppercase;
  font-weight: 500;
}

.posts-list img {
  opacity: 1;
}

.posts-list img[data-src] {
  opacity: 0;
}

.posts-more {
  clear: both;
}


.posts-sidebar {
  font-size: 16px;
}

.posts-sidebar h3 {
  font-size: 16px;
  margin-top: 0;
  margin-bottom: 0.5em;
  font-weight: 400;
  text-transform: uppercase;
}

.sidebar-section {
  margin-bottom: 30px;
}

.categories ul {
  list-style-type: none;
  margin: 0;
  padding: 0;
}

.categories li {
  color: rgba(0, 0, 0, 0.8);
  margin-bottom: 0;
}

.categories li>a {
  border-bottom: none;
}

.categories li>a:hover {
  border-bottom: 1px solid rgba(0, 0, 0, 0.4);
}

.categories .active {
  font-weight: 600;
}

.categories .category-count {
  color: rgba(0, 0, 0, 0.4);
}


@media(min-width: 768px) {
  .posts-list .post-preview h2 {
    font-size: 26px;
  }
  .posts-list .post-preview .thumbnail {
    float: right;
    width: 30%;
    margin-bottom: 0;
  }
  .posts-list .post-preview .description {
    float: left;
    width: 45%;
  }
  .posts-list .post-preview .metadata {
    float: left;
    width: 20%;
    margin-top: 8px;
  }
  .posts-list .post-preview p {
    margin: 0 0 12px 0;
    line-height: 1.5em;
    font-size: 16px;
  }
  .posts-with-sidebar .posts-list {
    float: left;
    width: 75%;
  }
  .posts-with-sidebar .posts-sidebar {
    float: right;
    width: 20%;
    margin-top: 60px;
    padding-top: 24px;
    padding-bottom: 24px;
  }
}


/* Improve display for browsers without grid (IE/Edge <= 15) */

.downlevel {
  line-height: 1.6em;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
  margin: 0;
}

.downlevel .d-title {
  padding-top: 6rem;
  padding-bottom: 1.5rem;
}

.downlevel .d-title h1 {
  font-size: 50px;
  font-weight: 700;
  line-height: 1.1em;
  margin: 0 0 0.5rem;
}

.downlevel .d-title p {
  font-weight: 300;
  font-size: 1.2rem;
  line-height: 1.55em;
  margin-top: 0;
}

.downlevel .d-byline {
  padding-top: 0.8em;
  padding-bottom: 0.8em;
  font-size: 0.8rem;
  line-height: 1.8em;
}

.downlevel .section-separator {
  border: none;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
}

.downlevel .d-article {
  font-size: 1.06rem;
  line-height: 1.7em;
  padding-top: 1rem;
  padding-bottom: 2rem;
}


.downlevel .d-appendix {
  padding-left: 0;
  padding-right: 0;
  max-width: none;
  font-size: 0.8em;
  line-height: 1.7em;
  margin-bottom: 0;
  color: rgba(0,0,0,0.5);
  padding-top: 40px;
  padding-bottom: 48px;
}

.downlevel .footnotes ol {
  padding-left: 13px;
}

.downlevel .base-grid,
.downlevel .distill-header,
.downlevel .d-title,
.downlevel .d-abstract,
.downlevel .d-article,
.downlevel .d-appendix,
.downlevel .distill-appendix,
.downlevel .d-byline,
.downlevel .d-footnote-list,
.downlevel .d-citation-list,
.downlevel .distill-footer,
.downlevel .appendix-bottom,
.downlevel .posts-container {
  padding-left: 40px;
  padding-right: 40px;
}

@media(min-width: 768px) {
  .downlevel .base-grid,
  .downlevel .distill-header,
  .downlevel .d-title,
  .downlevel .d-abstract,
  .downlevel .d-article,
  .downlevel .d-appendix,
  .downlevel .distill-appendix,
  .downlevel .d-byline,
  .downlevel .d-footnote-list,
  .downlevel .d-citation-list,
  .downlevel .distill-footer,
  .downlevel .appendix-bottom,
  .downlevel .posts-container {
  padding-left: 150px;
  padding-right: 150px;
  max-width: 900px;
}
}

.downlevel pre code {
  display: block;
  border-left: 2px solid rgba(0, 0, 0, .1);
  padding: 0 0 0 20px;
  font-size: 14px;
}

.downlevel code, .downlevel pre {
  color: black;
  background: none;
  font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.5;

  -moz-tab-size: 4;
  -o-tab-size: 4;
  tab-size: 4;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

.downlevel .posts-list .post-preview {
  color: inherit;
}



</style>

<script type="application/javascript">

function is_downlevel_browser() {
  if (bowser.isUnsupportedBrowser({ msie: "12", msedge: "16"},
                                 window.navigator.userAgent)) {
    return true;
  } else {
    return window.load_distill_framework === undefined;
  }
}

// show body when load is complete
function on_load_complete() {

  // add anchors
  if (window.anchors) {
    window.anchors.options.placement = 'left';
    window.anchors.add('d-article > h2, d-article > h3, d-article > h4, d-article > h5');
  }


  // set body to visible
  document.body.style.visibility = 'visible';

  // force redraw for leaflet widgets
  if (window.HTMLWidgets) {
    var maps = window.HTMLWidgets.findAll(".leaflet");
    $.each(maps, function(i, el) {
      var map = this.getMap();
      map.invalidateSize();
      map.eachLayer(function(layer) {
        if (layer instanceof L.TileLayer)
          layer.redraw();
      });
    });
  }

  // trigger 'shown' so htmlwidgets resize
  $('d-article').trigger('shown');
}

function init_distill() {

  init_common();

  // create front matter
  var front_matter = $('<d-front-matter></d-front-matter>');
  $('#distill-front-matter').wrap(front_matter);

  // create d-title
  $('.d-title').changeElementType('d-title');

  // separator
  var separator = '<hr class="section-separator" style="clear: both"/>';
  // prepend separator above appendix
  $('.d-byline').before(separator);
  $('.d-article').before(separator);

  // create d-byline
  var byline = $('<d-byline></d-byline>');
  $('.d-byline').replaceWith(byline);

  // create d-article
  var article = $('<d-article></d-article>');
  $('.d-article').wrap(article).children().unwrap();

  // move posts container into article
  $('.posts-container').appendTo($('d-article'));

  // create d-appendix
  $('.d-appendix').changeElementType('d-appendix');

  // flag indicating that we have appendix items
  var appendix = $('.appendix-bottom').children('h3').length > 0;

  // replace footnotes with <d-footnote>
  $('.footnote-ref').each(function(i, val) {
    appendix = true;
    var href = $(this).attr('href');
    var id = href.replace('#', '');
    var fn = $('#' + id);
    var fn_p = $('#' + id + '>p');
    fn_p.find('.footnote-back').remove();
    var text = fn_p.html();
    var dtfn = $('<d-footnote></d-footnote>');
    dtfn.html(text);
    $(this).replaceWith(dtfn);
  });
  // remove footnotes
  $('.footnotes').remove();

  // move refs into #references-listing
  $('#references-listing').replaceWith($('#refs'));

  $('h1.appendix, h2.appendix').each(function(i, val) {
    $(this).changeElementType('h3');
  });
  $('h3.appendix').each(function(i, val) {
    var id = $(this).attr('id');
    $('.d-contents a[href="#' + id + '"]').parent().remove();
    appendix = true;
    $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('d-appendix'));
  });

  // show d-appendix if we have appendix content
  $("d-appendix").css('display', appendix ? 'grid' : 'none');

  // localize layout chunks to just output
  $('.layout-chunk').each(function(i, val) {

    // capture layout
    var layout = $(this).attr('data-layout');

    // apply layout to markdown level block elements
    var elements = $(this).children().not('details, div.sourceCode, pre, script');
    elements.each(function(i, el) {
      var layout_div = $('<div class="' + layout + '"></div>');
      if (layout_div.hasClass('shaded')) {
        var shaded_content = $('<div class="shaded-content"></div>');
        $(this).wrap(shaded_content);
        $(this).parent().wrap(layout_div);
      } else {
        $(this).wrap(layout_div);
      }
    });


    // unwrap the layout-chunk div
    $(this).children().unwrap();
  });

  // remove code block used to force  highlighting css
  $('.distill-force-highlighting-css').parent().remove();

  // remove empty line numbers inserted by pandoc when using a
  // custom syntax highlighting theme, except when numbering line
  // in code chunk
  $('pre:not(.numberLines) code.sourceCode a:empty').remove();

  // load distill framework
  load_distill_framework();

  // wait for window.distillRunlevel == 4 to do post processing
  function distill_post_process() {

    if (!window.distillRunlevel || window.distillRunlevel < 4)
      return;

    // hide author/affiliations entirely if we have no authors
    var front_matter = JSON.parse($("#distill-front-matter").html());
    var have_authors = front_matter.authors && front_matter.authors.length > 0;
    if (!have_authors)
      $('d-byline').addClass('hidden');

    // article with toc class
    $('.d-contents').parent().addClass('d-article-with-toc');

    // strip links that point to #
    $('.authors-affiliations').find('a[href="#"]').removeAttr('href');

    // add orcid ids
    $('.authors-affiliations').find('.author').each(function(i, el) {
      var orcid_id = front_matter.authors[i].orcidID;
      var author_name = front_matter.authors[i].author
      if (orcid_id) {
        var a = $('<a></a>');
        a.attr('href', 'https://orcid.org/' + orcid_id);
        var img = $('<img></img>');
        img.addClass('orcid-id');
        img.attr('alt', author_name ? 'ORCID ID for ' + author_name : 'ORCID ID');
        img.attr('src','data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg==');
        a.append(img);
        $(this).append(a);
      }
    });

    // hide elements of author/affiliations grid that have no value
    function hide_byline_column(caption) {
      $('d-byline').find('h3:contains("' + caption + '")').parent().css('visibility', 'hidden');
    }

    // affiliations
    var have_affiliations = false;
    for (var i = 0; i<front_matter.authors.length; ++i) {
      var author = front_matter.authors[i];
      if (author.affiliation !== "&nbsp;") {
        have_affiliations = true;
        break;
      }
    }
    if (!have_affiliations)
      $('d-byline').find('h3:contains("Affiliations")').css('visibility', 'hidden');

    // published date
    if (!front_matter.publishedDate)
      hide_byline_column("Published");

    // document object identifier
    var doi = $('d-byline').find('h3:contains("DOI")');
    var doi_p = doi.next().empty();
    if (!front_matter.doi) {
      // if we have a citation and valid citationText then link to that
      if ($('#citation').length > 0 && front_matter.citationText) {
        doi.html('Citation');
        $('<a href="#citation"></a>')
          .text(front_matter.citationText)
          .appendTo(doi_p);
      } else {
        hide_byline_column("DOI");
      }
    } else {
      $('<a></a>')
         .attr('href', "https://doi.org/" + front_matter.doi)
         .html(front_matter.doi)
         .appendTo(doi_p);
    }

     // change plural form of authors/affiliations
    if (front_matter.authors.length === 1) {
      var grid = $('.authors-affiliations');
      grid.children('h3:contains("Authors")').text('Author');
      grid.children('h3:contains("Affiliations")').text('Affiliation');
    }

    // remove d-appendix and d-footnote-list local styles
    $('d-appendix > style:first-child').remove();
    $('d-footnote-list > style:first-child').remove();

    // move appendix-bottom entries to the bottom
    $('.appendix-bottom').appendTo('d-appendix').children().unwrap();
    $('.appendix-bottom').remove();

    // hoverable references
    $('span.citation[data-cites]').each(function() {
      const citeChild = $(this).children()[0]
      // Do not process if @xyz has been used without escaping and without bibliography activated
      // https://github.com/rstudio/distill/issues/466
      if (citeChild === undefined) return true

      if (citeChild.nodeName == "D-FOOTNOTE") {
        var fn = citeChild
        $(this).html(fn.shadowRoot.querySelector("sup"))
        $(this).id = fn.id
        fn.remove()
      }
      var refs = $(this).attr('data-cites').split(" ");
      var refHtml = refs.map(function(ref) {
        // Could use CSS.escape too here, we insure backward compatibility in navigator
        return "<p>" + $('div[id="ref-' + ref + '"]').html() + "</p>";
      }).join("\n");
      window.tippy(this, {
        allowHTML: true,
        content: refHtml,
        maxWidth: 500,
        interactive: true,
        interactiveBorder: 10,
        theme: 'light-border',
        placement: 'bottom-start'
      });
    });

    // fix footnotes in tables (#411)
    // replacing broken distill.pub feature
    $('table d-footnote').each(function() {
      // we replace internal showAtNode methode which is triggered when hovering a footnote
      this.hoverBox.showAtNode = function(node) {
        // ported from https://github.com/distillpub/template/pull/105/files
        calcOffset = function(elem) {
            let x = elem.offsetLeft;
            let y = elem.offsetTop;
            // Traverse upwards until an `absolute` element is found or `elem`
            // becomes null.
            while (elem = elem.offsetParent && elem.style.position != 'absolute') {
                x += elem.offsetLeft;
                y += elem.offsetTop;
            }

            return { left: x, top: y };
        }
        // https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/offsetTop
        const bbox = node.getBoundingClientRect();
        const offset = calcOffset(node);
        this.show([offset.left + bbox.width, offset.top + bbox.height]);
      }
    })

    // clear polling timer
    clearInterval(tid);

    // show body now that everything is ready
    on_load_complete();
  }

  var tid = setInterval(distill_post_process, 50);
  distill_post_process();

}

function init_downlevel() {

  init_common();

   // insert hr after d-title
  $('.d-title').after($('<hr class="section-separator"/>'));

  // check if we have authors
  var front_matter = JSON.parse($("#distill-front-matter").html());
  var have_authors = front_matter.authors && front_matter.authors.length > 0;

  // manage byline/border
  if (!have_authors)
    $('.d-byline').remove();
  $('.d-byline').after($('<hr class="section-separator"/>'));
  $('.d-byline a').remove();

  // remove toc
  $('.d-contents').remove();

  // move appendix elements
  $('h1.appendix, h2.appendix').each(function(i, val) {
    $(this).changeElementType('h3');
  });
  $('h3.appendix').each(function(i, val) {
    $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('.d-appendix'));
  });


  // inject headers into references and footnotes
  var refs_header = $('<h3></h3>');
  refs_header.text('References');
  $('#refs').prepend(refs_header);

  var footnotes_header = $('<h3></h3');
  footnotes_header.text('Footnotes');
  $('.footnotes').children('hr').first().replaceWith(footnotes_header);

  // move appendix-bottom entries to the bottom
  $('.appendix-bottom').appendTo('.d-appendix').children().unwrap();
  $('.appendix-bottom').remove();

  // remove appendix if it's empty
  if ($('.d-appendix').children().length === 0)
    $('.d-appendix').remove();

  // prepend separator above appendix
  $('.d-appendix').before($('<hr class="section-separator" style="clear: both"/>'));

  // trim code
  $('pre>code').each(function(i, val) {
    $(this).html($.trim($(this).html()));
  });

  // move posts-container right before article
  $('.posts-container').insertBefore($('.d-article'));

  $('body').addClass('downlevel');

  on_load_complete();
}


function init_common() {

  // jquery plugin to change element types
  (function($) {
    $.fn.changeElementType = function(newType) {
      var attrs = {};

      $.each(this[0].attributes, function(idx, attr) {
        attrs[attr.nodeName] = attr.nodeValue;
      });

      this.replaceWith(function() {
        return $("<" + newType + "/>", attrs).append($(this).contents());
      });
    };
  })(jQuery);

  // prevent underline for linked images
  $('a > img').parent().css({'border-bottom' : 'none'});

  // mark non-body figures created by knitr chunks as 100% width
  $('.layout-chunk').each(function(i, val) {
    var figures = $(this).find('img, .html-widget');
    // ignore leaflet img layers (#106)
    figures = figures.filter(':not(img[class*="leaflet"])')
    if ($(this).attr('data-layout') !== "l-body") {
      figures.css('width', '100%');
    } else {
      figures.css('max-width', '100%');
      figures.filter("[width]").each(function(i, val) {
        var fig = $(this);
        fig.css('width', fig.attr('width') + 'px');
      });

    }
  });

  // auto-append index.html to post-preview links in file: protocol
  // and in rstudio ide preview
  $('.post-preview').each(function(i, val) {
    if (window.location.protocol === "file:")
      $(this).attr('href', $(this).attr('href') + "index.html");
  });

  // get rid of index.html references in header
  if (window.location.protocol !== "file:") {
    $('.distill-site-header a[href]').each(function(i,val) {
      $(this).attr('href', $(this).attr('href').replace(/^index[.]html/, "./"));
    });
  }

  // add class to pandoc style tables
  $('tr.header').parent('thead').parent('table').addClass('pandoc-table');
  $('.kable-table').children('table').addClass('pandoc-table');

  // add figcaption style to table captions
  $('caption').parent('table').addClass("figcaption");

  // initialize posts list
  if (window.init_posts_list)
    window.init_posts_list();

  // implmement disqus comment link
  $('.disqus-comment-count').click(function() {
    window.headroom_prevent_pin = true;
    $('#disqus_thread').toggleClass('hidden');
    if (!$('#disqus_thread').hasClass('hidden')) {
      var offset = $(this).offset();
      $(window).resize();
      $('html, body').animate({
        scrollTop: offset.top - 35
      });
    }
  });
}

document.addEventListener('DOMContentLoaded', function() {
  if (is_downlevel_browser())
    init_downlevel();
  else
    window.addEventListener('WebComponentsReady', init_distill);
});

</script>

<style type="text/css">
/* base variables */

/* Edit the CSS properties in this file to create a custom
   Distill theme. Only edit values in the right column
   for each row; values shown are the CSS defaults.
   To return any property to the default,
   you may set its value to: unset
   All rows must end with a semi-colon.                      */

/* Optional: embed custom fonts here with `@import`          */
/* This must remain at the top of this file.                 */



html {
  /*-- Main font sizes --*/
  --title-size:      50px;
  --body-size:       1.06rem;
  --code-size:       14px;
  --aside-size:      12px;
  --fig-cap-size:    13px;
  /*-- Main font colors --*/
  --title-color:     #000000;
  --header-color:    rgba(0, 0, 0, 0.8);
  --body-color:      rgba(0, 0, 0, 0.8);
  --aside-color:     rgba(0, 0, 0, 0.6);
  --fig-cap-color:   rgba(0, 0, 0, 0.6);
  /*-- Specify custom fonts ~~~ must be imported above   --*/
  --heading-font:    sans-serif;
  --mono-font:       monospace;
  --body-font:       sans-serif;
  --navbar-font:     sans-serif;  /* websites + blogs only */
}

/*-- ARTICLE METADATA --*/
d-byline {
  --heading-size:    0.6rem;
  --heading-color:   rgba(0, 0, 0, 0.5);
  --body-size:       0.8rem;
  --body-color:      rgba(0, 0, 0, 0.8);
}

/*-- ARTICLE TABLE OF CONTENTS --*/
.d-contents {
  --heading-size:    18px;
  --contents-size:   13px;
}

/*-- ARTICLE APPENDIX --*/
d-appendix {
  --heading-size:    15px;
  --heading-color:   rgba(0, 0, 0, 0.65);
  --text-size:       0.8em;
  --text-color:      rgba(0, 0, 0, 0.5);
}

/*-- WEBSITE HEADER + FOOTER --*/
/* These properties only apply to Distill sites and blogs  */

.distill-site-header {
  --title-size:       18px;
  --text-color:       rgba(255, 255, 255, 0.8);
  --text-size:        15px;
  --hover-color:      white;
  --bkgd-color:       #0F2E3D;
}

.distill-site-footer {
  --text-color:       rgba(255, 255, 255, 0.8);
  --text-size:        15px;
  --hover-color:      white;
  --bkgd-color:       #0F2E3D;
}

/*-- Additional custom styles --*/
/* Add any additional CSS rules below                      */
</style>
<style type="text/css">
/* base variables */

/* Edit the CSS properties in this file to create a custom
   Distill theme. Only edit values in the right column
   for each row; values shown are the CSS defaults.
   To return any property to the default,
   you may set its value to: unset
   All rows must end with a semi-colon.                      */

/* Optional: embed custom fonts here with `@import`          */
/* This must remain at the top of this file.                 */

@import url('https://fonts.googleapis.com/css2?family=Questrial');

html {
  /*-- Main font sizes --*/
  --title-size:      50px;
  --body-size:       1.06rem;
  --code-size:       14px;
  --aside-size:      12px;
  --fig-cap-size:    13px;
  /*-- Main font colors --*/
  --title-color:     #000000;
  --header-color:    rgba(0, 0, 0, 0.8);
  --body-color:      rgba(0, 0, 0, 0.8);
  --aside-color:     rgba(0, 0, 0, 0.6);
  --fig-cap-color:   rgba(0, 0, 0, 0.6);
  /*-- Specify custom fonts ~~~ must be imported above   --*/
  --heading-font:    "Questrial", sans-serif;
  --mono-font:       monospace;
  --body-font:       "Questrial", sans-serif;
  --navbar-font:     "Questrial", sans-serif;  /* websites + blogs only */
}

/*-- ARTICLE METADATA --*/
d-byline {
  --heading-size:    0.6rem;
  --heading-color:   rgba(0, 0, 0, 0.5);
  --body-size:       0.8rem;
  --body-color:      rgba(0, 0, 0, 0.8);
}

/*-- ARTICLE TABLE OF CONTENTS --*/
.d-contents {
  --heading-size:    18px;
  --contents-size:   13px;
}

/*-- ARTICLE APPENDIX --*/
d-appendix {
  --heading-size:    15px;
  --heading-color:   rgba(0, 0, 0, 0.65);
  --text-size:       0.8em;
  --text-color:      rgba(0, 0, 0, 0.5);
}

/*-- WEBSITE HEADER + FOOTER --*/
/* These properties only apply to Distill sites and blogs  */

.distill-site-header {
  --title-size:       18px;
  --text-color:       rgba(255, 255, 255, 0.8);
  --text-size:        15px;
  --hover-color:      white;
  --bkgd-color:       #000e78;
}

.distill-site-footer {
  --text-color:       rgba(255, 255, 255, 0.8);
  --text-size:        15px;
  --hover-color:      white;
  --bkgd-color:       #000e78;
}

/*-- Additional custom styles --*/
/* Add any additional CSS rules below                      */

@media screen and (min-width: 768px) {
  d-article aside {
    height: 0;
  }
  aside.slides {
    margin-left: -148px;
    height: auto;
  }
  aside.slides + h2 {
    white-space: nowrap;
  }
}

d-article li {
  margin-bottom: 0.1em;
}

.posts-list .post-preview .thumbnail {
  max-height: 300px;
  overflow: hidden;
}</style>
<style type="text/css">
/* base style */

/* FONT FAMILIES */

:root {
  --heading-default: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
  --mono-default: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  --body-default: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
}

body,
.posts-list .post-preview p,
.posts-list .description p {
  font-family: var(--body-font), var(--body-default);
}

h1, h2, h3, h4, h5, h6,
.posts-list .post-preview h2,
.posts-list .description h2 {
  font-family: var(--heading-font), var(--heading-default);
}

d-article div.sourceCode code,
d-article pre code {
  font-family: var(--mono-font), var(--mono-default);
}


/*-- TITLE --*/
d-title h1,
.posts-list > h1 {
  color: var(--title-color, black);
}

d-title h1 {
  font-size: var(--title-size, 50px);
}

/*-- HEADERS --*/
d-article h1,
d-article h2,
d-article h3,
d-article h4,
d-article h5,
d-article h6 {
  color: var(--header-color, rgba(0, 0, 0, 0.8));
}

/*-- BODY --*/
d-article > p,  /* only text inside of <p> tags */
d-article > ul, /* lists */
d-article > ol {
  color: var(--body-color, rgba(0, 0, 0, 0.8));
  font-size: var(--body-size, 1.06rem);
}


/*-- CODE --*/
d-article div.sourceCode code,
d-article pre code {
  font-size: var(--code-size, 14px);
}

/*-- ASIDE --*/
d-article aside {
  font-size: var(--aside-size, 12px);
  color: var(--aside-color, rgba(0, 0, 0, 0.6));
}

/*-- FIGURE CAPTIONS --*/
figure .caption,
figure figcaption,
.figure .caption {
  font-size: var(--fig-cap-size, 13px);
  color: var(--fig-cap-color, rgba(0, 0, 0, 0.6));
}

/*-- METADATA --*/
d-byline h3 {
  font-size: var(--heading-size, 0.6rem);
  color: var(--heading-color, rgba(0, 0, 0, 0.5));
}

d-byline {
  font-size: var(--body-size, 0.8rem);
  color: var(--body-color, rgba(0, 0, 0, 0.8));
}

d-byline a,
d-article d-byline a {
  color: var(--body-color, rgba(0, 0, 0, 0.8));
}

/*-- TABLE OF CONTENTS --*/
.d-contents nav h3 {
  font-size: var(--heading-size, 18px);
}

.d-contents nav a {
  font-size: var(--contents-size, 13px);
}

/*-- APPENDIX --*/
d-appendix h3 {
  font-size: var(--heading-size, 15px);
  color: var(--heading-color, rgba(0, 0, 0, 0.65));
}

d-appendix {
  font-size: var(--text-size, 0.8em);
  color: var(--text-color, rgba(0, 0, 0, 0.5));
}

d-appendix d-footnote-list a.footnote-backlink {
  color: var(--text-color, rgba(0, 0, 0, 0.5));
}

/*-- WEBSITE HEADER + FOOTER --*/
.distill-site-header .title {
  font-size: var(--title-size, 18px);
  font-family: var(--navbar-font), var(--heading-default);
}

.distill-site-header a,
.nav-dropdown .nav-dropbtn {
  font-family: var(--navbar-font), var(--heading-default);
}

.nav-dropdown .nav-dropbtn {
  color: var(--text-color, rgba(255, 255, 255, 0.8));
  font-size: var(--text-size, 15px);
}

.distill-site-header a:hover,
.nav-dropdown:hover .nav-dropbtn {
  color: var(--hover-color, white);
}

.distill-site-header {
  font-size: var(--text-size, 15px);
  color: var(--text-color, rgba(255, 255, 255, 0.8));
  background-color: var(--bkgd-color, #0F2E3D);
}

.distill-site-footer {
  font-size: var(--text-size, 15px);
  color: var(--text-color, rgba(255, 255, 255, 0.8));
  background-color: var(--bkgd-color, #0F2E3D);
}

.distill-site-footer a:hover {
  color: var(--hover-color, white);
}</style>
<!--/radix_placeholder_distill-->
  <script src="../../../site_libs/header-attrs-2.25/header-attrs.js"></script>
  <script src="../../../site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
  <script src="../../../site_libs/popper-2.6.0/popper.min.js"></script>
  <link href="../../../site_libs/tippy-6.2.7/tippy.css" rel="stylesheet" />
  <link href="../../../site_libs/tippy-6.2.7/tippy-light-border.css" rel="stylesheet" />
  <script src="../../../site_libs/tippy-6.2.7/tippy.umd.min.js"></script>
  <script src="../../../site_libs/anchor-4.2.2/anchor.min.js"></script>
  <script src="../../../site_libs/bowser-1.9.3/bowser.min.js"></script>
  <script src="../../../site_libs/webcomponents-2.0.0/webcomponents.js"></script>
  <script src="../../../site_libs/distill-2.2.21/template.v2.js"></script>
  <!--radix_placeholder_site_in_header-->
<!--/radix_placeholder_site_in_header-->


</head>

<body>

<!--radix_placeholder_front_matter-->

<script id="distill-front-matter" type="text/json">
{"title":"Bipartisanship Unveiled: The Evolution of Recent History in the Spanish Congress","description":"Replication and alternative rendition of a streamgraph sourced from El Orden Mundial,\nutilizing data on congressional deputies available on the official website of the Spanish Congress.","authors":[{"author":"Candela Gómez-Blanco","authorURL":"#","affiliation":"&nbsp;","affiliationURL":"#","orcidID":""}],"publishedDate":"2024-01-18T00:00:00.000+01:00","citationText":"Gómez-Blanco, 2024"}
</script>

<!--/radix_placeholder_front_matter-->
<!--radix_placeholder_navigation_before_body-->
<header class="header header--fixed" role="banner">
<nav class="distill-site-nav distill-site-header">
<div class="nav-left">
<span class="logo">
<img src="../../../assets/acronimo_0.png"/>
</span>
<a href="../../../index.html" class="title">Data visualization | MSc CSS</a>
<input id="distill-search" class="nav-search hidden" type="text" placeholder="Search..."/>
</div>
<div class="nav-right">
<a href="../../../contents.html">Contents</a>
<a href="../../../tutorials.html">Tutorials</a>
<a href="../../../resources.html">Resources</a>
<a href="../../../projects.html">Projects</a>
<a href="https://github.com/IBiDat/dataviz" aria-label="Link to source">
<i class="fab fa-github" aria-hidden="true"></i>
</a>
<a href="javascript:void(0);" class="nav-toggle">&#9776;</a>
</div>
</nav>
</header>
<!--/radix_placeholder_navigation_before_body-->
<!--radix_placeholder_site_before_body-->
<!--/radix_placeholder_site_before_body-->

<div class="d-title">
<h1>Bipartisanship Unveiled: The Evolution of Recent History in the Spanish Congress</h1>

<!--radix_placeholder_categories-->
<div class="dt-tags">
  <a href="../../../projects.html#category:2023" class="dt-tag">2023</a>
</div>
<!--/radix_placeholder_categories-->
<p><p>Replication and alternative rendition of a streamgraph sourced from El Orden Mundial,
utilizing data on congressional deputies available on the official website of the Spanish Congress.</p></p>
</div>

<div class="d-byline">
  
  Candela Gómez-Blanco
  
<br/>2024-01-18
</div>

<div class="d-article">
<div class="d-contents d-contents-float">
<nav class="l-text toc figcaption" id="TOC">
<h3>Contents</h3>
<ul>
<li><a href="#introduction" id="toc-introduction">Introduction</a></li>
<li><a href="#preparing-the-data-base" id="toc-preparing-the-data-base">Preparing the data base</a>
<ul>
<li><a href="#collecting-the-data" id="toc-collecting-the-data">Collecting the data</a></li>
<li><a href="#cleaning-the-database" id="toc-cleaning-the-database">Cleaning the database</a></li>
<li><a href="#definite-graph-data-base" id="toc-definite-graph-data-base">Definite graph data base</a></li>
</ul></li>
<li><a href="#replication-stream_graph" id="toc-replication-stream_graph">Replication: stream_graph</a>
<ul>
<li><a href="#setting-the-actual-colors" id="toc-setting-the-actual-colors">Setting the actual colors</a></li>
<li><a href="#annotations" id="toc-annotations">Annotations</a></li>
</ul></li>
<li><a href="#a-different-representation-of-the-data" id="toc-a-different-representation-of-the-data">A different representation of the data</a>
<ul>
<li><a href="#limitations-of-the-original-graph" id="toc-limitations-of-the-original-graph">Limitations of the original graph</a></li>
<li><a href="#alternative-graph" id="toc-alternative-graph">Alternative graph</a></li>
</ul></li>
</ul>
</nav>
</div>
<h2 id="introduction">Introduction</h2>
<p>This project is based on the graph posted in the article “El desfile político en la democracia española” (The Political Parade in Spanish Democracy), published by El Orden Mundial in 2023. In this piece, the authors delve into the evolution of the Spanish Congress of Deputies throughout its democratic history. Specifically, they analyze the distribution of seats among major political parties and ideologies, emphasizing the development of bipartisanship from the 1977 elections to the present.</p>
<p>The article includes the following graph, which effectively illustrates this evolution. At a glance, it becomes evident that, since the first democratic elections, the composition of the Congress has been characterized by a dominant two-party system and consistent support for peripheral nationalist parties. This trend is largely influenced by an electoral system that favors major parties in smaller constituencies, to the detriment of minority formations at the national level.</p>
<figure>
<img src="screenshot-2023-12-26.png" class="external center" style="width:70.0%" alt="Original graph" />
<figcaption aria-hidden="true"><a href="https://elordenmundial.com/mapas-y-graficos/composicion-congreso-diputados/">Original graph</a></figcaption>
</figure>
<p>I encountered this graph worth replicating, being a comprehensive representation of the data. Given that it seemed to encapsulate a significant amount of information effectively, suggesting improvements could pose a considerable challenge.</p>
<h2 id="preparing-the-data-base">Preparing the data base</h2>
<h3 id="collecting-the-data">Collecting the data</h3>
<p>Preparing the database involved collecting data on the deputies who have served in Congress over the years. I obtained this information from the official website of the Congress of Deputies (<a href="https://www.congreso.es/es/opendata/diputados" class="uri">https://www.congreso.es/es/opendata/diputados</a>) by downloading the Excel files corresponding to the 15 legislatures. Combining the data from each of these legislatures into a unified Excel file, I stored it in this project’s Git-Hub folder. The subsequent task involved cleaning and preparing this database.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'>#Load these libraries</span></span>
<span></span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://dplyr.tidyverse.org'>dplyr</a></span><span class='op'>)</span></span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://readxl.tidyverse.org'>readxl</a></span><span class='op'>)</span></span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://lubridate.tidyverse.org'>lubridate</a></span><span class='op'>)</span></span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://stringr.tidyverse.org'>stringr</a></span><span class='op'>)</span></span>
<span></span>
<span><span class='co'>#Read the database</span></span>
<span><span class='va'>graph_db</span><span class='op'>&lt;-</span><span class='fu'><a href='https://readxl.tidyverse.org/reference/read_excel.html'>read_xlsx</a></span><span class='op'>(</span><span class='st'>"terms-unified.xlsx"</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<h3 id="cleaning-the-database">Cleaning the database</h3>
<p>Cleaning the database involved making adjustments over the original dataset, which comprised 6470 rows, each representing an individual deputy in Congress, and 9 columns containing specific deputy-related information.</p>
<p>The primary task, and the most challenging aspect of the entire assignment, was determining the characteristics our database needed to have to enable the creation of our graph. This involved identifying the necessary variables and how the data should be organized. Our interest did not lie in individualized deputy information, but rather in aggregating deputies based on their political affiliations. Additionally, we needed to ascertain the distribution of deputies for each year in which general elections were held. Once we clarified our objective, these were the next steps and encountered difficulties:</p>
<ol type="1">
<li><p>Selecting the essential variables was required to achieve this goal. That is, we needed the name of the deputies (for an individualized register of each record), the political party to which each deputy belonged, and the start and end dates of their tenure as deputies.</p></li>
<li><p>It’s worth noting that some deputies conclude their tenure before the legislature ends, while others assume office midway through the term. Consequently, none of the available variables in the original database served our graph’s purpose. To address this, after determining the precise dates of each general election, a new column labeled “Elections” was created, narrowing down the dates to those in which general elections were celebrated.</p></li>
<li><p>Furthermore, another variable called “num_deputies” was established. This variable calculated the cumulative count of deputies per political party. Each new enrollment contributed +1 in the most recent election, while each termination date deducted -1 in the subsequent legislature, enabling a comprehensive tally of deputies per political party over time.</p></li>
</ol>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>clean_data</span> <span class='op'>&lt;-</span> <span class='va'>graph_db</span> <span class='op'>|&gt;</span></span>
<span>  <span class='co'># Selecting the variables of interest and converting to date</span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/select.html'>select</a></span><span class='op'>(</span><span class='va'>NOMBRE</span>, <span class='va'>FORMACIONELECTORAL</span>, <span class='va'>FECHAALTA</span>, <span class='va'>FECHABAJA</span><span class='op'>)</span> <span class='op'>|&gt;</span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span><span class='fu'><a href='https://dplyr.tidyverse.org/reference/across.html'>across</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='va'>FECHAALTA</span>, <span class='va'>FECHABAJA</span><span class='op'>)</span>, <span class='va'>ymd</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='co'># Removing duplicate values (changes in parliamentary groups)</span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/distinct.html'>distinct</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='co'># Pivoting the date, sorting, and converting to year, removing NAs</span></span>
<span>  <span class='fu'>tidyr</span><span class='fu'>::</span><span class='fu'><a href='https://tidyr.tidyverse.org/reference/pivot_longer.html'>pivot_longer</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='va'>FECHAALTA</span>, <span class='va'>FECHABAJA</span><span class='op'>)</span>, values_to <span class='op'>=</span> <span class='st'>"FECHA"</span><span class='op'>)</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/arrange.html'>arrange</a></span><span class='op'>(</span><span class='va'>FECHA</span><span class='op'>)</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span></span>
<span>    Elections <span class='op'>=</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/case_when.html'>case_when</a></span><span class='op'>(</span></span>
<span>      <span class='va'>FECHA</span> <span class='op'>&gt;=</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"1977-06-15"</span><span class='op'>)</span> <span class='op'>&amp;</span> <span class='va'>FECHA</span> <span class='op'>&lt;</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"1979-03-01"</span><span class='op'>)</span> <span class='op'>&amp;</span> </span>
<span>        <span class='va'>name</span> <span class='op'>==</span> <span class='st'>"FECHAALTA"</span> <span class='op'>~</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"1977-06-15"</span><span class='op'>)</span>,</span>
<span>      <span class='va'>FECHA</span> <span class='op'>&gt;=</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"1977-06-15"</span><span class='op'>)</span> <span class='op'>&amp;</span> <span class='va'>FECHA</span> <span class='op'>&lt;</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"1979-03-01"</span><span class='op'>)</span> <span class='op'>&amp;</span> </span>
<span>        <span class='va'>name</span> <span class='op'>==</span> <span class='st'>"FECHABAJA"</span> <span class='op'>~</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"1979-03-01"</span><span class='op'>)</span>,</span>
<span>      <span class='va'>FECHA</span> <span class='op'>&gt;=</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"1979-03-01"</span><span class='op'>)</span> <span class='op'>&amp;</span> <span class='va'>FECHA</span> <span class='op'>&lt;</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"1982-10-28"</span><span class='op'>)</span> <span class='op'>&amp;</span> </span>
<span>        <span class='va'>name</span> <span class='op'>==</span> <span class='st'>"FECHAALTA"</span> <span class='op'>~</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"1979-03-01"</span><span class='op'>)</span>,</span>
<span>      <span class='va'>FECHA</span> <span class='op'>&gt;=</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"1979-03-01"</span><span class='op'>)</span> <span class='op'>&amp;</span> <span class='va'>FECHA</span> <span class='op'>&lt;</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"1982-10-28"</span><span class='op'>)</span> <span class='op'>&amp;</span> </span>
<span>        <span class='va'>name</span> <span class='op'>==</span> <span class='st'>"FECHABAJA"</span> <span class='op'>~</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"1982-10-28"</span><span class='op'>)</span>,</span>
<span>      <span class='va'>FECHA</span> <span class='op'>&gt;=</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"1982-10-28"</span><span class='op'>)</span> <span class='op'>&amp;</span> <span class='va'>FECHA</span> <span class='op'>&lt;</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"1986-06-22"</span><span class='op'>)</span> <span class='op'>&amp;</span> </span>
<span>        <span class='va'>name</span> <span class='op'>==</span> <span class='st'>"FECHAALTA"</span> <span class='op'>~</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"1982-10-28"</span><span class='op'>)</span>,</span>
<span>      <span class='va'>FECHA</span> <span class='op'>&gt;=</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"1982-10-28"</span><span class='op'>)</span> <span class='op'>&amp;</span> <span class='va'>FECHA</span> <span class='op'>&lt;</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"1986-06-22"</span><span class='op'>)</span> <span class='op'>&amp;</span> </span>
<span>        <span class='va'>name</span> <span class='op'>==</span> <span class='st'>"FECHABAJA"</span> <span class='op'>~</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"1986-06-22"</span><span class='op'>)</span>,</span>
<span>      <span class='va'>FECHA</span> <span class='op'>&gt;=</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"1986-06-22"</span><span class='op'>)</span> <span class='op'>&amp;</span> <span class='va'>FECHA</span> <span class='op'>&lt;</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"1989-10-29"</span><span class='op'>)</span> <span class='op'>&amp;</span> </span>
<span>        <span class='va'>name</span> <span class='op'>==</span> <span class='st'>"FECHAALTA"</span> <span class='op'>~</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"1986-06-22"</span><span class='op'>)</span>,</span>
<span>      <span class='va'>FECHA</span> <span class='op'>&gt;=</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"1986-06-22"</span><span class='op'>)</span> <span class='op'>&amp;</span> <span class='va'>FECHA</span> <span class='op'>&lt;</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"1989-10-29"</span><span class='op'>)</span> <span class='op'>&amp;</span> </span>
<span>        <span class='va'>name</span> <span class='op'>==</span> <span class='st'>"FECHABAJA"</span> <span class='op'>~</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"1989-10-29"</span><span class='op'>)</span>,</span>
<span>      <span class='va'>FECHA</span> <span class='op'>&gt;=</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"1989-10-29"</span><span class='op'>)</span> <span class='op'>&amp;</span> <span class='va'>FECHA</span> <span class='op'>&lt;</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"1993-06-06"</span><span class='op'>)</span> <span class='op'>&amp;</span> </span>
<span>        <span class='va'>name</span> <span class='op'>==</span> <span class='st'>"FECHAALTA"</span> <span class='op'>~</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"1989-10-29"</span><span class='op'>)</span>,</span>
<span>      <span class='va'>FECHA</span> <span class='op'>&gt;=</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"1989-10-29"</span><span class='op'>)</span> <span class='op'>&amp;</span> <span class='va'>FECHA</span> <span class='op'>&lt;</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"1993-06-06"</span><span class='op'>)</span> <span class='op'>&amp;</span> </span>
<span>        <span class='va'>name</span> <span class='op'>==</span> <span class='st'>"FECHABAJA"</span> <span class='op'>~</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"1993-06-06"</span><span class='op'>)</span>,</span>
<span>      <span class='va'>FECHA</span> <span class='op'>&gt;=</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"1993-06-06"</span><span class='op'>)</span> <span class='op'>&amp;</span> <span class='va'>FECHA</span> <span class='op'>&lt;</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"1996-03-03"</span><span class='op'>)</span> <span class='op'>&amp;</span> </span>
<span>        <span class='va'>name</span> <span class='op'>==</span> <span class='st'>"FECHAALTA"</span> <span class='op'>~</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"1993-06-06"</span><span class='op'>)</span>,</span>
<span>      <span class='va'>FECHA</span> <span class='op'>&gt;=</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"1993-06-06"</span><span class='op'>)</span> <span class='op'>&amp;</span> <span class='va'>FECHA</span> <span class='op'>&lt;</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"1996-03-03"</span><span class='op'>)</span> <span class='op'>&amp;</span> </span>
<span>        <span class='va'>name</span> <span class='op'>==</span> <span class='st'>"FECHABAJA"</span> <span class='op'>~</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"1996-03-03"</span><span class='op'>)</span>,</span>
<span>      <span class='va'>FECHA</span> <span class='op'>&gt;=</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"1996-03-03"</span><span class='op'>)</span> <span class='op'>&amp;</span> <span class='va'>FECHA</span> <span class='op'>&lt;</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"2000-03-12"</span><span class='op'>)</span> <span class='op'>&amp;</span> </span>
<span>        <span class='va'>name</span> <span class='op'>==</span> <span class='st'>"FECHAALTA"</span> <span class='op'>~</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"1996-03-03"</span><span class='op'>)</span>,</span>
<span>      <span class='va'>FECHA</span> <span class='op'>&gt;=</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"1996-03-03"</span><span class='op'>)</span> <span class='op'>&amp;</span> <span class='va'>FECHA</span> <span class='op'>&lt;</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"2000-03-12"</span><span class='op'>)</span> <span class='op'>&amp;</span> </span>
<span>        <span class='va'>name</span> <span class='op'>==</span> <span class='st'>"FECHABAJA"</span> <span class='op'>~</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"2000-03-12"</span><span class='op'>)</span>,</span>
<span>      <span class='va'>FECHA</span> <span class='op'>&gt;=</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"2000-03-12"</span><span class='op'>)</span> <span class='op'>&amp;</span> <span class='va'>FECHA</span> <span class='op'>&lt;</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"2004-03-14"</span><span class='op'>)</span> <span class='op'>&amp;</span> </span>
<span>        <span class='va'>name</span> <span class='op'>==</span> <span class='st'>"FECHAALTA"</span> <span class='op'>~</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"2000-03-12"</span><span class='op'>)</span>,</span>
<span>      <span class='va'>FECHA</span> <span class='op'>&gt;=</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"2000-03-12"</span><span class='op'>)</span> <span class='op'>&amp;</span> <span class='va'>FECHA</span> <span class='op'>&lt;</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"2004-03-14"</span><span class='op'>)</span> <span class='op'>&amp;</span> </span>
<span>        <span class='va'>name</span> <span class='op'>==</span> <span class='st'>"FECHABAJA"</span> <span class='op'>~</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"2004-03-14"</span><span class='op'>)</span>,</span>
<span>      <span class='va'>FECHA</span> <span class='op'>&gt;=</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"2004-03-14"</span><span class='op'>)</span> <span class='op'>&amp;</span> <span class='va'>FECHA</span> <span class='op'>&lt;</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"2008-03-09"</span><span class='op'>)</span> <span class='op'>&amp;</span> </span>
<span>        <span class='va'>name</span> <span class='op'>==</span> <span class='st'>"FECHAALTA"</span> <span class='op'>~</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"2004-03-14"</span><span class='op'>)</span>,</span>
<span>      <span class='va'>FECHA</span> <span class='op'>&gt;=</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"2004-03-14"</span><span class='op'>)</span> <span class='op'>&amp;</span> <span class='va'>FECHA</span> <span class='op'>&lt;</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"2008-03-09"</span><span class='op'>)</span> <span class='op'>&amp;</span> </span>
<span>        <span class='va'>name</span> <span class='op'>==</span> <span class='st'>"FECHABAJA"</span> <span class='op'>~</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"2008-03-09"</span><span class='op'>)</span>,</span>
<span>      <span class='va'>FECHA</span> <span class='op'>&gt;=</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"2008-03-09"</span><span class='op'>)</span> <span class='op'>&amp;</span> <span class='va'>FECHA</span> <span class='op'>&lt;</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"2011-11-20"</span><span class='op'>)</span> <span class='op'>&amp;</span> </span>
<span>        <span class='va'>name</span> <span class='op'>==</span> <span class='st'>"FECHAALTA"</span> <span class='op'>~</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"2008-03-09"</span><span class='op'>)</span>,</span>
<span>      <span class='va'>FECHA</span> <span class='op'>&gt;=</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"2008-03-09"</span><span class='op'>)</span> <span class='op'>&amp;</span> <span class='va'>FECHA</span> <span class='op'>&lt;</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"2011-11-20"</span><span class='op'>)</span> <span class='op'>&amp;</span> </span>
<span>        <span class='va'>name</span> <span class='op'>==</span> <span class='st'>"FECHABAJA"</span> <span class='op'>~</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"2011-11-20"</span><span class='op'>)</span>,</span>
<span>      <span class='va'>FECHA</span> <span class='op'>&gt;=</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"2011-11-20"</span><span class='op'>)</span> <span class='op'>&amp;</span> <span class='va'>FECHA</span> <span class='op'>&lt;</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"2015-12-20"</span><span class='op'>)</span> <span class='op'>&amp;</span> </span>
<span>        <span class='va'>name</span> <span class='op'>==</span> <span class='st'>"FECHAALTA"</span> <span class='op'>~</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"2011-11-20"</span><span class='op'>)</span>,</span>
<span>      <span class='va'>FECHA</span> <span class='op'>&gt;=</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"2011-11-20"</span><span class='op'>)</span> <span class='op'>&amp;</span> <span class='va'>FECHA</span> <span class='op'>&lt;</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"2015-12-20"</span><span class='op'>)</span> <span class='op'>&amp;</span> </span>
<span>        <span class='va'>name</span> <span class='op'>==</span> <span class='st'>"FECHABAJA"</span> <span class='op'>~</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"2015-12-20"</span><span class='op'>)</span>,</span>
<span>      <span class='va'>FECHA</span> <span class='op'>&gt;=</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"2015-12-20"</span><span class='op'>)</span> <span class='op'>&amp;</span> <span class='va'>FECHA</span> <span class='op'>&lt;</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"2016-06-26"</span><span class='op'>)</span> <span class='op'>&amp;</span> </span>
<span>        <span class='va'>name</span> <span class='op'>==</span> <span class='st'>"FECHAALTA"</span> <span class='op'>~</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"2015-12-20"</span><span class='op'>)</span>,</span>
<span>      <span class='va'>FECHA</span> <span class='op'>&gt;=</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"2015-12-20"</span><span class='op'>)</span> <span class='op'>&amp;</span> <span class='va'>FECHA</span> <span class='op'>&lt;</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"2016-06-26"</span><span class='op'>)</span> <span class='op'>&amp;</span> </span>
<span>        <span class='va'>name</span> <span class='op'>==</span> <span class='st'>"FECHABAJA"</span> <span class='op'>~</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"2016-06-26"</span><span class='op'>)</span>,</span>
<span>      <span class='va'>FECHA</span> <span class='op'>&gt;=</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"2016-06-26"</span><span class='op'>)</span> <span class='op'>&amp;</span> <span class='va'>FECHA</span> <span class='op'>&lt;</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"2019-04-28"</span><span class='op'>)</span> <span class='op'>&amp;</span> </span>
<span>        <span class='va'>name</span> <span class='op'>==</span> <span class='st'>"FECHAALTA"</span> <span class='op'>~</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"2016-06-26"</span><span class='op'>)</span>,</span>
<span>      <span class='va'>FECHA</span> <span class='op'>&gt;=</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"2016-06-26"</span><span class='op'>)</span> <span class='op'>&amp;</span> <span class='va'>FECHA</span> <span class='op'>&lt;</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"2019-04-28"</span><span class='op'>)</span> <span class='op'>&amp;</span> </span>
<span>        <span class='va'>name</span> <span class='op'>==</span> <span class='st'>"FECHABAJA"</span> <span class='op'>~</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"2019-04-28"</span><span class='op'>)</span>,</span>
<span>      <span class='va'>FECHA</span> <span class='op'>&gt;=</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"2019-04-28"</span><span class='op'>)</span> <span class='op'>&amp;</span> <span class='va'>FECHA</span> <span class='op'>&lt;</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"2019-11-10"</span><span class='op'>)</span> <span class='op'>&amp;</span> </span>
<span>        <span class='va'>name</span> <span class='op'>==</span> <span class='st'>"FECHAALTA"</span> <span class='op'>~</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"2019-04-28"</span><span class='op'>)</span>,</span>
<span>      <span class='va'>FECHA</span> <span class='op'>&gt;=</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"2019-04-28"</span><span class='op'>)</span> <span class='op'>&amp;</span> <span class='va'>FECHA</span> <span class='op'>&lt;</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"2019-11-10"</span><span class='op'>)</span> <span class='op'>&amp;</span> </span>
<span>        <span class='va'>name</span> <span class='op'>==</span> <span class='st'>"FECHABAJA"</span> <span class='op'>~</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"2019-11-10"</span><span class='op'>)</span>,</span>
<span>      <span class='va'>FECHA</span> <span class='op'>&gt;=</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"2019-11-10"</span><span class='op'>)</span> <span class='op'>&amp;</span> <span class='va'>FECHA</span> <span class='op'>&lt;</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"2023-07-23"</span><span class='op'>)</span> <span class='op'>&amp;</span> </span>
<span>        <span class='va'>name</span> <span class='op'>==</span> <span class='st'>"FECHAALTA"</span> <span class='op'>~</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"2019-11-10"</span><span class='op'>)</span>,</span>
<span>      <span class='va'>FECHA</span> <span class='op'>&gt;=</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"2019-11-10"</span><span class='op'>)</span> <span class='op'>&amp;</span> <span class='va'>FECHA</span> <span class='op'>&lt;</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"2023-07-23"</span><span class='op'>)</span> <span class='op'>&amp;</span> </span>
<span>        <span class='va'>name</span> <span class='op'>==</span> <span class='st'>"FECHABAJA"</span> <span class='op'>~</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"2023-07-23"</span><span class='op'>)</span>,</span>
<span>      <span class='va'>FECHA</span> <span class='op'>&gt;=</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"2023-07-23"</span><span class='op'>)</span> <span class='op'>&amp;</span></span>
<span>        <span class='va'>name</span> <span class='op'>==</span> <span class='st'>"FECHAALTA"</span> <span class='op'>~</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"2023-07-23"</span><span class='op'>)</span>,</span>
<span>      <span class='va'>FECHA</span> <span class='op'>&gt;=</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"2023-07-23"</span><span class='op'>)</span> <span class='op'>&amp;</span></span>
<span>        <span class='va'>name</span> <span class='op'>==</span> <span class='st'>"FECHABAJA"</span> <span class='op'>~</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"2023-07-23"</span><span class='op'>)</span></span>
<span>    <span class='op'>)</span></span>
<span>  <span class='op'>)</span> <span class='op'>|&gt;</span></span>
<span>  <span class='fu'><a href='https://rdrr.io/r/stats/na.fail.html'>na.omit</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>|&gt;</span></span>
<span>  <span class='co'># Cumulative sum by electoral formation: +1 for STARTDATE, -1 for ENDDATE</span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/group_by.html'>group_by</a></span><span class='op'>(</span><span class='va'>FORMACIONELECTORAL</span><span class='op'>)</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>num_deputies <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/cumsum.html'>cumsum</a></span><span class='op'>(</span><span class='fu'><a href='https://dplyr.tidyverse.org/reference/if_else.html'>if_else</a></span><span class='op'>(</span><span class='va'>name</span> <span class='op'>==</span> <span class='st'>"FECHAALTA"</span>, <span class='fl'>1</span>, <span class='op'>-</span><span class='fl'>1</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>|&gt;</span>   </span>
<span>  <span class='co'># We keep the last value per date and party</span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/select.html'>select</a></span><span class='op'>(</span><span class='va'>Elections</span>, <span class='va'>FORMACIONELECTORAL</span>, <span class='va'>num_deputies</span><span class='op'>)</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/group_by.html'>group_by</a></span><span class='op'>(</span><span class='va'>Elections</span>, <span class='va'>FORMACIONELECTORAL</span><span class='op'>)</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/slice.html'>slice_tail</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>|&gt;</span></span>
<span>  <span class='co'># Removing transient records, where the total sum per date is less than 340</span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/group_by.html'>group_by</a></span><span class='op'>(</span><span class='va'>Elections</span><span class='op'>)</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/sum.html'>sum</a></span><span class='op'>(</span><span class='va'>num_deputies</span><span class='op'>)</span> <span class='op'>&gt;</span> <span class='fl'>300</span><span class='op'>)</span> <span class='op'>|&gt;</span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/group_by.html'>ungroup</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='co'># Removing zeros</span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>num_deputies</span> <span class='op'>&gt;</span> <span class='fl'>0</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<p>Within the electoral formations, there were inconsistencies in the representation of party names. For instance, parties like VOX, Junts, or CiU, among others, were written in different formats regarding capitalization. Additionally, some parties were represented by their acronyms (such as “UP”) in some instances and by their full names in others for (“Unidas Podemos”). These variations needed standardization. Moreover, there were various coalitions of parties that, for graphing purposes, needed to be considered as deputies of only one party. For instance, the acronym “PSOE-A” should be counted as deputies of the PSOE party. To streamline this process and avoid addressing each party individually, the ‘str_detect’ function was used. However, certain party names shared letters and the order of some acronyms, such as ‘UP’ and ‘UPyD.’ Therefore, specific recategorizations were established without employing the previously mentioned function.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>clean_data</span> <span class='op'>&lt;-</span> <span class='va'>clean_data</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>recat <span class='op'>=</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/case_when.html'>case_when</a></span><span class='op'>(</span></span>
<span>    <span class='va'>FORMACIONELECTORAL</span> <span class='op'>==</span> <span class='st'>"CD"</span> <span class='op'>~</span> <span class='st'>"UCD"</span>,</span>
<span>    <span class='va'>FORMACIONELECTORAL</span> <span class='op'>==</span> <span class='st'>"UP"</span> <span class='op'>~</span> <span class='st'>"PODEMOS"</span>,</span>
<span>    <span class='va'>FORMACIONELECTORAL</span> <span class='op'>==</span> <span class='st'>"CP"</span> <span class='op'>~</span> <span class='st'>"PP"</span>,</span>
<span>    <span class='va'>FORMACIONELECTORAL</span> <span class='op'>==</span> <span class='st'>"PSUC"</span> <span class='op'>~</span> <span class='st'>"Otros catalanes"</span>,</span>
<span>    <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_detect.html'>str_detect</a></span><span class='op'>(</span><span class='va'>FORMACIONELECTORAL</span>, <span class='st'>"CIU|CiU|CDC|UDC"</span><span class='op'>)</span> <span class='op'>~</span> <span class='st'>"CiU"</span>,</span>
<span>    <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_detect.html'>str_detect</a></span><span class='op'>(</span><span class='va'>FORMACIONELECTORAL</span>, <span class='st'>"Junts|JUNTS"</span><span class='op'>)</span> <span class='op'>~</span> <span class='st'>"Junts"</span>,</span>
<span>    <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_detect.html'>str_detect</a></span><span class='op'>(</span><span class='va'>FORMACIONELECTORAL</span>, <span class='st'>"ERC"</span><span class='op'>)</span> <span class='op'>~</span> <span class='st'>"ERC"</span>,</span>
<span>    <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_detect.html'>str_detect</a></span><span class='op'>(</span><span class='va'>FORMACIONELECTORAL</span>, <span class='st'>"PODEMOS|POD|EN COMÚ|ECP"</span><span class='op'>)</span> <span class='op'>~</span> <span class='st'>"PODEMOS"</span>,</span>
<span>    <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_detect.html'>str_detect</a></span><span class='op'>(</span><span class='va'>FORMACIONELECTORAL</span>, <span class='st'>"MÁS PAÍS"</span><span class='op'>)</span> <span class='op'>~</span> <span class='st'>"Más País"</span>,</span>
<span>    <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_detect.html'>str_detect</a></span><span class='op'>(</span><span class='va'>FORMACIONELECTORAL</span>, <span class='st'>"PCE"</span><span class='op'>)</span> <span class='op'>~</span> <span class='st'>"PCE"</span>,</span>
<span>    <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_detect.html'>str_detect</a></span><span class='op'>(</span><span class='va'>FORMACIONELECTORAL</span>, <span class='st'>"IU"</span><span class='op'>)</span> <span class='op'>~</span> <span class='st'>"IU"</span>,</span>
<span>    <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_detect.html'>str_detect</a></span><span class='op'>(</span><span class='va'>FORMACIONELECTORAL</span>, <span class='st'>"PSOE|PSE|PSC"</span><span class='op'>)</span> <span class='op'>~</span> <span class='st'>"PSOE"</span>,</span>
<span>    <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_detect.html'>str_detect</a></span><span class='op'>(</span><span class='va'>FORMACIONELECTORAL</span>, <span class='st'>"US"</span><span class='op'>)</span> <span class='op'>~</span> <span class='st'>"US"</span>,</span>
<span>    <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_detect.html'>str_detect</a></span><span class='op'>(</span><span class='va'>FORMACIONELECTORAL</span>, <span class='st'>"SUMAR"</span><span class='op'>)</span> <span class='op'>~</span> <span class='st'>"SUMAR"</span>,</span>
<span>    <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_detect.html'>str_detect</a></span><span class='op'>(</span><span class='va'>FORMACIONELECTORAL</span>, <span class='st'>"Cs"</span><span class='op'>)</span> <span class='op'>~</span> <span class='st'>"Cs"</span>,</span>
<span>    <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_detect.html'>str_detect</a></span><span class='op'>(</span><span class='va'>FORMACIONELECTORAL</span>, <span class='st'>"CDS"</span><span class='op'>)</span> <span class='op'>~</span> <span class='st'>"CDS"</span>,</span>
<span>    <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_detect.html'>str_detect</a></span><span class='op'>(</span><span class='va'>FORMACIONELECTORAL</span>, <span class='st'>"UCD"</span><span class='op'>)</span> <span class='op'>~</span> <span class='st'>"UCD"</span>,</span>
<span>    <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_detect.html'>str_detect</a></span><span class='op'>(</span><span class='va'>FORMACIONELECTORAL</span>, <span class='st'>"UPyD"</span><span class='op'>)</span> <span class='op'>~</span> <span class='st'>"UPyD"</span>,</span>
<span>    <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_detect.html'>str_detect</a></span><span class='op'>(</span><span class='va'>FORMACIONELECTORAL</span>, <span class='st'>"AP|PP"</span><span class='op'>)</span> <span class='op'>~</span> <span class='st'>"PP"</span>,</span>
<span>    <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_detect.html'>str_detect</a></span><span class='op'>(</span><span class='va'>FORMACIONELECTORAL</span>, <span class='st'>"Vox|VOX"</span><span class='op'>)</span> <span class='op'>~</span> <span class='st'>"VOX"</span>,</span>
<span>    <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_detect.html'>str_detect</a></span><span class='op'>(</span><span class='va'>FORMACIONELECTORAL</span>, <span class='st'>"PNV"</span><span class='op'>)</span> <span class='op'>~</span> <span class='st'>"PNV"</span>,</span>
<span>    <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_detect.html'>str_detect</a></span><span class='op'>(</span><span class='va'>FORMACIONELECTORAL</span>, <span class='st'>"HB"</span><span class='op'>)</span> <span class='op'>~</span> <span class='st'>"HB"</span>,</span>
<span>    <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_detect.html'>str_detect</a></span><span class='op'>(</span><span class='va'>FORMACIONELECTORAL</span>, <span class='st'>"EH Bildu"</span><span class='op'>)</span> <span class='op'>~</span> <span class='st'>"EH Bildu"</span>,</span>
<span>    <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_detect.html'>str_detect</a></span><span class='op'>(</span><span class='va'>FORMACIONELECTORAL</span>, <span class='st'>"CC"</span><span class='op'>)</span> <span class='op'>~</span> <span class='st'>"CC"</span>,</span>
<span>    <span class='cn'>TRUE</span> <span class='op'>~</span> <span class='st'>"Otros"</span></span>
<span>  <span class='op'>)</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<h3 id="definite-graph-data-base">Definite graph data base</h3>
<p>To proactively manage potential errors I might face, I opted to create a new database at this stage, which will be the definitive one used for our graph.</p>
<p>I organized the data by grouping it based on the ‘Elections’ and ‘recat’ columns. Then, I summarized the data by calculating the total number of deputies (‘num_deputies’ column) for each category and stored this information in a new column named ‘total_deputies’.</p>
<p>Two crucial adjustments were necessary to ensure the graph’s accurate representation:</p>
<ol type="1">
<li><p>Transforming the ‘recat’ column into a factor specifying a certain order for its levels. This order was structured to mirror the original graph’s arrangement: regional parties on the left, followed by a progressive ideological sequence from left-leaning parties to right-leaning formations.</p></li>
<li><p>Typically, graphs displaying an evolving trend have years or dates plotted along the X-axis. However, our graph’s design was oriented differently with dates on the Y-axis. Attempting to flip the graph using ‘coord_flip’ resulted in an inverted orientation, placing the most recent years at the bottom. To resolve this, I converted the dates into decimal values, facilitating the reversal of their order. This adjustment ensured that the ticks representing election dates on the Y-axis were proportionally spaced according to the time between each election.</p></li>
</ol>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'>#Creating the final graph database</span></span>
<span><span class='va'>graph_base</span> <span class='op'>&lt;-</span> <span class='va'>clean_data</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/group_by.html'>group_by</a></span><span class='op'>(</span><span class='va'>Elections</span>, <span class='va'>recat</span><span class='op'>)</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/summarise.html'>summarise</a></span><span class='op'>(</span>total_deputies <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/sum.html'>sum</a></span><span class='op'>(</span><span class='va'>num_deputies</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/group_by.html'>ungroup</a></span><span class='op'>(</span><span class='op'>)</span> </span>
<span></span>
<span><span class='co'>#Ordering the political parties by their ideology</span></span>
<span><span class='va'>graph_base</span><span class='op'>$</span><span class='va'>recat</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span><span class='op'>(</span><span class='va'>graph_base</span><span class='op'>$</span><span class='va'>recat</span>,</span>
<span>                           levels <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"VOX"</span>, <span class='st'>"PP"</span>, <span class='st'>"Cs"</span>, <span class='st'>"UCD"</span>, <span class='st'>"CDS"</span>, </span>
<span>                                      <span class='st'>"UPyD"</span>, <span class='st'>"US"</span>, <span class='st'>"PSOE"</span>, <span class='st'>"SUMAR"</span>, </span>
<span>                                      <span class='st'>"Más País"</span>, <span class='st'>"PODEMOS"</span>, <span class='st'>"PCE"</span>, </span>
<span>                                      <span class='st'>"IU"</span>, <span class='st'>"Otros catalanes"</span>, <span class='st'>"CiU"</span>, </span>
<span>                                      <span class='st'>"ERC"</span>, <span class='st'>"Junts"</span>, <span class='st'>"PNV"</span>, <span class='st'>"HB"</span>, </span>
<span>                                      <span class='st'>"EH Bildu"</span>, <span class='st'>"CC"</span>, <span class='st'>"Otros"</span><span class='op'>)</span><span class='op'>)</span></span>
<span></span>
<span><span class='co'>#Adding the DECIMAL_DATE column</span></span>
<span><span class='va'>graph_base</span><span class='op'>$</span><span class='va'>DECIMAL_DATE</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://lubridate.tidyverse.org/reference/decimal_date.html'>decimal_date</a></span><span class='op'>(</span><span class='va'>graph_base</span><span class='op'>$</span><span class='va'>Elections</span><span class='op'>)</span></span>
<span><span class='va'>fechas_unicas</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/unique.html'>unique</a></span><span class='op'>(</span><span class='va'>graph_base</span><span class='op'>$</span><span class='va'>DECIMAL_DATE</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<h2 id="replication-stream_graph">Replication: stream_graph</h2>
<p>The graph we aim to replicate is a stream graph. These visualizations demonstrate changes in the composition and distribution of multiple variables over time. They prove useful in depicting time series data and how the distribution of different categories or groups within these series evolves over time. In this instance, it’s a proportional stream graph, meaning the width of the bands varies based on each category’s proportion at a specific moment in time. Hence, although the number of deputies in the Congress can fluctuate between 300 and 400, our graph will have a constant width, because it considers the proportion of deputies from each electoral party concerning the total number of deputies at any given time.</p>
<p>The following code accomplishes the following:</p>
<ul>
<li><p>Creates the proportional flow graph using the “ggplot2” package.</p></li>
<li><p>Flips the graph to make it vertical.</p></li>
<li><p>Adjusts the axis limits to accommodate annotations.</p></li>
<li><p>Establishes themes and styles, refining the appearance of the graph, including titles, subtitles, and axis formatting to mimic the original graph.</p></li>
</ul>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'>#Loading needed libraries</span></span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'>ggstream</span><span class='op'>)</span></span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://ggplot2.tidyverse.org'>ggplot2</a></span><span class='op'>)</span></span>
<span></span>
<span><span class='co'># Creating a ggplot object with the new database</span></span>
<span></span>
<span><span class='va'>graph</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>graph_base</span>, <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>DECIMAL_DATE</span>, y <span class='op'>=</span> <span class='va'>total_deputies</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='co'># Adding a stream plot with recat as fill and proportional type</span></span>
<span>  <span class='fu'><a href='https://rdrr.io/pkg/ggstream/man/geom_stream.html'>geom_stream</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='va'>recat</span><span class='op'>)</span>, type <span class='op'>=</span> <span class='st'>"proportional"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='co'># Formatting y-axis labels as percentages</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_continuous.html'>scale_y_continuous</a></span><span class='op'>(</span>labels <span class='op'>=</span> <span class='fu'>scales</span><span class='fu'>::</span><span class='fu'><a href='https://scales.r-lib.org/reference/percent_format.html'>percent_format</a></span><span class='op'>(</span><span class='op'>)</span>, breaks <span class='op'>=</span> <span class='cn'>NULL</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='co'># Formatting x-axis labels and reversing the scale</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_continuous.html'>scale_x_continuous</a></span><span class='op'>(</span>trans <span class='op'>=</span> <span class='st'>"reverse"</span>, </span>
<span>                     breaks <span class='op'>=</span> <span class='va'>fechas_unicas</span>,</span>
<span>                     labels <span class='op'>=</span> <span class='kw'>function</span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span> <span class='fu'><a href='https://rdrr.io/r/base/Round.html'>floor</a></span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span> </span>
<span>  <span class='co'># Flipping coordinates to create a vertical plot</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/coord_flip.html'>coord_flip</a></span><span class='op'>(</span>ylim <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>1.2</span><span class='op'>)</span>, </span>
<span>             xlim <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>2023.556</span>, <span class='fl'>1975</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>  </span>
<span>  <span class='co'># Adding axis labels and titles</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='st'>""</span>, y <span class='op'>=</span> <span class='st'>"350 diputados"</span>, fill <span class='op'>=</span> <span class='st'>"Orientación ideológica"</span>,</span>
<span>       title <span class='op'>=</span> <span class='st'>"**El desfile político en la democracia española**"</span>,</span>
<span>       subtitle <span class='op'>=</span> <span class='st'>"**Composición del Congreso (1977-2023)**"</span>,</span>
<span>       caption <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste</a></span><span class='op'>(</span><span class='st'>"**Autor:**"</span>, <span class='st'>"Álvaro Merino (2023)"</span>, sep <span class='op'>=</span> <span class='st'>"&lt;br&gt;"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='co'># Modifying the appearance of various plot elements using theme settings</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span></span>
<span>    plot.title <span class='op'>=</span> <span class='fu'>ggtext</span><span class='fu'>::</span><span class='fu'><a href='https://wilkelab.org/ggtext/reference/element_markdown.html'>element_markdown</a></span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>10</span>, color <span class='op'>=</span> <span class='st'>"#272727"</span><span class='op'>)</span>, </span>
<span>    plot.title.position <span class='op'>=</span> <span class='st'>"plot"</span>, </span>
<span>    plot.subtitle <span class='op'>=</span> <span class='fu'>ggtext</span><span class='fu'>::</span><span class='fu'><a href='https://wilkelab.org/ggtext/reference/element_markdown.html'>element_markdown</a></span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>9</span>, color <span class='op'>=</span> <span class='st'>"#6A6A6A"</span><span class='op'>)</span>, </span>
<span>    plot.caption <span class='op'>=</span> <span class='fu'>ggtext</span><span class='fu'>::</span><span class='fu'><a href='https://wilkelab.org/ggtext/reference/element_markdown.html'>element_markdown</a></span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>4</span>, color <span class='op'>=</span> <span class='st'>"#6A6A6A"</span><span class='op'>)</span>, </span>
<span>    axis.ticks.y <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_line</a></span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>0.5</span>, color <span class='op'>=</span> <span class='st'>"#6A6A6A"</span><span class='op'>)</span>, </span>
<span>    axis.line.x <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>, </span>
<span>    axis.line.y <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>,</span>
<span>    axis.text.x <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>,</span>
<span>    axis.text.y <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>4</span>, color <span class='op'>=</span> <span class='st'>"#6A6A6A"</span><span class='op'>)</span>,</span>
<span>    axis.title.x <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>5</span>, color <span class='op'>=</span> <span class='st'>"#6A6A6A"</span>, hjust <span class='op'>=</span> <span class='fl'>0.43</span><span class='op'>)</span>, </span>
<span>    panel.grid.major.x <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>,</span>
<span>    aspect.ratio <span class='op'>=</span> <span class='fl'>4</span><span class='op'>/</span><span class='fl'>2</span>,</span>
<span>    panel.border <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>,</span>
<span>    panel.background <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>,</span>
<span>    legend.position <span class='op'>=</span> <span class='st'>"none"</span></span>
<span>  <span class='op'>)</span></span>
<span></span>
<span><span class='va'>graph</span></span></code></pre>
</div>
<p><img src="100516517_files/figure-html5/unnamed-chunk-5-1.png" width="100%" /></p>
</div>
<h3 id="setting-the-actual-colors">Setting the actual colors</h3>
<p>To precisely establish the same colors as the target graph, I utilized the eyedropper tool available in Paint to extract the exact code for each color. Then, I manually assigned specific colors to each of the categories represented in the graph.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>graph</span> <span class='op'>&lt;-</span> <span class='va'>graph</span> <span class='op'>+</span> </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_fill_manual</a></span><span class='op'>(</span>values <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span></span>
<span>    <span class='st'>"VOX"</span> <span class='op'>=</span> <span class='st'>"#1F3D71"</span>,</span>
<span>    <span class='st'>"PP"</span> <span class='op'>=</span> <span class='st'>"#4D76BF"</span>,</span>
<span>    <span class='st'>"Cs"</span> <span class='op'>=</span> <span class='st'>"#E89433"</span>,</span>
<span>    <span class='st'>"UCD"</span> <span class='op'>=</span> <span class='st'>"#E6A55B"</span>,</span>
<span>    <span class='st'>"CDS"</span> <span class='op'>=</span> <span class='st'>"#C98B2C"</span>,</span>
<span>    <span class='st'>"UPyD"</span> <span class='op'>=</span> <span class='st'>"#FFC38D"</span>,</span>
<span>    <span class='st'>"US"</span> <span class='op'>=</span> <span class='st'>"#E2706D"</span>,</span>
<span>    <span class='st'>"PSOE"</span> <span class='op'>=</span> <span class='st'>"#BE4D4C"</span>,</span>
<span>    <span class='st'>"SUMAR"</span> <span class='op'>=</span> <span class='st'>"#A61918"</span>,</span>
<span>    <span class='st'>"PODEMOS"</span> <span class='op'>=</span> <span class='st'>"#D07F7F"</span>,</span>
<span>    <span class='st'>"PCE"</span> <span class='op'>=</span> <span class='st'>"#650904"</span>,</span>
<span>    <span class='st'>"Más País"</span> <span class='op'>=</span> <span class='st'>"#650904"</span>,</span>
<span>    <span class='st'>"IU"</span> <span class='op'>=</span> <span class='st'>"#9B2E33"</span>,</span>
<span>    <span class='st'>"CiU"</span> <span class='op'>=</span> <span class='st'>"#EAC659"</span>,</span>
<span>    <span class='st'>"Junts"</span> <span class='op'>=</span> <span class='st'>"#EAC659"</span>,</span>
<span>    <span class='st'>"ERC"</span> <span class='op'>=</span> <span class='st'>"#DDAB0B"</span>,</span>
<span>    <span class='st'>"Otros catalanes"</span> <span class='op'>=</span> <span class='st'>"#DDAB0B"</span>,</span>
<span>    <span class='st'>"PNV"</span> <span class='op'>=</span> <span class='st'>"#46862C"</span>,</span>
<span>    <span class='st'>"HB"</span> <span class='op'>=</span> <span class='st'>"#ABD894"</span>,</span>
<span>    <span class='st'>"EH Bildu"</span> <span class='op'>=</span> <span class='st'>"#A1B944"</span>,</span>
<span>    <span class='st'>"CC"</span> <span class='op'>=</span> <span class='st'>"#3B3D40"</span>,</span>
<span>    <span class='st'>"Otros"</span> <span class='op'>=</span> <span class='st'>"#E0E3E0"</span></span>
<span>  <span class='op'>)</span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>graph</span></span></code></pre>
</div>
<p><img src="100516517_files/figure-html5/unnamed-chunk-6-1.png" width="100%" /></p>
</div>
<h3 id="annotations">Annotations</h3>
<p>The chosen graph required numerous annotations to provide a comprehensive representation. To achieve this, the ggannotate library was employed. This library significantly simplifies the process of placing labels and annotations on ggplot2-generated graphs. One of its notable advantages is its capability to swiftly and easily insert labels. With ggannotate, we can position labels precisely which expedites the process while ensuring accurate placement of annotations.</p>
<h4 id="party-labels">Party labels</h4>
<p>The initial step involved establishing labels linked to the names of electoral formations and their respective segments.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'># remotes::install_github("mattcowgill/ggannotate")</span></span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://github.com/MattCowgill/ggannotate'>ggannotate</a></span><span class='op'>)</span></span>
<span><span class='co'>#For adding each annotation run: ggannotate(graph)</span></span>
<span></span>
<span><span class='va'>graph</span> <span class='op'>&lt;-</span> <span class='va'>graph</span> <span class='op'>+</span> </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>1981.458</span>, y <span class='op'>=</span> <span class='fl'>0.638</span>, label <span class='op'>=</span> <span class='st'>"UCD"</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>x</span>, y <span class='op'>=</span> <span class='va'>y</span>, label <span class='op'>=</span> <span class='va'>label</span><span class='op'>)</span>,</span>
<span>    size <span class='op'>=</span> <span class='fl'>1.5</span>, colour <span class='op'>=</span> <span class='st'>"white"</span>, fontface <span class='op'>=</span> <span class='fl'>2</span>, inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>2020.116</span>, y <span class='op'>=</span> <span class='fl'>0.912</span>, label <span class='op'>=</span> <span class='st'>"VOX"</span><span class='op'>)</span>, </span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>x</span>, y <span class='op'>=</span> <span class='va'>y</span>, label <span class='op'>=</span> <span class='va'>label</span><span class='op'>)</span>, </span>
<span>    size <span class='op'>=</span> <span class='fl'>1.5</span>, colour <span class='op'>=</span> <span class='st'>"white"</span>, fontface <span class='op'>=</span> <span class='fl'>2</span>, inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>1986.226</span>, y <span class='op'>=</span> <span class='fl'>0.912</span>, label <span class='op'>=</span> <span class='st'>"Alianza \n Popular"</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>x</span>, y <span class='op'>=</span> <span class='va'>y</span>, label <span class='op'>=</span> <span class='va'>label</span><span class='op'>)</span>,</span>
<span>    size <span class='op'>=</span> <span class='fl'>1.5</span>, colour <span class='op'>=</span> <span class='st'>"white"</span>, fontface <span class='op'>=</span> <span class='fl'>2</span>, inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>1989.632</span>, y <span class='op'>=</span> <span class='fl'>0.850</span>, label <span class='op'>=</span> <span class='st'>"Coalición \n Popular"</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>x</span>, y <span class='op'>=</span> <span class='va'>y</span>, label <span class='op'>=</span> <span class='va'>label</span><span class='op'>)</span>,</span>
<span>    size <span class='op'>=</span> <span class='fl'>1.5</span>, colour <span class='op'>=</span> <span class='st'>"white"</span>, fontface <span class='op'>=</span> <span class='fl'>2</span>, inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>2011.771</span>, y <span class='op'>=</span> <span class='fl'>0.7889</span>, label <span class='op'>=</span> <span class='st'>"PP"</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>x</span>, y <span class='op'>=</span> <span class='va'>y</span>, label <span class='op'>=</span> <span class='va'>label</span><span class='op'>)</span>,</span>
<span>    size <span class='op'>=</span> <span class='fl'>1.5</span>, colour <span class='op'>=</span> <span class='st'>"white"</span>, fontface <span class='op'>=</span> <span class='fl'>2</span>, inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>1997.00</span>, y <span class='op'>=</span> <span class='fl'>0.788</span>, label <span class='op'>=</span> <span class='st'>"PP"</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>x</span>, y <span class='op'>=</span> <span class='va'>y</span>, label <span class='op'>=</span> <span class='va'>label</span><span class='op'>)</span>,</span>
<span>    size <span class='op'>=</span> <span class='fl'>1.5</span>, colour <span class='op'>=</span> <span class='st'>"white"</span>, fontface <span class='op'>=</span> <span class='fl'>2</span>, inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>1982.820</span>, y <span class='op'>=</span> <span class='fl'>0.19</span>, label <span class='op'>=</span> <span class='st'>"PSOE"</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>x</span>, y <span class='op'>=</span> <span class='va'>y</span>, label <span class='op'>=</span> <span class='va'>label</span><span class='op'>)</span>,</span>
<span>    size <span class='op'>=</span> <span class='fl'>1.5</span>, colour <span class='op'>=</span> <span class='st'>"white"</span>, fontface <span class='op'>=</span> <span class='fl'>2</span>, inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>2005.130</span>, y <span class='op'>=</span> <span class='fl'>0.310</span>, label <span class='op'>=</span> <span class='st'>"PSOE"</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>x</span>, y <span class='op'>=</span> <span class='va'>y</span>, label <span class='op'>=</span> <span class='va'>label</span><span class='op'>)</span>,</span>
<span>    size <span class='op'>=</span> <span class='fl'>1.5</span>, colour <span class='op'>=</span> <span class='st'>"white"</span>, fontface <span class='op'>=</span> <span class='fl'>2</span>, inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>1994.571</span>, y <span class='op'>=</span> <span class='fl'>0.15</span>, label <span class='op'>=</span> <span class='st'>"IU"</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>x</span>, y <span class='op'>=</span> <span class='va'>y</span>, label <span class='op'>=</span> <span class='va'>label</span><span class='op'>)</span>,</span>
<span>    size <span class='op'>=</span> <span class='fl'>1.5</span>, colour <span class='op'>=</span> <span class='st'>"white"</span>, fontface <span class='op'>=</span> <span class='fl'>2</span>, inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>1979.2</span>, y <span class='op'>=</span> <span class='fl'>0.1</span>, label <span class='op'>=</span> <span class='st'>"PCE"</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>x</span>, y <span class='op'>=</span> <span class='va'>y</span>, label <span class='op'>=</span> <span class='va'>label</span><span class='op'>)</span>,</span>
<span>    size <span class='op'>=</span> <span class='fl'>1.5</span>, colour <span class='op'>=</span> <span class='st'>"white"</span>, fontface <span class='op'>=</span> <span class='fl'>2</span>, inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>2021.989</span>, y <span class='op'>=</span> <span class='fl'>0.3</span>, label <span class='op'>=</span> <span class='st'>"Sumar"</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>x</span>, y <span class='op'>=</span> <span class='va'>y</span>, label <span class='op'>=</span> <span class='va'>label</span><span class='op'>)</span>,</span>
<span>    size <span class='op'>=</span> <span class='fl'>1.5</span>, angle <span class='op'>=</span> <span class='fl'>30L</span>, colour <span class='op'>=</span> <span class='st'>"white"</span>, </span>
<span>    fontface <span class='op'>=</span> <span class='fl'>2</span>, inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>2015.177</span>, y <span class='op'>=</span> <span class='fl'>0.23</span>, </span>
<span>                      label <span class='op'>=</span> <span class='st'>"Podemos y \n confluencias"</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>x</span>, y <span class='op'>=</span> <span class='va'>y</span>, label <span class='op'>=</span> <span class='va'>label</span><span class='op'>)</span>,</span>
<span>    size <span class='op'>=</span> <span class='fl'>1.5</span>, colour <span class='op'>=</span> <span class='st'>"white"</span>, fontface <span class='op'>=</span> <span class='fl'>2</span>, inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>2019.321</span>, y <span class='op'>=</span> <span class='fl'>0.465</span>, label <span class='op'>=</span> <span class='st'>"Más País"</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>x</span>, y <span class='op'>=</span> <span class='va'>y</span>, label <span class='op'>=</span> <span class='va'>label</span><span class='op'>)</span>,</span>
<span>    size <span class='op'>=</span> <span class='fl'>1.5</span>, colour <span class='op'>=</span> <span class='st'>"white"</span>, fontface <span class='op'>=</span> <span class='fl'>2</span>, inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"segment"</span>, x <span class='op'>=</span> <span class='fl'>2019.4</span>, xend <span class='op'>=</span> <span class='fl'>2019.4</span>, y <span class='op'>=</span> <span class='fl'>0.41</span>, yend <span class='op'>=</span> <span class='fl'>0.39</span>, </span>
<span>           color <span class='op'>=</span> <span class='st'>"white"</span>, size <span class='op'>=</span> <span class='fl'>0.1</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>1987.078</span>, y <span class='op'>=</span> <span class='fl'>0.381</span>, label <span class='op'>=</span> <span class='st'>"CDS"</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>x</span>, y <span class='op'>=</span> <span class='va'>y</span>, label <span class='op'>=</span> <span class='va'>label</span><span class='op'>)</span>,</span>
<span>    size <span class='op'>=</span> <span class='fl'>1.5</span>, colour <span class='op'>=</span> <span class='st'>"white"</span>, fontface <span class='op'>=</span> <span class='fl'>2</span>, inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"segment"</span>, x <span class='op'>=</span> <span class='fl'>1987.2</span>, xend <span class='op'>=</span> <span class='fl'>1987.2</span>, y <span class='op'>=</span> <span class='fl'>0.43</span>, yend <span class='op'>=</span> <span class='fl'>0.50</span>, </span>
<span>           color <span class='op'>=</span> <span class='st'>"white"</span>, size <span class='op'>=</span> <span class='fl'>0.1</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>1978.1</span>, y <span class='op'>=</span> <span class='fl'>0.15</span>, label <span class='op'>=</span> <span class='st'>"Unidad \n Socialista"</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>x</span>, y <span class='op'>=</span> <span class='va'>y</span>, label <span class='op'>=</span> <span class='va'>label</span><span class='op'>)</span>,</span>
<span>    size <span class='op'>=</span> <span class='fl'>1.5</span>, colour <span class='op'>=</span> <span class='st'>"white"</span>, inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"segment"</span>, x <span class='op'>=</span> <span class='fl'>1978.1</span>, xend <span class='op'>=</span> <span class='fl'>1978.1</span>, y <span class='op'>=</span> <span class='fl'>0.2</span>, yend <span class='op'>=</span> <span class='fl'>0.25</span>, </span>
<span>           color <span class='op'>=</span> <span class='st'>"white"</span>, size <span class='op'>=</span> <span class='fl'>0.1</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>2016.938</span>, y <span class='op'>=</span> <span class='fl'>0.65</span>, label <span class='op'>=</span> <span class='st'>"Ciudadanos"</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>x</span>, y <span class='op'>=</span> <span class='va'>y</span>, label <span class='op'>=</span> <span class='va'>label</span><span class='op'>)</span>,</span>
<span>    size <span class='op'>=</span> <span class='fl'>1.5</span>, angle <span class='op'>=</span> <span class='op'>-</span><span class='fl'>105L</span>, colour <span class='op'>=</span> <span class='st'>"white"</span>, </span>
<span>    fontface <span class='op'>=</span> <span class='fl'>2</span>, inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>2010.388</span>, y <span class='op'>=</span> <span class='fl'>0.343</span>, label <span class='op'>=</span> <span class='st'>"UPyD"</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>x</span>, y <span class='op'>=</span> <span class='va'>y</span>, label <span class='op'>=</span> <span class='va'>label</span><span class='op'>)</span>,</span>
<span>    size <span class='op'>=</span> <span class='fl'>1.5</span>, colour <span class='op'>=</span> <span class='st'>"white"</span>, inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"segment"</span>, x <span class='op'>=</span> <span class='fl'>2010.388</span>, xend <span class='op'>=</span> <span class='fl'>2010.388</span>, y <span class='op'>=</span> <span class='fl'>0.41</span>, yend <span class='op'>=</span> <span class='fl'>0.475</span>, </span>
<span>           color <span class='op'>=</span> <span class='st'>"white"</span>, size <span class='op'>=</span> <span class='fl'>0.1</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>1989</span>, y <span class='op'>=</span> <span class='fl'>0.139</span>, </span>
<span>                      label <span class='op'>=</span> <span class='st'>"PNV \n Herri Batasuna"</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>x</span>, y <span class='op'>=</span> <span class='va'>y</span>, label <span class='op'>=</span> <span class='va'>label</span><span class='op'>)</span>,</span>
<span>    size <span class='op'>=</span> <span class='fl'>1.5</span>, hjust <span class='op'>=</span> <span class='fl'>0L</span>, colour <span class='op'>=</span> <span class='st'>"white"</span>, inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"segment"</span>, x <span class='op'>=</span> <span class='fl'>1988.6</span>, xend <span class='op'>=</span> <span class='fl'>1988.6</span>, y <span class='op'>=</span> <span class='fl'>0.05</span>, yend <span class='op'>=</span> <span class='fl'>0.12</span>, </span>
<span>           color <span class='op'>=</span> <span class='st'>"white"</span>, size <span class='op'>=</span> <span class='fl'>0.1</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"segment"</span>, x <span class='op'>=</span> <span class='fl'>1989.5</span>, xend <span class='op'>=</span> <span class='fl'>1989.5</span>, y <span class='op'>=</span> <span class='fl'>0.043</span>, yend <span class='op'>=</span> <span class='fl'>0.12</span>, </span>
<span>           color <span class='op'>=</span> <span class='st'>"white"</span>, size <span class='op'>=</span> <span class='fl'>0.1</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>1998.173</span>, y <span class='op'>=</span> <span class='fl'>0.192</span>, label <span class='op'>=</span> <span class='st'>"Coalición Canaria"</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>x</span>, y <span class='op'>=</span> <span class='va'>y</span>, label <span class='op'>=</span> <span class='va'>label</span><span class='op'>)</span>,</span>
<span>    size <span class='op'>=</span> <span class='fl'>1.5</span>, hjust <span class='op'>=</span> <span class='fl'>0L</span>, colour <span class='op'>=</span> <span class='st'>"white"</span>, inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"segment"</span>, x <span class='op'>=</span> <span class='fl'>1998.18</span>, xend <span class='op'>=</span> <span class='fl'>1998.18</span>, y <span class='op'>=</span> <span class='fl'>0.024</span>, yend <span class='op'>=</span> <span class='fl'>0.17</span>, </span>
<span>           color <span class='op'>=</span> <span class='st'>"white"</span>, size <span class='op'>=</span> <span class='fl'>0.1</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>2004.546</span>, y <span class='op'>=</span> <span class='fl'>0.166</span>, label <span class='op'>=</span> <span class='st'>"ERC"</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>x</span>, y <span class='op'>=</span> <span class='va'>y</span>, label <span class='op'>=</span> <span class='va'>label</span><span class='op'>)</span>,</span>
<span>    size <span class='op'>=</span> <span class='fl'>1.5</span>, colour <span class='op'>=</span> <span class='st'>"white"</span>, inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"segment"</span>, x <span class='op'>=</span> <span class='fl'>2004.65</span>, xend <span class='op'>=</span> <span class='fl'>2004.65</span>, y <span class='op'>=</span> <span class='fl'>0.06</span>, yend <span class='op'>=</span> <span class='fl'>0.13</span>, </span>
<span>           color <span class='op'>=</span> <span class='st'>"white"</span>, size <span class='op'>=</span> <span class='fl'>0.1</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>2017.8</span>, y <span class='op'>=</span> <span class='fl'>0.16</span>, </span>
<span>                      label <span class='op'>=</span> <span class='st'>"Junts \n ERC \n PNV \n Bildu"</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>x</span>, y <span class='op'>=</span> <span class='va'>y</span>, label <span class='op'>=</span> <span class='va'>label</span><span class='op'>)</span>,</span>
<span>    size <span class='op'>=</span> <span class='fl'>1.5</span>, colour <span class='op'>=</span> <span class='st'>"white"</span>, inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"segment"</span>, x <span class='op'>=</span> <span class='fl'>2016.6</span>, xend <span class='op'>=</span> <span class='fl'>2016.6</span>, y <span class='op'>=</span> <span class='fl'>0.055</span>, yend <span class='op'>=</span> <span class='fl'>0.12</span>, </span>
<span>           color <span class='op'>=</span> <span class='st'>"white"</span>, size <span class='op'>=</span> <span class='fl'>0.1</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"segment"</span>, x <span class='op'>=</span> <span class='fl'>2017.4</span>, xend <span class='op'>=</span> <span class='fl'>2017.4</span>, y <span class='op'>=</span> <span class='fl'>0.048</span>, yend <span class='op'>=</span> <span class='fl'>0.12</span>, </span>
<span>           color <span class='op'>=</span> <span class='st'>"white"</span>, size <span class='op'>=</span> <span class='fl'>0.1</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"segment"</span>, x <span class='op'>=</span> <span class='fl'>2018.2</span>, xend <span class='op'>=</span> <span class='fl'>2018.2</span>, y <span class='op'>=</span> <span class='fl'>0.03</span>, yend <span class='op'>=</span> <span class='fl'>0.12</span>, </span>
<span>           color <span class='op'>=</span> <span class='st'>"white"</span>, size <span class='op'>=</span> <span class='fl'>0.1</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"segment"</span>, x <span class='op'>=</span> <span class='fl'>2019</span>, xend <span class='op'>=</span> <span class='fl'>2019</span>, y <span class='op'>=</span> <span class='fl'>0.02</span>, yend <span class='op'>=</span> <span class='fl'>0.12</span>, </span>
<span>           color <span class='op'>=</span> <span class='st'>"white"</span>, size <span class='op'>=</span> <span class='fl'>0.1</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>1992.154</span>, y <span class='op'>=</span> <span class='fl'>0.1</span>, label <span class='op'>=</span> <span class='st'>"CiU"</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>x</span>, y <span class='op'>=</span> <span class='va'>y</span>, label <span class='op'>=</span> <span class='va'>label</span><span class='op'>)</span>,</span>
<span>    size <span class='op'>=</span> <span class='fl'>1.5</span>, colour <span class='op'>=</span> <span class='st'>"white"</span>, inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>graph</span></span></code></pre>
</div>
<p><img src="100516517_files/figure-html5/unnamed-chunk-7-1.png" width="100%" /></p>
</div>
<h4 id="x-and-y-axes">X and Y axes</h4>
<p>Following that, annotations related to the X and Y axes were established, since they had a specific format that wasn’t available in any predefined theme.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>graph</span> <span class='op'>&lt;-</span> <span class='va'>graph</span> <span class='op'>+</span> </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_tile.html'>geom_rect</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='fl'>1977.425</span>, xmax <span class='op'>=</span> <span class='fl'>2023.556</span>, </span>
<span>                      ymin <span class='op'>=</span> <span class='op'>-</span><span class='fl'>0.06</span>, ymax <span class='op'>=</span> <span class='op'>-</span><span class='fl'>0.06</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='va'>xmin</span>, xmax <span class='op'>=</span> <span class='va'>xmax</span>, ymin <span class='op'>=</span> <span class='va'>ymin</span>, ymax <span class='op'>=</span> <span class='va'>ymax</span><span class='op'>)</span>,</span>
<span>    colour <span class='op'>=</span> <span class='st'>"#6A6A6A"</span>, fill <span class='op'>=</span> <span class='st'>"#6A6A6A"</span>, alpha <span class='op'>=</span> <span class='fl'>0.25</span>, inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_tile.html'>geom_rect</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='fl'>2024.67</span>, xmax <span class='op'>=</span> <span class='fl'>2024.67</span>, ymin <span class='op'>=</span> <span class='fl'>0</span>, ymax <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='va'>xmin</span>, xmax <span class='op'>=</span> <span class='va'>xmax</span>, ymin <span class='op'>=</span> <span class='va'>ymin</span>, ymax <span class='op'>=</span> <span class='va'>ymax</span><span class='op'>)</span>,</span>
<span>    colour <span class='op'>=</span> <span class='st'>"#6A6A6A"</span>, fill <span class='op'>=</span> <span class='st'>"#6A6A6A"</span>, alpha <span class='op'>=</span> <span class='fl'>0.25</span>, inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_tile.html'>geom_rect</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='fl'>2024.4</span>, xmax <span class='op'>=</span> <span class='fl'>2024.67</span>, ymin <span class='op'>=</span> <span class='fl'>0</span>, ymax <span class='op'>=</span> <span class='fl'>0</span><span class='op'>)</span>, </span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='va'>xmin</span>, xmax <span class='op'>=</span> <span class='va'>xmax</span>, ymin <span class='op'>=</span> <span class='va'>ymin</span>, ymax <span class='op'>=</span> <span class='va'>ymax</span><span class='op'>)</span>,</span>
<span>    colour <span class='op'>=</span> <span class='st'>"#6A6A6A"</span>, fill <span class='op'>=</span> <span class='st'>"#6A6A6A"</span>, alpha <span class='op'>=</span> <span class='fl'>0.25</span>, inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_tile.html'>geom_rect</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='fl'>2024.4</span>, xmax <span class='op'>=</span> <span class='fl'>2024.67</span>, ymin <span class='op'>=</span> <span class='fl'>1</span>, ymax <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span>, </span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='va'>xmin</span>, xmax <span class='op'>=</span> <span class='va'>xmax</span>, ymin <span class='op'>=</span> <span class='va'>ymin</span>, ymax <span class='op'>=</span> <span class='va'>ymax</span><span class='op'>)</span>,</span>
<span>    colour <span class='op'>=</span> <span class='st'>"#6A6A6A"</span>, fill <span class='op'>=</span> <span class='st'>"#6A6A6A"</span>, alpha <span class='op'>=</span> <span class='fl'>0.25</span>, inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>graph</span></span></code></pre>
</div>
<p><img src="100516517_files/figure-html5/unnamed-chunk-8-1.png" width="100%" /></p>
</div>
<h4 id="third-axis-presidencies">Third Axis: Presidencies</h4>
<p>The third axis, parallel to the Y-axis, was crafted using annotations. This axis informs about the succession of presidencies over the years, and was done by connecting points with segments and specifying the president’s name and their affiliated party.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>graph</span> <span class='op'>&lt;-</span> <span class='va'>graph</span> <span class='op'>+</span> </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_tile.html'>geom_rect</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='fl'>1977.425</span>, xmax <span class='op'>=</span> <span class='fl'>1980.5</span>, </span>
<span>                      ymin <span class='op'>=</span> <span class='fl'>1.059</span>, ymax <span class='op'>=</span> <span class='fl'>1.059</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='va'>xmin</span>, xmax <span class='op'>=</span> <span class='va'>xmax</span>, ymin <span class='op'>=</span> <span class='va'>ymin</span>, ymax <span class='op'>=</span> <span class='va'>ymax</span><span class='op'>)</span>,</span>
<span>    colour <span class='op'>=</span> <span class='st'>"#E6A55B"</span>, fill <span class='op'>=</span> <span class='st'>"#E6A55B"</span>, alpha <span class='op'>=</span> <span class='fl'>1</span>, size <span class='op'>=</span> <span class='fl'>0.75</span>, </span>
<span>    inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"point"</span>, x <span class='op'>=</span> <span class='fl'>1977.425</span>, y <span class='op'>=</span> <span class='fl'>1.059</span>, shape <span class='op'>=</span> <span class='fl'>21</span>, size <span class='op'>=</span> <span class='fl'>1</span>, </span>
<span>           colour <span class='op'>=</span> <span class='st'>"#E6A55B"</span>, fill <span class='op'>=</span> <span class='st'>"#E6A55B"</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"point"</span>, x <span class='op'>=</span> <span class='fl'>1980.5</span>, y <span class='op'>=</span> <span class='fl'>1.059</span>, shape <span class='op'>=</span> <span class='fl'>21</span>, size <span class='op'>=</span> <span class='fl'>1</span>, </span>
<span>           colour <span class='op'>=</span> <span class='st'>"#E6A55B"</span>, fill <span class='op'>=</span> <span class='st'>"#E6A55B"</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_tile.html'>geom_rect</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='fl'>1981</span>, xmax <span class='op'>=</span> <span class='fl'>1982.322</span>, ymin <span class='op'>=</span> <span class='fl'>1.059</span>, ymax <span class='op'>=</span> <span class='fl'>1.059</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='va'>xmin</span>, xmax <span class='op'>=</span> <span class='va'>xmax</span>, ymin <span class='op'>=</span> <span class='va'>ymin</span>, ymax <span class='op'>=</span> <span class='va'>ymax</span><span class='op'>)</span>,</span>
<span>    colour <span class='op'>=</span> <span class='st'>"#E6A55B"</span>, fill <span class='op'>=</span> <span class='st'>"#E6A55B"</span>, alpha <span class='op'>=</span> <span class='fl'>1</span>, size <span class='op'>=</span> <span class='fl'>0.75</span>, </span>
<span>    inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"point"</span>, x <span class='op'>=</span> <span class='fl'>1981</span>, y <span class='op'>=</span> <span class='fl'>1.059</span>, shape <span class='op'>=</span> <span class='fl'>21</span>, size <span class='op'>=</span> <span class='fl'>1</span>, </span>
<span>           colour <span class='op'>=</span> <span class='st'>"#E6A55B"</span>, fill <span class='op'>=</span> <span class='st'>"#E6A55B"</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"point"</span>, x <span class='op'>=</span> <span class='fl'>1982.322</span> , y <span class='op'>=</span> <span class='fl'>1.059</span>, shape <span class='op'>=</span> <span class='fl'>21</span>, size <span class='op'>=</span> <span class='fl'>1</span>, </span>
<span>           colour <span class='op'>=</span> <span class='st'>"#E6A55B"</span>, fill <span class='op'>=</span> <span class='st'>"#E6A55B"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_tile.html'>geom_rect</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='fl'>1982.822</span>, xmax <span class='op'>=</span> <span class='fl'>1995.669</span>, </span>
<span>                      ymin <span class='op'>=</span> <span class='fl'>1.059</span>, ymax <span class='op'>=</span> <span class='fl'>1.059</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='va'>xmin</span>, xmax <span class='op'>=</span> <span class='va'>xmax</span>, ymin <span class='op'>=</span> <span class='va'>ymin</span>, ymax <span class='op'>=</span> <span class='va'>ymax</span><span class='op'>)</span>,</span>
<span>    colour <span class='op'>=</span> <span class='st'>"#BE4D4C"</span>, fill <span class='op'>=</span> <span class='st'>"#BE4D4C"</span>, alpha <span class='op'>=</span> <span class='fl'>1</span>, size <span class='op'>=</span> <span class='fl'>0.75</span>, </span>
<span>    inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"point"</span>, x <span class='op'>=</span> <span class='fl'>1982.822</span>, y <span class='op'>=</span> <span class='fl'>1.059</span>, shape <span class='op'>=</span> <span class='fl'>21</span>, size <span class='op'>=</span> <span class='fl'>1</span>, </span>
<span>           colour <span class='op'>=</span> <span class='st'>"#BE4D4C"</span>, fill <span class='op'>=</span> <span class='st'>"#BE4D4C"</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"point"</span>, x <span class='op'>=</span> <span class='fl'>1995.669</span> , y <span class='op'>=</span> <span class='fl'>1.059</span>, shape <span class='op'>=</span> <span class='fl'>21</span>, size <span class='op'>=</span> <span class='fl'>1</span>, </span>
<span>           colour <span class='op'>=</span> <span class='st'>"#BE4D4C"</span>, fill <span class='op'>=</span> <span class='st'>"#BE4D4C"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_tile.html'>geom_rect</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='fl'>1996.169</span>, xmax <span class='op'>=</span> <span class='fl'>2003.699</span>, </span>
<span>                      ymin <span class='op'>=</span> <span class='fl'>1.059</span>, ymax <span class='op'>=</span> <span class='fl'>1.059</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='va'>xmin</span>, xmax <span class='op'>=</span> <span class='va'>xmax</span>, ymin <span class='op'>=</span> <span class='va'>ymin</span>, ymax <span class='op'>=</span> <span class='va'>ymax</span><span class='op'>)</span>,</span>
<span>    colour <span class='op'>=</span> <span class='st'>"#4D76BF"</span>, fill <span class='op'>=</span> <span class='st'>"#4D76BF"</span>, alpha <span class='op'>=</span> <span class='fl'>1</span>, size <span class='op'>=</span> <span class='fl'>0.75</span>, </span>
<span>    inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"point"</span>, x <span class='op'>=</span> <span class='fl'>1996.169</span>, y <span class='op'>=</span> <span class='fl'>1.059</span>, shape <span class='op'>=</span> <span class='fl'>21</span>, size <span class='op'>=</span> <span class='fl'>1</span>, </span>
<span>           colour <span class='op'>=</span> <span class='st'>"#4D76BF"</span>, fill <span class='op'>=</span> <span class='st'>"#4D76BF"</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"point"</span>, x <span class='op'>=</span> <span class='fl'>2003.699</span> , y <span class='op'>=</span> <span class='fl'>1.059</span>, shape <span class='op'>=</span> <span class='fl'>21</span>, size <span class='op'>=</span> <span class='fl'>1</span>, </span>
<span>           colour <span class='op'>=</span> <span class='st'>"#4D76BF"</span>, fill <span class='op'>=</span> <span class='st'>"#4D76BF"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_tile.html'>geom_rect</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='fl'>2004.199</span>, xmax <span class='op'>=</span> <span class='fl'>2011.385</span>, </span>
<span>                      ymin <span class='op'>=</span> <span class='fl'>1.059</span>, ymax <span class='op'>=</span> <span class='fl'>1.059</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='va'>xmin</span>, xmax <span class='op'>=</span> <span class='va'>xmax</span>, ymin <span class='op'>=</span> <span class='va'>ymin</span>, ymax <span class='op'>=</span> <span class='va'>ymax</span><span class='op'>)</span>,</span>
<span>    colour <span class='op'>=</span> <span class='st'>"#BE4D4C"</span>, fill <span class='op'>=</span> <span class='st'>"#BE4D4C"</span>, alpha <span class='op'>=</span> <span class='fl'>1</span>, size <span class='op'>=</span> <span class='fl'>0.75</span>, </span>
<span>    inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"point"</span>, x <span class='op'>=</span> <span class='fl'>2004.199</span>, y <span class='op'>=</span> <span class='fl'>1.059</span>, shape <span class='op'>=</span> <span class='fl'>21</span>, size <span class='op'>=</span> <span class='fl'>1</span>, </span>
<span>           colour <span class='op'>=</span> <span class='st'>"#BE4D4C"</span>, fill <span class='op'>=</span> <span class='st'>"#BE4D4C"</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"point"</span>, x <span class='op'>=</span> <span class='fl'>2011.385</span> , y <span class='op'>=</span> <span class='fl'>1.059</span>, shape <span class='op'>=</span> <span class='fl'>21</span>, size <span class='op'>=</span> <span class='fl'>1</span>, </span>
<span>           colour <span class='op'>=</span> <span class='st'>"#BE4D4C"</span>, fill <span class='op'>=</span> <span class='st'>"#BE4D4C"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_tile.html'>geom_rect</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='fl'>2011.885</span>, xmax <span class='op'>=</span> <span class='fl'>2018.821</span>, </span>
<span>                      ymin <span class='op'>=</span> <span class='fl'>1.059</span>, ymax <span class='op'>=</span> <span class='fl'>1.059</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='va'>xmin</span>, xmax <span class='op'>=</span> <span class='va'>xmax</span>, ymin <span class='op'>=</span> <span class='va'>ymin</span>, ymax <span class='op'>=</span> <span class='va'>ymax</span><span class='op'>)</span>,</span>
<span>    colour <span class='op'>=</span> <span class='st'>"#4D76BF"</span>, fill <span class='op'>=</span> <span class='st'>"#4D76BF"</span>, alpha <span class='op'>=</span> <span class='fl'>1</span>, size <span class='op'>=</span> <span class='fl'>0.75</span>, </span>
<span>    inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"point"</span>, x <span class='op'>=</span> <span class='fl'>2011.885</span>, y <span class='op'>=</span> <span class='fl'>1.059</span>, shape <span class='op'>=</span> <span class='fl'>21</span>, size <span class='op'>=</span> <span class='fl'>1</span>, </span>
<span>           colour <span class='op'>=</span> <span class='st'>"#4D76BF"</span>, fill <span class='op'>=</span> <span class='st'>"#4D76BF"</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"point"</span>, x <span class='op'>=</span> <span class='fl'>2018.821</span> , y <span class='op'>=</span> <span class='fl'>1.059</span>, shape <span class='op'>=</span> <span class='fl'>21</span>, size <span class='op'>=</span> <span class='fl'>1</span>, </span>
<span>           colour <span class='op'>=</span> <span class='st'>"#4D76BF"</span>, fill <span class='op'>=</span> <span class='st'>"#4D76BF"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_tile.html'>geom_rect</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='fl'>2019.321</span>, xmax <span class='op'>=</span> <span class='fl'>2023</span>, ymin <span class='op'>=</span> <span class='fl'>1.059</span>, ymax <span class='op'>=</span> <span class='fl'>1.059</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='va'>xmin</span>, xmax <span class='op'>=</span> <span class='va'>xmax</span>, ymin <span class='op'>=</span> <span class='va'>ymin</span>, ymax <span class='op'>=</span> <span class='va'>ymax</span><span class='op'>)</span>,</span>
<span>    colour <span class='op'>=</span> <span class='st'>"#BE4D4C"</span>, fill <span class='op'>=</span> <span class='st'>"#BE4D4C"</span>, alpha <span class='op'>=</span> <span class='fl'>1</span>, size <span class='op'>=</span> <span class='fl'>0.75</span>, </span>
<span>    inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"point"</span>, x <span class='op'>=</span> <span class='fl'>2019.321</span>, y <span class='op'>=</span> <span class='fl'>1.059</span>, shape <span class='op'>=</span> <span class='fl'>21</span>, size <span class='op'>=</span> <span class='fl'>1</span>, </span>
<span>           colour <span class='op'>=</span> <span class='st'>"#BE4D4C"</span>, fill <span class='op'>=</span> <span class='st'>"#BE4D4C"</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"point"</span>, x <span class='op'>=</span> <span class='fl'>2023</span> , y <span class='op'>=</span> <span class='fl'>1.059</span>, shape <span class='op'>=</span> <span class='fl'>21</span>, size <span class='op'>=</span> <span class='fl'>1</span>, </span>
<span>           colour <span class='op'>=</span> <span class='st'>"#BE4D4C"</span>, fill <span class='op'>=</span> <span class='st'>"#BE4D4C"</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>1978.5</span>, y <span class='op'>=</span> <span class='fl'>1.094</span>, label <span class='op'>=</span> <span class='st'>"Adolfo\nSuárez\n(UCD)"</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>x</span>, y <span class='op'>=</span> <span class='va'>y</span>, label <span class='op'>=</span> <span class='va'>label</span><span class='op'>)</span>,</span>
<span>    size <span class='op'>=</span> <span class='fl'>1.23</span>, colour <span class='op'>=</span> <span class='st'>"#E6A55B"</span>, hjust <span class='op'>=</span> <span class='fl'>0L</span>, inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>1981.532</span>, y <span class='op'>=</span> <span class='fl'>1.1</span>, </span>
<span>                      label <span class='op'>=</span> <span class='st'>"Leopoldo\nCalvo-Sotelo\n(UCD)"</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>x</span>, y <span class='op'>=</span> <span class='va'>y</span>, label <span class='op'>=</span> <span class='va'>label</span><span class='op'>)</span>,</span>
<span>    size <span class='op'>=</span> <span class='fl'>1.23</span>, colour <span class='op'>=</span> <span class='st'>"#E6A55B"</span>, hjust <span class='op'>=</span> <span class='fl'>0L</span>, inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>1988.61</span>, y <span class='op'>=</span> <span class='fl'>1.1</span>, label <span class='op'>=</span> <span class='st'>"Felipe\nGonzález\n(PSOE)"</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>x</span>, y <span class='op'>=</span> <span class='va'>y</span>, label <span class='op'>=</span> <span class='va'>label</span><span class='op'>)</span>,</span>
<span>    size <span class='op'>=</span> <span class='fl'>1.23</span>, colour <span class='op'>=</span> <span class='st'>"#BE4D4C"</span>, hjust <span class='op'>=</span> <span class='fl'>0L</span>, inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>1999.235</span>, y <span class='op'>=</span> <span class='fl'>1.1</span>, label <span class='op'>=</span> <span class='st'>"José María\nAznar\n(PP)"</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>x</span>, y <span class='op'>=</span> <span class='va'>y</span>, label <span class='op'>=</span> <span class='va'>label</span><span class='op'>)</span>,</span>
<span>    size <span class='op'>=</span> <span class='fl'>1.23</span>, colour <span class='op'>=</span> <span class='st'>"#4D76BF"</span>, hjust <span class='op'>=</span> <span class='fl'>0L</span>, inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>2007.202</span>, y <span class='op'>=</span> <span class='fl'>1.1</span>, </span>
<span>                      label <span class='op'>=</span> <span class='st'>"José Luis\nRodríguez\nZapatero\n(PSOE)"</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>x</span>, y <span class='op'>=</span> <span class='va'>y</span>, label <span class='op'>=</span> <span class='va'>label</span><span class='op'>)</span>,</span>
<span>    size <span class='op'>=</span> <span class='fl'>1.23</span>, colour <span class='op'>=</span> <span class='st'>"#BE4D4C"</span>, hjust <span class='op'>=</span> <span class='fl'>0L</span>, inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>2014.991</span>, y <span class='op'>=</span> <span class='fl'>1.1</span>, label <span class='op'>=</span> <span class='st'>"Mariano\nRajoy\n(PP)"</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>x</span>, y <span class='op'>=</span> <span class='va'>y</span>, label <span class='op'>=</span> <span class='va'>label</span><span class='op'>)</span>,</span>
<span>    size <span class='op'>=</span> <span class='fl'>1.23</span>, colour <span class='op'>=</span> <span class='st'>"#4D76BF"</span>, hjust <span class='op'>=</span> <span class='fl'>0L</span>, inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>2020.833</span>, y <span class='op'>=</span> <span class='fl'>1.1</span>, label <span class='op'>=</span> <span class='st'>"Pedro\nSánchez\n(PSOE)"</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>x</span>, y <span class='op'>=</span> <span class='va'>y</span>, label <span class='op'>=</span> <span class='va'>label</span><span class='op'>)</span>,</span>
<span>    size <span class='op'>=</span> <span class='fl'>1.23</span>, colour <span class='op'>=</span> <span class='st'>"#BE4D4C"</span>, hjust <span class='op'>=</span> <span class='fl'>0L</span>, inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>graph</span> </span></code></pre>
</div>
<p><img src="100516517_files/figure-html5/unnamed-chunk-9-1.png" width="100%" /></p>
</div>
<h4 id="legend">Legend</h4>
<p>Lastly, since the colors of each stream had to be manually defined, there wasn’t an automated way for R to show the color transitions based on the ideological orientation in which the parties of the graph are organized. To mimic these color transitions in the legend, I assembled small squares representing the colors I used.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>graph</span> <span class='op'>&lt;-</span> <span class='va'>graph</span> <span class='op'>+</span>  </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_tile.html'>geom_rect</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='fl'>1975.4</span>, xmax <span class='op'>=</span> <span class='fl'>1976</span>, ymin <span class='op'>=</span> <span class='op'>-</span><span class='fl'>0.06</span>, ymax <span class='op'>=</span> <span class='op'>-</span><span class='fl'>0.05</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='va'>xmin</span>, xmax <span class='op'>=</span> <span class='va'>xmax</span>, ymin <span class='op'>=</span> <span class='va'>ymin</span>, ymax <span class='op'>=</span> <span class='va'>ymax</span><span class='op'>)</span>,</span>
<span>    fill <span class='op'>=</span> <span class='st'>"#650904"</span>, alpha <span class='op'>=</span> <span class='fl'>1</span>, inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_tile.html'>geom_rect</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='fl'>1975.4</span>, xmax <span class='op'>=</span> <span class='fl'>1976</span>, ymin <span class='op'>=</span> <span class='op'>-</span><span class='fl'>0.05</span>, ymax <span class='op'>=</span> <span class='op'>-</span><span class='fl'>0.04</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='va'>xmin</span>, xmax <span class='op'>=</span> <span class='va'>xmax</span>, ymin <span class='op'>=</span> <span class='va'>ymin</span>, ymax <span class='op'>=</span> <span class='va'>ymax</span><span class='op'>)</span>,</span>
<span>    fill <span class='op'>=</span> <span class='st'>"#A61918"</span>, alpha <span class='op'>=</span> <span class='fl'>1</span> , inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_tile.html'>geom_rect</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='fl'>1975.4</span>, xmax <span class='op'>=</span> <span class='fl'>1976</span>, ymin <span class='op'>=</span> <span class='op'>-</span><span class='fl'>0.04</span>, ymax <span class='op'>=</span> <span class='op'>-</span><span class='fl'>0.03</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='va'>xmin</span>, xmax <span class='op'>=</span> <span class='va'>xmax</span>, ymin <span class='op'>=</span> <span class='va'>ymin</span>, ymax <span class='op'>=</span> <span class='va'>ymax</span><span class='op'>)</span>,</span>
<span>    fill <span class='op'>=</span> <span class='st'>"#9B2E33"</span>, alpha <span class='op'>=</span> <span class='fl'>0.9</span>, inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_tile.html'>geom_rect</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='fl'>1975.4</span>, xmax <span class='op'>=</span> <span class='fl'>1976</span>, ymin <span class='op'>=</span> <span class='op'>-</span><span class='fl'>0.03</span>, ymax <span class='op'>=</span> <span class='op'>-</span><span class='fl'>0.02</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='va'>xmin</span>, xmax <span class='op'>=</span> <span class='va'>xmax</span>, ymin <span class='op'>=</span> <span class='va'>ymin</span>, ymax <span class='op'>=</span> <span class='va'>ymax</span><span class='op'>)</span>,</span>
<span>    fill <span class='op'>=</span> <span class='st'>"#BE4D4C"</span>, alpha <span class='op'>=</span> <span class='fl'>0.8</span>, inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_tile.html'>geom_rect</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='fl'>1975.4</span>, xmax <span class='op'>=</span> <span class='fl'>1976</span>, ymin <span class='op'>=</span> <span class='op'>-</span><span class='fl'>0.02</span>, ymax <span class='op'>=</span> <span class='op'>-</span><span class='fl'>0.01</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='va'>xmin</span>, xmax <span class='op'>=</span> <span class='va'>xmax</span>, ymin <span class='op'>=</span> <span class='va'>ymin</span>, ymax <span class='op'>=</span> <span class='va'>ymax</span><span class='op'>)</span>,</span>
<span>    fill <span class='op'>=</span> <span class='st'>"#D07F7F"</span>, alpha <span class='op'>=</span> <span class='fl'>0.7</span>, inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_tile.html'>geom_rect</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='fl'>1975.4</span>, xmax <span class='op'>=</span> <span class='fl'>1976</span>, ymin <span class='op'>=</span> <span class='op'>-</span><span class='fl'>0.01</span>, ymax <span class='op'>=</span> <span class='fl'>0</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='va'>xmin</span>, xmax <span class='op'>=</span> <span class='va'>xmax</span>, ymin <span class='op'>=</span> <span class='va'>ymin</span>, ymax <span class='op'>=</span> <span class='va'>ymax</span><span class='op'>)</span>,</span>
<span>    fill <span class='op'>=</span> <span class='st'>"#E2706D"</span>, alpha <span class='op'>=</span> <span class='fl'>0.4</span>, inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>1975.6</span>, y <span class='op'>=</span> <span class='fl'>0.01</span>, label <span class='op'>=</span> <span class='st'>"Izquierda"</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>x</span>, y <span class='op'>=</span> <span class='va'>y</span>, label <span class='op'>=</span> <span class='va'>label</span><span class='op'>)</span>,</span>
<span>    colour <span class='op'>=</span> <span class='st'>"#6A6A6A"</span>, size <span class='op'>=</span> <span class='fl'>1.7</span>, hjust <span class='op'>=</span> <span class='fl'>0L</span>, inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_tile.html'>geom_rect</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='fl'>1975.4</span>, xmax <span class='op'>=</span> <span class='fl'>1976</span>, ymin <span class='op'>=</span> <span class='fl'>0.15</span>, ymax <span class='op'>=</span> <span class='fl'>0.17</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='va'>xmin</span>, xmax <span class='op'>=</span> <span class='va'>xmax</span>, ymin <span class='op'>=</span> <span class='va'>ymin</span>, ymax <span class='op'>=</span> <span class='va'>ymax</span><span class='op'>)</span>,</span>
<span>    fill <span class='op'>=</span> <span class='st'>"#C98B2C"</span>, alpha <span class='op'>=</span> <span class='fl'>1</span>, inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_tile.html'>geom_rect</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='fl'>1975.4</span>, xmax <span class='op'>=</span> <span class='fl'>1976</span>, ymin <span class='op'>=</span> <span class='fl'>0.17</span>, ymax <span class='op'>=</span> <span class='fl'>0.19</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='va'>xmin</span>, xmax <span class='op'>=</span> <span class='va'>xmax</span>, ymin <span class='op'>=</span> <span class='va'>ymin</span>, ymax <span class='op'>=</span> <span class='va'>ymax</span><span class='op'>)</span>,</span>
<span>    fill <span class='op'>=</span> <span class='st'>"#E89433"</span>, alpha <span class='op'>=</span> <span class='fl'>1</span> , inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_tile.html'>geom_rect</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='fl'>1975.4</span>, xmax <span class='op'>=</span> <span class='fl'>1976</span>, ymin <span class='op'>=</span> <span class='fl'>0.19</span>, ymax <span class='op'>=</span> <span class='fl'>0.21</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='va'>xmin</span>, xmax <span class='op'>=</span> <span class='va'>xmax</span>, ymin <span class='op'>=</span> <span class='va'>ymin</span>, ymax <span class='op'>=</span> <span class='va'>ymax</span><span class='op'>)</span>,</span>
<span>    fill <span class='op'>=</span> <span class='st'>"#E6A55B"</span>, alpha <span class='op'>=</span> <span class='fl'>0.9</span>, inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>1975.6</span>, y <span class='op'>=</span> <span class='fl'>0.22</span>, label <span class='op'>=</span> <span class='st'>"Centro"</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>x</span>, y <span class='op'>=</span> <span class='va'>y</span>, label <span class='op'>=</span> <span class='va'>label</span><span class='op'>)</span>,</span>
<span>    colour <span class='op'>=</span> <span class='st'>"#6A6A6A"</span>, size <span class='op'>=</span> <span class='fl'>1.7</span>, hjust <span class='op'>=</span> <span class='fl'>0L</span>, inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_tile.html'>geom_rect</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='fl'>1975.4</span>, xmax <span class='op'>=</span> <span class='fl'>1976</span>, ymin <span class='op'>=</span> <span class='fl'>0.34</span>, ymax <span class='op'>=</span> <span class='fl'>0.37</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='va'>xmin</span>, xmax <span class='op'>=</span> <span class='va'>xmax</span>, ymin <span class='op'>=</span> <span class='va'>ymin</span>, ymax <span class='op'>=</span> <span class='va'>ymax</span><span class='op'>)</span>,</span>
<span>    fill <span class='op'>=</span> <span class='st'>"#1F3D71"</span>, alpha <span class='op'>=</span> <span class='fl'>0.8</span>, inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_tile.html'>geom_rect</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='fl'>1975.4</span>, xmax <span class='op'>=</span> <span class='fl'>1976</span>, ymin <span class='op'>=</span> <span class='fl'>0.37</span>, ymax <span class='op'>=</span> <span class='fl'>0.40</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='va'>xmin</span>, xmax <span class='op'>=</span> <span class='va'>xmax</span>, ymin <span class='op'>=</span> <span class='va'>ymin</span>, ymax <span class='op'>=</span> <span class='va'>ymax</span><span class='op'>)</span>,</span>
<span>    fill <span class='op'>=</span> <span class='st'>"#4D76BF"</span>, alpha <span class='op'>=</span> <span class='fl'>0.9</span> , inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>1975.6</span>, y <span class='op'>=</span> <span class='fl'>0.41</span>, label <span class='op'>=</span> <span class='st'>"Derecha"</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>x</span>, y <span class='op'>=</span> <span class='va'>y</span>, label <span class='op'>=</span> <span class='va'>label</span><span class='op'>)</span>,</span>
<span>    colour <span class='op'>=</span> <span class='st'>"#6A6A6A"</span>, size <span class='op'>=</span> <span class='fl'>1.7</span>, hjust <span class='op'>=</span> <span class='fl'>0L</span>, inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_tile.html'>geom_rect</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='fl'>1975.4</span>, xmax <span class='op'>=</span> <span class='fl'>1976</span>, ymin <span class='op'>=</span> <span class='fl'>0.55</span>, ymax <span class='op'>=</span> <span class='fl'>0.58</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='va'>xmin</span>, xmax <span class='op'>=</span> <span class='va'>xmax</span>, ymin <span class='op'>=</span> <span class='va'>ymin</span>, ymax <span class='op'>=</span> <span class='va'>ymax</span><span class='op'>)</span>,</span>
<span>    fill <span class='op'>=</span> <span class='st'>"#DDAB0B"</span>, alpha <span class='op'>=</span> <span class='fl'>0.8</span>, inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_tile.html'>geom_rect</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='fl'>1975.4</span>, xmax <span class='op'>=</span> <span class='fl'>1976</span>, ymin <span class='op'>=</span> <span class='fl'>0.58</span>, ymax <span class='op'>=</span> <span class='fl'>0.61</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='va'>xmin</span>, xmax <span class='op'>=</span> <span class='va'>xmax</span>, ymin <span class='op'>=</span> <span class='va'>ymin</span>, ymax <span class='op'>=</span> <span class='va'>ymax</span><span class='op'>)</span>,</span>
<span>    fill <span class='op'>=</span> <span class='st'>"#EAC659"</span>, alpha <span class='op'>=</span> <span class='fl'>0.9</span> , inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>1975.6</span>, y <span class='op'>=</span> <span class='fl'>0.62</span>, label <span class='op'>=</span> <span class='st'>"Partidos\ncatalanes"</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>x</span>, y <span class='op'>=</span> <span class='va'>y</span>, label <span class='op'>=</span> <span class='va'>label</span><span class='op'>)</span>,</span>
<span>    colour <span class='op'>=</span> <span class='st'>"#6A6A6A"</span>, size <span class='op'>=</span> <span class='fl'>1.5</span>, hjust <span class='op'>=</span> <span class='fl'>0L</span>, inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_tile.html'>geom_rect</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='fl'>1975.4</span>, xmax <span class='op'>=</span> <span class='fl'>1976</span>, </span>
<span>                              ymin <span class='op'>=</span> <span class='fl'>0.76</span>, ymax <span class='op'>=</span> <span class='fl'>0.78</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='va'>xmin</span>, xmax <span class='op'>=</span> <span class='va'>xmax</span>, ymin <span class='op'>=</span> <span class='va'>ymin</span>, ymax <span class='op'>=</span> <span class='va'>ymax</span><span class='op'>)</span>,</span>
<span>    fill <span class='op'>=</span> <span class='st'>"#46862C"</span>, alpha <span class='op'>=</span> <span class='fl'>0.7</span>, inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_tile.html'>geom_rect</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='fl'>1975.4</span>, xmax <span class='op'>=</span> <span class='fl'>1976</span>, ymin <span class='op'>=</span> <span class='fl'>0.78</span>, ymax <span class='op'>=</span> <span class='fl'>0.8</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='va'>xmin</span>, xmax <span class='op'>=</span> <span class='va'>xmax</span>, ymin <span class='op'>=</span> <span class='va'>ymin</span>, ymax <span class='op'>=</span> <span class='va'>ymax</span><span class='op'>)</span>,</span>
<span>    fill <span class='op'>=</span> <span class='st'>"#A1B944"</span>, alpha <span class='op'>=</span> <span class='fl'>0.9</span> , inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_tile.html'>geom_rect</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='fl'>1975.4</span>, xmax <span class='op'>=</span> <span class='fl'>1976</span>, ymin <span class='op'>=</span> <span class='fl'>0.8</span>, ymax <span class='op'>=</span> <span class='fl'>0.82</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='va'>xmin</span>, xmax <span class='op'>=</span> <span class='va'>xmax</span>, ymin <span class='op'>=</span> <span class='va'>ymin</span>, ymax <span class='op'>=</span> <span class='va'>ymax</span><span class='op'>)</span>,</span>
<span>    fill <span class='op'>=</span> <span class='st'>"#ABD894"</span>, alpha <span class='op'>=</span> <span class='fl'>0.9</span> , inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>1975.6</span>, y <span class='op'>=</span> <span class='fl'>0.83</span>, label <span class='op'>=</span> <span class='st'>"Partidos\nvascos"</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>x</span>, y <span class='op'>=</span> <span class='va'>y</span>, label <span class='op'>=</span> <span class='va'>label</span><span class='op'>)</span>,</span>
<span>    colour <span class='op'>=</span> <span class='st'>"#6A6A6A"</span>, size <span class='op'>=</span> <span class='fl'>1.5</span>, hjust <span class='op'>=</span> <span class='fl'>0L</span>, inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_tile.html'>geom_rect</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='fl'>1975.4</span>, xmax <span class='op'>=</span> <span class='fl'>1976</span>, ymin <span class='op'>=</span> <span class='fl'>0.95</span>, ymax <span class='op'>=</span> <span class='fl'>0.98</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='va'>xmin</span>, xmax <span class='op'>=</span> <span class='va'>xmax</span>, ymin <span class='op'>=</span> <span class='va'>ymin</span>, ymax <span class='op'>=</span> <span class='va'>ymax</span><span class='op'>)</span>,</span>
<span>    fill <span class='op'>=</span> <span class='st'>"#3B3D40"</span>, alpha <span class='op'>=</span> <span class='fl'>0.9</span> , inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>1975.6</span>, y <span class='op'>=</span> <span class='fl'>0.99</span>, </span>
<span>                      label <span class='op'>=</span> <span class='st'>"Otros partidos\nregionales"</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>x</span>, y <span class='op'>=</span> <span class='va'>y</span>, label <span class='op'>=</span> <span class='va'>label</span><span class='op'>)</span>,</span>
<span>    colour <span class='op'>=</span> <span class='st'>"#6A6A6A"</span>, size <span class='op'>=</span> <span class='fl'>1.5</span>, hjust <span class='op'>=</span> <span class='fl'>0L</span>, inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>graph</span></span></code></pre>
</div>
<p><img src="100516517_files/figure-html5/unnamed-chunk-10-1.png" width="100%" data-distill-preview=1 /></p>
</div>
<h2 id="a-different-representation-of-the-data">A different representation of the data</h2>
<h3 id="limitations-of-the-original-graph">Limitations of the original graph</h3>
<p>Geom_streams are a very eye-catching option and, truth be told, the chosen plot it is a quite good representation of the data meant for graphical visualization. However, a limitation I would like to highlight is that it seems that the beauty of the composition is put before the accuracy of the data. For example, if we take a look in the original graph to the emergence of the parties that appeared in the last decade we see how:</p>
<ul>
<li><p>Vox seems to gradually appear in the congress since 2016 in the geom_streams plot, when in reality, it gained parliamentary representation in 2019.</p></li>
<li><p>Similarly, SUMAR gained parliamentary seats in 2023, yet in the plot, it seems to have been present in the congress since 2019.</p></li>
<li><p>In the same way, Podemos gained representation in 2014, not 2011.</p></li>
</ul>
<h3 id="alternative-graph">Alternative graph</h3>
<p>To counteract these discrepancies, I opted for an alternative representation using a line graph. While it might lack the visual appeal of geom_streams, it offers a more accurate portrayal. This line graph provides exact deputy counts for each party, accurately displaying the appearance and disappearance of parties over time.</p>
<p>The previous graph showcased the constant number of seats secured by regional parties over the years studied. To ensure clarity and concentrate on parties taking turns in power, regional parties were deliberately excluded to eliminate unnecessary noise. This strategy focuses attention on parties that alternate in power, enabling a more streamlined analysis of the evolving trends in bipartisanship over the years.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'>#Selected parties</span></span>
<span><span class='va'>partidos_seleccionados</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"VOX"</span>, <span class='st'>"PP"</span>, <span class='st'>"Cs"</span>, <span class='st'>"UCD"</span>, <span class='st'>"CDS"</span>, <span class='st'>"UPyD"</span>,</span>
<span>                            <span class='st'>"US"</span>, <span class='st'>"PSOE"</span>, <span class='st'>"SUMAR"</span>, <span class='st'>"PODEMOS"</span>,  <span class='st'>"PCE"</span>,</span>
<span>                            <span class='st'>"Más País"</span>, <span class='st'>"IU"</span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>graph_base_filtered</span> <span class='op'>&lt;-</span> <span class='va'>graph_base</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>recat</span> <span class='op'><a href='https://rdrr.io/r/base/match.html'>%in%</a></span> <span class='va'>partidos_seleccionados</span><span class='op'>)</span></span>
<span></span>
<span><span class='co'>#Alternative graph</span></span>
<span><span class='va'>p</span><span class='op'>&lt;-</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='va'>graph_base_filtered</span>, <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span><span class='va'>DECIMAL_DATE</span>, <span class='va'>total_deputies</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_continuous.html'>scale_x_continuous</a></span><span class='op'>(</span>breaks <span class='op'>=</span> <span class='va'>fechas_unicas</span>, </span>
<span>                     labels <span class='op'>=</span> <span class='kw'>function</span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span> <span class='fu'><a href='https://rdrr.io/r/base/Round.html'>floor</a></span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>, </span>
<span>                     expand <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>,<span class='fl'>0</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_continuous.html'>scale_y_continuous</a></span><span class='op'>(</span>breaks <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>176</span><span class='op'>)</span>, </span>
<span>                     expand <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>,<span class='fl'>0</span><span class='op'>)</span>, </span>
<span>                     name <span class='op'>=</span> <span class='st'>"Diputados"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_path.html'>geom_line</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>color <span class='op'>=</span> <span class='va'>recat</span><span class='op'>)</span>, linewidth <span class='op'>=</span> <span class='fl'>1.5</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='st'>""</span>, y <span class='op'>=</span> <span class='st'>""</span>, fill <span class='op'>=</span> <span class='st'>"Orientación ideológica"</span>,</span>
<span>       title <span class='op'>=</span> <span class='st'>"**Evolución del bipartidismo en la democracia española**"</span>,</span>
<span>       subtitle <span class='op'>=</span> <span class='st'>"**Composición del Congreso (1977-2023)**"</span>,</span>
<span>       caption <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste</a></span><span class='op'>(</span><span class='st'>"**Autora:**"</span>, <span class='st'>"Candela Gómez Blanco (2023)"</span>, </span>
<span>                       sep <span class='op'>=</span> <span class='st'>"&lt;br&gt;"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span></span>
<span>    plot.title <span class='op'>=</span> <span class='fu'>ggtext</span><span class='fu'>::</span><span class='fu'><a href='https://wilkelab.org/ggtext/reference/element_markdown.html'>element_markdown</a></span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>13</span>, color <span class='op'>=</span> <span class='st'>"#272727"</span><span class='op'>)</span>,</span>
<span>    plot.subtitle <span class='op'>=</span> <span class='fu'>ggtext</span><span class='fu'>::</span><span class='fu'><a href='https://wilkelab.org/ggtext/reference/element_markdown.html'>element_markdown</a></span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>11</span>, color <span class='op'>=</span> <span class='st'>"#6A6A6A"</span><span class='op'>)</span>,</span>
<span>    plot.caption <span class='op'>=</span> <span class='fu'>ggtext</span><span class='fu'>::</span><span class='fu'><a href='https://wilkelab.org/ggtext/reference/element_markdown.html'>element_markdown</a></span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>5</span>, color <span class='op'>=</span> <span class='st'>"#6A6A6A"</span><span class='op'>)</span>,</span>
<span>    axis.text.x <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>angle <span class='op'>=</span> <span class='fl'>90</span>, hjust <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span>,</span>
<span>    axis.ticks.y <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_line</a></span><span class='op'>(</span>color <span class='op'>=</span> <span class='st'>"#272727"</span><span class='op'>)</span>, </span>
<span>    axis.text.y <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>color <span class='op'>=</span> <span class='st'>"#272727"</span><span class='op'>)</span>,</span>
<span>    plot.background <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>color <span class='op'>=</span> <span class='st'>"white"</span>, fill <span class='op'>=</span> <span class='st'>"white"</span><span class='op'>)</span>,</span>
<span>    axis.title.x <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>,</span>
<span>    axis.title.y <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>8</span>, color <span class='op'>=</span> <span class='st'>"#6A6A6A"</span><span class='op'>)</span>,</span>
<span>    legend.position <span class='op'>=</span> <span class='st'>"none"</span>,</span>
<span>    panel.background <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>"white"</span>, color <span class='op'>=</span> <span class='st'>"white"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_color_manual</a></span><span class='op'>(</span></span>
<span>    values <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span></span>
<span>    <span class='st'>"VOX"</span> <span class='op'>=</span> <span class='st'>"#4D76BF"</span>, <span class='st'>"PP"</span> <span class='op'>=</span> <span class='st'>"#4D76BF"</span>, <span class='st'>"Cs"</span> <span class='op'>=</span> <span class='st'>"#FFC38D"</span>, <span class='st'>"UCD"</span> <span class='op'>=</span> <span class='st'>"#FFC38D"</span>,</span>
<span>    <span class='st'>"CDS"</span> <span class='op'>=</span> <span class='st'>"#FFC38D"</span>, <span class='st'>"UPyD"</span> <span class='op'>=</span> <span class='st'>"#FFC38D"</span>, <span class='st'>"US"</span> <span class='op'>=</span> <span class='st'>"#E2706D"</span>, <span class='st'>"PSOE"</span> <span class='op'>=</span> <span class='st'>"#E2706D"</span>,</span>
<span>    <span class='st'>"SUMAR"</span> <span class='op'>=</span> <span class='st'>"#E2706D"</span>, <span class='st'>"PODEMOS"</span> <span class='op'>=</span> <span class='st'>"#E2706D"</span>, <span class='st'>"PCE"</span> <span class='op'>=</span> <span class='st'>"#E2706D"</span>, </span>
<span>    <span class='st'>"Más País"</span> <span class='op'>=</span> <span class='st'>"#650904"</span>, <span class='st'>"IU"</span> <span class='op'>=</span> <span class='st'>"#E2706D"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/coord_cartesian.html'>coord_cartesian</a></span><span class='op'>(</span></span>
<span>    xlim <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1977.452</span>, <span class='fl'>2029</span><span class='op'>)</span>, </span>
<span>    ylim <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>280</span><span class='op'>)</span>, </span>
<span>    clip <span class='op'>=</span> <span class='st'>"off"</span><span class='op'>)</span> </span>
<span></span>
<span><span class='va'>p</span></span></code></pre>
</div>
<p><img src="100516517_files/figure-html5/unnamed-chunk-11-1.png" width="100%" /></p>
</div>
<h4 id="annotations-1">Annotations</h4>
<h5 id="labels">Labels</h5>
<p>Using ggannotate once again, annotations for all the selected parties were included, ensuring the text and segments retain consistent colors in order to prevent confusion</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'>#ggannotate(p)</span></span>
<span></span>
<span><span class='va'>p</span> <span class='op'>&lt;-</span> <span class='va'>p</span> <span class='op'>+</span> </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_tile.html'>geom_rect</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='fl'>1977.718</span>, xmax <span class='op'>=</span> <span class='fl'>1977.718</span>, </span>
<span>                      ymin <span class='op'>=</span> <span class='fl'>7.363</span>, ymax <span class='op'>=</span> <span class='fl'>32.993</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='va'>xmin</span>, xmax <span class='op'>=</span> <span class='va'>xmax</span>, ymin <span class='op'>=</span> <span class='va'>ymin</span>, ymax <span class='op'>=</span> <span class='va'>ymax</span><span class='op'>)</span>,</span>
<span>    colour <span class='op'>=</span> <span class='st'>"#BE4D4C"</span>, fill <span class='op'>=</span> <span class='st'>"#BE4D4C"</span>, alpha <span class='op'>=</span> <span class='fl'>0.25</span>, inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>1978.232</span>, y <span class='op'>=</span> <span class='fl'>48.203</span>, </span>
<span>    label <span class='op'>=</span> <span class='st'>"US"</span><span class='op'>)</span>, mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>x</span>, y <span class='op'>=</span> <span class='va'>y</span>, label <span class='op'>=</span> <span class='va'>label</span><span class='op'>)</span>, </span>
<span>    inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span>, colour <span class='op'>=</span> <span class='st'>"#BE4D4C"</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_tile.html'>geom_rect</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='fl'>1981.237</span>, xmax <span class='op'>=</span> <span class='fl'>1981.237</span>, </span>
<span>                      ymin <span class='op'>=</span> <span class='fl'>10.19</span>, ymax <span class='op'>=</span> <span class='fl'>50.103</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='va'>xmin</span>, xmax <span class='op'>=</span> <span class='va'>xmax</span>, ymin <span class='op'>=</span> <span class='va'>ymin</span>, ymax <span class='op'>=</span> <span class='va'>ymax</span><span class='op'>)</span>,</span>
<span>    colour <span class='op'>=</span> <span class='st'>"#BE4D4C"</span>, fill <span class='op'>=</span> <span class='st'>"#BE4D4C"</span>, alpha <span class='op'>=</span> <span class='fl'>0.25</span>, inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>1981.16</span>, y <span class='op'>=</span> <span class='fl'>62.457</span>, label <span class='op'>=</span> <span class='st'>"PCE"</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>x</span>, y <span class='op'>=</span> <span class='va'>y</span>, label <span class='op'>=</span> <span class='va'>label</span><span class='op'>)</span>,</span>
<span>    inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span>, colour <span class='op'>=</span> <span class='st'>"#BE4D4C"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_tile.html'>geom_rect</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='fl'>1991.669</span>, xmax <span class='op'>=</span> <span class='fl'>1991.669</span>, </span>
<span>                      ymin <span class='op'>=</span> <span class='fl'>19.694</span>, ymax <span class='op'>=</span> <span class='fl'>40.6</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='va'>xmin</span>, xmax <span class='op'>=</span> <span class='va'>xmax</span>, ymin <span class='op'>=</span> <span class='va'>ymin</span>, ymax <span class='op'>=</span> <span class='va'>ymax</span><span class='op'>)</span>,</span>
<span>    colour <span class='op'>=</span> <span class='st'>"#BE4D4C"</span>, fill <span class='op'>=</span> <span class='st'>"#BE4D4C"</span>, alpha <span class='op'>=</span> <span class='fl'>0.25</span>, inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>1991.589</span>, y <span class='op'>=</span> <span class='fl'>48.203</span>, label <span class='op'>=</span> <span class='st'>"IU"</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>x</span>, y <span class='op'>=</span> <span class='va'>y</span>, label <span class='op'>=</span> <span class='va'>label</span><span class='op'>)</span>,</span>
<span>    inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span>, colour <span class='op'>=</span> <span class='st'>"#BE4D4C"</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_tile.html'>geom_rect</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='fl'>2013.289</span>, xmax <span class='op'>=</span> <span class='fl'>2016.063</span>, </span>
<span>                      ymin <span class='op'>=</span> <span class='fl'>71.01</span>, ymax <span class='op'>=</span> <span class='fl'>71.01</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='va'>xmin</span>, xmax <span class='op'>=</span> <span class='va'>xmax</span>, ymin <span class='op'>=</span> <span class='va'>ymin</span>, ymax <span class='op'>=</span> <span class='va'>ymax</span><span class='op'>)</span>,</span>
<span>    colour <span class='op'>=</span> <span class='st'>"#BE4D4C"</span>, fill <span class='op'>=</span> <span class='st'>"#BE4D4C"</span>, alpha <span class='op'>=</span> <span class='fl'>0.25</span>, inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>2008.1</span>, y <span class='op'>=</span> <span class='fl'>71.96</span>, label <span class='op'>=</span> <span class='st'>"Podemos y confluencias"</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>x</span>, y <span class='op'>=</span> <span class='va'>y</span>, label <span class='op'>=</span> <span class='va'>label</span><span class='op'>)</span>,</span>
<span>    inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span>, colour <span class='op'>=</span> <span class='st'>"#BE4D4C"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_tile.html'>geom_rect</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='fl'>2012.595</span>, xmax <span class='op'>=</span> <span class='fl'>2015.754</span>, </span>
<span>                      ymin <span class='op'>=</span> <span class='fl'>38.7</span>, ymax <span class='op'>=</span> <span class='fl'>38.7</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='va'>xmin</span>, xmax <span class='op'>=</span> <span class='va'>xmax</span>, ymin <span class='op'>=</span> <span class='va'>ymin</span>, ymax <span class='op'>=</span> <span class='va'>ymax</span><span class='op'>)</span>,</span>
<span>    colour <span class='op'>=</span> <span class='st'>"#E6A55B"</span>, fill <span class='op'>=</span> <span class='st'>"#E6A55B"</span>, alpha <span class='op'>=</span> <span class='fl'>0.25</span>, inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>2009.899</span>, y <span class='op'>=</span> <span class='fl'>39.65</span>, label <span class='op'>=</span> <span class='st'>"Ciudadanos"</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>x</span>, y <span class='op'>=</span> <span class='va'>y</span>, label <span class='op'>=</span> <span class='va'>label</span><span class='op'>)</span>,</span>
<span>    inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span>, colour <span class='op'>=</span> <span class='st'>"#E6A55B"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_tile.html'>geom_rect</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='fl'>2012.441</span>, xmax <span class='op'>=</span> <span class='fl'>2018.836</span>, </span>
<span>                      ymin <span class='op'>=</span> <span class='fl'>28.246</span>, ymax <span class='op'>=</span> <span class='fl'>28.246</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='va'>xmin</span>, xmax <span class='op'>=</span> <span class='va'>xmax</span>, ymin <span class='op'>=</span> <span class='va'>ymin</span>, ymax <span class='op'>=</span> <span class='va'>ymax</span><span class='op'>)</span>,</span>
<span>    colour <span class='op'>=</span> <span class='st'>"#4D76BF"</span>, fill <span class='op'>=</span> <span class='st'>"#4D76BF"</span>, alpha <span class='op'>=</span> <span class='fl'>0.25</span>, inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>2010.746</span>, y <span class='op'>=</span> <span class='fl'>27.296</span>, label <span class='op'>=</span> <span class='st'>"VOX"</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>x</span>, y <span class='op'>=</span> <span class='va'>y</span>, label <span class='op'>=</span> <span class='va'>label</span><span class='op'>)</span>,</span>
<span>    inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span>, colour <span class='op'>=</span> <span class='st'>"#4D76BF"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_tile.html'>geom_rect</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='fl'>1978.0</span>, xmax <span class='op'>=</span> <span class='fl'>1978.0</span>, </span>
<span>                      ymin <span class='op'>=</span> <span class='fl'>173.485</span>, ymax <span class='op'>=</span> <span class='fl'>193.44</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='va'>xmin</span>, xmax <span class='op'>=</span> <span class='va'>xmax</span>, ymin <span class='op'>=</span> <span class='va'>ymin</span>, ymax <span class='op'>=</span> <span class='va'>ymax</span><span class='op'>)</span>,</span>
<span>    colour <span class='op'>=</span> <span class='st'>"#E6A55B"</span>, fill <span class='op'>=</span> <span class='st'>"#E6A55B"</span>, alpha <span class='op'>=</span> <span class='fl'>0.25</span>, inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>1978.5</span>, y <span class='op'>=</span> <span class='fl'>204.053</span>, label <span class='op'>=</span> <span class='st'>"UCD"</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>x</span>, y <span class='op'>=</span> <span class='va'>y</span>, label <span class='op'>=</span> <span class='va'>label</span><span class='op'>)</span>,</span>
<span>    inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span>, colour <span class='op'>=</span> <span class='st'>"#E6A55B"</span> <span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_tile.html'>geom_rect</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='fl'>1986.785</span>, xmax <span class='op'>=</span> <span class='fl'>1986.785</span>, </span>
<span>                      ymin <span class='op'>=</span> <span class='fl'>188.848</span>, ymax <span class='op'>=</span> <span class='fl'>211.655</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='va'>xmin</span>, xmax <span class='op'>=</span> <span class='va'>xmax</span>, ymin <span class='op'>=</span> <span class='va'>ymin</span>, ymax <span class='op'>=</span> <span class='va'>ymax</span><span class='op'>)</span>,</span>
<span>    colour <span class='op'>=</span> <span class='st'>"#BE4D4C"</span>, fill <span class='op'>=</span> <span class='st'>"#BE4D4C"</span>, alpha <span class='op'>=</span> <span class='fl'>0.25</span>, inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>1986.707</span>, y <span class='op'>=</span> <span class='fl'>217.357</span>, label <span class='op'>=</span> <span class='st'>"PSOE"</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>x</span>, y <span class='op'>=</span> <span class='va'>y</span>, label <span class='op'>=</span> <span class='va'>label</span><span class='op'>)</span>,</span>
<span>    inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span>, colour <span class='op'>=</span> <span class='st'>"#BE4D4C"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_tile.html'>geom_rect</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='fl'>2000.037</span>, xmax <span class='op'>=</span> <span class='fl'>2000.037</span>, </span>
<span>                      ymin <span class='op'>=</span> <span class='fl'>190.749</span>, ymax <span class='op'>=</span> <span class='fl'>205.953</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='va'>xmin</span>, xmax <span class='op'>=</span> <span class='va'>xmax</span>, ymin <span class='op'>=</span> <span class='va'>ymin</span>, ymax <span class='op'>=</span> <span class='va'>ymax</span><span class='op'>)</span>,</span>
<span>    colour <span class='op'>=</span> <span class='st'>"#4D76BF"</span>, fill <span class='op'>=</span> <span class='st'>"#4D76BF"</span>, alpha <span class='op'>=</span> <span class='fl'>0.25</span>, inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>1999.96</span>, y <span class='op'>=</span> <span class='fl'>214.348</span>, label <span class='op'>=</span> <span class='st'>"PP"</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>x</span>, y <span class='op'>=</span> <span class='va'>y</span>, label <span class='op'>=</span> <span class='va'>label</span><span class='op'>)</span>,</span>
<span>    inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span>, colour <span class='op'>=</span> <span class='st'>"#4D76BF"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_tile.html'>geom_rect</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='fl'>1987.94</span>, xmax <span class='op'>=</span> <span class='fl'>1987.94</span>, </span>
<span>                      ymin <span class='op'>=</span> <span class='fl'>19.694</span>, ymax <span class='op'>=</span> <span class='fl'>43.45</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='va'>xmin</span>, xmax <span class='op'>=</span> <span class='va'>xmax</span>, ymin <span class='op'>=</span> <span class='va'>ymin</span>, ymax <span class='op'>=</span> <span class='va'>ymax</span><span class='op'>)</span>,</span>
<span>    colour <span class='op'>=</span> <span class='st'>"#E6A55B"</span>, fill <span class='op'>=</span> <span class='st'>"#E6A55B"</span>, alpha <span class='op'>=</span> <span class='fl'>0.25</span>, inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>1987.863</span>, y <span class='op'>=</span> <span class='fl'>51.054</span>, label <span class='op'>=</span> <span class='st'>"CDS"</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>x</span>, y <span class='op'>=</span> <span class='va'>y</span>, label <span class='op'>=</span> <span class='va'>label</span><span class='op'>)</span>,</span>
<span>    inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span>, colour <span class='op'>=</span> <span class='st'>"#E6A55B"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span></span>
<span>    <span class='st'>"curve"</span>, x <span class='op'>=</span> <span class='fl'>2008.3</span> , y <span class='op'>=</span> <span class='fl'>3</span>  , xend <span class='op'>=</span> <span class='fl'>2001</span> , yend <span class='op'>=</span> <span class='fl'>40</span> , </span>
<span>    color <span class='op'>=</span> <span class='st'>"#E6A55B"</span>, curvature <span class='op'>=</span> <span class='op'>-</span><span class='fl'>0.2</span>, </span>
<span>    arrow <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/arrow.html'>arrow</a></span><span class='op'>(</span>length <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/unit.html'>unit</a></span><span class='op'>(</span><span class='fl'>0.01</span>, <span class='st'>"npc"</span><span class='op'>)</span>, angle <span class='op'>=</span> <span class='fl'>20</span>, type <span class='op'>=</span> <span class='st'>"closed"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>2000.459</span>, y <span class='op'>=</span> <span class='fl'>47.849</span>, label <span class='op'>=</span> <span class='st'>"UPyD"</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>x</span>, y <span class='op'>=</span> <span class='va'>y</span>, label <span class='op'>=</span> <span class='va'>label</span><span class='op'>)</span>,</span>
<span>    inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span>, colour <span class='op'>=</span> <span class='st'>"#E6A55B"</span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>p</span></span></code></pre>
</div>
<p><img src="100516517_files/figure-html5/unnamed-chunk-12-1.png" width="100%" /></p>
</div>
<h5 id="presidencies-axis">Presidencies axis</h5>
<p>I opted to retain the axis relative to the presidencies of the original axis, as it provides pertinent information that I didn’t want to lose. I simply adjusted the coordinates appropriately to visualize it horizontally.</p>
<p>Moreover, these segments were utilized as a legend to keep the graph as uncluttered as possible.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'>#Presidencies axis</span></span>
<span><span class='va'>p</span> <span class='op'>&lt;-</span> <span class='va'>p</span> <span class='op'>+</span> </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_tile.html'>geom_rect</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='fl'>1977.425</span>, xmax <span class='op'>=</span> <span class='fl'>1980.5</span>, ymin <span class='op'>=</span> <span class='fl'>260</span>, ymax <span class='op'>=</span> <span class='fl'>260</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='va'>xmin</span>, xmax <span class='op'>=</span> <span class='va'>xmax</span>, ymin <span class='op'>=</span> <span class='va'>ymin</span>, ymax <span class='op'>=</span> <span class='va'>ymax</span><span class='op'>)</span>,</span>
<span>    colour <span class='op'>=</span> <span class='st'>"#E6A55B"</span>, fill <span class='op'>=</span> <span class='st'>"#E6A55B"</span>, alpha <span class='op'>=</span> <span class='fl'>1</span>, size <span class='op'>=</span> <span class='fl'>0.75</span>, </span>
<span>    inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"point"</span>, x <span class='op'>=</span> <span class='fl'>1977.425</span>, y <span class='op'>=</span> <span class='fl'>260</span>, shape <span class='op'>=</span> <span class='fl'>21</span>, size <span class='op'>=</span> <span class='fl'>1</span>, </span>
<span>           colour <span class='op'>=</span> <span class='st'>"#E6A55B"</span>, fill <span class='op'>=</span> <span class='st'>"#E6A55B"</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"point"</span>, x <span class='op'>=</span> <span class='fl'>1980.5</span>, y <span class='op'>=</span> <span class='fl'>260</span>, shape <span class='op'>=</span> <span class='fl'>21</span>, size <span class='op'>=</span> <span class='fl'>1</span>, </span>
<span>           colour <span class='op'>=</span> <span class='st'>"#E6A55B"</span>, fill <span class='op'>=</span> <span class='st'>"#E6A55B"</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_tile.html'>geom_rect</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='fl'>1981</span>, xmax <span class='op'>=</span> <span class='fl'>1982.322</span>, ymin <span class='op'>=</span> <span class='fl'>260</span>, ymax <span class='op'>=</span> <span class='fl'>260</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='va'>xmin</span>, xmax <span class='op'>=</span> <span class='va'>xmax</span>, ymin <span class='op'>=</span> <span class='va'>ymin</span>, ymax <span class='op'>=</span> <span class='va'>ymax</span><span class='op'>)</span>,</span>
<span>    colour <span class='op'>=</span> <span class='st'>"#E6A55B"</span>, fill <span class='op'>=</span> <span class='st'>"#E6A55B"</span>, alpha <span class='op'>=</span> <span class='fl'>1</span>, size <span class='op'>=</span> <span class='fl'>0.75</span>, </span>
<span>    inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"point"</span>, x <span class='op'>=</span> <span class='fl'>1981</span>, y <span class='op'>=</span> <span class='fl'>260</span>, shape <span class='op'>=</span> <span class='fl'>21</span>, size <span class='op'>=</span> <span class='fl'>1</span>, </span>
<span>           colour <span class='op'>=</span> <span class='st'>"#E6A55B"</span>, fill <span class='op'>=</span> <span class='st'>"#E6A55B"</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"point"</span>, x <span class='op'>=</span> <span class='fl'>1982.322</span> , y <span class='op'>=</span> <span class='fl'>260</span>, shape <span class='op'>=</span> <span class='fl'>21</span>, size <span class='op'>=</span> <span class='fl'>1</span>, </span>
<span>           colour <span class='op'>=</span> <span class='st'>"#E6A55B"</span>, fill <span class='op'>=</span> <span class='st'>"#E6A55B"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_tile.html'>geom_rect</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='fl'>1982.822</span>, xmax <span class='op'>=</span> <span class='fl'>1995.669</span>, ymin <span class='op'>=</span> <span class='fl'>260</span>, ymax <span class='op'>=</span> <span class='fl'>260</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='va'>xmin</span>, xmax <span class='op'>=</span> <span class='va'>xmax</span>, ymin <span class='op'>=</span> <span class='va'>ymin</span>, ymax <span class='op'>=</span> <span class='va'>ymax</span><span class='op'>)</span>,</span>
<span>    colour <span class='op'>=</span> <span class='st'>"#BE4D4C"</span>, fill <span class='op'>=</span> <span class='st'>"#BE4D4C"</span>, alpha <span class='op'>=</span> <span class='fl'>1</span>, size <span class='op'>=</span> <span class='fl'>0.75</span>, </span>
<span>    inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"point"</span>, x <span class='op'>=</span> <span class='fl'>1982.822</span>, y <span class='op'>=</span> <span class='fl'>260</span>, shape <span class='op'>=</span> <span class='fl'>21</span>, size <span class='op'>=</span> <span class='fl'>1</span>, </span>
<span>           colour <span class='op'>=</span> <span class='st'>"#BE4D4C"</span>, fill <span class='op'>=</span> <span class='st'>"#BE4D4C"</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"point"</span>, x <span class='op'>=</span> <span class='fl'>1995.669</span> , y <span class='op'>=</span> <span class='fl'>260</span>, shape <span class='op'>=</span> <span class='fl'>21</span>, size <span class='op'>=</span> <span class='fl'>1</span>, </span>
<span>           colour <span class='op'>=</span> <span class='st'>"#BE4D4C"</span>, fill <span class='op'>=</span> <span class='st'>"#BE4D4C"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_tile.html'>geom_rect</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='fl'>1996.169</span>, xmax <span class='op'>=</span> <span class='fl'>2003.699</span>, ymin <span class='op'>=</span> <span class='fl'>260</span>, ymax <span class='op'>=</span> <span class='fl'>260</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='va'>xmin</span>, xmax <span class='op'>=</span> <span class='va'>xmax</span>, ymin <span class='op'>=</span> <span class='va'>ymin</span>, ymax <span class='op'>=</span> <span class='va'>ymax</span><span class='op'>)</span>,</span>
<span>    colour <span class='op'>=</span> <span class='st'>"#4D76BF"</span>, fill <span class='op'>=</span> <span class='st'>"#4D76BF"</span>, alpha <span class='op'>=</span> <span class='fl'>1</span>, size <span class='op'>=</span> <span class='fl'>0.75</span>, </span>
<span>    inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"point"</span>, x <span class='op'>=</span> <span class='fl'>1996.169</span>, y <span class='op'>=</span> <span class='fl'>260</span>, shape <span class='op'>=</span> <span class='fl'>21</span>, size <span class='op'>=</span> <span class='fl'>1</span>, </span>
<span>           colour <span class='op'>=</span> <span class='st'>"#4D76BF"</span>, fill <span class='op'>=</span> <span class='st'>"#4D76BF"</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"point"</span>, x <span class='op'>=</span> <span class='fl'>2003.699</span> , y <span class='op'>=</span> <span class='fl'>260</span>, shape <span class='op'>=</span> <span class='fl'>21</span>, size <span class='op'>=</span> <span class='fl'>1</span>, </span>
<span>           colour <span class='op'>=</span> <span class='st'>"#4D76BF"</span>, fill <span class='op'>=</span> <span class='st'>"#4D76BF"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_tile.html'>geom_rect</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='fl'>2004.199</span>, xmax <span class='op'>=</span> <span class='fl'>2011.385</span>, ymin <span class='op'>=</span> <span class='fl'>260</span>, ymax <span class='op'>=</span> <span class='fl'>260</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='va'>xmin</span>, xmax <span class='op'>=</span> <span class='va'>xmax</span>, ymin <span class='op'>=</span> <span class='va'>ymin</span>, ymax <span class='op'>=</span> <span class='va'>ymax</span><span class='op'>)</span>,</span>
<span>    colour <span class='op'>=</span> <span class='st'>"#BE4D4C"</span>, fill <span class='op'>=</span> <span class='st'>"#BE4D4C"</span>, alpha <span class='op'>=</span> <span class='fl'>1</span>, size <span class='op'>=</span> <span class='fl'>0.75</span>, </span>
<span>    inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"point"</span>, x <span class='op'>=</span> <span class='fl'>2004.199</span>, y <span class='op'>=</span> <span class='fl'>260</span>, shape <span class='op'>=</span> <span class='fl'>21</span>, size <span class='op'>=</span> <span class='fl'>1</span>, </span>
<span>           colour <span class='op'>=</span> <span class='st'>"#BE4D4C"</span>, fill <span class='op'>=</span> <span class='st'>"#BE4D4C"</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"point"</span>, x <span class='op'>=</span> <span class='fl'>2011.385</span> , y <span class='op'>=</span> <span class='fl'>260</span>, shape <span class='op'>=</span> <span class='fl'>21</span>, size <span class='op'>=</span> <span class='fl'>1</span>, </span>
<span>           colour <span class='op'>=</span> <span class='st'>"#BE4D4C"</span>, fill <span class='op'>=</span> <span class='st'>"#BE4D4C"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_tile.html'>geom_rect</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='fl'>2011.885</span>, xmax <span class='op'>=</span> <span class='fl'>2018.821</span>, ymin <span class='op'>=</span> <span class='fl'>260</span>, ymax <span class='op'>=</span> <span class='fl'>260</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='va'>xmin</span>, xmax <span class='op'>=</span> <span class='va'>xmax</span>, ymin <span class='op'>=</span> <span class='va'>ymin</span>, ymax <span class='op'>=</span> <span class='va'>ymax</span><span class='op'>)</span>,</span>
<span>    colour <span class='op'>=</span> <span class='st'>"#4D76BF"</span>, fill <span class='op'>=</span> <span class='st'>"#4D76BF"</span>, alpha <span class='op'>=</span> <span class='fl'>1</span>, size <span class='op'>=</span> <span class='fl'>0.75</span>,</span>
<span>    inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"point"</span>, x <span class='op'>=</span> <span class='fl'>2011.885</span>, y <span class='op'>=</span> <span class='fl'>260</span>, shape <span class='op'>=</span> <span class='fl'>21</span>, size <span class='op'>=</span> <span class='fl'>1</span>, </span>
<span>           colour <span class='op'>=</span> <span class='st'>"#4D76BF"</span>, fill <span class='op'>=</span> <span class='st'>"#4D76BF"</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"point"</span>, x <span class='op'>=</span> <span class='fl'>2018.821</span> , y <span class='op'>=</span> <span class='fl'>260</span>, shape <span class='op'>=</span> <span class='fl'>21</span>, size <span class='op'>=</span> <span class='fl'>1</span>, </span>
<span>           colour <span class='op'>=</span> <span class='st'>"#4D76BF"</span>, fill <span class='op'>=</span> <span class='st'>"#4D76BF"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_tile.html'>geom_rect</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='fl'>2019.321</span>, xmax <span class='op'>=</span> <span class='fl'>2023</span>, ymin <span class='op'>=</span> <span class='fl'>260</span>, ymax <span class='op'>=</span> <span class='fl'>260</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='va'>xmin</span>, xmax <span class='op'>=</span> <span class='va'>xmax</span>, ymin <span class='op'>=</span> <span class='va'>ymin</span>, ymax <span class='op'>=</span> <span class='va'>ymax</span><span class='op'>)</span>,</span>
<span>    colour <span class='op'>=</span> <span class='st'>"#BE4D4C"</span>, fill <span class='op'>=</span> <span class='st'>"#BE4D4C"</span>, alpha <span class='op'>=</span> <span class='fl'>1</span>, size <span class='op'>=</span> <span class='fl'>0.75</span>, </span>
<span>    inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"point"</span>, x <span class='op'>=</span> <span class='fl'>2019.321</span>, y <span class='op'>=</span> <span class='fl'>260</span>, shape <span class='op'>=</span> <span class='fl'>21</span>, size <span class='op'>=</span> <span class='fl'>1</span>, </span>
<span>           colour <span class='op'>=</span> <span class='st'>"#BE4D4C"</span>, fill <span class='op'>=</span> <span class='st'>"#BE4D4C"</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"point"</span>, x <span class='op'>=</span> <span class='fl'>2023</span> , y <span class='op'>=</span> <span class='fl'>260</span>, shape <span class='op'>=</span> <span class='fl'>21</span>, size <span class='op'>=</span> <span class='fl'>1</span>, </span>
<span>           colour <span class='op'>=</span> <span class='st'>"#BE4D4C"</span>, fill <span class='op'>=</span> <span class='st'>"#BE4D4C"</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>1978.5</span>, y <span class='op'>=</span> <span class='fl'>250</span>, label <span class='op'>=</span> <span class='st'>"Adolfo\nSuárez\n(UCD)"</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>x</span>, y <span class='op'>=</span> <span class='va'>y</span>, label <span class='op'>=</span> <span class='va'>label</span><span class='op'>)</span>,</span>
<span>    size <span class='op'>=</span> <span class='fl'>1.75</span>, colour <span class='op'>=</span> <span class='st'>"#E6A55B"</span>, hjust <span class='op'>=</span> <span class='fl'>0L</span>, inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>1981.3</span>, y <span class='op'>=</span> <span class='fl'>250</span>, </span>
<span>                      label <span class='op'>=</span> <span class='st'>"Leopoldo\nCalvo-Sotelo\n(UCD)"</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>x</span>, y <span class='op'>=</span> <span class='va'>y</span>, label <span class='op'>=</span> <span class='va'>label</span><span class='op'>)</span>,</span>
<span>    size <span class='op'>=</span> <span class='fl'>1.75</span>, colour <span class='op'>=</span> <span class='st'>"#E6A55B"</span>, hjust <span class='op'>=</span> <span class='fl'>0L</span>, inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>1988.613</span>, y <span class='op'>=</span> <span class='fl'>250</span>, </span>
<span>                      label <span class='op'>=</span> <span class='st'>"Felipe\nGonzález\n(PSOE)"</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>x</span>, y <span class='op'>=</span> <span class='va'>y</span>, label <span class='op'>=</span> <span class='va'>label</span><span class='op'>)</span>,</span>
<span>    size <span class='op'>=</span> <span class='fl'>1.75</span>, colour <span class='op'>=</span> <span class='st'>"#BE4D4C"</span>, hjust <span class='op'>=</span> <span class='fl'>0L</span>, inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>1999.235</span>, y <span class='op'>=</span> <span class='fl'>250</span>, label <span class='op'>=</span> <span class='st'>"José María\nAznar\n(PP)"</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>x</span>, y <span class='op'>=</span> <span class='va'>y</span>, label <span class='op'>=</span> <span class='va'>label</span><span class='op'>)</span>,</span>
<span>    size <span class='op'>=</span> <span class='fl'>1.75</span>, colour <span class='op'>=</span> <span class='st'>"#4D76BF"</span>, hjust <span class='op'>=</span> <span class='fl'>0L</span>, inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>2007.202</span>, y <span class='op'>=</span> <span class='fl'>248</span>, </span>
<span>                      label <span class='op'>=</span> <span class='st'>"José Luis\nRodríguez\nZapatero\n(PSOE)"</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>x</span>, y <span class='op'>=</span> <span class='va'>y</span>, label <span class='op'>=</span> <span class='va'>label</span><span class='op'>)</span>,</span>
<span>    size <span class='op'>=</span> <span class='fl'>1.75</span>, colour <span class='op'>=</span> <span class='st'>"#BE4D4C"</span>, hjust <span class='op'>=</span> <span class='fl'>0L</span>, inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>2014.991</span>, y <span class='op'>=</span> <span class='fl'>250</span>, label <span class='op'>=</span> <span class='st'>"Mariano\nRajoy\n(PP)"</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>x</span>, y <span class='op'>=</span> <span class='va'>y</span>, label <span class='op'>=</span> <span class='va'>label</span><span class='op'>)</span>,</span>
<span>    size <span class='op'>=</span> <span class='fl'>1.75</span>, colour <span class='op'>=</span> <span class='st'>"#4D76BF"</span>, hjust <span class='op'>=</span> <span class='fl'>0L</span>, inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>2020.833</span>, y <span class='op'>=</span> <span class='fl'>250</span>, label <span class='op'>=</span> <span class='st'>"Pedro\nSánchez\n(PSOE)"</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>x</span>, y <span class='op'>=</span> <span class='va'>y</span>, label <span class='op'>=</span> <span class='va'>label</span><span class='op'>)</span>,</span>
<span>    size <span class='op'>=</span> <span class='fl'>1.75</span>, colour <span class='op'>=</span> <span class='st'>"#BE4D4C"</span>, hjust <span class='op'>=</span> <span class='fl'>0L</span>, inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span> </span>
<span></span>
<span><span class='va'>p</span></span></code></pre>
</div>
<img src="100516517_files/figure-html5/unnamed-chunk-13-1.png" width="100%" />
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'>#Legend</span></span>
<span></span>
<span><span class='va'>p</span> <span class='op'>&lt;-</span> <span class='va'>p</span> <span class='op'>+</span> </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>1978.847</span>, y <span class='op'>=</span> <span class='fl'>266.886</span>, label <span class='op'>=</span> <span class='st'>"Centro"</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>x</span>, y <span class='op'>=</span> <span class='va'>y</span>, label <span class='op'>=</span> <span class='va'>label</span><span class='op'>)</span>,</span>
<span>    size <span class='op'>=</span> <span class='fl'>3.35</span>, inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span>, colour <span class='op'>=</span> <span class='st'>"#6A6A6A"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>1989.169</span>, y <span class='op'>=</span> <span class='fl'>265.925</span>, label <span class='op'>=</span> <span class='st'>"Izquierda"</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>x</span>, y <span class='op'>=</span> <span class='va'>y</span>, label <span class='op'>=</span> <span class='va'>label</span><span class='op'>)</span>,</span>
<span>    size <span class='op'>=</span> <span class='fl'>3.35</span>, inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span>,  colour <span class='op'>=</span> <span class='st'>"#6A6A6A"</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>1999.975</span>, y <span class='op'>=</span> <span class='fl'>265.925</span>, label <span class='op'>=</span> <span class='st'>"Derecha"</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>x</span>, y <span class='op'>=</span> <span class='va'>y</span>, label <span class='op'>=</span> <span class='va'>label</span><span class='op'>)</span>,</span>
<span>    size <span class='op'>=</span> <span class='fl'>3.35</span>, inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span>, colour <span class='op'>=</span> <span class='st'>"#6A6A6A"</span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>p</span></span></code></pre>
</div>
<p><img src="100516517_files/figure-html5/unnamed-chunk-13-2.png" width="100%" /></p>
</div>
<h5 id="relevant-milestones">Relevant milestones</h5>
<p>Finally, I decided to include annotations pointing specific important events that, when reading the article, stand out prominently.</p>
<p>This line graph distinctly showcases the shifts between the right and left since the 90s and allow us to visualize the emergence of other parties in 2015. As detailed in the article, this pivotal juncture marked the end of the prevailing two-party model, culminating in the establishment of the first coalition government in Spanish democracy in 2020.</p>
<p>Additionally, a horizontal line indicating the 176 deputies, the minimum required for an absolute majority, has been included. Every party surpassing this threshold managed to govern independently.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>p</span> <span class='op'>&lt;-</span> <span class='va'>p</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_tile.html'>geom_rect</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='fl'>2015</span>, xmax <span class='op'>=</span> <span class='fl'>2015</span>, ymin <span class='op'>=</span> <span class='fl'>0</span>, ymax <span class='op'>=</span> <span class='fl'>240</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='va'>xmin</span>, xmax <span class='op'>=</span> <span class='va'>xmax</span>, ymin <span class='op'>=</span> <span class='va'>ymin</span>, ymax <span class='op'>=</span> <span class='va'>ymax</span><span class='op'>)</span>,</span>
<span>    colour <span class='op'>=</span> <span class='st'>"black"</span>, fill <span class='op'>=</span> <span class='st'>"grey55"</span>, alpha <span class='op'>=</span> <span class='fl'>0.25</span>, inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span>,</span>
<span>    linetype <span class='op'>=</span> <span class='st'>"dashed"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>2015.136</span>, y <span class='op'>=</span> <span class='fl'>214.048</span>, </span>
<span>                      label <span class='op'>=</span> <span class='st'>"Ruptura del bipartidismo"</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>x</span>, y <span class='op'>=</span> <span class='va'>y</span>, label <span class='op'>=</span> <span class='va'>label</span><span class='op'>)</span>,</span>
<span>    size <span class='op'>=</span> <span class='fl'>3.35</span>, inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>   <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_tile.html'>geom_rect</a></span><span class='op'>(</span></span>
<span>     data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='fl'>2020</span>, xmax <span class='op'>=</span> <span class='fl'>2020</span>, ymin <span class='op'>=</span> <span class='fl'>200</span>, ymax <span class='op'>=</span> <span class='fl'>240</span><span class='op'>)</span>,</span>
<span>     mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='va'>xmin</span>, xmax <span class='op'>=</span> <span class='va'>xmax</span>, ymin <span class='op'>=</span> <span class='va'>ymin</span>, ymax <span class='op'>=</span> <span class='va'>ymax</span><span class='op'>)</span>,</span>
<span>     colour <span class='op'>=</span> <span class='st'>"black"</span>, fill <span class='op'>=</span> <span class='st'>"grey55"</span>, alpha <span class='op'>=</span> <span class='fl'>0.25</span>, inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span>,</span>
<span>     linetype <span class='op'>=</span> <span class='st'>"dashed"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>2020.2</span>, y <span class='op'>=</span> <span class='fl'>190</span>, </span>
<span>                      label <span class='op'>=</span> <span class='st'>"Primer gobierno\n de coalición"</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>x</span>, y <span class='op'>=</span> <span class='va'>y</span>, label <span class='op'>=</span> <span class='va'>label</span><span class='op'>)</span>,</span>
<span>    size <span class='op'>=</span> <span class='fl'>3.35</span>, inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_tile.html'>geom_rect</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='fl'>1977.452</span>, xmax <span class='op'>=</span> <span class='fl'>2023</span>, ymin <span class='op'>=</span> <span class='fl'>176</span>, ymax <span class='op'>=</span> <span class='fl'>176</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='va'>xmin</span>, xmax <span class='op'>=</span> <span class='va'>xmax</span>, ymin <span class='op'>=</span> <span class='va'>ymin</span>, ymax <span class='op'>=</span> <span class='va'>ymax</span><span class='op'>)</span>,</span>
<span>    colour <span class='op'>=</span> <span class='st'>"black"</span>, fill <span class='op'>=</span> <span class='st'>"grey55"</span>, alpha <span class='op'>=</span> <span class='fl'>0.25</span>, inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span><span class='op'>+</span> </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>2024.652</span>, y <span class='op'>=</span> <span class='fl'>177.382</span>, label <span class='op'>=</span> <span class='st'>"Mayoría\nabsoluta"</span><span class='op'>)</span>,</span>
<span>    mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>x</span>, y <span class='op'>=</span> <span class='va'>y</span>, label <span class='op'>=</span> <span class='va'>label</span><span class='op'>)</span>,</span>
<span>    size <span class='op'>=</span> <span class='fl'>3.35</span>, inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>p</span></span></code></pre>
</div>
<p><img src="100516517_files/figure-html5/unnamed-chunk-14-1.png" width="100%" /></p>
</div>
<div class="sourceCode" id="cb1"><pre class="sourceCode r distill-force-highlighting-css"><code class="sourceCode r"></code></pre></div>
<!--radix_placeholder_article_footer-->
<!--/radix_placeholder_article_footer-->
</div>

<div class="d-appendix">
</div>


<!--radix_placeholder_site_after_body-->
<!--/radix_placeholder_site_after_body-->
<!--radix_placeholder_appendices-->
<div class="appendix-bottom">
  <h3 id="reuse">Reuse</h3>
  <p>Text and figures are licensed under Creative Commons Attribution <a rel="license" href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a>. The figures that have been reused from other sources don't fall under this license and can be recognized by a note in their caption: "Figure from ...".</p>
  <h3 id="citation">Citation</h3>
  <p>For attribution, please cite this work as</p>
  <pre class="citation-appendix short">Gómez-Blanco (2024, Jan. 18). Data visualization | MSc CSS: Bipartisanship Unveiled: The Evolution of Recent History in the Spanish Congress. Retrieved from https://csslab.uc3m.es/dataviz/projects/2023/100516517/</pre>
  <p>BibTeX citation</p>
  <pre class="citation-appendix long">@misc{gómez-blanco2024bipartisanship,
  author = {Gómez-Blanco, Candela},
  title = {Data visualization | MSc CSS: Bipartisanship Unveiled: The Evolution of Recent History in the Spanish Congress},
  url = {https://csslab.uc3m.es/dataviz/projects/2023/100516517/},
  year = {2024}
}</pre>
</div>
<!--/radix_placeholder_appendices-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<!--radix_placeholder_navigation_after_body--><html><body>
<div class="distill-site-nav distill-site-footer">
<p><img src="../../../assets/acronimo_nombre1l_0.png" width="400"></p>
</div>
<!--/radix_placeholder_navigation_after_body-->
</body></html>


</body>

</html>
