<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">

<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/>
  <meta name="generator" content="distill" />

  <style type="text/css">
  /* Hide doc at startup (prevent jankiness while JS renders/transforms) */
  body {
    visibility: hidden;
  }
  </style>

 <!--radix_placeholder_import_source-->
 <!--/radix_placeholder_import_source-->

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  { color: #00769e; background-color: #f1f3f5; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span { color: #00769e; } /* Normal */
code span.al { color: #ad0000; } /* Alert */
code span.an { color: #5e5e5e; } /* Annotation */
code span.at { color: #657422; } /* Attribute */
code span.bn { color: #ad0000; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #00769e; } /* ControlFlow */
code span.ch { color: #20794d; } /* Char */
code span.cn { color: #8f5902; } /* Constant */
code span.co { color: #5e5e5e; } /* Comment */
code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
code span.dt { color: #ad0000; } /* DataType */
code span.dv { color: #ad0000; } /* DecVal */
code span.er { color: #ad0000; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #ad0000; } /* Float */
code span.fu { color: #4758ab; } /* Function */
code span.im { } /* Import */
code span.in { color: #5e5e5e; } /* Information */
code span.kw { color: #00769e; } /* Keyword */
code span.op { color: #5e5e5e; } /* Operator */
code span.ot { color: #00769e; } /* Other */
code span.pp { color: #ad0000; } /* Preprocessor */
code span.sc { color: #5e5e5e; } /* SpecialChar */
code span.ss { color: #20794d; } /* SpecialString */
code span.st { color: #20794d; } /* String */
code span.va { color: #111111; } /* Variable */
code span.vs { color: #20794d; } /* VerbatimString */
code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
</style>


  <!--radix_placeholder_meta_tags-->
<title>Data visualization | MSc CSS: Public Trust in Government</title>

<meta property="description" itemprop="description" content="Visual representation of the evolution of public trust in the United States&#10;government by race and ethnicity from 1958 to 2023, as documented in the&#10;Pew Research Paper."/>

<link rel="canonical" href="https://csslab.uc3m.es/dataviz/projects/2023/100430897/"/>
<link rel="license" href="https://creativecommons.org/licenses/by/4.0/"/>

<!--  https://schema.org/Article -->
<meta property="article:published" itemprop="datePublished" content="2024-01-22"/>
<meta property="article:created" itemprop="dateCreated" content="2024-01-22"/>
<meta name="article:author" content="Carlos San-Juan-Baeza"/>

<!--  https://developers.facebook.com/docs/sharing/webmasters#markup -->
<meta property="og:title" content="Data visualization | MSc CSS: Public Trust in Government"/>
<meta property="og:type" content="article"/>
<meta property="og:description" content="Visual representation of the evolution of public trust in the United States&#10;government by race and ethnicity from 1958 to 2023, as documented in the&#10;Pew Research Paper."/>
<meta property="og:url" content="https://csslab.uc3m.es/dataviz/projects/2023/100430897/"/>
<meta property="og:image" content="https://csslab.uc3m.es/dataviz/projects/2023/100430897/100430897_files/figure-html5/unnamed-chunk-22-1.png"/>
<meta property="og:image:width" content="2880"/>
<meta property="og:image:height" content="1872"/>
<meta property="og:locale" content="en_US"/>
<meta property="og:site_name" content="Data visualization | MSc CSS"/>

<!--  https://dev.twitter.com/cards/types/summary -->
<meta property="twitter:card" content="summary_large_image"/>
<meta property="twitter:title" content="Data visualization | MSc CSS: Public Trust in Government"/>
<meta property="twitter:description" content="Visual representation of the evolution of public trust in the United States&#10;government by race and ethnicity from 1958 to 2023, as documented in the&#10;Pew Research Paper."/>
<meta property="twitter:url" content="https://csslab.uc3m.es/dataviz/projects/2023/100430897/"/>
<meta property="twitter:image" content="https://csslab.uc3m.es/dataviz/projects/2023/100430897/100430897_files/figure-html5/unnamed-chunk-22-1.png"/>
<meta property="twitter:image:width" content="2880"/>
<meta property="twitter:image:height" content="1872"/>

<!--  https://scholar.google.com/intl/en/scholar/inclusion.html#indexing -->
<meta name="citation_title" content="Data visualization | MSc CSS: Public Trust in Government"/>
<meta name="citation_fulltext_html_url" content="https://csslab.uc3m.es/dataviz/projects/2023/100430897/"/>
<meta name="citation_fulltext_world_readable" content=""/>
<meta name="citation_online_date" content="2024/01/22"/>
<meta name="citation_publication_date" content="2024/01/22"/>
<meta name="citation_author" content="Carlos San-Juan-Baeza"/>
<!--/radix_placeholder_meta_tags-->
  <!--radix_placeholder_rmarkdown_metadata-->

<script type="text/json" id="radix-rmarkdown-metadata">
{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["creative_commons","title","description","categories","author","date","output","citation_url","canonical_url"]}},"value":[{"type":"character","attributes":{},"value":["CC BY"]},{"type":"character","attributes":{},"value":["Public Trust in Government"]},{"type":"character","attributes":{},"value":["Visual representation of the evolution of public trust in the United States\ngovernment by race and ethnicity from 1958 to 2023, as documented in the\nPew Research Paper."]},{"type":"character","attributes":{},"value":["2023"]},{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name"]}},"value":[{"type":"character","attributes":{},"value":["Carlos San-Juan-Baeza"]}]}]},{"type":"character","attributes":{},"value":["2024-01-22"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["distill::distill_article"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["self_contained","toc"]}},"value":[{"type":"logical","attributes":{},"value":[false]},{"type":"logical","attributes":{},"value":[true]}]}]},{"type":"character","attributes":{},"value":["https://csslab.uc3m.es/dataviz/projects/2023/100430897/"]},{"type":"character","attributes":{},"value":["https://csslab.uc3m.es/dataviz/projects/2023/100430897/"]}]}
</script>
<!--/radix_placeholder_rmarkdown_metadata-->
  
  <script type="text/json" id="radix-resource-manifest">
  {"type":"character","attributes":{},"value":["100430897_files/anchor-4.2.2/anchor.min.js","100430897_files/bowser-1.9.3/bowser.min.js","100430897_files/distill-2.2.21/template.v2.js","100430897_files/figure-html5/unnamed-chunk-11-1.png","100430897_files/figure-html5/unnamed-chunk-13-1.png","100430897_files/figure-html5/unnamed-chunk-17-1.png","100430897_files/figure-html5/unnamed-chunk-22-1.png","100430897_files/figure-html5/unnamed-chunk-7-1.png","100430897_files/figure-html5/unnamed-chunk-8-1.png","100430897_files/figure-html5/unnamed-chunk-9-1.png","100430897_files/header-attrs-2.25/header-attrs.js","100430897_files/jquery-3.6.0/jquery-3.6.0.js","100430897_files/jquery-3.6.0/jquery-3.6.0.min.js","100430897_files/jquery-3.6.0/jquery-3.6.0.min.map","100430897_files/popper-2.6.0/popper.min.js","100430897_files/tippy-6.2.7/tippy-bundle.umd.min.js","100430897_files/tippy-6.2.7/tippy-light-border.css","100430897_files/tippy-6.2.7/tippy.css","100430897_files/tippy-6.2.7/tippy.umd.min.js","100430897_files/webcomponents-2.0.0/webcomponents.js","chart-export-cda90f7d-1ac9-45fd-99e1-ec61f808868b.csv","database.csv","graficooriginal.png"]}
  </script>
  <!--radix_placeholder_navigation_in_header-->
<meta name="distill:offset" content="../../.."/>

<script type="application/javascript">

  window.headroom_prevent_pin = false;

  window.document.addEventListener("DOMContentLoaded", function (event) {

    // initialize headroom for banner
    var header = $('header').get(0);
    var headerHeight = header.offsetHeight;
    var headroom = new Headroom(header, {
      tolerance: 5,
      onPin : function() {
        if (window.headroom_prevent_pin) {
          window.headroom_prevent_pin = false;
          headroom.unpin();
        }
      }
    });
    headroom.init();
    if(window.location.hash)
      headroom.unpin();
    $(header).addClass('headroom--transition');

    // offset scroll location for banner on hash change
    // (see: https://github.com/WickyNilliams/headroom.js/issues/38)
    window.addEventListener("hashchange", function(event) {
      window.scrollTo(0, window.pageYOffset - (headerHeight + 25));
    });

    // responsive menu
    $('.distill-site-header').each(function(i, val) {
      var topnav = $(this);
      var toggle = topnav.find('.nav-toggle');
      toggle.on('click', function() {
        topnav.toggleClass('responsive');
      });
    });

    // nav dropdowns
    $('.nav-dropbtn').click(function(e) {
      $(this).next('.nav-dropdown-content').toggleClass('nav-dropdown-active');
      $(this).parent().siblings('.nav-dropdown')
         .children('.nav-dropdown-content').removeClass('nav-dropdown-active');
    });
    $("body").click(function(e){
      $('.nav-dropdown-content').removeClass('nav-dropdown-active');
    });
    $(".nav-dropdown").click(function(e){
      e.stopPropagation();
    });
  });
</script>

<style type="text/css">

/* Theme (user-documented overrideables for nav appearance) */

.distill-site-nav {
  color: rgba(255, 255, 255, 0.8);
  background-color: #0F2E3D;
  font-size: 15px;
  font-weight: 300;
}

.distill-site-nav a {
  color: inherit;
  text-decoration: none;
}

.distill-site-nav a:hover {
  color: white;
}

@media print {
  .distill-site-nav {
    display: none;
  }
}

.distill-site-header {

}

.distill-site-footer {

}


/* Site Header */

.distill-site-header {
  width: 100%;
  box-sizing: border-box;
  z-index: 3;
}

.distill-site-header .nav-left {
  display: inline-block;
  margin-left: 8px;
}

@media screen and (max-width: 768px) {
  .distill-site-header .nav-left {
    margin-left: 0;
  }
}


.distill-site-header .nav-right {
  float: right;
  margin-right: 8px;
}

.distill-site-header a,
.distill-site-header .title {
  display: inline-block;
  text-align: center;
  padding: 14px 10px 14px 10px;
}

.distill-site-header .title {
  font-size: 18px;
  min-width: 150px;
}

.distill-site-header .logo {
  padding: 0;
}

.distill-site-header .logo img {
  display: none;
  max-height: 20px;
  width: auto;
  margin-bottom: -4px;
}

.distill-site-header .nav-image img {
  max-height: 18px;
  width: auto;
  display: inline-block;
  margin-bottom: -3px;
}



@media screen and (min-width: 1000px) {
  .distill-site-header .logo img {
    display: inline-block;
  }
  .distill-site-header .nav-left {
    margin-left: 20px;
  }
  .distill-site-header .nav-right {
    margin-right: 20px;
  }
  .distill-site-header .title {
    padding-left: 12px;
  }
}


.distill-site-header .nav-toggle {
  display: none;
}

.nav-dropdown {
  display: inline-block;
  position: relative;
}

.nav-dropdown .nav-dropbtn {
  border: none;
  outline: none;
  color: rgba(255, 255, 255, 0.8);
  padding: 16px 10px;
  background-color: transparent;
  font-family: inherit;
  font-size: inherit;
  font-weight: inherit;
  margin: 0;
  margin-top: 1px;
  z-index: 2;
}

.nav-dropdown-content {
  display: none;
  position: absolute;
  background-color: white;
  min-width: 200px;
  border: 1px solid rgba(0,0,0,0.15);
  border-radius: 4px;
  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.1);
  z-index: 1;
  margin-top: 2px;
  white-space: nowrap;
  padding-top: 4px;
  padding-bottom: 4px;
}

.nav-dropdown-content hr {
  margin-top: 4px;
  margin-bottom: 4px;
  border: none;
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
}

.nav-dropdown-active {
  display: block;
}

.nav-dropdown-content a, .nav-dropdown-content .nav-dropdown-header {
  color: black;
  padding: 6px 24px;
  text-decoration: none;
  display: block;
  text-align: left;
}

.nav-dropdown-content .nav-dropdown-header {
  display: block;
  padding: 5px 24px;
  padding-bottom: 0;
  text-transform: uppercase;
  font-size: 14px;
  color: #999999;
  white-space: nowrap;
}

.nav-dropdown:hover .nav-dropbtn {
  color: white;
}

.nav-dropdown-content a:hover {
  background-color: #ddd;
  color: black;
}

.nav-right .nav-dropdown-content {
  margin-left: -45%;
  right: 0;
}

@media screen and (max-width: 768px) {
  .distill-site-header a, .distill-site-header .nav-dropdown  {display: none;}
  .distill-site-header a.nav-toggle {
    float: right;
    display: block;
  }
  .distill-site-header .title {
    margin-left: 0;
  }
  .distill-site-header .nav-right {
    margin-right: 0;
  }
  .distill-site-header {
    overflow: hidden;
  }
  .nav-right .nav-dropdown-content {
    margin-left: 0;
  }
}


@media screen and (max-width: 768px) {
  .distill-site-header.responsive {position: relative; min-height: 500px; }
  .distill-site-header.responsive a.nav-toggle {
    position: absolute;
    right: 0;
    top: 0;
  }
  .distill-site-header.responsive a,
  .distill-site-header.responsive .nav-dropdown {
    display: block;
    text-align: left;
  }
  .distill-site-header.responsive .nav-left,
  .distill-site-header.responsive .nav-right {
    width: 100%;
  }
  .distill-site-header.responsive .nav-dropdown {float: none;}
  .distill-site-header.responsive .nav-dropdown-content {position: relative;}
  .distill-site-header.responsive .nav-dropdown .nav-dropbtn {
    display: block;
    width: 100%;
    text-align: left;
  }
}

/* Site Footer */

.distill-site-footer {
  width: 100%;
  overflow: hidden;
  box-sizing: border-box;
  z-index: 3;
  margin-top: 30px;
  padding-top: 30px;
  padding-bottom: 30px;
  text-align: center;
}

/* Headroom */

d-title {
  padding-top: 6rem;
}

@media print {
  d-title {
    padding-top: 4rem;
  }
}

.headroom {
  z-index: 1000;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
}

.headroom--transition {
  transition: all .4s ease-in-out;
}

.headroom--unpinned {
  top: -100px;
}

.headroom--pinned {
  top: 0;
}

/* adjust viewport for navbar height */
/* helps vertically center bootstrap (non-distill) content */
.min-vh-100 {
  min-height: calc(100vh - 100px) !important;
}

</style>

<script src="../../../site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<link href="../../../site_libs/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"/>
<link href="../../../site_libs/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"/>
<script src="../../../site_libs/headroom-0.9.4/headroom.min.js"></script>
<script src="../../../site_libs/autocomplete-0.37.1/autocomplete.min.js"></script>
<script src="../../../site_libs/fuse-6.4.1/fuse.min.js"></script>

<script type="application/javascript">

function getMeta(metaName) {
  var metas = document.getElementsByTagName('meta');
  for (let i = 0; i < metas.length; i++) {
    if (metas[i].getAttribute('name') === metaName) {
      return metas[i].getAttribute('content');
    }
  }
  return '';
}

function offsetURL(url) {
  var offset = getMeta('distill:offset');
  return offset ? offset + '/' + url : url;
}

function createFuseIndex() {

  // create fuse index
  var options = {
    keys: [
      { name: 'title', weight: 20 },
      { name: 'categories', weight: 15 },
      { name: 'description', weight: 10 },
      { name: 'contents', weight: 5 },
    ],
    ignoreLocation: true,
    threshold: 0
  };
  var fuse = new window.Fuse([], options);

  // fetch the main search.json
  return fetch(offsetURL('search.json'))
    .then(function(response) {
      if (response.status == 200) {
        return response.json().then(function(json) {
          // index main articles
          json.articles.forEach(function(article) {
            fuse.add(article);
          });
          // download collections and index their articles
          return Promise.all(json.collections.map(function(collection) {
            return fetch(offsetURL(collection)).then(function(response) {
              if (response.status === 200) {
                return response.json().then(function(articles) {
                  articles.forEach(function(article) {
                    fuse.add(article);
                  });
                })
              } else {
                return Promise.reject(
                  new Error('Unexpected status from search index request: ' +
                            response.status)
                );
              }
            });
          })).then(function() {
            return fuse;
          });
        });

      } else {
        return Promise.reject(
          new Error('Unexpected status from search index request: ' +
                      response.status)
        );
      }
    });
}

window.document.addEventListener("DOMContentLoaded", function (event) {

  // get search element (bail if we don't have one)
  var searchEl = window.document.getElementById('distill-search');
  if (!searchEl)
    return;

  createFuseIndex()
    .then(function(fuse) {

      // make search box visible
      searchEl.classList.remove('hidden');

      // initialize autocomplete
      var options = {
        autoselect: true,
        hint: false,
        minLength: 2,
      };
      window.autocomplete(searchEl, options, [{
        source: function(query, callback) {
          const searchOptions = {
            isCaseSensitive: false,
            shouldSort: true,
            minMatchCharLength: 2,
            limit: 10,
          };
          var results = fuse.search(query, searchOptions);
          callback(results
            .map(function(result) { return result.item; })
          );
        },
        templates: {
          suggestion: function(suggestion) {
            var img = suggestion.preview && Object.keys(suggestion.preview).length > 0
              ? `<img src="${offsetURL(suggestion.preview)}"</img>`
              : '';
            var html = `
              <div class="search-item">
                <h3>${suggestion.title}</h3>
                <div class="search-item-description">
                  ${suggestion.description || ''}
                </div>
                <div class="search-item-preview">
                  ${img}
                </div>
              </div>
            `;
            return html;
          }
        }
      }]).on('autocomplete:selected', function(event, suggestion) {
        window.location.href = offsetURL(suggestion.path);
      });
      // remove inline display style on autocompleter (we want to
      // manage responsive display via css)
      $('.algolia-autocomplete').css("display", "");
    })
    .catch(function(error) {
      console.log(error);
    });

});

</script>

<style type="text/css">

.nav-search {
  font-size: x-small;
}

/* Algolioa Autocomplete */

.algolia-autocomplete {
  display: inline-block;
  margin-left: 10px;
  vertical-align: sub;
  background-color: white;
  color: black;
  padding: 6px;
  padding-top: 8px;
  padding-bottom: 0;
  border-radius: 6px;
  border: 1px #0F2E3D solid;
  width: 180px;
}


@media screen and (max-width: 768px) {
  .distill-site-nav .algolia-autocomplete {
    display: none;
    visibility: hidden;
  }
  .distill-site-nav.responsive .algolia-autocomplete {
    display: inline-block;
    visibility: visible;
  }
  .distill-site-nav.responsive .algolia-autocomplete .aa-dropdown-menu {
    margin-left: 0;
    width: 400px;
    max-height: 400px;
  }
}

.algolia-autocomplete .aa-input, .algolia-autocomplete .aa-hint {
  width: 90%;
  outline: none;
  border: none;
}

.algolia-autocomplete .aa-hint {
  color: #999;
}
.algolia-autocomplete .aa-dropdown-menu {
  width: 550px;
  max-height: 70vh;
  overflow-x: visible;
  overflow-y: scroll;
  padding: 5px;
  margin-top: 3px;
  margin-left: -150px;
  background-color: #fff;
  border-radius: 5px;
  border: 1px solid #999;
  border-top: none;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion {
  cursor: pointer;
  padding: 5px 4px;
  border-bottom: 1px solid #eee;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion:last-of-type {
  border-bottom: none;
  margin-bottom: 2px;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item {
  overflow: hidden;
  font-size: 0.8em;
  line-height: 1.4em;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item h3 {
  font-size: 1rem;
  margin-block-start: 0;
  margin-block-end: 5px;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-description {
  display: inline-block;
  overflow: hidden;
  height: 2.8em;
  width: 80%;
  margin-right: 4%;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview {
  display: inline-block;
  width: 15%;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview img {
  height: 3em;
  width: auto;
  display: none;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview img[src] {
  display: initial;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion.aa-cursor {
  background-color: #eee;
}
.algolia-autocomplete .aa-dropdown-menu .aa-suggestion em {
  font-weight: bold;
  font-style: normal;
}

</style>


<!--/radix_placeholder_navigation_in_header-->
  <!--radix_placeholder_distill-->

<style type="text/css">

body {
  background-color: white;
}

.pandoc-table {
  width: 100%;
}

.pandoc-table>caption {
  margin-bottom: 10px;
}

.pandoc-table th:not([align]) {
  text-align: left;
}

.pagedtable-footer {
  font-size: 15px;
}

d-byline .byline {
  grid-template-columns: 2fr 2fr;
}

d-byline .byline h3 {
  margin-block-start: 1.5em;
}

d-byline .byline .authors-affiliations h3 {
  margin-block-start: 0.5em;
}

.authors-affiliations .orcid-id {
  width: 16px;
  height:16px;
  margin-left: 4px;
  margin-right: 4px;
  vertical-align: middle;
  padding-bottom: 2px;
}

d-title .dt-tags {
  margin-top: 1em;
  grid-column: text;
}

.dt-tags .dt-tag {
  text-decoration: none;
  display: inline-block;
  color: rgba(0,0,0,0.6);
  padding: 0em 0.4em;
  margin-right: 0.5em;
  margin-bottom: 0.4em;
  font-size: 70%;
  border: 1px solid rgba(0,0,0,0.2);
  border-radius: 3px;
  text-transform: uppercase;
  font-weight: 500;
}

d-article table.gt_table td,
d-article table.gt_table th {
  border-bottom: none;
  font-size: 100%;
}

.html-widget {
  margin-bottom: 2.0em;
}

.l-screen-inset {
  padding-right: 16px;
}

.l-screen .caption {
  margin-left: 10px;
}

.shaded {
  background: rgb(247, 247, 247);
  padding-top: 20px;
  padding-bottom: 20px;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
}

.shaded .html-widget {
  margin-bottom: 0;
  border: 1px solid rgba(0, 0, 0, 0.1);
}

.shaded .shaded-content {
  background: white;
}

.text-output {
  margin-top: 0;
  line-height: 1.5em;
}

.hidden {
  display: none !important;
}

hr.section-separator {
  border: none;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  margin: 0px;
}


d-byline {
  border-top: none;
}

d-article {
  padding-top: 2.5rem;
  padding-bottom: 30px;
  border-top: none;
}

d-appendix {
  padding-top: 30px;
}

d-article>p>img {
  width: 100%;
}

d-article h2 {
  margin: 1rem 0 1.5rem 0;
}

d-article h3 {
  margin-top: 1.5rem;
}

d-article iframe {
  border: 1px solid rgba(0, 0, 0, 0.1);
  margin-bottom: 2.0em;
  width: 100%;
}

/* Tweak code blocks */

d-article div.sourceCode code,
d-article pre code {
  font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
}

d-article pre,
d-article div.sourceCode,
d-article div.sourceCode pre {
  overflow: auto;
}

d-article div.sourceCode {
  background-color: white;
}

d-article div.sourceCode pre {
  padding-left: 10px;
  font-size: 12px;
  border-left: 2px solid rgba(0,0,0,0.1);
}

d-article pre {
  font-size: 12px;
  color: black;
  background: none;
  margin-top: 0;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.5;

  -moz-tab-size: 4;
  -o-tab-size: 4;
  tab-size: 4;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

d-article pre a {
  border-bottom: none;
}

d-article pre a:hover {
  border-bottom: none;
  text-decoration: underline;
}

d-article details {
  grid-column: text;
  margin-bottom: 0.8em;
}

@media(min-width: 768px) {

d-article pre,
d-article div.sourceCode,
d-article div.sourceCode pre {
  overflow: visible !important;
}

d-article div.sourceCode pre {
  padding-left: 18px;
  font-size: 14px;
}

/* tweak for Pandoc numbered line within distill */
d-article pre.numberSource code > span {
    left: -2em;
}

d-article pre {
  font-size: 14px;
}

}

figure img.external {
  background: white;
  border: 1px solid rgba(0, 0, 0, 0.1);
  box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
  padding: 18px;
  box-sizing: border-box;
}

/* CSS for d-contents */

.d-contents {
  grid-column: text;
  color: rgba(0,0,0,0.8);
  font-size: 0.9em;
  padding-bottom: 1em;
  margin-bottom: 1em;
  padding-bottom: 0.5em;
  margin-bottom: 1em;
  padding-left: 0.25em;
  justify-self: start;
}

@media(min-width: 1000px) {
  .d-contents.d-contents-float {
    height: 0;
    grid-column-start: 1;
    grid-column-end: 4;
    justify-self: center;
    padding-right: 3em;
    padding-left: 2em;
  }
}

.d-contents nav h3 {
  font-size: 18px;
  margin-top: 0;
  margin-bottom: 1em;
}

.d-contents li {
  list-style-type: none
}

.d-contents nav > ul {
  padding-left: 0;
}

.d-contents ul {
  padding-left: 1em
}

.d-contents nav ul li {
  margin-top: 0.6em;
  margin-bottom: 0.2em;
}

.d-contents nav a {
  font-size: 13px;
  border-bottom: none;
  text-decoration: none
  color: rgba(0, 0, 0, 0.8);
}

.d-contents nav a:hover {
  text-decoration: underline solid rgba(0, 0, 0, 0.6)
}

.d-contents nav > ul > li > a {
  font-weight: 600;
}

.d-contents nav > ul > li > ul {
  font-weight: inherit;
}

.d-contents nav > ul > li > ul > li {
  margin-top: 0.2em;
}


.d-contents nav ul {
  margin-top: 0;
  margin-bottom: 0.25em;
}

.d-article-with-toc h2:nth-child(2) {
  margin-top: 0;
}


/* Figure */

.figure {
  position: relative;
  margin-bottom: 2.5em;
  margin-top: 1.5em;
}

.figure .caption {
  color: rgba(0, 0, 0, 0.6);
  font-size: 12px;
  line-height: 1.5em;
}

.figure img.external {
  background: white;
  border: 1px solid rgba(0, 0, 0, 0.1);
  box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
  padding: 18px;
  box-sizing: border-box;
}

.figure .caption a {
  color: rgba(0, 0, 0, 0.6);
}

.figure .caption b,
.figure .caption strong, {
  font-weight: 600;
  color: rgba(0, 0, 0, 1.0);
}

/* Citations */

d-article .citation {
  color: inherit;
  cursor: inherit;
}

div.hanging-indent{
  margin-left: 1em; text-indent: -1em;
}

/* Citation hover box */

.tippy-box[data-theme~=light-border] {
  background-color: rgba(250, 250, 250, 0.95);
}

.tippy-content > p {
  margin-bottom: 0;
  padding: 2px;
}


/* Tweak 1000px media break to show more text */

@media(min-width: 1000px) {
  .base-grid,
  distill-header,
  d-title,
  d-abstract,
  d-article,
  d-appendix,
  distill-appendix,
  d-byline,
  d-footnote-list,
  d-citation-list,
  distill-footer {
    grid-template-columns: [screen-start] 1fr [page-start kicker-start] 80px [middle-start] 50px [text-start kicker-end] 65px 65px 65px 65px 65px 65px 65px 65px [text-end gutter-start] 65px [middle-end] 65px [page-end gutter-end] 1fr [screen-end];
    grid-column-gap: 16px;
  }

  .grid {
    grid-column-gap: 16px;
  }

  d-article {
    font-size: 1.06rem;
    line-height: 1.7em;
  }
  figure .caption, .figure .caption, figure figcaption {
    font-size: 13px;
  }
}

@media(min-width: 1180px) {
  .base-grid,
  distill-header,
  d-title,
  d-abstract,
  d-article,
  d-appendix,
  distill-appendix,
  d-byline,
  d-footnote-list,
  d-citation-list,
  distill-footer {
    grid-template-columns: [screen-start] 1fr [page-start kicker-start] 60px [middle-start] 60px [text-start kicker-end] 60px 60px 60px 60px 60px 60px 60px 60px [text-end gutter-start] 60px [middle-end] 60px [page-end gutter-end] 1fr [screen-end];
    grid-column-gap: 32px;
  }

  .grid {
    grid-column-gap: 32px;
  }
}


/* Get the citation styles for the appendix (not auto-injected on render since
   we do our own rendering of the citation appendix) */

d-appendix .citation-appendix,
.d-appendix .citation-appendix {
  font-size: 11px;
  line-height: 15px;
  border-left: 1px solid rgba(0, 0, 0, 0.1);
  padding-left: 18px;
  border: 1px solid rgba(0,0,0,0.1);
  background: rgba(0, 0, 0, 0.02);
  padding: 10px 18px;
  border-radius: 3px;
  color: rgba(150, 150, 150, 1);
  overflow: hidden;
  margin-top: -12px;
  white-space: pre-wrap;
  word-wrap: break-word;
}

/* Include appendix styles here so they can be overridden */

d-appendix {
  contain: layout style;
  font-size: 0.8em;
  line-height: 1.7em;
  margin-top: 60px;
  margin-bottom: 0;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  color: rgba(0,0,0,0.5);
  padding-top: 60px;
  padding-bottom: 48px;
}

d-appendix h3 {
  grid-column: page-start / text-start;
  font-size: 15px;
  font-weight: 500;
  margin-top: 1em;
  margin-bottom: 0;
  color: rgba(0,0,0,0.65);
}

d-appendix h3 + * {
  margin-top: 1em;
}

d-appendix ol {
  padding: 0 0 0 15px;
}

@media (min-width: 768px) {
  d-appendix ol {
    padding: 0 0 0 30px;
    margin-left: -30px;
  }
}

d-appendix li {
  margin-bottom: 1em;
}

d-appendix a {
  color: rgba(0, 0, 0, 0.6);
}

d-appendix > * {
  grid-column: text;
}

d-appendix > d-footnote-list,
d-appendix > d-citation-list,
d-appendix > distill-appendix {
  grid-column: screen;
}

/* Include footnote styles here so they can be overridden */

d-footnote-list {
  contain: layout style;
}

d-footnote-list > * {
  grid-column: text;
}

d-footnote-list a.footnote-backlink {
  color: rgba(0,0,0,0.3);
  padding-left: 0.5em;
}



/* Anchor.js */

.anchorjs-link {
  /*transition: all .25s linear; */
  text-decoration: none;
  border-bottom: none;
}
*:hover > .anchorjs-link {
  margin-left: -1.125em !important;
  text-decoration: none;
  border-bottom: none;
}

/* Social footer */

.social_footer {
  margin-top: 30px;
  margin-bottom: 0;
  color: rgba(0,0,0,0.67);
}

.disqus-comments {
  margin-right: 30px;
}

.disqus-comment-count {
  border-bottom: 1px solid rgba(0, 0, 0, 0.4);
  cursor: pointer;
}

#disqus_thread {
  margin-top: 30px;
}

.article-sharing a {
  border-bottom: none;
  margin-right: 8px;
}

.article-sharing a:hover {
  border-bottom: none;
}

.sidebar-section.subscribe {
  font-size: 12px;
  line-height: 1.6em;
}

.subscribe p {
  margin-bottom: 0.5em;
}


.article-footer .subscribe {
  font-size: 15px;
  margin-top: 45px;
}


.sidebar-section.custom {
  font-size: 12px;
  line-height: 1.6em;
}

.custom p {
  margin-bottom: 0.5em;
}

/* Styles for listing layout (hide title) */
.layout-listing d-title, .layout-listing .d-title {
  display: none;
}

/* Styles for posts lists (not auto-injected) */


.posts-with-sidebar {
  padding-left: 45px;
  padding-right: 45px;
}

.posts-list .description h2,
.posts-list .description p {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
}

.posts-list .description h2 {
  font-weight: 700;
  border-bottom: none;
  padding-bottom: 0;
}

.posts-list h2.post-tag {
  border-bottom: 1px solid rgba(0, 0, 0, 0.2);
  padding-bottom: 12px;
}
.posts-list {
  margin-top: 60px;
  margin-bottom: 24px;
}

.posts-list .post-preview {
  text-decoration: none;
  overflow: hidden;
  display: block;
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  padding: 24px 0;
}

.post-preview-last {
  border-bottom: none !important;
}

.posts-list .posts-list-caption {
  grid-column: screen;
  font-weight: 400;
}

.posts-list .post-preview h2 {
  margin: 0 0 6px 0;
  line-height: 1.2em;
  font-style: normal;
  font-size: 24px;
}

.posts-list .post-preview p {
  margin: 0 0 12px 0;
  line-height: 1.4em;
  font-size: 16px;
}

.posts-list .post-preview .thumbnail {
  box-sizing: border-box;
  margin-bottom: 24px;
  position: relative;
  max-width: 500px;
}
.posts-list .post-preview img {
  width: 100%;
  display: block;
}

.posts-list .metadata {
  font-size: 12px;
  line-height: 1.4em;
  margin-bottom: 18px;
}

.posts-list .metadata > * {
  display: inline-block;
}

.posts-list .metadata .publishedDate {
  margin-right: 2em;
}

.posts-list .metadata .dt-authors {
  display: block;
  margin-top: 0.3em;
  margin-right: 2em;
}

.posts-list .dt-tags {
  display: block;
  line-height: 1em;
}

.posts-list .dt-tags .dt-tag {
  display: inline-block;
  color: rgba(0,0,0,0.6);
  padding: 0.3em 0.4em;
  margin-right: 0.2em;
  margin-bottom: 0.4em;
  font-size: 60%;
  border: 1px solid rgba(0,0,0,0.2);
  border-radius: 3px;
  text-transform: uppercase;
  font-weight: 500;
}

.posts-list img {
  opacity: 1;
}

.posts-list img[data-src] {
  opacity: 0;
}

.posts-more {
  clear: both;
}


.posts-sidebar {
  font-size: 16px;
}

.posts-sidebar h3 {
  font-size: 16px;
  margin-top: 0;
  margin-bottom: 0.5em;
  font-weight: 400;
  text-transform: uppercase;
}

.sidebar-section {
  margin-bottom: 30px;
}

.categories ul {
  list-style-type: none;
  margin: 0;
  padding: 0;
}

.categories li {
  color: rgba(0, 0, 0, 0.8);
  margin-bottom: 0;
}

.categories li>a {
  border-bottom: none;
}

.categories li>a:hover {
  border-bottom: 1px solid rgba(0, 0, 0, 0.4);
}

.categories .active {
  font-weight: 600;
}

.categories .category-count {
  color: rgba(0, 0, 0, 0.4);
}


@media(min-width: 768px) {
  .posts-list .post-preview h2 {
    font-size: 26px;
  }
  .posts-list .post-preview .thumbnail {
    float: right;
    width: 30%;
    margin-bottom: 0;
  }
  .posts-list .post-preview .description {
    float: left;
    width: 45%;
  }
  .posts-list .post-preview .metadata {
    float: left;
    width: 20%;
    margin-top: 8px;
  }
  .posts-list .post-preview p {
    margin: 0 0 12px 0;
    line-height: 1.5em;
    font-size: 16px;
  }
  .posts-with-sidebar .posts-list {
    float: left;
    width: 75%;
  }
  .posts-with-sidebar .posts-sidebar {
    float: right;
    width: 20%;
    margin-top: 60px;
    padding-top: 24px;
    padding-bottom: 24px;
  }
}


/* Improve display for browsers without grid (IE/Edge <= 15) */

.downlevel {
  line-height: 1.6em;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
  margin: 0;
}

.downlevel .d-title {
  padding-top: 6rem;
  padding-bottom: 1.5rem;
}

.downlevel .d-title h1 {
  font-size: 50px;
  font-weight: 700;
  line-height: 1.1em;
  margin: 0 0 0.5rem;
}

.downlevel .d-title p {
  font-weight: 300;
  font-size: 1.2rem;
  line-height: 1.55em;
  margin-top: 0;
}

.downlevel .d-byline {
  padding-top: 0.8em;
  padding-bottom: 0.8em;
  font-size: 0.8rem;
  line-height: 1.8em;
}

.downlevel .section-separator {
  border: none;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
}

.downlevel .d-article {
  font-size: 1.06rem;
  line-height: 1.7em;
  padding-top: 1rem;
  padding-bottom: 2rem;
}


.downlevel .d-appendix {
  padding-left: 0;
  padding-right: 0;
  max-width: none;
  font-size: 0.8em;
  line-height: 1.7em;
  margin-bottom: 0;
  color: rgba(0,0,0,0.5);
  padding-top: 40px;
  padding-bottom: 48px;
}

.downlevel .footnotes ol {
  padding-left: 13px;
}

.downlevel .base-grid,
.downlevel .distill-header,
.downlevel .d-title,
.downlevel .d-abstract,
.downlevel .d-article,
.downlevel .d-appendix,
.downlevel .distill-appendix,
.downlevel .d-byline,
.downlevel .d-footnote-list,
.downlevel .d-citation-list,
.downlevel .distill-footer,
.downlevel .appendix-bottom,
.downlevel .posts-container {
  padding-left: 40px;
  padding-right: 40px;
}

@media(min-width: 768px) {
  .downlevel .base-grid,
  .downlevel .distill-header,
  .downlevel .d-title,
  .downlevel .d-abstract,
  .downlevel .d-article,
  .downlevel .d-appendix,
  .downlevel .distill-appendix,
  .downlevel .d-byline,
  .downlevel .d-footnote-list,
  .downlevel .d-citation-list,
  .downlevel .distill-footer,
  .downlevel .appendix-bottom,
  .downlevel .posts-container {
  padding-left: 150px;
  padding-right: 150px;
  max-width: 900px;
}
}

.downlevel pre code {
  display: block;
  border-left: 2px solid rgba(0, 0, 0, .1);
  padding: 0 0 0 20px;
  font-size: 14px;
}

.downlevel code, .downlevel pre {
  color: black;
  background: none;
  font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.5;

  -moz-tab-size: 4;
  -o-tab-size: 4;
  tab-size: 4;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

.downlevel .posts-list .post-preview {
  color: inherit;
}



</style>

<script type="application/javascript">

function is_downlevel_browser() {
  if (bowser.isUnsupportedBrowser({ msie: "12", msedge: "16"},
                                 window.navigator.userAgent)) {
    return true;
  } else {
    return window.load_distill_framework === undefined;
  }
}

// show body when load is complete
function on_load_complete() {

  // add anchors
  if (window.anchors) {
    window.anchors.options.placement = 'left';
    window.anchors.add('d-article > h2, d-article > h3, d-article > h4, d-article > h5');
  }


  // set body to visible
  document.body.style.visibility = 'visible';

  // force redraw for leaflet widgets
  if (window.HTMLWidgets) {
    var maps = window.HTMLWidgets.findAll(".leaflet");
    $.each(maps, function(i, el) {
      var map = this.getMap();
      map.invalidateSize();
      map.eachLayer(function(layer) {
        if (layer instanceof L.TileLayer)
          layer.redraw();
      });
    });
  }

  // trigger 'shown' so htmlwidgets resize
  $('d-article').trigger('shown');
}

function init_distill() {

  init_common();

  // create front matter
  var front_matter = $('<d-front-matter></d-front-matter>');
  $('#distill-front-matter').wrap(front_matter);

  // create d-title
  $('.d-title').changeElementType('d-title');

  // separator
  var separator = '<hr class="section-separator" style="clear: both"/>';
  // prepend separator above appendix
  $('.d-byline').before(separator);
  $('.d-article').before(separator);

  // create d-byline
  var byline = $('<d-byline></d-byline>');
  $('.d-byline').replaceWith(byline);

  // create d-article
  var article = $('<d-article></d-article>');
  $('.d-article').wrap(article).children().unwrap();

  // move posts container into article
  $('.posts-container').appendTo($('d-article'));

  // create d-appendix
  $('.d-appendix').changeElementType('d-appendix');

  // flag indicating that we have appendix items
  var appendix = $('.appendix-bottom').children('h3').length > 0;

  // replace footnotes with <d-footnote>
  $('.footnote-ref').each(function(i, val) {
    appendix = true;
    var href = $(this).attr('href');
    var id = href.replace('#', '');
    var fn = $('#' + id);
    var fn_p = $('#' + id + '>p');
    fn_p.find('.footnote-back').remove();
    var text = fn_p.html();
    var dtfn = $('<d-footnote></d-footnote>');
    dtfn.html(text);
    $(this).replaceWith(dtfn);
  });
  // remove footnotes
  $('.footnotes').remove();

  // move refs into #references-listing
  $('#references-listing').replaceWith($('#refs'));

  $('h1.appendix, h2.appendix').each(function(i, val) {
    $(this).changeElementType('h3');
  });
  $('h3.appendix').each(function(i, val) {
    var id = $(this).attr('id');
    $('.d-contents a[href="#' + id + '"]').parent().remove();
    appendix = true;
    $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('d-appendix'));
  });

  // show d-appendix if we have appendix content
  $("d-appendix").css('display', appendix ? 'grid' : 'none');

  // localize layout chunks to just output
  $('.layout-chunk').each(function(i, val) {

    // capture layout
    var layout = $(this).attr('data-layout');

    // apply layout to markdown level block elements
    var elements = $(this).children().not('details, div.sourceCode, pre, script');
    elements.each(function(i, el) {
      var layout_div = $('<div class="' + layout + '"></div>');
      if (layout_div.hasClass('shaded')) {
        var shaded_content = $('<div class="shaded-content"></div>');
        $(this).wrap(shaded_content);
        $(this).parent().wrap(layout_div);
      } else {
        $(this).wrap(layout_div);
      }
    });


    // unwrap the layout-chunk div
    $(this).children().unwrap();
  });

  // remove code block used to force  highlighting css
  $('.distill-force-highlighting-css').parent().remove();

  // remove empty line numbers inserted by pandoc when using a
  // custom syntax highlighting theme, except when numbering line
  // in code chunk
  $('pre:not(.numberLines) code.sourceCode a:empty').remove();

  // load distill framework
  load_distill_framework();

  // wait for window.distillRunlevel == 4 to do post processing
  function distill_post_process() {

    if (!window.distillRunlevel || window.distillRunlevel < 4)
      return;

    // hide author/affiliations entirely if we have no authors
    var front_matter = JSON.parse($("#distill-front-matter").html());
    var have_authors = front_matter.authors && front_matter.authors.length > 0;
    if (!have_authors)
      $('d-byline').addClass('hidden');

    // article with toc class
    $('.d-contents').parent().addClass('d-article-with-toc');

    // strip links that point to #
    $('.authors-affiliations').find('a[href="#"]').removeAttr('href');

    // add orcid ids
    $('.authors-affiliations').find('.author').each(function(i, el) {
      var orcid_id = front_matter.authors[i].orcidID;
      var author_name = front_matter.authors[i].author
      if (orcid_id) {
        var a = $('<a></a>');
        a.attr('href', 'https://orcid.org/' + orcid_id);
        var img = $('<img></img>');
        img.addClass('orcid-id');
        img.attr('alt', author_name ? 'ORCID ID for ' + author_name : 'ORCID ID');
        img.attr('src','data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg==');
        a.append(img);
        $(this).append(a);
      }
    });

    // hide elements of author/affiliations grid that have no value
    function hide_byline_column(caption) {
      $('d-byline').find('h3:contains("' + caption + '")').parent().css('visibility', 'hidden');
    }

    // affiliations
    var have_affiliations = false;
    for (var i = 0; i<front_matter.authors.length; ++i) {
      var author = front_matter.authors[i];
      if (author.affiliation !== "&nbsp;") {
        have_affiliations = true;
        break;
      }
    }
    if (!have_affiliations)
      $('d-byline').find('h3:contains("Affiliations")').css('visibility', 'hidden');

    // published date
    if (!front_matter.publishedDate)
      hide_byline_column("Published");

    // document object identifier
    var doi = $('d-byline').find('h3:contains("DOI")');
    var doi_p = doi.next().empty();
    if (!front_matter.doi) {
      // if we have a citation and valid citationText then link to that
      if ($('#citation').length > 0 && front_matter.citationText) {
        doi.html('Citation');
        $('<a href="#citation"></a>')
          .text(front_matter.citationText)
          .appendTo(doi_p);
      } else {
        hide_byline_column("DOI");
      }
    } else {
      $('<a></a>')
         .attr('href', "https://doi.org/" + front_matter.doi)
         .html(front_matter.doi)
         .appendTo(doi_p);
    }

     // change plural form of authors/affiliations
    if (front_matter.authors.length === 1) {
      var grid = $('.authors-affiliations');
      grid.children('h3:contains("Authors")').text('Author');
      grid.children('h3:contains("Affiliations")').text('Affiliation');
    }

    // remove d-appendix and d-footnote-list local styles
    $('d-appendix > style:first-child').remove();
    $('d-footnote-list > style:first-child').remove();

    // move appendix-bottom entries to the bottom
    $('.appendix-bottom').appendTo('d-appendix').children().unwrap();
    $('.appendix-bottom').remove();

    // hoverable references
    $('span.citation[data-cites]').each(function() {
      const citeChild = $(this).children()[0]
      // Do not process if @xyz has been used without escaping and without bibliography activated
      // https://github.com/rstudio/distill/issues/466
      if (citeChild === undefined) return true

      if (citeChild.nodeName == "D-FOOTNOTE") {
        var fn = citeChild
        $(this).html(fn.shadowRoot.querySelector("sup"))
        $(this).id = fn.id
        fn.remove()
      }
      var refs = $(this).attr('data-cites').split(" ");
      var refHtml = refs.map(function(ref) {
        // Could use CSS.escape too here, we insure backward compatibility in navigator
        return "<p>" + $('div[id="ref-' + ref + '"]').html() + "</p>";
      }).join("\n");
      window.tippy(this, {
        allowHTML: true,
        content: refHtml,
        maxWidth: 500,
        interactive: true,
        interactiveBorder: 10,
        theme: 'light-border',
        placement: 'bottom-start'
      });
    });

    // fix footnotes in tables (#411)
    // replacing broken distill.pub feature
    $('table d-footnote').each(function() {
      // we replace internal showAtNode methode which is triggered when hovering a footnote
      this.hoverBox.showAtNode = function(node) {
        // ported from https://github.com/distillpub/template/pull/105/files
        calcOffset = function(elem) {
            let x = elem.offsetLeft;
            let y = elem.offsetTop;
            // Traverse upwards until an `absolute` element is found or `elem`
            // becomes null.
            while (elem = elem.offsetParent && elem.style.position != 'absolute') {
                x += elem.offsetLeft;
                y += elem.offsetTop;
            }

            return { left: x, top: y };
        }
        // https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/offsetTop
        const bbox = node.getBoundingClientRect();
        const offset = calcOffset(node);
        this.show([offset.left + bbox.width, offset.top + bbox.height]);
      }
    })

    // clear polling timer
    clearInterval(tid);

    // show body now that everything is ready
    on_load_complete();
  }

  var tid = setInterval(distill_post_process, 50);
  distill_post_process();

}

function init_downlevel() {

  init_common();

   // insert hr after d-title
  $('.d-title').after($('<hr class="section-separator"/>'));

  // check if we have authors
  var front_matter = JSON.parse($("#distill-front-matter").html());
  var have_authors = front_matter.authors && front_matter.authors.length > 0;

  // manage byline/border
  if (!have_authors)
    $('.d-byline').remove();
  $('.d-byline').after($('<hr class="section-separator"/>'));
  $('.d-byline a').remove();

  // remove toc
  $('.d-contents').remove();

  // move appendix elements
  $('h1.appendix, h2.appendix').each(function(i, val) {
    $(this).changeElementType('h3');
  });
  $('h3.appendix').each(function(i, val) {
    $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('.d-appendix'));
  });


  // inject headers into references and footnotes
  var refs_header = $('<h3></h3>');
  refs_header.text('References');
  $('#refs').prepend(refs_header);

  var footnotes_header = $('<h3></h3');
  footnotes_header.text('Footnotes');
  $('.footnotes').children('hr').first().replaceWith(footnotes_header);

  // move appendix-bottom entries to the bottom
  $('.appendix-bottom').appendTo('.d-appendix').children().unwrap();
  $('.appendix-bottom').remove();

  // remove appendix if it's empty
  if ($('.d-appendix').children().length === 0)
    $('.d-appendix').remove();

  // prepend separator above appendix
  $('.d-appendix').before($('<hr class="section-separator" style="clear: both"/>'));

  // trim code
  $('pre>code').each(function(i, val) {
    $(this).html($.trim($(this).html()));
  });

  // move posts-container right before article
  $('.posts-container').insertBefore($('.d-article'));

  $('body').addClass('downlevel');

  on_load_complete();
}


function init_common() {

  // jquery plugin to change element types
  (function($) {
    $.fn.changeElementType = function(newType) {
      var attrs = {};

      $.each(this[0].attributes, function(idx, attr) {
        attrs[attr.nodeName] = attr.nodeValue;
      });

      this.replaceWith(function() {
        return $("<" + newType + "/>", attrs).append($(this).contents());
      });
    };
  })(jQuery);

  // prevent underline for linked images
  $('a > img').parent().css({'border-bottom' : 'none'});

  // mark non-body figures created by knitr chunks as 100% width
  $('.layout-chunk').each(function(i, val) {
    var figures = $(this).find('img, .html-widget');
    // ignore leaflet img layers (#106)
    figures = figures.filter(':not(img[class*="leaflet"])')
    if ($(this).attr('data-layout') !== "l-body") {
      figures.css('width', '100%');
    } else {
      figures.css('max-width', '100%');
      figures.filter("[width]").each(function(i, val) {
        var fig = $(this);
        fig.css('width', fig.attr('width') + 'px');
      });

    }
  });

  // auto-append index.html to post-preview links in file: protocol
  // and in rstudio ide preview
  $('.post-preview').each(function(i, val) {
    if (window.location.protocol === "file:")
      $(this).attr('href', $(this).attr('href') + "index.html");
  });

  // get rid of index.html references in header
  if (window.location.protocol !== "file:") {
    $('.distill-site-header a[href]').each(function(i,val) {
      $(this).attr('href', $(this).attr('href').replace(/^index[.]html/, "./"));
    });
  }

  // add class to pandoc style tables
  $('tr.header').parent('thead').parent('table').addClass('pandoc-table');
  $('.kable-table').children('table').addClass('pandoc-table');

  // add figcaption style to table captions
  $('caption').parent('table').addClass("figcaption");

  // initialize posts list
  if (window.init_posts_list)
    window.init_posts_list();

  // implmement disqus comment link
  $('.disqus-comment-count').click(function() {
    window.headroom_prevent_pin = true;
    $('#disqus_thread').toggleClass('hidden');
    if (!$('#disqus_thread').hasClass('hidden')) {
      var offset = $(this).offset();
      $(window).resize();
      $('html, body').animate({
        scrollTop: offset.top - 35
      });
    }
  });
}

document.addEventListener('DOMContentLoaded', function() {
  if (is_downlevel_browser())
    init_downlevel();
  else
    window.addEventListener('WebComponentsReady', init_distill);
});

</script>

<style type="text/css">
/* base variables */

/* Edit the CSS properties in this file to create a custom
   Distill theme. Only edit values in the right column
   for each row; values shown are the CSS defaults.
   To return any property to the default,
   you may set its value to: unset
   All rows must end with a semi-colon.                      */

/* Optional: embed custom fonts here with `@import`          */
/* This must remain at the top of this file.                 */



html {
  /*-- Main font sizes --*/
  --title-size:      50px;
  --body-size:       1.06rem;
  --code-size:       14px;
  --aside-size:      12px;
  --fig-cap-size:    13px;
  /*-- Main font colors --*/
  --title-color:     #000000;
  --header-color:    rgba(0, 0, 0, 0.8);
  --body-color:      rgba(0, 0, 0, 0.8);
  --aside-color:     rgba(0, 0, 0, 0.6);
  --fig-cap-color:   rgba(0, 0, 0, 0.6);
  /*-- Specify custom fonts ~~~ must be imported above   --*/
  --heading-font:    sans-serif;
  --mono-font:       monospace;
  --body-font:       sans-serif;
  --navbar-font:     sans-serif;  /* websites + blogs only */
}

/*-- ARTICLE METADATA --*/
d-byline {
  --heading-size:    0.6rem;
  --heading-color:   rgba(0, 0, 0, 0.5);
  --body-size:       0.8rem;
  --body-color:      rgba(0, 0, 0, 0.8);
}

/*-- ARTICLE TABLE OF CONTENTS --*/
.d-contents {
  --heading-size:    18px;
  --contents-size:   13px;
}

/*-- ARTICLE APPENDIX --*/
d-appendix {
  --heading-size:    15px;
  --heading-color:   rgba(0, 0, 0, 0.65);
  --text-size:       0.8em;
  --text-color:      rgba(0, 0, 0, 0.5);
}

/*-- WEBSITE HEADER + FOOTER --*/
/* These properties only apply to Distill sites and blogs  */

.distill-site-header {
  --title-size:       18px;
  --text-color:       rgba(255, 255, 255, 0.8);
  --text-size:        15px;
  --hover-color:      white;
  --bkgd-color:       #0F2E3D;
}

.distill-site-footer {
  --text-color:       rgba(255, 255, 255, 0.8);
  --text-size:        15px;
  --hover-color:      white;
  --bkgd-color:       #0F2E3D;
}

/*-- Additional custom styles --*/
/* Add any additional CSS rules below                      */
</style>
<style type="text/css">
/* base variables */

/* Edit the CSS properties in this file to create a custom
   Distill theme. Only edit values in the right column
   for each row; values shown are the CSS defaults.
   To return any property to the default,
   you may set its value to: unset
   All rows must end with a semi-colon.                      */

/* Optional: embed custom fonts here with `@import`          */
/* This must remain at the top of this file.                 */

@import url('https://fonts.googleapis.com/css2?family=Questrial');

html {
  /*-- Main font sizes --*/
  --title-size:      50px;
  --body-size:       1.06rem;
  --code-size:       14px;
  --aside-size:      12px;
  --fig-cap-size:    13px;
  /*-- Main font colors --*/
  --title-color:     #000000;
  --header-color:    rgba(0, 0, 0, 0.8);
  --body-color:      rgba(0, 0, 0, 0.8);
  --aside-color:     rgba(0, 0, 0, 0.6);
  --fig-cap-color:   rgba(0, 0, 0, 0.6);
  /*-- Specify custom fonts ~~~ must be imported above   --*/
  --heading-font:    "Questrial", sans-serif;
  --mono-font:       monospace;
  --body-font:       "Questrial", sans-serif;
  --navbar-font:     "Questrial", sans-serif;  /* websites + blogs only */
}

/*-- ARTICLE METADATA --*/
d-byline {
  --heading-size:    0.6rem;
  --heading-color:   rgba(0, 0, 0, 0.5);
  --body-size:       0.8rem;
  --body-color:      rgba(0, 0, 0, 0.8);
}

/*-- ARTICLE TABLE OF CONTENTS --*/
.d-contents {
  --heading-size:    18px;
  --contents-size:   13px;
}

/*-- ARTICLE APPENDIX --*/
d-appendix {
  --heading-size:    15px;
  --heading-color:   rgba(0, 0, 0, 0.65);
  --text-size:       0.8em;
  --text-color:      rgba(0, 0, 0, 0.5);
}

/*-- WEBSITE HEADER + FOOTER --*/
/* These properties only apply to Distill sites and blogs  */

.distill-site-header {
  --title-size:       18px;
  --text-color:       rgba(255, 255, 255, 0.8);
  --text-size:        15px;
  --hover-color:      white;
  --bkgd-color:       #000e78;
}

.distill-site-footer {
  --text-color:       rgba(255, 255, 255, 0.8);
  --text-size:        15px;
  --hover-color:      white;
  --bkgd-color:       #000e78;
}

/*-- Additional custom styles --*/
/* Add any additional CSS rules below                      */

@media screen and (min-width: 768px) {
  d-article aside {
    height: 0;
  }
  aside.slides {
    margin-left: -148px;
    height: auto;
  }
  aside.slides + h2 {
    white-space: nowrap;
  }
}

d-article li {
  margin-bottom: 0.1em;
}

.posts-list .post-preview .thumbnail {
  max-height: 300px;
  overflow: hidden;
}</style>
<style type="text/css">
/* base style */

/* FONT FAMILIES */

:root {
  --heading-default: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
  --mono-default: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  --body-default: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
}

body,
.posts-list .post-preview p,
.posts-list .description p {
  font-family: var(--body-font), var(--body-default);
}

h1, h2, h3, h4, h5, h6,
.posts-list .post-preview h2,
.posts-list .description h2 {
  font-family: var(--heading-font), var(--heading-default);
}

d-article div.sourceCode code,
d-article pre code {
  font-family: var(--mono-font), var(--mono-default);
}


/*-- TITLE --*/
d-title h1,
.posts-list > h1 {
  color: var(--title-color, black);
}

d-title h1 {
  font-size: var(--title-size, 50px);
}

/*-- HEADERS --*/
d-article h1,
d-article h2,
d-article h3,
d-article h4,
d-article h5,
d-article h6 {
  color: var(--header-color, rgba(0, 0, 0, 0.8));
}

/*-- BODY --*/
d-article > p,  /* only text inside of <p> tags */
d-article > ul, /* lists */
d-article > ol {
  color: var(--body-color, rgba(0, 0, 0, 0.8));
  font-size: var(--body-size, 1.06rem);
}


/*-- CODE --*/
d-article div.sourceCode code,
d-article pre code {
  font-size: var(--code-size, 14px);
}

/*-- ASIDE --*/
d-article aside {
  font-size: var(--aside-size, 12px);
  color: var(--aside-color, rgba(0, 0, 0, 0.6));
}

/*-- FIGURE CAPTIONS --*/
figure .caption,
figure figcaption,
.figure .caption {
  font-size: var(--fig-cap-size, 13px);
  color: var(--fig-cap-color, rgba(0, 0, 0, 0.6));
}

/*-- METADATA --*/
d-byline h3 {
  font-size: var(--heading-size, 0.6rem);
  color: var(--heading-color, rgba(0, 0, 0, 0.5));
}

d-byline {
  font-size: var(--body-size, 0.8rem);
  color: var(--body-color, rgba(0, 0, 0, 0.8));
}

d-byline a,
d-article d-byline a {
  color: var(--body-color, rgba(0, 0, 0, 0.8));
}

/*-- TABLE OF CONTENTS --*/
.d-contents nav h3 {
  font-size: var(--heading-size, 18px);
}

.d-contents nav a {
  font-size: var(--contents-size, 13px);
}

/*-- APPENDIX --*/
d-appendix h3 {
  font-size: var(--heading-size, 15px);
  color: var(--heading-color, rgba(0, 0, 0, 0.65));
}

d-appendix {
  font-size: var(--text-size, 0.8em);
  color: var(--text-color, rgba(0, 0, 0, 0.5));
}

d-appendix d-footnote-list a.footnote-backlink {
  color: var(--text-color, rgba(0, 0, 0, 0.5));
}

/*-- WEBSITE HEADER + FOOTER --*/
.distill-site-header .title {
  font-size: var(--title-size, 18px);
  font-family: var(--navbar-font), var(--heading-default);
}

.distill-site-header a,
.nav-dropdown .nav-dropbtn {
  font-family: var(--navbar-font), var(--heading-default);
}

.nav-dropdown .nav-dropbtn {
  color: var(--text-color, rgba(255, 255, 255, 0.8));
  font-size: var(--text-size, 15px);
}

.distill-site-header a:hover,
.nav-dropdown:hover .nav-dropbtn {
  color: var(--hover-color, white);
}

.distill-site-header {
  font-size: var(--text-size, 15px);
  color: var(--text-color, rgba(255, 255, 255, 0.8));
  background-color: var(--bkgd-color, #0F2E3D);
}

.distill-site-footer {
  font-size: var(--text-size, 15px);
  color: var(--text-color, rgba(255, 255, 255, 0.8));
  background-color: var(--bkgd-color, #0F2E3D);
}

.distill-site-footer a:hover {
  color: var(--hover-color, white);
}</style>
<!--/radix_placeholder_distill-->
  <script src="../../../site_libs/header-attrs-2.25/header-attrs.js"></script>
  <script src="../../../site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
  <script src="../../../site_libs/popper-2.6.0/popper.min.js"></script>
  <link href="../../../site_libs/tippy-6.2.7/tippy.css" rel="stylesheet" />
  <link href="../../../site_libs/tippy-6.2.7/tippy-light-border.css" rel="stylesheet" />
  <script src="../../../site_libs/tippy-6.2.7/tippy.umd.min.js"></script>
  <script src="../../../site_libs/anchor-4.2.2/anchor.min.js"></script>
  <script src="../../../site_libs/bowser-1.9.3/bowser.min.js"></script>
  <script src="../../../site_libs/webcomponents-2.0.0/webcomponents.js"></script>
  <script src="../../../site_libs/distill-2.2.21/template.v2.js"></script>
  <!--radix_placeholder_site_in_header-->
<!--/radix_placeholder_site_in_header-->


</head>

<body>

<!--radix_placeholder_front_matter-->

<script id="distill-front-matter" type="text/json">
{"title":"Public Trust in Government","description":"Visual representation of the evolution of public trust in the United States\ngovernment by race and ethnicity from 1958 to 2023, as documented in the\nPew Research Paper.","authors":[{"author":"Carlos San-Juan-Baeza","authorURL":"#","affiliation":"&nbsp;","affiliationURL":"#","orcidID":""}],"publishedDate":"2024-01-22T00:00:00.000+01:00","citationText":"San-Juan-Baeza, 2024"}
</script>

<!--/radix_placeholder_front_matter-->
<!--radix_placeholder_navigation_before_body-->
<header class="header header--fixed" role="banner">
<nav class="distill-site-nav distill-site-header">
<div class="nav-left">
<span class="logo">
<img src="../../../assets/acronimo_0.png"/>
</span>
<a href="../../../index.html" class="title">Data visualization | MSc CSS</a>
<input id="distill-search" class="nav-search hidden" type="text" placeholder="Search..."/>
</div>
<div class="nav-right">
<a href="../../../contents.html">Contents</a>
<a href="../../../tutorials.html">Tutorials</a>
<a href="../../../resources.html">Resources</a>
<a href="../../../projects.html">Projects</a>
<a href="https://github.com/IBiDat/dataviz" aria-label="Link to source">
<i class="fab fa-github" aria-hidden="true"></i>
</a>
<a href="javascript:void(0);" class="nav-toggle">&#9776;</a>
</div>
</nav>
</header>
<!--/radix_placeholder_navigation_before_body-->
<!--radix_placeholder_site_before_body-->
<!--/radix_placeholder_site_before_body-->

<div class="d-title">
<h1>Public Trust in Government</h1>

<!--radix_placeholder_categories-->
<div class="dt-tags">
  <a href="../../../projects.html#category:2023" class="dt-tag">2023</a>
</div>
<!--/radix_placeholder_categories-->
<p><p>Visual representation of the evolution of public trust in the United States
government by race and ethnicity from 1958 to 2023, as documented in the
Pew Research Paper.</p></p>
</div>

<div class="d-byline">
  
  Carlos San-Juan-Baeza
  
<br/>2024-01-22
</div>

<div class="d-article">
<div class="d-contents d-contents-float">
<nav class="l-text toc figcaption" id="TOC">
<h3>Contents</h3>
<ul>
<li><a href="#introduction" id="toc-introduction">Introduction</a>
<ul>
<li><a href="#the-original-graph" id="toc-the-original-graph">The original graph</a></li>
<li><a href="#background" id="toc-background">Background</a></li>
</ul></li>
<li><a href="#working-with-the-data" id="toc-working-with-the-data">Working with the data</a>
<ul>
<li><a href="#packgages" id="toc-packgages">Packgages</a></li>
<li><a href="#cleaning-and-getting-the-data" id="toc-cleaning-and-getting-the-data">Cleaning and getting the data</a></li>
</ul></li>
<li><a href="#building-the-graph" id="toc-building-the-graph">Building the graph</a>
<ul>
<li><a href="#first-steps" id="toc-first-steps">First steps…</a></li>
<li><a href="#more-aesthetic" id="toc-more-aesthetic">More aesthetic</a></li>
<li><a href="#theme" id="toc-theme">Theme</a></li>
<li><a href="#other-details-and-replica" id="toc-other-details-and-replica">Other details and replica</a></li>
<li><a href="#limitations" id="toc-limitations">Limitations</a></li>
</ul></li>
<li><a href="#improvements" id="toc-improvements">Improvements</a>
<ul>
<li><a href="#add-a-new-variable" id="toc-add-a-new-variable">Add a new variable</a></li>
<li><a href="#solving-problems" id="toc-solving-problems">Solving problems</a></li>
<li><a href="#new-axes" id="toc-new-axes">New axes</a></li>
<li><a href="#final-details" id="toc-final-details">Final details</a></li>
<li><a href="#final-graph" id="toc-final-graph">Final graph</a></li>
</ul></li>
<li><a href="#analysis-and-results" id="toc-analysis-and-results">Analysis and results</a>
<ul>
<li><a href="#conclusions-and-explanations" id="toc-conclusions-and-explanations">Conclusions and explanations</a></li>
<li><a href="#possible-future-implications" id="toc-possible-future-implications">Possible future implications</a></li>
</ul></li>
</ul>
</nav>
</div>
<h2 id="introduction">Introduction</h2>
<p>In recent decades, perceptions of U.S. presidents have experienced a significant change, reaching historically low levels in recent years, which has led to numerous debates and articles discussing this phenomenon. In this paper, however, we will not only analyse the overall trust in presidential leadership, but we will disaggregate this trust by ethnic and racial categories within American society. Our goal is to understand the distinctive variations that emerge in this context and to examine closely how different communities evaluate the effectiveness and integrity of presidents. At the same time, we will be able to explore the impact that different leaders and historical events have had on society’s trust in government.</p>
<p>In order to carry out this research, we will rely on the newspaper article provided by <a href="https://www.pewresearch.org/politics/2023/09/19/public-trust-in-government-1958-2023/">Pew Researhc Paper</a>, which analyses this social phenomenon in detail.</p>
<h3 id="the-original-graph">The original graph</h3>
<p>The original graph that we are going to take into account for this article can be found on the same page mentioned in the previous section. This graph, as you can see below, presents information on the confidence of United States citizens in the different governments from 1958 to 2023. More specifically, the graph shows information on the most numerous races and ethnicities in the United States, which are Hispanic, Black, White and Asian. In addition, it allows us to see in which periods of time and under which US president there has been a growth or decline in trust, which could be interesting for numerous studies and to understand how social and political evolution has changed.</p>
<figure>
<img src="graficooriginal.png" class="external" alt="Original Source: Pew Research Paper." />
<figcaption aria-hidden="true">Original Source: <a href="https://www.pewresearch.org/politics/wp-content/uploads/sites/4/2023/09/chart-5bae6e98-4119-458b-8341-54c50bc9b2a8-1693948404285.png">Pew Research Paper</a>.</figcaption>
</figure>
<h3 id="background">Background</h3>
<p>The history of ethnic and racial differences in the United States has been a difficult one, marked by diverse experiences and problems over time. From the earliest days of colonization, the presence of different ethnic groups, such as Native Americans, enslaved Africans, Europeans and later immigrants from various regions of the world, has shaped the cultural diversity of the nation. However, they have also faced significant challenges, such as slavery and racial discrimination, showing social inequalities. These experiences have consequently left their mark on society, generating distrust of government, especially when presidents have failed to adequately address these problems.</p>
<p>However, while challenges persist, history also shows progress toward equality, and the relationship between ethnic identity and perceptions of the presidency remains an important theme in U.S. history.</p>
<h2 id="working-with-the-data">Working with the data</h2>
<p>The data we are going to use throughout the work are collected from numerous sources, such as Pew Research Center, National Election Studies, Gallup, ABC/Washington Post, CBS/New York Times, and CNN Polls. Moreover, the database for race and ethnicity analysis was obtained from searches of the iPOLL Databank provided by the <a href="https://ropercenter.cornell.edu/">Roper Center for Public Opinion Research</a>. This database was obtained through telephone surveys of random individuals in the United States. More information on the questions that were used can be found <a href="https://www.pewresearch.org/politics/wp-content/uploads/sites/4/2023/09/PP_2023.09.19_views-of-politics_TOPLINE.pdf">here</a>. Although the data is obtained from different sources, the complete database can be downloaded at <a href="https://www.pewresearch.org">Pew Researhc Paper</a></p>
<h3 id="packgages">Packgages</h3>
<p>The libraries that we are going to use in all the work, both in the replica and in the subsequent improvements, are the following:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://ggplot2.tidyverse.org'>ggplot2</a></span><span class='op'>)</span></span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://tidyverse.tidyverse.org'>tidyverse</a></span><span class='op'>)</span></span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://readr.tidyverse.org'>readr</a></span><span class='op'>)</span></span></code></pre>
</div>
</div>
<h3 id="cleaning-and-getting-the-data">Cleaning and getting the data</h3>
<p>The database provides information on the trust of citizens of different ethnicities and races on specific dates in the history of the United States. The trust of citizens is represented as a number between 0 and 100, with 0 being no trust and 100 being total trust. First, we have had to transform the “Date” column, which provides the different dates, into a specific format, which will facilitate the handling and analysis of temporal data.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>data</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://readr.tidyverse.org/reference/read_delim.html'>read_csv</a></span><span class='op'>(</span><span class='st'>"database.csv"</span><span class='op'>)</span></span>
<span><span class='va'>data.df</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span><span class='va'>data</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>150</span>,<span class='fl'>1</span><span class='op'>:</span><span class='fl'>6</span><span class='op'>]</span><span class='op'>)</span></span>
<span><span class='va'>data.df</span><span class='op'>$</span><span class='va'>Date</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='va'>data.df</span><span class='op'>$</span><span class='va'>Date</span>, format <span class='op'>=</span> <span class='st'>"%m/%d/%Y"</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<p>The second step we have done in order to be able to treat the data correctly and to be able to analyse it, is to convert the data with tidyverse, in order to be able to clean it from NA. The reason for choosing Tidyverse is that it allows us to omit missing values without losing valuable information.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>data.df</span> <span class='op'>&lt;-</span> <span class='va'>data.df</span> <span class='op'>|&gt;</span></span>
<span>  <span class='fu'>tidyr</span><span class='fu'>::</span><span class='fu'><a href='https://tidyr.tidyverse.org/reference/pivot_longer.html'>pivot_longer</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='va'>Hispanic</span>, <span class='va'>White</span>, <span class='va'>Asian</span>, <span class='va'>Black</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'><a href='https://rdrr.io/r/stats/na.fail.html'>na.omit</a></span><span class='op'>(</span><span class='op'>)</span></span>
<span><span class='va'>data.df</span></span></code></pre>
</div>
<pre><code># A tibble: 283 × 4
   Date       .     name     value
   &lt;date&gt;     &lt;chr&gt; &lt;chr&gt;    &lt;dbl&gt;
 1 2023-06-11 PEW   Hispanic    23
 2 2023-06-11 PEW   White       13
 3 2023-06-11 PEW   Asian       23
 4 2023-06-11 PEW   Black       21
 5 2022-05-01 PEW   Hispanic    29
 6 2022-05-01 PEW   White       16
 7 2022-05-01 PEW   Asian       37
 8 2022-05-01 PEW   Black       24
 9 2021-04-11 PEW   Hispanic    36
10 2021-04-11 PEW   White       18
# ℹ 273 more rows</code></pre>
</div>
<p>Finally, before starting to replicate the graph, we have created a series of vectors which will be necessary later on in the elaboration of the graph. Such as the case of “years_to_highlight” which indicates the dates in which the mandate of the different presidents of the U.S. history from Eisenhower to Biden begins. The U.S. presidents we are going to take into account are the following:</p>
<ul>
<li><p>Dwight D. Eisenhower (1953-1961) - Republican Party</p></li>
<li><p>John F. Kennedy (1961-1963) - Democratic Party</p></li>
<li><p>Lyndon B. Johnson (1963-1969) - Democratic Party</p></li>
<li><p>Richard Nixon (1969-1974) - Republican Party</p></li>
<li><p>Gerald Ford (1974-1977) - Republican Party</p></li>
<li><p>Jimmy Carter (1977-1981) - Democratic Party</p></li>
<li><p>Ronald Reagan (1981-1989) - Republican Party</p></li>
<li><p>George H.W. Bush (1989-1993) - Republican Party</p></li>
<li><p>Bill Clinton (1993-2001) - Democratic Party</p></li>
<li><p>George W. Bush (2001-2009) - Republican Party</p></li>
<li><p>Barack Obama (2009-2017) - Democratic Party</p></li>
<li><p>Donald Trump (2017-2021) - Republican Party</p></li>
<li><p>Joe Biden (2021-present) - Democratic Party</p></li>
</ul>
<p>It should be noted that we will only use data from 1958 onwards, i.e. we will not consider Eisenhower’s entire term of office.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>years_to_highlight</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span></span>
<span>  <span class='st'>"1958-12-01"</span>,  <span class='co'># Dwight D. Eisenhower</span></span>
<span>  <span class='st'>"1961-01-20"</span>,  <span class='co'># John F. Kennedy</span></span>
<span>  <span class='st'>"1963-11-22"</span>,  <span class='co'># Murder de John F. Kennedy</span></span>
<span>  <span class='st'>"1963-11-22"</span>,  <span class='co'># Lyndon B. Johnson assumes the presidency</span></span>
<span>  <span class='st'>"1969-01-20"</span>,  <span class='co'># Richard Nixon</span></span>
<span>  <span class='st'>"1974-08-09"</span>,  <span class='co'># Resignation of Richard Nixon</span></span>
<span>  <span class='st'>"1974-08-09"</span>,  <span class='co'># Gerald Ford takes office</span></span>
<span>  <span class='st'>"1977-01-20"</span>,  <span class='co'># Jimmy Carter</span></span>
<span>  <span class='st'>"1981-01-20"</span>,  <span class='co'># Ronald Reagan</span></span>
<span>  <span class='st'>"1989-01-20"</span>,  <span class='co'># George H.W. Bush</span></span>
<span>  <span class='st'>"1993-01-20"</span>,  <span class='co'># Bill Clinton</span></span>
<span>  <span class='st'>"2001-01-20"</span>,  <span class='co'># George W. Bush</span></span>
<span>  <span class='st'>"2009-01-20"</span>,  <span class='co'># Barack Obama</span></span>
<span>  <span class='st'>"2017-01-20"</span>,  <span class='co'># Donald Trump</span></span>
<span>  <span class='st'>"2021-01-20"</span>   <span class='co'># Joe Biden</span></span>
<span><span class='op'>)</span></span></code></pre>
</div>
</div>
<p>On the other hand, we also convert into a vector the dates that will later be represented on the x-axis, which is 10 years difference.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>desired_dates</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span></span>
<span>  <span class='st'>"1960-01-01"</span>, <span class='st'>"1970-01-01"</span>, <span class='st'>"1980-01-01"</span>, <span class='st'>"1990-01-01"</span>,</span>
<span>  <span class='st'>"2000-01-01"</span>, <span class='st'>"2010-01-01"</span>, <span class='st'>"2020-01-01"</span></span>
<span><span class='op'>)</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<p>Finally we are going to add a function, which will be used to modify the background of the chart. The purpose of this function is to differentiate the background by sections of two different colours, White and “Beige” (being more specific #F0F0E6), which are interspersed. This difference is used to clarify the periods in which different presidents ruled.</p>
<p>To do this, we will create a series of vectors, “rect_dates”, which indicates the dates on which the background colours will change, “rec_alpha”, which is used to indicate the transparency of each rectangle that we will use to modify the background and “rect_colors” which indicates the different colours.</p>
<p>In short, the fucnion uses “lapply” to generate a list of rectangular layers, each representing a time interval defined by the dates in “rect_dates”. Each rectangle has a specific colour and transparency according to the “rect_colors” and “rect_alpha” vectors. These rectangles can then be added to a chart to highlight and visualize specific time segments. The function is called “rect_layers”.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>rect_dates</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span></span>
<span>  <span class='st'>"1958-12-01"</span>, <span class='st'>"1961-01-20"</span>, <span class='st'>"1963-11-22"</span>, <span class='st'>"1969-01-20"</span>, <span class='st'>"1974-08-09"</span>, <span class='st'>"1977-01-20"</span>,</span>
<span>  <span class='st'>"1981-01-20"</span>, <span class='st'>"1989-01-20"</span>, <span class='st'>"1993-01-20"</span>, <span class='st'>"2001-01-20"</span>, <span class='st'>"2009-01-20"</span>,</span>
<span>  <span class='st'>"2017-01-20"</span>, <span class='st'>"2021-01-20"</span>, <span class='st'>"2023-10-12"</span></span>
<span><span class='op'>)</span></span>
<span></span>
<span></span>
<span><span class='va'>rect_colors</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"#F0F0E6"</span>, <span class='st'>"white"</span>, <span class='st'>"#F0F0E6"</span>, <span class='st'>"white"</span>, <span class='st'>"#F0F0E6"</span>, <span class='st'>"white"</span>,</span>
<span>                 <span class='st'>"#F0F0E6"</span>, <span class='st'>"white"</span>, <span class='st'>"#F0F0E6"</span>, <span class='st'>"white"</span>, <span class='st'>"#F0F0E6"</span>, <span class='st'>"white"</span>, <span class='st'>"#F0F0E6"</span> , <span class='st'>"white"</span><span class='op'>)</span></span>
<span></span>
<span></span>
<span><span class='va'>rect_alpha</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0.2</span>,<span class='fl'>0.1</span>, <span class='fl'>0.2</span>, <span class='fl'>0.1</span>, <span class='fl'>0.2</span>, <span class='fl'>0.1</span>, <span class='fl'>0.2</span>, <span class='fl'>0.1</span>, <span class='fl'>0.2</span>, <span class='fl'>0.1</span>, <span class='fl'>0.2</span>, <span class='fl'>0.1</span>, <span class='fl'>0.2</span>, <span class='fl'>0.1</span>, <span class='fl'>0.2</span><span class='op'>)</span></span>
<span></span>
<span></span>
<span><span class='va'>rect_layers</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/lapply.html'>lapply</a></span><span class='op'>(</span><span class='fl'>1</span><span class='op'>:</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/length.html'>length</a></span><span class='op'>(</span><span class='va'>rect_dates</span><span class='op'>)</span> <span class='op'>-</span> <span class='fl'>1</span><span class='op'>)</span>, <span class='kw'>function</span><span class='op'>(</span><span class='va'>i</span><span class='op'>)</span> <span class='op'>{</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_tile.html'>geom_rect</a></span><span class='op'>(</span></span>
<span>    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='va'>rect_dates</span><span class='op'>[</span><span class='va'>i</span><span class='op'>]</span><span class='op'>)</span>, xmax <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='va'>rect_dates</span><span class='op'>[</span><span class='va'>i</span> <span class='op'>+</span> <span class='fl'>1</span><span class='op'>]</span><span class='op'>)</span><span class='op'>)</span>,</span>
<span>    ymin <span class='op'>=</span> <span class='op'>-</span><span class='cn'>Inf</span>, ymax <span class='op'>=</span> <span class='cn'>Inf</span>,</span>
<span>    fill <span class='op'>=</span> <span class='va'>rect_colors</span><span class='op'>[</span><span class='va'>i</span><span class='op'>]</span>, alpha <span class='op'>=</span> <span class='va'>rect_alpha</span><span class='op'>[</span><span class='va'>i</span><span class='op'>]</span>,</span>
<span>    inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span></span>
<span>  <span class='op'>)</span></span>
<span><span class='op'>}</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<h2 id="building-the-graph">Building the graph</h2>
<h3 id="first-steps">First steps…</h3>
<p>In order to analyse the data correctly, we will replicate the original graph developed by Pew Research Paper, which we mentioned earlier. Consequently, the first step to follow is to construct the axis on which our line chart will be developed.</p>
<p>To do so, we will use the time variable on the x-axis, which shows the different dates on which respondents were called to obtain the results. While on the y-axis, we have represented “Value” which shows the value of trust that voters placed in the presidents over time.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>j</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='va'>data.df</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span><span class='va'>Date</span>, <span class='va'>value</span>, color<span class='op'>=</span><span class='va'>name</span><span class='op'>)</span></span>
<span><span class='va'>j</span></span></code></pre>
</div>
<p><img src="100430897_files/figure-html5/unnamed-chunk-7-1.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
<p>Once the axis is established, the next step is to modify the background, as we have briefly mentioned before, in which we will use the function called “rect_layers” which we have already explained in previous sections. Its use will allow us to divide the background into two colours, forming different rectangles.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>j</span> <span class='op'>&lt;-</span> <span class='va'>j</span> <span class='op'>+</span> <span class='va'>rect_layers</span></span>
<span><span class='va'>j</span></span></code></pre>
</div>
<p><img src="100430897_files/figure-html5/unnamed-chunk-8-1.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
<p>Once the background of the graph has been divided according to the duration of government of the respective presidents, we introduce the data for the respective ethnicities. The different lines show how the trust of the different races and ethnicities has evolved over time in the United States. We have also added the legend in order to distinguish the different lines and know who they correspond to.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>j</span> <span class='op'>&lt;-</span> <span class='va'>j</span> <span class='op'>+</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_path.html'>geom_line</a></span><span class='op'>(</span>linetype<span class='op'>=</span><span class='st'>"solid"</span>, size<span class='op'>=</span><span class='fl'>1.75</span>, alpha <span class='op'>=</span> <span class='fl'>1</span>, lineend<span class='op'>=</span> <span class='st'>"round"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_color_manual</a></span><span class='op'>(</span></span>
<span>    values <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span> <span class='st'>"Asian"</span> <span class='op'>=</span> <span class='st'>"#DE996A"</span>,<span class='st'>"White"</span> <span class='op'>=</span> <span class='st'>"#F2DBCD"</span>,<span class='st'>"Black"</span> <span class='op'>=</span> <span class='st'>"#E7BA9A"</span>,<span class='st'>"Hispanic"</span> <span class='op'>=</span> <span class='st'>"#A55A26"</span><span class='op'>)</span>,</span>
<span>    name <span class='op'>=</span> <span class='st'>""</span></span>
<span>  <span class='op'>)</span></span>
<span><span class='va'>j</span></span></code></pre>
</div>
<p><img src="100430897_files/figure-html5/unnamed-chunk-9-1.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
<p>Once the initial phase of the project has been completed, the next step will be to perfect it. So the next step will be to focus on the aesthetic aspect, seeking to enhance and expand its visual qualities, with the aim of making it look as similar as possible to the original graphic.</p>
<h3 id="more-aesthetic">More aesthetic</h3>
<p>In this part of the code I have focused on improving the title of the graphic, the subtitle, and the caption. At the same time we have added the X and Y axes, adding the corresponding scales to improve the compression of the line chart.</p>
<p>In the previous graph, the x-axis was segmented into 20-year sections, and at the same time, it is observed that the x-axis goes beyond the limits of the data, generating empty spaces at the extremes. In other words, the graph starts before the first data, collected in 1958, and ends after the last data in 2023, which can lead to confusion. On the other hand, the y-axis is less well represented, as it only shows information up to 80% confidence. To improve visualization, the x-axis could be adjusted to cover only the range of years available, providing a more accurate representation. Similarly, extending the y-axis to 100% would allow more subtle variations in confidence to be captured, providing a more complete representation of the data.</p>
<p>Consequently, the function “scale_x_date” has been used in order to define the desired intervals and eliminate the gaps on the x-axis, using the vector previously named “desired_dates”, which organises the dates by decades. By using the format “%Y”, we achieve that only the years on the x-axis are displayed. Simultaneously, we have used the “expand” function to adjust the spacing between the ends of the graph and the y-axis, indicating that we want to remove any unnecessary space, which helps to eliminate gaps without data.</p>
<p>For the y-axis, we have applied similar strategies. We used the “breaks” and “limits” functions to set the limits and frequency of occurrence of numbers on the y-axis, extending the limits up to 100%.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>j</span> <span class='op'>&lt;-</span> <span class='va'>j</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span></span>
<span>    x <span class='op'>=</span> <span class='cn'>NULL</span>,</span>
<span>    y <span class='op'>=</span><span class='cn'>NULL</span>,</span>
<span>    title <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/expression.html'>expression</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste</a></span><span class='op'>(</span><span class='fu'>bold</span><span class='op'>(</span><span class='st'>"Trust in government by race and ethnicity"</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>,</span>
<span>    subtitle <span class='op'>=</span> <span class='st'>"% who say they trust the government to do what is right just about always/most of time"</span>,</span>
<span>    color <span class='op'>=</span> <span class='st'>"Ethnicity:"</span>,</span>
<span>    caption <span class='op'>=</span> <span class='st'>"Source: PEW RESEARCH CENTER"</span><span class='op'>)</span>  <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_date.html'>scale_x_date</a></span><span class='op'>(</span></span>
<span>    breaks <span class='op'>=</span> <span class='va'>desired_dates</span>,</span>
<span>    labels <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/format.html'>format</a></span><span class='op'>(</span><span class='va'>desired_dates</span>, <span class='st'>"%Y"</span><span class='op'>)</span>,</span>
<span>    expand <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0.00</span>, <span class='fl'>0.00</span><span class='op'>)</span> </span>
<span>  <span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_continuous.html'>scale_y_continuous</a></span><span class='op'>(</span></span>
<span>    limits <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>100</span><span class='op'>)</span>,</span>
<span>    breaks <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>100</span>, by <span class='op'>=</span> <span class='fl'>20</span><span class='op'>)</span>,</span>
<span>    expand <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>0</span><span class='op'>)</span>  </span>
<span>  <span class='op'>)</span> </span></code></pre>
</div>
</div>
<h3 id="theme">Theme</h3>
<p>In this section of the code, we focus on refining the details of the graphic with the goal of making it as close as possible to the original design. To achieve this, we are using the “theme” function, which gives us the ability to adjust a variety of visual and stylistic elements of the graphic.</p>
<p>Some of the most important adjustments made focus on refining the aesthetics and presentation of the graphic. This process involved customizing several key elements, addressing specific details to achieve a visually coherent and highly readable design. Among the highlights are modifying the size and style of the subtitle to highlight relevant information, specifically selecting the position and appearance of the legend to improve the visual layout, as well as adapting the format and position of the axes for a more accurate and easy-to-understand representation. In addition, the background of the chart is taken care of and margins are added to provide a more polished and professional overall appearance.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>j</span> <span class='op'>&lt;-</span> <span class='va'>j</span> <span class='op'>+</span> </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_minimal</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span></span>
<span>    plot.subtitle <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>10</span>, color <span class='op'>=</span> <span class='st'>"grey"</span>, face <span class='op'>=</span> <span class='st'>"italic"</span><span class='op'>)</span>,</span>
<span>    plot.caption <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>hjust <span class='op'>=</span> <span class='op'>-</span><span class='fl'>0.1</span>, vjust <span class='op'>=</span> <span class='op'>-</span><span class='fl'>10.0</span>, color <span class='op'>=</span> <span class='st'>"black"</span>, size <span class='op'>=</span> <span class='fl'>10</span><span class='op'>)</span>,</span>
<span>    legend.position <span class='op'>=</span> <span class='st'>"bottom"</span>,</span>
<span>    legend.title <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>face <span class='op'>=</span> <span class='st'>"bold"</span><span class='op'>)</span>,</span>
<span>    legend.text <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>10</span><span class='op'>)</span>,</span>
<span>    legend.margin <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>margin</a></span><span class='op'>(</span>t <span class='op'>=</span> <span class='fl'>0</span>, b <span class='op'>=</span> <span class='op'>-</span><span class='fl'>0.2</span>, unit <span class='op'>=</span> <span class='st'>"cm"</span><span class='op'>)</span>,  </span>
<span>    axis.line <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_line</a></span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>0.5</span>, color <span class='op'>=</span> <span class='st'>"black"</span><span class='op'>)</span>,</span>
<span>    axis.text <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>10</span>, color <span class='op'>=</span> <span class='st'>"black"</span><span class='op'>)</span>,</span>
<span>    axis.title <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>12</span>, color <span class='op'>=</span> <span class='st'>"black"</span>, face <span class='op'>=</span> <span class='st'>"bold"</span><span class='op'>)</span>,</span>
<span>    panel.grid.minor <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>,</span>
<span>    panel.grid.major.x <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>,</span>
<span>    axis.ticks.x <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_line</a></span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>0.5</span><span class='op'>)</span>,</span>
<span>    axis.text.x <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>angle <span class='op'>=</span> <span class='fl'>0</span>, hjust <span class='op'>=</span> <span class='fl'>0.5</span><span class='op'>)</span>,  </span>
<span>    axis.ticks.y <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_line</a></span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>0.5</span><span class='op'>)</span>,</span>
<span>    axis.text.y <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>angle <span class='op'>=</span> <span class='fl'>0</span>, hjust <span class='op'>=</span> <span class='fl'>0.5</span><span class='op'>)</span>,</span>
<span>    plot.background <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>"white"</span><span class='op'>)</span>,</span>
<span>    plot.margin <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>margin</a></span><span class='op'>(</span><span class='fl'>1</span>, <span class='fl'>1</span>, <span class='fl'>1</span>, <span class='fl'>1</span>, <span class='st'>"cm"</span><span class='op'>)</span>, </span>
<span>    legend.key.width <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/unit.html'>unit</a></span><span class='op'>(</span><span class='fl'>1</span>, <span class='st'>"cm"</span><span class='op'>)</span>,  </span>
<span>    legend.key.height <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/unit.html'>unit</a></span><span class='op'>(</span><span class='fl'>1</span>, <span class='st'>"cm"</span><span class='op'>)</span>,  </span>
<span>    legend.spacing <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/unit.html'>unit</a></span><span class='op'>(</span><span class='fl'>0.5</span>, <span class='st'>"cm"</span><span class='op'>)</span>,  </span>
<span>    legend.box.margin <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>margin</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>0</span>, <span class='fl'>0</span>, <span class='fl'>0</span>, <span class='st'>"cm"</span><span class='op'>)</span>  </span>
<span>  <span class='op'>)</span></span>
<span><span class='va'>j</span></span></code></pre>
</div>
<p><img src="100430897_files/figure-html5/unnamed-chunk-11-1.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
<h3 id="other-details-and-replica">Other details and replica</h3>
<p>In this final phase of the work, we focused on making the last improvements to obtain the final replica of the chart. We started by using the “guides” function, which plays a crucial role in improving the appearance and clarity of the legend. Through this function, we adjust specific aspects of the legend’s presentation, such as its position, title, and text formatting.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>j</span> <span class='op'>&lt;-</span> <span class='va'>j</span> <span class='op'>+</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/guides.html'>guides</a></span><span class='op'>(</span></span>
<span>    color <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/guide_legend.html'>guide_legend</a></span><span class='op'>(</span></span>
<span>      keywidth <span class='op'>=</span> <span class='fl'>1</span>, keyheight <span class='op'>=</span> <span class='fl'>0.5</span>,  </span>
<span>      label.position <span class='op'>=</span> <span class='st'>"right"</span>, </span>
<span>      ncol <span class='op'>=</span> <span class='fl'>4</span>  </span>
<span>    <span class='op'>)</span></span>
<span>  <span class='op'>)</span></span></code></pre>
</div>
</div>
<p>In the final phase of replicating the original graph, the names of the presidents have been added above each rectangle to clearly identify the periods of their administrations. In addition, a colour code has been introduced, using red for Republican presidents and blue for Democratic presidents, to indicate the political party they represented in each case. On the other hand, we have marked it as a vector to be used later in a simpler way.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>president</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"1958-12-01"</span><span class='op'>)</span>, y <span class='op'>=</span> <span class='fl'>90</span><span class='op'>)</span>, label <span class='op'>=</span> <span class='st'>"Eisenhower"</span>,</span>
<span>            vjust <span class='op'>=</span> <span class='op'>-</span><span class='fl'>1</span>, hjust <span class='op'>=</span> <span class='fl'>0.2</span>, size <span class='op'>=</span> <span class='fl'>3</span>, angle <span class='op'>=</span> <span class='op'>-</span><span class='fl'>90</span>, color <span class='op'>=</span> <span class='st'>"#bf3927"</span><span class='op'>)</span>,</span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"1961-01-20"</span><span class='op'>)</span>, y <span class='op'>=</span> <span class='fl'>90</span><span class='op'>)</span>, label <span class='op'>=</span> <span class='st'>"Kennedy"</span>,</span>
<span>            vjust <span class='op'>=</span> <span class='op'>-</span><span class='fl'>1</span>, hjust <span class='op'>=</span> <span class='fl'>0.2</span>, size <span class='op'>=</span> <span class='fl'>3</span>, angle <span class='op'>=</span> <span class='op'>-</span><span class='fl'>90</span>, color <span class='op'>=</span> <span class='st'>"#436983"</span><span class='op'>)</span>,</span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"1963-11-22"</span><span class='op'>)</span>, y <span class='op'>=</span> <span class='fl'>90</span><span class='op'>)</span>, label <span class='op'>=</span> <span class='st'>"Johnson"</span>, </span>
<span>            vjust <span class='op'>=</span> <span class='op'>-</span><span class='fl'>1</span>, hjust <span class='op'>=</span> <span class='fl'>0.2</span>, size <span class='op'>=</span> <span class='fl'>3</span>, angle <span class='op'>=</span> <span class='op'>-</span><span class='fl'>90</span>, color <span class='op'>=</span> <span class='st'>"#436983"</span><span class='op'>)</span>,</span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"1969-01-20"</span><span class='op'>)</span>, y <span class='op'>=</span> <span class='fl'>90</span><span class='op'>)</span>, label <span class='op'>=</span> <span class='st'>"Nixon"</span>, </span>
<span>            vjust <span class='op'>=</span> <span class='op'>-</span><span class='fl'>1</span>, hjust <span class='op'>=</span> <span class='fl'>0.2</span>, size <span class='op'>=</span> <span class='fl'>3</span>, angle <span class='op'>=</span> <span class='op'>-</span><span class='fl'>90</span>, color <span class='op'>=</span> <span class='st'>"#bf3927"</span><span class='op'>)</span>,</span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"1974-08-09"</span><span class='op'>)</span>, y <span class='op'>=</span> <span class='fl'>90</span><span class='op'>)</span>, label <span class='op'>=</span> <span class='st'>"Ford"</span>, </span>
<span>            vjust <span class='op'>=</span> <span class='op'>-</span><span class='fl'>1</span>, hjust <span class='op'>=</span> <span class='fl'>0.2</span>, size <span class='op'>=</span> <span class='fl'>3</span>, angle <span class='op'>=</span> <span class='op'>-</span><span class='fl'>90</span>, color <span class='op'>=</span> <span class='st'>"#bf3927"</span><span class='op'>)</span>,</span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"1977-01-20"</span><span class='op'>)</span>, y <span class='op'>=</span> <span class='fl'>90</span><span class='op'>)</span>,</span>
<span>            label <span class='op'>=</span> <span class='st'>"Carter"</span>, vjust <span class='op'>=</span> <span class='op'>-</span><span class='fl'>1</span>, hjust <span class='op'>=</span> <span class='fl'>0.2</span>, size <span class='op'>=</span> <span class='fl'>3</span>, angle <span class='op'>=</span> <span class='op'>-</span><span class='fl'>90</span>, color <span class='op'>=</span> <span class='st'>"#436983"</span><span class='op'>)</span>,</span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"1981-01-20"</span><span class='op'>)</span>, y <span class='op'>=</span> <span class='fl'>90</span><span class='op'>)</span>, </span>
<span>            label <span class='op'>=</span> <span class='st'>"Reagan"</span>, vjust <span class='op'>=</span> <span class='op'>-</span><span class='fl'>1</span>, hjust <span class='op'>=</span> <span class='fl'>0.2</span>, size <span class='op'>=</span> <span class='fl'>3</span>, angle <span class='op'>=</span> <span class='op'>-</span><span class='fl'>90</span>, color <span class='op'>=</span> <span class='st'>"#bf3927"</span><span class='op'>)</span>,</span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"1989-01-20"</span><span class='op'>)</span>, y <span class='op'>=</span> <span class='fl'>90</span><span class='op'>)</span>, label <span class='op'>=</span> <span class='st'>"H.W. Bush"</span>,</span>
<span>            vjust <span class='op'>=</span> <span class='op'>-</span><span class='fl'>1</span>, hjust <span class='op'>=</span> <span class='fl'>0.2</span>, size <span class='op'>=</span> <span class='fl'>3</span>, angle <span class='op'>=</span> <span class='op'>-</span><span class='fl'>90</span>, color <span class='op'>=</span> <span class='st'>"#bf3927"</span><span class='op'>)</span>,</span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"1993-01-20"</span><span class='op'>)</span>, y <span class='op'>=</span> <span class='fl'>90</span><span class='op'>)</span>, label <span class='op'>=</span> <span class='st'>"Clinton"</span>, </span>
<span>            vjust <span class='op'>=</span> <span class='op'>-</span><span class='fl'>1</span>, hjust <span class='op'>=</span> <span class='fl'>0.2</span>, size <span class='op'>=</span> <span class='fl'>3</span>, angle <span class='op'>=</span> <span class='op'>-</span><span class='fl'>90</span>, color <span class='op'>=</span> <span class='st'>"#436983"</span><span class='op'>)</span>,</span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"2001-01-20"</span><span class='op'>)</span>, y <span class='op'>=</span> <span class='fl'>90</span><span class='op'>)</span>, label <span class='op'>=</span> <span class='st'>"W. Bush"</span>, </span>
<span>            vjust <span class='op'>=</span> <span class='op'>-</span><span class='fl'>1</span>, hjust <span class='op'>=</span> <span class='fl'>0.2</span>, size <span class='op'>=</span> <span class='fl'>3</span>, angle <span class='op'>=</span> <span class='op'>-</span><span class='fl'>90</span>, color <span class='op'>=</span> <span class='st'>"#bf3927"</span><span class='op'>)</span>,</span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"2009-01-20"</span><span class='op'>)</span>, y <span class='op'>=</span> <span class='fl'>90</span><span class='op'>)</span>, label <span class='op'>=</span> <span class='st'>"Obama"</span>, </span>
<span>            vjust <span class='op'>=</span> <span class='op'>-</span><span class='fl'>1</span>, hjust <span class='op'>=</span> <span class='fl'>0.2</span>, size <span class='op'>=</span> <span class='fl'>3</span>, angle <span class='op'>=</span> <span class='op'>-</span><span class='fl'>90</span>, color <span class='op'>=</span> <span class='st'>"#436983"</span><span class='op'>)</span>,</span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"2017-01-20"</span><span class='op'>)</span>, y <span class='op'>=</span> <span class='fl'>90</span><span class='op'>)</span>, label <span class='op'>=</span> <span class='st'>"Trump"</span>, </span>
<span>            vjust <span class='op'>=</span> <span class='op'>-</span><span class='fl'>1</span>, hjust <span class='op'>=</span> <span class='fl'>0.2</span>, size <span class='op'>=</span> <span class='fl'>3</span>, angle <span class='op'>=</span> <span class='op'>-</span><span class='fl'>90</span>, color <span class='op'>=</span> <span class='st'>"#bf3927"</span><span class='op'>)</span>,</span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"2021-01-20"</span><span class='op'>)</span>, y <span class='op'>=</span> <span class='fl'>90</span><span class='op'>)</span>, label <span class='op'>=</span> <span class='st'>"Biden"</span>, </span>
<span>            vjust <span class='op'>=</span> <span class='op'>-</span><span class='fl'>1</span>, hjust <span class='op'>=</span> <span class='fl'>0.2</span>, size <span class='op'>=</span> <span class='fl'>3</span>, angle <span class='op'>=</span> <span class='op'>-</span><span class='fl'>90</span>, color <span class='op'>=</span> <span class='st'>"#436983"</span><span class='op'>)</span></span>
<span><span class='op'>)</span></span>
<span></span>
<span></span>
<span><span class='va'>j</span> <span class='op'>&lt;-</span> <span class='va'>j</span> <span class='op'>+</span> <span class='va'>president</span></span>
<span><span class='va'>j</span></span></code></pre>
</div>
<p><img src="100430897_files/figure-html5/unnamed-chunk-13-1.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
<h3 id="limitations">Limitations</h3>
<p>Before moving on to the analysis of the graph and exploring the possible impacts that this study could generate, it is necessary to address a number of limitations that affect its clarity and comprehensibility. First of all, there are obvious areas for improvement, for example, the excessive accumulation of lines in the central section, which makes the graph difficult to interpret. Furthermore, the similarity of colours used adds to the difficulty of the aforementioned visual problem. Additionally, when examining the lines corresponding to the Hispanic and Asian ethnic groups, there is a later beginning, especially noticeable in the case of Asia, where they are difficult to see due to the accumulation of lines. Nevertheless, I believe that this graph has a lot of potential for improvement to show the data with more detail and accuracy, as I consider this to be the main problem with the graph.</p>
<p>For this reason, before we go into explaining the bugs, we are going to make a number of improvements that could greatly benefit the compression of the line chart.</p>
<h2 id="improvements">Improvements</h2>
<p>At this stage of the work, we will focus on improving the graph in order to make the analysis more effective and the visualization more understandable.</p>
<h3 id="add-a-new-variable">Add a new variable</h3>
<p>One potential problem that we may encounter in further analysis is the absence of a reference point to assess with greater precision and accuracy the impact on the US presidency. Because of this, we have decided to add a new variable, “Trust.Average”. This variable allows us to measure the average trust of US citizens, which becomes an essential factor in measuring when the trust of different ethnicities is below or above the average trust.</p>
<p>It also gives us the ability to examine in more detail the specific times when changes in trust occur. This allows us to identify when the trust of different ethnicities shifts from above to below average, better understanding how different presidents and what time periods have impacted this process of variation in trust.</p>
<p>To add this variable, we have used another database provided by <a href="https://www.pewresearch.org/politics/2023/09/19/public-trust-in-government-1958-2023/">Pew Research Paper</a>, which has the same format as our original database, so it is quite easy to add the confidence mean to our database.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>data</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://readr.tidyverse.org/reference/read_delim.html'>read_csv</a></span><span class='op'>(</span><span class='st'>"database.csv"</span><span class='op'>)</span></span>
<span><span class='va'>data.df</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span><span class='va'>data</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>150</span>,<span class='fl'>1</span><span class='op'>:</span><span class='fl'>6</span><span class='op'>]</span><span class='op'>)</span></span>
<span><span class='va'>data.df</span><span class='op'>$</span><span class='va'>Date</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='va'>data.df</span><span class='op'>$</span><span class='va'>Date</span>, format <span class='op'>=</span> <span class='st'>"%m/%d/%Y"</span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>trust</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://readr.tidyverse.org/reference/read_delim.html'>read_csv</a></span><span class='op'>(</span><span class='st'>"chart-export-cda90f7d-1ac9-45fd-99e1-ec61f808868b.csv"</span><span class='op'>)</span></span>
<span><span class='va'>trust.df</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span><span class='va'>trust</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>150</span>,<span class='fl'>1</span><span class='op'>:</span><span class='fl'>4</span><span class='op'>]</span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>data.df</span><span class='op'>$</span><span class='va'>Trust.Average</span> <span class='op'>&lt;-</span><span class='va'>trust.df</span><span class='op'>$</span><span class='va'>Trust.average</span></span>
<span><span class='va'>data.df</span><span class='op'>$</span><span class='va'>Date</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='va'>data.df</span><span class='op'>$</span><span class='va'>Date</span>, format <span class='op'>=</span> <span class='st'>"%m/%d/%Y"</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<p>Once the variable has been added, we clean the NA data again with tidyverse. In addition, we have also named a new vector, which collects the names of the ethnicities, which we will use and explain later.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>data.df</span> <span class='op'>&lt;-</span> <span class='va'>data.df</span> <span class='op'>|&gt;</span></span>
<span>  <span class='fu'>tidyr</span><span class='fu'>::</span><span class='fu'><a href='https://tidyr.tidyverse.org/reference/pivot_longer.html'>pivot_longer</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='va'>Hispanic</span>, <span class='va'>White</span>, <span class='va'>Asian</span>, <span class='va'>Black</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'><a href='https://rdrr.io/r/stats/na.fail.html'>na.omit</a></span><span class='op'>(</span><span class='op'>)</span></span>
<span><span class='va'>data.df</span></span></code></pre>
</div>
<pre><code># A tibble: 283 × 5
   Date       .     Trust.Average name     value
   &lt;date&gt;     &lt;chr&gt;         &lt;dbl&gt; &lt;chr&gt;    &lt;dbl&gt;
 1 2023-06-11 PEW              16 Hispanic    23
 2 2023-06-11 PEW              16 White       13
 3 2023-06-11 PEW              16 Asian       23
 4 2023-06-11 PEW              16 Black       21
 5 2022-05-01 PEW              20 Hispanic    29
 6 2022-05-01 PEW              20 White       16
 7 2022-05-01 PEW              20 Asian       37
 8 2022-05-01 PEW              20 Black       24
 9 2021-04-11 PEW              21 Hispanic    36
10 2021-04-11 PEW              21 White       18
# ℹ 273 more rows</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>data.df</span><span class='op'>$</span><span class='va'>name</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span><span class='op'>(</span><span class='va'>data.df</span><span class='op'>$</span><span class='va'>name</span>, levels <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"White"</span>, <span class='st'>"Black"</span>, <span class='st'>"Hispanic"</span>, <span class='st'>"Asian"</span><span class='op'>)</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<h3 id="solving-problems">Solving problems</h3>
<p>First of all, we are going to solve one of the main problems with the graph and that was the similarity of colours, which made it difficult to recognize and distinguish the different lines.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>j</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='va'>data.df</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span><span class='va'>Date</span>, <span class='va'>value</span>, color<span class='op'>=</span><span class='va'>name</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='va'>rect_layers</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_path.html'>geom_line</a></span><span class='op'>(</span>linetype<span class='op'>=</span><span class='st'>"solid"</span>, size<span class='op'>=</span><span class='fl'>1.75</span>, alpha <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_color_manual</a></span><span class='op'>(</span></span>
<span>    values <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Asian"</span> <span class='op'>=</span> <span class='st'>"#cdb4db"</span>,  <span class='st'>"White"</span> <span class='op'>=</span> <span class='st'>"#bde0fe"</span>, <span class='st'>"Black"</span> <span class='op'>=</span> <span class='st'>"#ffafcc"</span>, <span class='st'>"Hispanic"</span> <span class='op'>=</span> <span class='st'>"#a7c957"</span><span class='op'>)</span>,</span>
<span>    name <span class='op'>=</span> <span class='st'>"Ethnicity and race: "</span></span>
<span>  <span class='op'>)</span></span></code></pre>
</div>
</div>
<p>In the following code we are going to implement the new variable “Trust.Average”, which we have added as “dashed” so that there is no confusion with the colours, being easily visible and comparable with the rest of the variables.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>j</span> <span class='op'>&lt;-</span> <span class='va'>j</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_path.html'>geom_line</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>Date</span>, y <span class='op'>=</span> <span class='va'>Trust.Average</span>, linetype <span class='op'>=</span> <span class='st'>"Trust.Average"</span><span class='op'>)</span>, color <span class='op'>=</span> <span class='st'>"black"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_linetype_manual</a></span><span class='op'>(</span>name <span class='op'>=</span> <span class='st'>"Trust.Average"</span>, values <span class='op'>=</span> <span class='st'>"dashed"</span><span class='op'>)</span> </span>
<span><span class='va'>j</span></span></code></pre>
</div>
<p><img src="100430897_files/figure-html5/unnamed-chunk-17-1.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
<p>We re-create the title and add the same details again.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>j</span> <span class='op'>&lt;-</span> <span class='va'>j</span> <span class='op'>+</span> </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span></span>
<span>    x <span class='op'>=</span> <span class='cn'>NULL</span>,</span>
<span>    y <span class='op'>=</span><span class='cn'>NULL</span>,</span>
<span>    title <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/expression.html'>expression</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste</a></span><span class='op'>(</span><span class='fu'>bold</span><span class='op'>(</span><span class='st'>"Trust in government by race and ethnicity"</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>,</span>
<span>    subtitle <span class='op'>=</span> <span class='st'>"% who say they trust the government to do what is right just about always/most of time"</span>,</span>
<span>    color <span class='op'>=</span> <span class='st'>"Ethnicity:"</span>,</span>
<span>    caption <span class='op'>=</span> <span class='st'>"Source: PEW RESEARCH CENTER"</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<h3 id="new-axes">New axes</h3>
<p>Another important improvement we have developed is in the x-axis line, where we have added many more important dates that mark crucial events in US history, with significant impacts on public confidence and perceptions of the government. Here is a brief explanation of each of them:</p>
<ol type="1">
<li><p><strong>MLK. Jr Murdered. - 1968:</strong> The assassination of Martin Luther King Jr. was a critical moment in the struggle for civil rights, affecting confidence in equality and social justice.</p></li>
<li><p><strong>End of the Vietnam War</strong> <strong>- 1975:</strong> The conclusion of the Vietnam War in 1975 was a historic milestone in ending direct U.S. military involvement, generating profound reflections on foreign policy, social resistance and the reconceptualization of the U.S. role in international conflicts.</p></li>
<li><p><strong>Irangate</strong> <strong>- 1986:</strong> The Irangate scandal revealed the Reagan administration’s secret sale of arms to Iran, with funds destined for Nicaraguan rebels. This generated controversy over government transparency and ethics, impacting on trust in government integrity.</p></li>
<li><p><strong>Oklahoma City Bombing</strong> <strong>- 1995:</strong> The terrorist attack in Oklahoma City, which resulted in the deaths of 168 people, left a deep imprint on the national conscience and led to an increase in homeland security.</p></li>
<li><p><strong>9/11 - 2001:</strong> The terrorist attacks of September 11 caused the deaths of thousands of people, leading the United States to declare the “War on Terror”. This transformative event altered global politics, national security and the perception of risk in American society.</p></li>
<li><p><strong>Financial Crisis of 2008:</strong> The Financial Crisis, triggered by the collapse of large financial institutions and the housing bubble, resulted in a global recession. The consequences included massive job losses, government intervention in the financial sector and significant economic reforms to prevent future crises.</p></li>
<li><p><strong>Snowden Revelations - 2013:</strong> Edward Snowden, a National Security Agency (NSA) contractor, leaked classified documents that revealed massive U.S. government surveillance programs. These revelations generated intense debate about privacy, national security and the ethics of spying, impacting intelligence policies and public perception.</p></li>
<li><p><strong>COVID-19</strong> <strong>- 2020:</strong> The COVID-19 pandemic, which began in 2019, had a devastating impact on public health globally, triggering economic crises and undermining confidence in governmental responsiveness</p></li>
</ol>
<p>This incorporation is essential to our analysis, as it gives us the opportunity to examine in greater detail and precision how each of these historical events impacted on the trust of different ethnicities. This comparison allows us to identify whether these events affected the average trust of individuals, as well as whether any of these events significantly affected one ethnicity or race more than another.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>j</span> <span class='op'>&lt;-</span>  <span class='va'>j</span><span class='op'>+</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_date.html'>scale_x_date</a></span><span class='op'>(</span></span>
<span>    breaks <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='va'>desired_dates</span>, <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"2001-09-11"</span><span class='op'>)</span>, <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span> <span class='op'>(</span><span class='st'>"2021-12-20"</span><span class='op'>)</span>, </span>
<span>               <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"2008-01-01"</span><span class='op'>)</span>, <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"2013-02-02"</span><span class='op'>)</span>, <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"1995-01-01"</span><span class='op'>)</span>, </span>
<span>               <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"1975-04-30"</span><span class='op'>)</span>, <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"1967-04-20"</span><span class='op'>)</span>, <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span><span class='op'>(</span><span class='st'>"1985-08-20"</span><span class='op'>)</span><span class='op'>)</span>,</span>
<span>    labels <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/format.html'>format</a></span><span class='op'>(</span><span class='va'>desired_dates</span>, <span class='st'>"%Y"</span><span class='op'>)</span>, <span class='st'>"9/11"</span>, <span class='st'>"COVID-19"</span>, <span class='st'>"2008 Crisis"</span>,</span>
<span>               <span class='st'>"Snowden revelations"</span>, <span class='st'>"Oklahoma City Bombing"</span>, <span class='st'>"End of Vietnam War"</span>, </span>
<span>               <span class='st'>"MLK.Jr Murdered"</span>, <span class='st'>"Irangate"</span><span class='op'>)</span>,</span>
<span>    expand <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0.00</span>, <span class='fl'>0.00</span><span class='op'>)</span>, </span>
<span>  <span class='op'>)</span><span class='op'>+</span> </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_continuous.html'>scale_y_continuous</a></span><span class='op'>(</span></span>
<span>    limits <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>100</span><span class='op'>)</span>,</span>
<span>    breaks <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>100</span>, by <span class='op'>=</span> <span class='fl'>20</span><span class='op'>)</span>,</span>
<span>    expand <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>0</span><span class='op'>)</span> </span>
<span>  <span class='op'>)</span></span></code></pre>
</div>
</div>
<h3 id="final-details">Final details</h3>
<p>Again, we reuse the “theme” function in which we have introduced slight improvements to show a neater and more detailed graphic and we add the “president” vector we created earlier, which we have not modified from the original graphic.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>j</span> <span class='op'>&lt;-</span> <span class='va'>j</span> <span class='op'>+</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_minimal</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span></span>
<span>    plot.subtitle <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>10</span>, color <span class='op'>=</span> <span class='st'>"grey"</span>, face <span class='op'>=</span> <span class='st'>"italic"</span><span class='op'>)</span>,</span>
<span>    legend.position <span class='op'>=</span> <span class='st'>"bottom"</span>,</span>
<span>    legend.title <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>face <span class='op'>=</span> <span class='st'>"bold"</span>, size<span class='op'>=</span><span class='fl'>10</span><span class='op'>)</span>,</span>
<span>    legend.text <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>10</span><span class='op'>)</span>,</span>
<span>    legend.margin <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>margin</a></span><span class='op'>(</span>t <span class='op'>=</span> <span class='fl'>0</span>, b <span class='op'>=</span> <span class='op'>-</span><span class='fl'>0.2</span>, unit <span class='op'>=</span> <span class='st'>"cm"</span><span class='op'>)</span>,  </span>
<span>    axis.line <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_line</a></span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>0.5</span>, color <span class='op'>=</span> <span class='st'>"black"</span><span class='op'>)</span>,</span>
<span>    axis.text <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>10</span>, color <span class='op'>=</span> <span class='st'>"black"</span><span class='op'>)</span>,</span>
<span>    axis.title <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>12</span>, color <span class='op'>=</span> <span class='st'>"black"</span>, face <span class='op'>=</span> <span class='st'>"bold"</span><span class='op'>)</span>,</span>
<span>    panel.grid.minor <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>,</span>
<span>    panel.grid.major.x <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>,</span>
<span>    axis.ticks.x <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_line</a></span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>0.5</span><span class='op'>)</span>,</span>
<span>    axis.ticks.y <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_line</a></span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>0.5</span><span class='op'>)</span>,</span>
<span>    axis.text.x <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>angle <span class='op'>=</span> <span class='fl'>45</span>, hjust <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span>,</span>
<span>    axis.text.y <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>angle <span class='op'>=</span> <span class='fl'>0</span>, hjust <span class='op'>=</span> <span class='fl'>0.5</span><span class='op'>)</span>,</span>
<span>    plot.background <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>"white"</span><span class='op'>)</span>,</span>
<span>    plot.margin <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>margin</a></span><span class='op'>(</span>t<span class='op'>=</span><span class='fl'>0.45</span>, r<span class='op'>=</span> <span class='fl'>0.5</span>, b<span class='op'>=</span><span class='fl'>0</span>, l<span class='op'>=</span> <span class='fl'>0.5</span>, <span class='st'>"cm"</span><span class='op'>)</span>,</span>
<span>    legend.key.width <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/unit.html'>unit</a></span><span class='op'>(</span><span class='fl'>1</span>, <span class='st'>"cm"</span><span class='op'>)</span>, </span>
<span>    legend.key.height <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/unit.html'>unit</a></span><span class='op'>(</span><span class='fl'>1</span>, <span class='st'>"cm"</span><span class='op'>)</span>,  </span>
<span>    legend.spacing <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/unit.html'>unit</a></span><span class='op'>(</span><span class='fl'>0.5</span>, <span class='st'>"cm"</span><span class='op'>)</span>,  </span>
<span>    legend.box.margin <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>margin</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>0</span>, <span class='fl'>1</span>, <span class='fl'>0</span>, <span class='st'>"cm"</span><span class='op'>)</span>,</span>
<span>    plot.caption <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>hjust <span class='op'>=</span> <span class='fl'>0</span>, vjust <span class='op'>=</span> <span class='fl'>0</span>, color <span class='op'>=</span> <span class='st'>"black"</span>, size <span class='op'>=</span> <span class='fl'>10</span>, </span>
<span>                                margin <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>margin</a></span><span class='op'>(</span>t <span class='op'>=</span> <span class='fl'>0</span>, b <span class='op'>=</span> <span class='fl'>0.5</span>, l <span class='op'>=</span> <span class='fl'>0</span>, r <span class='op'>=</span> <span class='fl'>0</span>, <span class='st'>"cm"</span><span class='op'>)</span><span class='op'>)</span></span>
<span>  <span class='op'>)</span> <span class='op'>+</span> <span class='va'>president</span></span></code></pre>
</div>
</div>
<p>We add a modification to the legends</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>j</span> <span class='op'>&lt;-</span>  <span class='va'>j</span> <span class='op'>+</span> </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/guides.html'>guides</a></span><span class='op'>(</span></span>
<span>    color <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/guide_legend.html'>guide_legend</a></span><span class='op'>(</span></span>
<span>      keywidth <span class='op'>=</span> <span class='fl'>2</span>, keyheight <span class='op'>=</span> <span class='fl'>0.2</span>,  </span>
<span>      title.position <span class='op'>=</span> <span class='st'>"top"</span>,  </span>
<span>      label.position <span class='op'>=</span> <span class='st'>"bottom"</span>,  </span>
<span>      ncol <span class='op'>=</span> <span class='fl'>4</span>  </span>
<span>    <span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/guides.html'>guides</a></span><span class='op'>(</span>linetype <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/guide_legend.html'>guide_legend</a></span><span class='op'>(</span>title <span class='op'>=</span> <span class='cn'>NULL</span>,</span>
<span>                                 label.position <span class='op'>=</span> <span class='st'>"bottom"</span>,  keywidth <span class='op'>=</span> <span class='fl'>0.2</span><span class='op'>)</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<h3 id="final-graph">Final graph</h3>
<p>Despite improvements, the graph is still quite confusing, as there are many lines that are concentrated at similar points. This accumulation of lines can be confusing, making the interpretation of the graph more complicated. It is therefore necessary to treat data visualisation even more effectively to achieve a clearer and more accessible representation, ensuring that the information is easily assimilated by those viewing the graph.</p>
<p>Consequently, we have used the function “facet_wrap” to divide the graph by ethnicity, leaving the variable “Trust.Average” as a constant. In this way, the graph is much more understandable, allowing us to take the average as a reference and make comparisons between graphs with greater precision. In addition, we have used the vector “names” mentioned above to display the graphs in the following order:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>j</span> <span class='op'>&lt;-</span> <span class='va'>j</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/facet_wrap.html'>facet_wrap</a></span><span class='op'>(</span><span class='op'>~</span><span class='va'>name</span>, scales <span class='op'>=</span> <span class='st'>"free"</span>,nrow<span class='op'>=</span><span class='fl'>2</span>, ncol<span class='op'>=</span><span class='fl'>2</span><span class='op'>)</span> </span>
<span><span class='va'>j</span></span></code></pre>
</div>
<p><img src="100430897_files/figure-html5/unnamed-chunk-22-1.png" width="100%" data-distill-preview=1 style="display: block; margin: auto;" /></p>
</div>
<h2 id="analysis-and-results">Analysis and results</h2>
<p>Once the improvement has been made, we can see that the graph is much clearer, which will allow us to analyse more precisely how US citizen confidence in the presidency has evolved and what historical factors may have affected these developments.</p>
<p>First of all, it should be mentioned that these facts do not link direct causality, but provide a clearer visual representation of the underlying data. That is, the improved visualisation of the chart focuses on variations and trends, allowing us to identify patterns that might have previously gone unnoticed. However, at no point can we claim that these variations in confidence are due to the facts we mentioned, as well as to the president in question. This is because a large number of factors would have to be taken into account that cannot be predicted, at least not with our data. Therefore, our analysis will be based on observing how the different populations reacted to the different periods and analysing the key moments that have influenced citizens’ perceptions of the presidency.</p>
<h3 id="conclusions-and-explanations">Conclusions and explanations</h3>
<p>First of all, we are going to focus on explaining the 2 main graphs, which are those corresponding to the “White” and “Black” breeds. These are considered the main ones because they provide more data, since they start in 1958, therefore, we can make a more precise study and allow us to analyse a greater number of details.</p>
<p>In the graph that represents white people, the first thing that strikes us is the large decrease in trust over the years, as in 1958 trust was around 80% and in 2023 it dropped to just 20%. This shows that regardless of the type of government, the trust of white people has declined enormously. On the other hand, since Johnson’s presidency, the trust of this race plummeted and broke through the median barrier at the end of the Vietnam War along with the beginning of Carter’s presidency. This means that this date seems to be the exact point at which white confidence was below average for the first time in history, declining throughout that president’s term until the arrival of Nixon, where he regained confidence and again surpassed the average.</p>
<p>However, one fact that is quite remarkable about this mandate is the lack of importance or repercussions that Irangate had, because although the average level of trust decreased from that date onwards, the trust of white people remained fairly constant. Subsequently, with the Bush administration, trust was also above average until the arrival of Clinton, when trust was again below average. However, during the eight years of Democratic rule, average trust increased by almost 40% during this period. Moreover, the beginning of this period of trust growth seems to coincide with the Oklahoma bombing. In 2001 there was a change of government from Democrat to Republican, with Bush again as President. However, this year was marked by the attack on the Twin Towers on 11 September 2001 (known as 9/11 or 11S ), which triggered the beginning of a loss of confidence in the government that continues to this day, both on average and in the specific case of white people. Since then, the only time that white people’s trust has been above average was with Trump. In general, we can observe that the trust of white people tends to be above average when political representatives belong to the Republican party. However, the overall average tends to decrease when these candidates are not in government.</p>
<p>On the other hand, in the case of Black individuals, we can see how their confidence in the government has also decreased over time, consistently remaining below the average. The trust of Black people in the government has remained relatively constant over time, ranging between 20% and 40%, except during two key events. The first and most notable change occurred with the assassination of Martin Luther King Jr. Following those dates, there was a marked decline in trust, which is understandable considering the impact of this historical event. Martin Luther King was one of the early and prominent advocates for racial equality in the United States. His assassination in 1968 not only represented the tragic loss of an influential leader but also symbolized a significant setback for the civil rights movement and equality. From that moment until the Clinton administration, trust remained below average, but this only lasted for a couple of years until the Oklahoma bombing.</p>
<p>The second event that saw a resurgence in the confidence of Black individuals was during the Obama administration. Upon assuming office in 2009, Obama became the first African-American president of the United States. His tenure marked a historic milestone that not only symbolized progress towards inclusion and diversity in the country’s leadership but also had a significant impact on the perception of the African-American community. The cultural connection and identification with a leader who shared their ethnic heritage contributed to strengthening trust in government institutions. Additionally, the policies and programs implemented during his administration to address specific challenges faced by the Black community reinforced the notion of progress and social justice, thus consolidating a tangible improvement in the confidence of this population during that period.</p>
<p>Regarding the Hispanic ethnicity, for which we only have information from 1990, their confidence also shows a negative trend, although much less abrupt than in the previous cases, consistently remaining above the average. The historical event that most affected their confidence was the 9/11 attacks, similar to the majority of citizens in the country. It is also noted that in 2010, during the Obama administration, there were variations in their confidence, possibly influenced by the revelations of Edward Snowden.</p>
<p>Finally, regarding Asians, we have very little information to effectively assess the provided data. However, starting from the COVID-19 crisis, there is observed a decrease in their confidence in the government, which could make sense considering that they were the target of attacks and discrimination during the pandemic. The Asian community faced stigmatization and prejudice linked to the origin of the virus, which possibly influenced their perception of the government.</p>
<p>In summary, we can affirm that the overall trust of American citizens has decreased over the years, affecting all the ethnicities and races we have observed. However, this decline has not affected all Americans equally. The analysis shows that white individuals have consistently shown a significant increase in trust when representatives from the Republican party are in power, a situation not mirrored in the majority of other cases, where trust tends to decline. The same pattern is observed with specific events, such as the assassination of Martin Luther King Jr., which had a more significant impact on the trust of Black individuals, or the COVID-19 pandemic, which affected the trust of Asian individuals.</p>
<h3 id="possible-future-implications">Possible future implications</h3>
<p>This growing crisis in governmental trust could trigger a number of significant consequences on the stability and effectiveness of the political system, as well as result in increased social polarization, loss of legitimacy of governmental institutions and decreased citizen participation in the democratic process. Therefore, it will be essential to carefully analyze the underlying causes of the decline in trust and to implement effective measures to rebuild the connection between government and society.</p>
<p>This could have a wide range of political implications in the future, especially with the aim of reducing such politicization and rebuilding trust in the presidency, because if the necessary measures are not taken, it could lead to the outright rejection of political decisions, ending political support and causing the failure of different governments. Therefore, to avoid more unfavorable scenarios, it will be crucial to undertake significant efforts to rebuild trust through transparency, accountability and commitment to the needs and concerns of the population.</p>
<p>Finally, understanding the reasons that generate this distrust in the presidency could be essential to address the Sustainable Development Goals (SDGs) of the 2030 Agenda. By identifying the causes and consequences of the lack of trust, more effective strategies can be developed to promote citizen participation and collaboration in the implementation of policies aimed at achieving sustainable goals.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r distill-force-highlighting-css"><code class="sourceCode r"></code></pre></div>
<!--radix_placeholder_article_footer-->
<!--/radix_placeholder_article_footer-->
</div>

<div class="d-appendix">
</div>


<!--radix_placeholder_site_after_body-->
<!--/radix_placeholder_site_after_body-->
<!--radix_placeholder_appendices-->
<div class="appendix-bottom">
  <h3 id="reuse">Reuse</h3>
  <p>Text and figures are licensed under Creative Commons Attribution <a rel="license" href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a>. The figures that have been reused from other sources don't fall under this license and can be recognized by a note in their caption: "Figure from ...".</p>
  <h3 id="citation">Citation</h3>
  <p>For attribution, please cite this work as</p>
  <pre class="citation-appendix short">San-Juan-Baeza (2024, Jan. 22). Data visualization | MSc CSS: Public Trust in Government. Retrieved from https://csslab.uc3m.es/dataviz/projects/2023/100430897/</pre>
  <p>BibTeX citation</p>
  <pre class="citation-appendix long">@misc{san-juan-baeza2024public,
  author = {San-Juan-Baeza, Carlos},
  title = {Data visualization | MSc CSS: Public Trust in Government},
  url = {https://csslab.uc3m.es/dataviz/projects/2023/100430897/},
  year = {2024}
}</pre>
</div>
<!--/radix_placeholder_appendices-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<!--radix_placeholder_navigation_after_body--><html><body>
<div class="distill-site-nav distill-site-footer">
<p><img src="../../../assets/acronimo_nombre1l_0.png" width="400"></p>
</div>
<!--/radix_placeholder_navigation_after_body-->
</body></html>


</body>

</html>
