<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">

<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/>
  <meta name="generator" content="distill" />

  <style type="text/css">
  /* Hide doc at startup (prevent jankiness while JS renders/transforms) */
  body {
    visibility: hidden;
  }
  </style>

 <!--radix_placeholder_import_source-->
 <!--/radix_placeholder_import_source-->

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  { color: #00769e; background-color: #f1f3f5; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span { color: #00769e; } /* Normal */
code span.al { color: #ad0000; } /* Alert */
code span.an { color: #5e5e5e; } /* Annotation */
code span.at { color: #657422; } /* Attribute */
code span.bn { color: #ad0000; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #00769e; } /* ControlFlow */
code span.ch { color: #20794d; } /* Char */
code span.cn { color: #8f5902; } /* Constant */
code span.co { color: #5e5e5e; } /* Comment */
code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
code span.dt { color: #ad0000; } /* DataType */
code span.dv { color: #ad0000; } /* DecVal */
code span.er { color: #ad0000; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #ad0000; } /* Float */
code span.fu { color: #4758ab; } /* Function */
code span.im { } /* Import */
code span.in { color: #5e5e5e; } /* Information */
code span.kw { color: #00769e; } /* Keyword */
code span.op { color: #5e5e5e; } /* Operator */
code span.ot { color: #00769e; } /* Other */
code span.pp { color: #ad0000; } /* Preprocessor */
code span.sc { color: #5e5e5e; } /* SpecialChar */
code span.ss { color: #20794d; } /* SpecialString */
code span.st { color: #20794d; } /* String */
code span.va { color: #111111; } /* Variable */
code span.vs { color: #20794d; } /* VerbatimString */
code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
</style>


  <!--radix_placeholder_meta_tags-->
  <title>We Feel It Already. How About We Visualize It?</title>

  <meta property="description" itemprop="description" content="Summer temperatures are getting hotter and this plot does a pretty good job at showing that."/>


  <!--  https://schema.org/Article -->
  <meta property="article:published" itemprop="datePublished" content="2024-01-21"/>
  <meta property="article:created" itemprop="dateCreated" content="2024-01-21"/>
  <meta name="article:author" content="Mikaela DeSmedt"/>

  <!--  https://developers.facebook.com/docs/sharing/webmasters#markup -->
  <meta property="og:title" content="We Feel It Already. How About We Visualize It?"/>
  <meta property="og:type" content="article"/>
  <meta property="og:description" content="Summer temperatures are getting hotter and this plot does a pretty good job at showing that."/>
  <meta property="og:locale" content="en_US"/>

  <!--  https://dev.twitter.com/cards/types/summary -->
  <meta property="twitter:card" content="summary"/>
  <meta property="twitter:title" content="We Feel It Already. How About We Visualize It?"/>
  <meta property="twitter:description" content="Summer temperatures are getting hotter and this plot does a pretty good job at showing that."/>

  <!--/radix_placeholder_meta_tags-->
  <!--radix_placeholder_rmarkdown_metadata-->

  <script type="text/json" id="radix-rmarkdown-metadata">
  {"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["title","description","categories","author","date","output"]}},"value":[{"type":"character","attributes":{},"value":["We Feel It Already. How About We Visualize It?"]},{"type":"character","attributes":{},"value":["Summer temperatures are getting hotter and this plot does a pretty good job at showing that.  \n"]},{"type":"character","attributes":{},"value":["2023"]},{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name"]}},"value":[{"type":"character","attributes":{},"value":["Mikaela DeSmedt"]}]}]},{"type":"character","attributes":{},"value":["2024-01-21"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["distill::distill_article"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["self_contained","toc"]}},"value":[{"type":"logical","attributes":{},"value":[false]},{"type":"logical","attributes":{},"value":[true]}]}]}]}
  </script>
  <!--/radix_placeholder_rmarkdown_metadata-->
  
  <script type="text/json" id="radix-resource-manifest">
  {"type":"character","attributes":{},"value":["100481838_files/anchor-4.2.2/anchor.min.js","100481838_files/bowser-1.9.3/bowser.min.js","100481838_files/distill-2.2.21/template.v2.js","100481838_files/figure-html5/all the periods-1.png","100481838_files/figure-html5/Animation-1.gif","100481838_files/figure-html5/base plot-1.png","100481838_files/figure-html5/enhancement 1-1.png","100481838_files/figure-html5/enhancement 2-1.png","100481838_files/figure-html5/first_plot_with_shadow-1.png","100481838_files/figure-html5/legend and period lable-1.png","100481838_files/figure-html5/reference lines-1.png","100481838_files/figure-html5/shadow on all periods-1.png","100481838_files/figure-html5/unnamed-chunk-1-1.png","100481838_files/header-attrs-2.25/header-attrs.js","100481838_files/jquery-3.6.0/jquery-3.6.0.js","100481838_files/jquery-3.6.0/jquery-3.6.0.min.js","100481838_files/jquery-3.6.0/jquery-3.6.0.min.map","100481838_files/popper-2.6.0/popper.min.js","100481838_files/tippy-6.2.7/tippy-bundle.umd.min.js","100481838_files/tippy-6.2.7/tippy-light-border.css","100481838_files/tippy-6.2.7/tippy.css","100481838_files/tippy-6.2.7/tippy.umd.min.js","100481838_files/webcomponents-2.0.0/webcomponents.js","ccdata.csv","marked up chart.png","Original chart.png","plot from hansen.png"]}
  </script>
  <!--radix_placeholder_navigation_in_header-->
  <!--/radix_placeholder_navigation_in_header-->
  <!--radix_placeholder_distill-->

  <style type="text/css">

  body {
    background-color: white;
  }

  .pandoc-table {
    width: 100%;
  }

  .pandoc-table>caption {
    margin-bottom: 10px;
  }

  .pandoc-table th:not([align]) {
    text-align: left;
  }

  .pagedtable-footer {
    font-size: 15px;
  }

  d-byline .byline {
    grid-template-columns: 2fr 2fr;
  }

  d-byline .byline h3 {
    margin-block-start: 1.5em;
  }

  d-byline .byline .authors-affiliations h3 {
    margin-block-start: 0.5em;
  }

  .authors-affiliations .orcid-id {
    width: 16px;
    height:16px;
    margin-left: 4px;
    margin-right: 4px;
    vertical-align: middle;
    padding-bottom: 2px;
  }

  d-title .dt-tags {
    margin-top: 1em;
    grid-column: text;
  }

  .dt-tags .dt-tag {
    text-decoration: none;
    display: inline-block;
    color: rgba(0,0,0,0.6);
    padding: 0em 0.4em;
    margin-right: 0.5em;
    margin-bottom: 0.4em;
    font-size: 70%;
    border: 1px solid rgba(0,0,0,0.2);
    border-radius: 3px;
    text-transform: uppercase;
    font-weight: 500;
  }

  d-article table.gt_table td,
  d-article table.gt_table th {
    border-bottom: none;
    font-size: 100%;
  }

  .html-widget {
    margin-bottom: 2.0em;
  }

  .l-screen-inset {
    padding-right: 16px;
  }

  .l-screen .caption {
    margin-left: 10px;
  }

  .shaded {
    background: rgb(247, 247, 247);
    padding-top: 20px;
    padding-bottom: 20px;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  }

  .shaded .html-widget {
    margin-bottom: 0;
    border: 1px solid rgba(0, 0, 0, 0.1);
  }

  .shaded .shaded-content {
    background: white;
  }

  .text-output {
    margin-top: 0;
    line-height: 1.5em;
  }

  .hidden {
    display: none !important;
  }

  hr.section-separator {
    border: none;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    margin: 0px;
  }


  d-byline {
    border-top: none;
  }

  d-article {
    padding-top: 2.5rem;
    padding-bottom: 30px;
    border-top: none;
  }

  d-appendix {
    padding-top: 30px;
  }

  d-article>p>img {
    width: 100%;
  }

  d-article h2 {
    margin: 1rem 0 1.5rem 0;
  }

  d-article h3 {
    margin-top: 1.5rem;
  }

  d-article iframe {
    border: 1px solid rgba(0, 0, 0, 0.1);
    margin-bottom: 2.0em;
    width: 100%;
  }

  /* Tweak code blocks */

  d-article div.sourceCode code,
  d-article pre code {
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  }

  d-article pre,
  d-article div.sourceCode,
  d-article div.sourceCode pre {
    overflow: auto;
  }

  d-article div.sourceCode {
    background-color: white;
  }

  d-article div.sourceCode pre {
    padding-left: 10px;
    font-size: 12px;
    border-left: 2px solid rgba(0,0,0,0.1);
  }

  d-article pre {
    font-size: 12px;
    color: black;
    background: none;
    margin-top: 0;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    word-wrap: normal;
    line-height: 1.5;

    -moz-tab-size: 4;
    -o-tab-size: 4;
    tab-size: 4;

    -webkit-hyphens: none;
    -moz-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;
  }

  d-article pre a {
    border-bottom: none;
  }

  d-article pre a:hover {
    border-bottom: none;
    text-decoration: underline;
  }

  d-article details {
    grid-column: text;
    margin-bottom: 0.8em;
  }

  @media(min-width: 768px) {

  d-article pre,
  d-article div.sourceCode,
  d-article div.sourceCode pre {
    overflow: visible !important;
  }

  d-article div.sourceCode pre {
    padding-left: 18px;
    font-size: 14px;
  }

  /* tweak for Pandoc numbered line within distill */
  d-article pre.numberSource code > span {
      left: -2em;
  }

  d-article pre {
    font-size: 14px;
  }

  }

  figure img.external {
    background: white;
    border: 1px solid rgba(0, 0, 0, 0.1);
    box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
    padding: 18px;
    box-sizing: border-box;
  }

  /* CSS for d-contents */

  .d-contents {
    grid-column: text;
    color: rgba(0,0,0,0.8);
    font-size: 0.9em;
    padding-bottom: 1em;
    margin-bottom: 1em;
    padding-bottom: 0.5em;
    margin-bottom: 1em;
    padding-left: 0.25em;
    justify-self: start;
  }

  @media(min-width: 1000px) {
    .d-contents.d-contents-float {
      height: 0;
      grid-column-start: 1;
      grid-column-end: 4;
      justify-self: center;
      padding-right: 3em;
      padding-left: 2em;
    }
  }

  .d-contents nav h3 {
    font-size: 18px;
    margin-top: 0;
    margin-bottom: 1em;
  }

  .d-contents li {
    list-style-type: none
  }

  .d-contents nav > ul {
    padding-left: 0;
  }

  .d-contents ul {
    padding-left: 1em
  }

  .d-contents nav ul li {
    margin-top: 0.6em;
    margin-bottom: 0.2em;
  }

  .d-contents nav a {
    font-size: 13px;
    border-bottom: none;
    text-decoration: none
    color: rgba(0, 0, 0, 0.8);
  }

  .d-contents nav a:hover {
    text-decoration: underline solid rgba(0, 0, 0, 0.6)
  }

  .d-contents nav > ul > li > a {
    font-weight: 600;
  }

  .d-contents nav > ul > li > ul {
    font-weight: inherit;
  }

  .d-contents nav > ul > li > ul > li {
    margin-top: 0.2em;
  }


  .d-contents nav ul {
    margin-top: 0;
    margin-bottom: 0.25em;
  }

  .d-article-with-toc h2:nth-child(2) {
    margin-top: 0;
  }


  /* Figure */

  .figure {
    position: relative;
    margin-bottom: 2.5em;
    margin-top: 1.5em;
  }

  .figure .caption {
    color: rgba(0, 0, 0, 0.6);
    font-size: 12px;
    line-height: 1.5em;
  }

  .figure img.external {
    background: white;
    border: 1px solid rgba(0, 0, 0, 0.1);
    box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
    padding: 18px;
    box-sizing: border-box;
  }

  .figure .caption a {
    color: rgba(0, 0, 0, 0.6);
  }

  .figure .caption b,
  .figure .caption strong, {
    font-weight: 600;
    color: rgba(0, 0, 0, 1.0);
  }

  /* Citations */

  d-article .citation {
    color: inherit;
    cursor: inherit;
  }

  div.hanging-indent{
    margin-left: 1em; text-indent: -1em;
  }

  /* Citation hover box */

  .tippy-box[data-theme~=light-border] {
    background-color: rgba(250, 250, 250, 0.95);
  }

  .tippy-content > p {
    margin-bottom: 0;
    padding: 2px;
  }


  /* Tweak 1000px media break to show more text */

  @media(min-width: 1000px) {
    .base-grid,
    distill-header,
    d-title,
    d-abstract,
    d-article,
    d-appendix,
    distill-appendix,
    d-byline,
    d-footnote-list,
    d-citation-list,
    distill-footer {
      grid-template-columns: [screen-start] 1fr [page-start kicker-start] 80px [middle-start] 50px [text-start kicker-end] 65px 65px 65px 65px 65px 65px 65px 65px [text-end gutter-start] 65px [middle-end] 65px [page-end gutter-end] 1fr [screen-end];
      grid-column-gap: 16px;
    }

    .grid {
      grid-column-gap: 16px;
    }

    d-article {
      font-size: 1.06rem;
      line-height: 1.7em;
    }
    figure .caption, .figure .caption, figure figcaption {
      font-size: 13px;
    }
  }

  @media(min-width: 1180px) {
    .base-grid,
    distill-header,
    d-title,
    d-abstract,
    d-article,
    d-appendix,
    distill-appendix,
    d-byline,
    d-footnote-list,
    d-citation-list,
    distill-footer {
      grid-template-columns: [screen-start] 1fr [page-start kicker-start] 60px [middle-start] 60px [text-start kicker-end] 60px 60px 60px 60px 60px 60px 60px 60px [text-end gutter-start] 60px [middle-end] 60px [page-end gutter-end] 1fr [screen-end];
      grid-column-gap: 32px;
    }

    .grid {
      grid-column-gap: 32px;
    }
  }


  /* Get the citation styles for the appendix (not auto-injected on render since
     we do our own rendering of the citation appendix) */

  d-appendix .citation-appendix,
  .d-appendix .citation-appendix {
    font-size: 11px;
    line-height: 15px;
    border-left: 1px solid rgba(0, 0, 0, 0.1);
    padding-left: 18px;
    border: 1px solid rgba(0,0,0,0.1);
    background: rgba(0, 0, 0, 0.02);
    padding: 10px 18px;
    border-radius: 3px;
    color: rgba(150, 150, 150, 1);
    overflow: hidden;
    margin-top: -12px;
    white-space: pre-wrap;
    word-wrap: break-word;
  }

  /* Include appendix styles here so they can be overridden */

  d-appendix {
    contain: layout style;
    font-size: 0.8em;
    line-height: 1.7em;
    margin-top: 60px;
    margin-bottom: 0;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    color: rgba(0,0,0,0.5);
    padding-top: 60px;
    padding-bottom: 48px;
  }

  d-appendix h3 {
    grid-column: page-start / text-start;
    font-size: 15px;
    font-weight: 500;
    margin-top: 1em;
    margin-bottom: 0;
    color: rgba(0,0,0,0.65);
  }

  d-appendix h3 + * {
    margin-top: 1em;
  }

  d-appendix ol {
    padding: 0 0 0 15px;
  }

  @media (min-width: 768px) {
    d-appendix ol {
      padding: 0 0 0 30px;
      margin-left: -30px;
    }
  }

  d-appendix li {
    margin-bottom: 1em;
  }

  d-appendix a {
    color: rgba(0, 0, 0, 0.6);
  }

  d-appendix > * {
    grid-column: text;
  }

  d-appendix > d-footnote-list,
  d-appendix > d-citation-list,
  d-appendix > distill-appendix {
    grid-column: screen;
  }

  /* Include footnote styles here so they can be overridden */

  d-footnote-list {
    contain: layout style;
  }

  d-footnote-list > * {
    grid-column: text;
  }

  d-footnote-list a.footnote-backlink {
    color: rgba(0,0,0,0.3);
    padding-left: 0.5em;
  }



  /* Anchor.js */

  .anchorjs-link {
    /*transition: all .25s linear; */
    text-decoration: none;
    border-bottom: none;
  }
  *:hover > .anchorjs-link {
    margin-left: -1.125em !important;
    text-decoration: none;
    border-bottom: none;
  }

  /* Social footer */

  .social_footer {
    margin-top: 30px;
    margin-bottom: 0;
    color: rgba(0,0,0,0.67);
  }

  .disqus-comments {
    margin-right: 30px;
  }

  .disqus-comment-count {
    border-bottom: 1px solid rgba(0, 0, 0, 0.4);
    cursor: pointer;
  }

  #disqus_thread {
    margin-top: 30px;
  }

  .article-sharing a {
    border-bottom: none;
    margin-right: 8px;
  }

  .article-sharing a:hover {
    border-bottom: none;
  }

  .sidebar-section.subscribe {
    font-size: 12px;
    line-height: 1.6em;
  }

  .subscribe p {
    margin-bottom: 0.5em;
  }


  .article-footer .subscribe {
    font-size: 15px;
    margin-top: 45px;
  }


  .sidebar-section.custom {
    font-size: 12px;
    line-height: 1.6em;
  }

  .custom p {
    margin-bottom: 0.5em;
  }

  /* Styles for listing layout (hide title) */
  .layout-listing d-title, .layout-listing .d-title {
    display: none;
  }

  /* Styles for posts lists (not auto-injected) */


  .posts-with-sidebar {
    padding-left: 45px;
    padding-right: 45px;
  }

  .posts-list .description h2,
  .posts-list .description p {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
  }

  .posts-list .description h2 {
    font-weight: 700;
    border-bottom: none;
    padding-bottom: 0;
  }

  .posts-list h2.post-tag {
    border-bottom: 1px solid rgba(0, 0, 0, 0.2);
    padding-bottom: 12px;
  }
  .posts-list {
    margin-top: 60px;
    margin-bottom: 24px;
  }

  .posts-list .post-preview {
    text-decoration: none;
    overflow: hidden;
    display: block;
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
    padding: 24px 0;
  }

  .post-preview-last {
    border-bottom: none !important;
  }

  .posts-list .posts-list-caption {
    grid-column: screen;
    font-weight: 400;
  }

  .posts-list .post-preview h2 {
    margin: 0 0 6px 0;
    line-height: 1.2em;
    font-style: normal;
    font-size: 24px;
  }

  .posts-list .post-preview p {
    margin: 0 0 12px 0;
    line-height: 1.4em;
    font-size: 16px;
  }

  .posts-list .post-preview .thumbnail {
    box-sizing: border-box;
    margin-bottom: 24px;
    position: relative;
    max-width: 500px;
  }
  .posts-list .post-preview img {
    width: 100%;
    display: block;
  }

  .posts-list .metadata {
    font-size: 12px;
    line-height: 1.4em;
    margin-bottom: 18px;
  }

  .posts-list .metadata > * {
    display: inline-block;
  }

  .posts-list .metadata .publishedDate {
    margin-right: 2em;
  }

  .posts-list .metadata .dt-authors {
    display: block;
    margin-top: 0.3em;
    margin-right: 2em;
  }

  .posts-list .dt-tags {
    display: block;
    line-height: 1em;
  }

  .posts-list .dt-tags .dt-tag {
    display: inline-block;
    color: rgba(0,0,0,0.6);
    padding: 0.3em 0.4em;
    margin-right: 0.2em;
    margin-bottom: 0.4em;
    font-size: 60%;
    border: 1px solid rgba(0,0,0,0.2);
    border-radius: 3px;
    text-transform: uppercase;
    font-weight: 500;
  }

  .posts-list img {
    opacity: 1;
  }

  .posts-list img[data-src] {
    opacity: 0;
  }

  .posts-more {
    clear: both;
  }


  .posts-sidebar {
    font-size: 16px;
  }

  .posts-sidebar h3 {
    font-size: 16px;
    margin-top: 0;
    margin-bottom: 0.5em;
    font-weight: 400;
    text-transform: uppercase;
  }

  .sidebar-section {
    margin-bottom: 30px;
  }

  .categories ul {
    list-style-type: none;
    margin: 0;
    padding: 0;
  }

  .categories li {
    color: rgba(0, 0, 0, 0.8);
    margin-bottom: 0;
  }

  .categories li>a {
    border-bottom: none;
  }

  .categories li>a:hover {
    border-bottom: 1px solid rgba(0, 0, 0, 0.4);
  }

  .categories .active {
    font-weight: 600;
  }

  .categories .category-count {
    color: rgba(0, 0, 0, 0.4);
  }


  @media(min-width: 768px) {
    .posts-list .post-preview h2 {
      font-size: 26px;
    }
    .posts-list .post-preview .thumbnail {
      float: right;
      width: 30%;
      margin-bottom: 0;
    }
    .posts-list .post-preview .description {
      float: left;
      width: 45%;
    }
    .posts-list .post-preview .metadata {
      float: left;
      width: 20%;
      margin-top: 8px;
    }
    .posts-list .post-preview p {
      margin: 0 0 12px 0;
      line-height: 1.5em;
      font-size: 16px;
    }
    .posts-with-sidebar .posts-list {
      float: left;
      width: 75%;
    }
    .posts-with-sidebar .posts-sidebar {
      float: right;
      width: 20%;
      margin-top: 60px;
      padding-top: 24px;
      padding-bottom: 24px;
    }
  }


  /* Improve display for browsers without grid (IE/Edge <= 15) */

  .downlevel {
    line-height: 1.6em;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
    margin: 0;
  }

  .downlevel .d-title {
    padding-top: 6rem;
    padding-bottom: 1.5rem;
  }

  .downlevel .d-title h1 {
    font-size: 50px;
    font-weight: 700;
    line-height: 1.1em;
    margin: 0 0 0.5rem;
  }

  .downlevel .d-title p {
    font-weight: 300;
    font-size: 1.2rem;
    line-height: 1.55em;
    margin-top: 0;
  }

  .downlevel .d-byline {
    padding-top: 0.8em;
    padding-bottom: 0.8em;
    font-size: 0.8rem;
    line-height: 1.8em;
  }

  .downlevel .section-separator {
    border: none;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
  }

  .downlevel .d-article {
    font-size: 1.06rem;
    line-height: 1.7em;
    padding-top: 1rem;
    padding-bottom: 2rem;
  }


  .downlevel .d-appendix {
    padding-left: 0;
    padding-right: 0;
    max-width: none;
    font-size: 0.8em;
    line-height: 1.7em;
    margin-bottom: 0;
    color: rgba(0,0,0,0.5);
    padding-top: 40px;
    padding-bottom: 48px;
  }

  .downlevel .footnotes ol {
    padding-left: 13px;
  }

  .downlevel .base-grid,
  .downlevel .distill-header,
  .downlevel .d-title,
  .downlevel .d-abstract,
  .downlevel .d-article,
  .downlevel .d-appendix,
  .downlevel .distill-appendix,
  .downlevel .d-byline,
  .downlevel .d-footnote-list,
  .downlevel .d-citation-list,
  .downlevel .distill-footer,
  .downlevel .appendix-bottom,
  .downlevel .posts-container {
    padding-left: 40px;
    padding-right: 40px;
  }

  @media(min-width: 768px) {
    .downlevel .base-grid,
    .downlevel .distill-header,
    .downlevel .d-title,
    .downlevel .d-abstract,
    .downlevel .d-article,
    .downlevel .d-appendix,
    .downlevel .distill-appendix,
    .downlevel .d-byline,
    .downlevel .d-footnote-list,
    .downlevel .d-citation-list,
    .downlevel .distill-footer,
    .downlevel .appendix-bottom,
    .downlevel .posts-container {
    padding-left: 150px;
    padding-right: 150px;
    max-width: 900px;
  }
  }

  .downlevel pre code {
    display: block;
    border-left: 2px solid rgba(0, 0, 0, .1);
    padding: 0 0 0 20px;
    font-size: 14px;
  }

  .downlevel code, .downlevel pre {
    color: black;
    background: none;
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    word-wrap: normal;
    line-height: 1.5;

    -moz-tab-size: 4;
    -o-tab-size: 4;
    tab-size: 4;

    -webkit-hyphens: none;
    -moz-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;
  }

  .downlevel .posts-list .post-preview {
    color: inherit;
  }



  </style>

  <script type="application/javascript">

  function is_downlevel_browser() {
    if (bowser.isUnsupportedBrowser({ msie: "12", msedge: "16"},
                                   window.navigator.userAgent)) {
      return true;
    } else {
      return window.load_distill_framework === undefined;
    }
  }

  // show body when load is complete
  function on_load_complete() {

    // add anchors
    if (window.anchors) {
      window.anchors.options.placement = 'left';
      window.anchors.add('d-article > h2, d-article > h3, d-article > h4, d-article > h5');
    }


    // set body to visible
    document.body.style.visibility = 'visible';

    // force redraw for leaflet widgets
    if (window.HTMLWidgets) {
      var maps = window.HTMLWidgets.findAll(".leaflet");
      $.each(maps, function(i, el) {
        var map = this.getMap();
        map.invalidateSize();
        map.eachLayer(function(layer) {
          if (layer instanceof L.TileLayer)
            layer.redraw();
        });
      });
    }

    // trigger 'shown' so htmlwidgets resize
    $('d-article').trigger('shown');
  }

  function init_distill() {

    init_common();

    // create front matter
    var front_matter = $('<d-front-matter></d-front-matter>');
    $('#distill-front-matter').wrap(front_matter);

    // create d-title
    $('.d-title').changeElementType('d-title');

    // separator
    var separator = '<hr class="section-separator" style="clear: both"/>';
    // prepend separator above appendix
    $('.d-byline').before(separator);
    $('.d-article').before(separator);

    // create d-byline
    var byline = $('<d-byline></d-byline>');
    $('.d-byline').replaceWith(byline);

    // create d-article
    var article = $('<d-article></d-article>');
    $('.d-article').wrap(article).children().unwrap();

    // move posts container into article
    $('.posts-container').appendTo($('d-article'));

    // create d-appendix
    $('.d-appendix').changeElementType('d-appendix');

    // flag indicating that we have appendix items
    var appendix = $('.appendix-bottom').children('h3').length > 0;

    // replace footnotes with <d-footnote>
    $('.footnote-ref').each(function(i, val) {
      appendix = true;
      var href = $(this).attr('href');
      var id = href.replace('#', '');
      var fn = $('#' + id);
      var fn_p = $('#' + id + '>p');
      fn_p.find('.footnote-back').remove();
      var text = fn_p.html();
      var dtfn = $('<d-footnote></d-footnote>');
      dtfn.html(text);
      $(this).replaceWith(dtfn);
    });
    // remove footnotes
    $('.footnotes').remove();

    // move refs into #references-listing
    $('#references-listing').replaceWith($('#refs'));

    $('h1.appendix, h2.appendix').each(function(i, val) {
      $(this).changeElementType('h3');
    });
    $('h3.appendix').each(function(i, val) {
      var id = $(this).attr('id');
      $('.d-contents a[href="#' + id + '"]').parent().remove();
      appendix = true;
      $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('d-appendix'));
    });

    // show d-appendix if we have appendix content
    $("d-appendix").css('display', appendix ? 'grid' : 'none');

    // localize layout chunks to just output
    $('.layout-chunk').each(function(i, val) {

      // capture layout
      var layout = $(this).attr('data-layout');

      // apply layout to markdown level block elements
      var elements = $(this).children().not('details, div.sourceCode, pre, script');
      elements.each(function(i, el) {
        var layout_div = $('<div class="' + layout + '"></div>');
        if (layout_div.hasClass('shaded')) {
          var shaded_content = $('<div class="shaded-content"></div>');
          $(this).wrap(shaded_content);
          $(this).parent().wrap(layout_div);
        } else {
          $(this).wrap(layout_div);
        }
      });


      // unwrap the layout-chunk div
      $(this).children().unwrap();
    });

    // remove code block used to force  highlighting css
    $('.distill-force-highlighting-css').parent().remove();

    // remove empty line numbers inserted by pandoc when using a
    // custom syntax highlighting theme, except when numbering line
    // in code chunk
    $('pre:not(.numberLines) code.sourceCode a:empty').remove();

    // load distill framework
    load_distill_framework();

    // wait for window.distillRunlevel == 4 to do post processing
    function distill_post_process() {

      if (!window.distillRunlevel || window.distillRunlevel < 4)
        return;

      // hide author/affiliations entirely if we have no authors
      var front_matter = JSON.parse($("#distill-front-matter").html());
      var have_authors = front_matter.authors && front_matter.authors.length > 0;
      if (!have_authors)
        $('d-byline').addClass('hidden');

      // article with toc class
      $('.d-contents').parent().addClass('d-article-with-toc');

      // strip links that point to #
      $('.authors-affiliations').find('a[href="#"]').removeAttr('href');

      // add orcid ids
      $('.authors-affiliations').find('.author').each(function(i, el) {
        var orcid_id = front_matter.authors[i].orcidID;
        var author_name = front_matter.authors[i].author
        if (orcid_id) {
          var a = $('<a></a>');
          a.attr('href', 'https://orcid.org/' + orcid_id);
          var img = $('<img></img>');
          img.addClass('orcid-id');
          img.attr('alt', author_name ? 'ORCID ID for ' + author_name : 'ORCID ID');
          img.attr('src','data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg==');
          a.append(img);
          $(this).append(a);
        }
      });

      // hide elements of author/affiliations grid that have no value
      function hide_byline_column(caption) {
        $('d-byline').find('h3:contains("' + caption + '")').parent().css('visibility', 'hidden');
      }

      // affiliations
      var have_affiliations = false;
      for (var i = 0; i<front_matter.authors.length; ++i) {
        var author = front_matter.authors[i];
        if (author.affiliation !== "&nbsp;") {
          have_affiliations = true;
          break;
        }
      }
      if (!have_affiliations)
        $('d-byline').find('h3:contains("Affiliations")').css('visibility', 'hidden');

      // published date
      if (!front_matter.publishedDate)
        hide_byline_column("Published");

      // document object identifier
      var doi = $('d-byline').find('h3:contains("DOI")');
      var doi_p = doi.next().empty();
      if (!front_matter.doi) {
        // if we have a citation and valid citationText then link to that
        if ($('#citation').length > 0 && front_matter.citationText) {
          doi.html('Citation');
          $('<a href="#citation"></a>')
            .text(front_matter.citationText)
            .appendTo(doi_p);
        } else {
          hide_byline_column("DOI");
        }
      } else {
        $('<a></a>')
           .attr('href', "https://doi.org/" + front_matter.doi)
           .html(front_matter.doi)
           .appendTo(doi_p);
      }

       // change plural form of authors/affiliations
      if (front_matter.authors.length === 1) {
        var grid = $('.authors-affiliations');
        grid.children('h3:contains("Authors")').text('Author');
        grid.children('h3:contains("Affiliations")').text('Affiliation');
      }

      // remove d-appendix and d-footnote-list local styles
      $('d-appendix > style:first-child').remove();
      $('d-footnote-list > style:first-child').remove();

      // move appendix-bottom entries to the bottom
      $('.appendix-bottom').appendTo('d-appendix').children().unwrap();
      $('.appendix-bottom').remove();

      // hoverable references
      $('span.citation[data-cites]').each(function() {
        const citeChild = $(this).children()[0]
        // Do not process if @xyz has been used without escaping and without bibliography activated
        // https://github.com/rstudio/distill/issues/466
        if (citeChild === undefined) return true

        if (citeChild.nodeName == "D-FOOTNOTE") {
          var fn = citeChild
          $(this).html(fn.shadowRoot.querySelector("sup"))
          $(this).id = fn.id
          fn.remove()
        }
        var refs = $(this).attr('data-cites').split(" ");
        var refHtml = refs.map(function(ref) {
          // Could use CSS.escape too here, we insure backward compatibility in navigator
          return "<p>" + $('div[id="ref-' + ref + '"]').html() + "</p>";
        }).join("\n");
        window.tippy(this, {
          allowHTML: true,
          content: refHtml,
          maxWidth: 500,
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start'
        });
      });

      // fix footnotes in tables (#411)
      // replacing broken distill.pub feature
      $('table d-footnote').each(function() {
        // we replace internal showAtNode methode which is triggered when hovering a footnote
        this.hoverBox.showAtNode = function(node) {
          // ported from https://github.com/distillpub/template/pull/105/files
          calcOffset = function(elem) {
              let x = elem.offsetLeft;
              let y = elem.offsetTop;
              // Traverse upwards until an `absolute` element is found or `elem`
              // becomes null.
              while (elem = elem.offsetParent && elem.style.position != 'absolute') {
                  x += elem.offsetLeft;
                  y += elem.offsetTop;
              }

              return { left: x, top: y };
          }
          // https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/offsetTop
          const bbox = node.getBoundingClientRect();
          const offset = calcOffset(node);
          this.show([offset.left + bbox.width, offset.top + bbox.height]);
        }
      })

      // clear polling timer
      clearInterval(tid);

      // show body now that everything is ready
      on_load_complete();
    }

    var tid = setInterval(distill_post_process, 50);
    distill_post_process();

  }

  function init_downlevel() {

    init_common();

     // insert hr after d-title
    $('.d-title').after($('<hr class="section-separator"/>'));

    // check if we have authors
    var front_matter = JSON.parse($("#distill-front-matter").html());
    var have_authors = front_matter.authors && front_matter.authors.length > 0;

    // manage byline/border
    if (!have_authors)
      $('.d-byline').remove();
    $('.d-byline').after($('<hr class="section-separator"/>'));
    $('.d-byline a').remove();

    // remove toc
    $('.d-contents').remove();

    // move appendix elements
    $('h1.appendix, h2.appendix').each(function(i, val) {
      $(this).changeElementType('h3');
    });
    $('h3.appendix').each(function(i, val) {
      $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('.d-appendix'));
    });


    // inject headers into references and footnotes
    var refs_header = $('<h3></h3>');
    refs_header.text('References');
    $('#refs').prepend(refs_header);

    var footnotes_header = $('<h3></h3');
    footnotes_header.text('Footnotes');
    $('.footnotes').children('hr').first().replaceWith(footnotes_header);

    // move appendix-bottom entries to the bottom
    $('.appendix-bottom').appendTo('.d-appendix').children().unwrap();
    $('.appendix-bottom').remove();

    // remove appendix if it's empty
    if ($('.d-appendix').children().length === 0)
      $('.d-appendix').remove();

    // prepend separator above appendix
    $('.d-appendix').before($('<hr class="section-separator" style="clear: both"/>'));

    // trim code
    $('pre>code').each(function(i, val) {
      $(this).html($.trim($(this).html()));
    });

    // move posts-container right before article
    $('.posts-container').insertBefore($('.d-article'));

    $('body').addClass('downlevel');

    on_load_complete();
  }


  function init_common() {

    // jquery plugin to change element types
    (function($) {
      $.fn.changeElementType = function(newType) {
        var attrs = {};

        $.each(this[0].attributes, function(idx, attr) {
          attrs[attr.nodeName] = attr.nodeValue;
        });

        this.replaceWith(function() {
          return $("<" + newType + "/>", attrs).append($(this).contents());
        });
      };
    })(jQuery);

    // prevent underline for linked images
    $('a > img').parent().css({'border-bottom' : 'none'});

    // mark non-body figures created by knitr chunks as 100% width
    $('.layout-chunk').each(function(i, val) {
      var figures = $(this).find('img, .html-widget');
      // ignore leaflet img layers (#106)
      figures = figures.filter(':not(img[class*="leaflet"])')
      if ($(this).attr('data-layout') !== "l-body") {
        figures.css('width', '100%');
      } else {
        figures.css('max-width', '100%');
        figures.filter("[width]").each(function(i, val) {
          var fig = $(this);
          fig.css('width', fig.attr('width') + 'px');
        });

      }
    });

    // auto-append index.html to post-preview links in file: protocol
    // and in rstudio ide preview
    $('.post-preview').each(function(i, val) {
      if (window.location.protocol === "file:")
        $(this).attr('href', $(this).attr('href') + "index.html");
    });

    // get rid of index.html references in header
    if (window.location.protocol !== "file:") {
      $('.distill-site-header a[href]').each(function(i,val) {
        $(this).attr('href', $(this).attr('href').replace(/^index[.]html/, "./"));
      });
    }

    // add class to pandoc style tables
    $('tr.header').parent('thead').parent('table').addClass('pandoc-table');
    $('.kable-table').children('table').addClass('pandoc-table');

    // add figcaption style to table captions
    $('caption').parent('table').addClass("figcaption");

    // initialize posts list
    if (window.init_posts_list)
      window.init_posts_list();

    // implmement disqus comment link
    $('.disqus-comment-count').click(function() {
      window.headroom_prevent_pin = true;
      $('#disqus_thread').toggleClass('hidden');
      if (!$('#disqus_thread').hasClass('hidden')) {
        var offset = $(this).offset();
        $(window).resize();
        $('html, body').animate({
          scrollTop: offset.top - 35
        });
      }
    });
  }

  document.addEventListener('DOMContentLoaded', function() {
    if (is_downlevel_browser())
      init_downlevel();
    else
      window.addEventListener('WebComponentsReady', init_distill);
  });

  </script>

  <!--/radix_placeholder_distill-->
  <script src="100481838_files/header-attrs-2.25/header-attrs.js"></script>
  <script src="100481838_files/jquery-3.6.0/jquery-3.6.0.min.js"></script>
  <script src="100481838_files/popper-2.6.0/popper.min.js"></script>
  <link href="100481838_files/tippy-6.2.7/tippy.css" rel="stylesheet" />
  <link href="100481838_files/tippy-6.2.7/tippy-light-border.css" rel="stylesheet" />
  <script src="100481838_files/tippy-6.2.7/tippy.umd.min.js"></script>
  <script src="100481838_files/anchor-4.2.2/anchor.min.js"></script>
  <script src="100481838_files/bowser-1.9.3/bowser.min.js"></script>
  <script src="100481838_files/webcomponents-2.0.0/webcomponents.js"></script>
  <script src="100481838_files/distill-2.2.21/template.v2.js"></script>
  <!--radix_placeholder_site_in_header-->
  <!--/radix_placeholder_site_in_header-->


</head>

<body>

<!--radix_placeholder_front_matter-->

<script id="distill-front-matter" type="text/json">
{"title":"We Feel It Already. How About We Visualize It?","description":"Summer temperatures are getting hotter and this plot does a pretty good job at showing that.","authors":[{"author":"Mikaela DeSmedt","authorURL":"#","affiliation":"&nbsp;","affiliationURL":"#","orcidID":""}],"publishedDate":"2024-01-21T00:00:00.000+01:00","citationText":"DeSmedt, 2024"}
</script>

<!--/radix_placeholder_front_matter-->
<!--radix_placeholder_navigation_before_body-->
<!--/radix_placeholder_navigation_before_body-->
<!--radix_placeholder_site_before_body-->
<!--/radix_placeholder_site_before_body-->

<div class="d-title">
<h1>We Feel It Already. How About We Visualize It?</h1>

<!--radix_placeholder_categories-->
<div class="dt-tags">
<div class="dt-tag">2023</div>
</div>
<!--/radix_placeholder_categories-->
<p><p>Summer temperatures are getting hotter and this plot does a pretty good job at showing that.</p></p>
</div>

<div class="d-byline">
  
  Mikaela DeSmedt
  
<br/>2024-01-21
</div>

<div class="d-article">
<div class="d-contents d-contents-float">
<nav class="l-text toc figcaption" id="TOC">
<h3>Contents</h3>
<ul>
<li><a href="#introduction" id="toc-introduction">Introduction</a>
<ul>
<li><a href="#the-plot-in-question-the-story-and-how-its-told" id="toc-the-plot-in-question-the-story-and-how-its-told">The plot in question: the story and how it’s told</a></li>
<li><a href="#visual-encoding" id="toc-visual-encoding">Visual encoding</a></li>
<li><a href="#other-elements" id="toc-other-elements">Other elements</a></li>
</ul></li>
<li><a href="#replication" id="toc-replication">Replication</a>
<ul>
<li><a href="#original-and-tidy-data" id="toc-original-and-tidy-data">Original and tidy data</a></li>
<li><a href="#base-plot" id="toc-base-plot">Base plot</a></li>
<li><a href="#annotations" id="toc-annotations">Annotations</a></li>
<li><a href="#breaking-it-by-periods" id="toc-breaking-it-by-periods">Breaking it by periods</a></li>
<li><a href="#reference-area" id="toc-reference-area">Reference area</a></li>
<li><a href="#animation" id="toc-animation">Animation</a></li>
</ul></li>
<li><a href="#enhancement" id="toc-enhancement">Enhancement</a>
<ul>
<li><a href="#enhancement-1-ridgelines" id="toc-enhancement-1-ridgelines">Enhancement 1: Ridgelines</a></li>
<li><a href="#enhancement-2-facets" id="toc-enhancement-2-facets">Enhancement 2: Facets</a></li>
</ul></li>
</ul>
</nav>
</div>
<h2 id="introduction">Introduction</h2>
<p>Researchers have found that summer temperatures have shifted drastically since the mid-20th century. An eerie discovery that points to the frightening reality that temperatures in the warmer season of the year are now hot or extremely hot in comparison what they were 40 years ago.</p>
<figure>
<img src="Original%20chart.png" class="external" alt="Original chart from NYT website" />
<figcaption aria-hidden="true"><a href="https://www.nytimes.com/interactive/2021/climate/extreme-summer-heat.html">Original chart</a> from NYT website</figcaption>
</figure>
<p>The aim of this tutorial is to analyze the visual encoding and replicate this chart. The final section also proposes additional improvements.</p>
<h3 id="the-plot-in-question-the-story-and-how-its-told">The plot in question: the story and how it’s told</h3>
<p>The following chart uses data from retired NASA climate scientist James Hansen to show how summer temperatures have shifted toward more extreme heat over the past several decades.</p>
<p>This representation uses bell curves to compare the distribution in the frequency of occurrence of temperature anomalies (y-axis) divided by local standard deviation for the 1951-1980 period (x-axis) obtained by binning all local results for the indicated region and 11-year period into 0.05 frequency intervals. Additionally, this chart is presented along an animation which shows the transition of all recorded periods.</p>
<p>In essence, what this chart aims to communicate is the shift in the distribution of temperatures towards a higher occurrence of hotter temperatures. So, lets take a look at visual encoding it uses to do so…</p>
<div class="line-block"><u><em>REMINDER</em></u>: Visual encoding is the way in which data items and their attributes are mapped to visual structures such as marks and channels. Taking them From data items (observations, rows) to visual marks and from data attributes (variables, columns) to visual channels</div>
<h3 id="visual-encoding">Visual encoding</h3>
<p>Our raw data consists on rows representing anomalies in recorded temperatures ranging from -6 to +6 in 0.05 intervals. The attributes of these data include the frequency of occurrence of these anomalies and the period in which they were recorded. The visual elements used to map the data are as follow</p>
<ul>
<li><p><strong>Visual mark</strong>: area - the shape of the distribution of occurrence in temperature anomalies</p></li>
<li><p><strong>Visual channel (identity)</strong>: color - determining which anomalies are to be regarded as extremely cold, cold, normal, hot or extremely hot along the X-axis.</p></li>
</ul>
<h3 id="other-elements">Other elements</h3>
<p>In order to further the expressive capabilities of these chart, the original authors included further explanatory elements such as tittle and subtitle, text labels and a legend, as well as reference elements such as a reference area that allows comparison with the baseline period and reference lines which emphasize the limits of each temperature group.</p>
<figure>
<img src="marked%20up%20chart.png" alt="Original chart from NYT website marked-up to list additional elements and annotations" />
<figcaption aria-hidden="true">Original chart from NYT website marked-up to list additional elements and annotations</figcaption>
</figure>
<h2 id="replication">Replication</h2>
<h3 id="original-and-tidy-data">Original and tidy data</h3>
<p>The authors behind the publication that inspired this chart post data and visualizations of their own in this website <a href="http://www.columbia.edu/~mhs119/PerceptionsAndDice/" class="uri">http://www.columbia.edu/~mhs119/PerceptionsAndDice/</a></p>
<p>From here, we download the ‘shifted data’ table named <em>Data: N.H. Land, Jun-Jul-Aug.</em> Which when imported to R is visualized as follows:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://ggplot2.tidyverse.org'>ggplot2</a></span><span class='op'>)</span></span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://tidyverse.tidyverse.org'>tidyverse</a></span><span class='op'>)</span></span>
<span><span class='va'>ccdata</span><span class='op'>&lt;-</span> <span class='fu'><a href='https://tibble.tidyverse.org/reference/tibble.html'>tibble</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/utils/read.table.html'>read.table</a></span><span class='op'>(</span></span>
<span>  file <span class='op'>=</span> <span class='st'>"http://www.columbia.edu/~mhs119/PerceptionsAndDice/NH.JJA.11yrs.txt"</span>, </span>
<span>  header <span class='op'>=</span> <span class='cn'>TRUE</span>,</span>
<span>  skip <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span><span class='op'>)</span></span>
<span></span>
<span><span class='fu'><a href='https://rdrr.io/r/utils/write.table.html'>write.csv</a></span><span class='op'>(</span><span class='va'>ccdata</span>, <span class='st'>"ccdata.csv"</span>, row.names <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span></span>
<span></span>
<span><span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='op'>(</span><span class='va'>ccdata</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code># A tibble: 6 × 5
  anoms.S X1980.1990 X1991.2001 X2002.2012 X2013.2023
    &lt;dbl&gt;      &lt;dbl&gt;      &lt;dbl&gt;      &lt;dbl&gt;      &lt;dbl&gt;
1   -6             0          0          0          0
2   -5.95          0          0          0          0
3   -5.9           0          0          0          0
4   -5.85          0          0          0          0
5   -5.8           0          0          0          0
6   -5.75          0          0          0          0</code></pre>
</div>
<p>In the author’s website they also make available a visualization of the data which tells the same story as the chart in the NYT post, but dispensing of animation or other aesthetics. This serves us to ‘reverse engineer’ our way into understanding the structure our data must follow for us to be able to replicate it using Ggplot.</p>
<figure>
<img src="plot%20from%20hansen.png" alt="Figures in Warm/Cool Dice Colors [for Northern Hemisphere Land]" />
<figcaption aria-hidden="true">Figures in Warm/Cool Dice Colors [for Northern Hemisphere Land]</figcaption>
</figure>
<div class="line-block"><strong>Note:</strong> The data published in the author’s site has been updated since the publication of the NYT article. Hence, the data used to replicate this chart is slightly different to the original.</div>
<p>From looking at the first few rows of ‘ccdata’ we can already tell the first step will be to ‘tidy’ this dataset. The second step then, will be to categorize our anomalies into the four groups seen in the NYT post. Our data has temperature anomalies ranging from -6 to +6. we need to create a categorical variable that labels these anomalies from extremely cold to extremely hot. Following these two steps will yield a ‘tidy’ dataset with all the attributes we need our data to have.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>ccdata</span> <span class='op'>&lt;-</span> <span class='va'>ccdata</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'><a href='https://tidyr.tidyverse.org/reference/drop_na.html'>drop_na</a></span><span class='op'>(</span><span class='va'>anoms.S</span><span class='op'>)</span></span>
<span></span>
<span><span class='co'>#tidy up dataset </span></span>
<span><span class='va'>longdata</span> <span class='op'>&lt;-</span> <span class='va'>ccdata</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'><a href='https://tidyr.tidyverse.org/reference/pivot_longer.html'>pivot_longer</a></span><span class='op'>(</span>cols <span class='op'>=</span> </span>
<span>                 <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='va'>X1980.1990</span>, </span>
<span>                   <span class='va'>X1991.2001</span>, </span>
<span>                   <span class='va'>X2002.2012</span>, </span>
<span>                   <span class='va'>X2013.2023</span><span class='op'>)</span>, </span>
<span>               names_to <span class='op'>=</span> <span class='st'>"period"</span><span class='op'>)</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span><span class='st'>"period"</span> <span class='op'>=</span> <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_sub.html'>str_sub</a></span><span class='op'>(</span><span class='va'>period</span>, <span class='fl'>2</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>|&gt;</span> </span>
<span>  </span>
<span><span class='co'>#create temperature type variable</span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span><span class='st'>"temptype"</span> <span class='op'>=</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/case_when.html'>case_when</a></span><span class='op'>(</span></span>
<span>         <span class='va'>anoms.S</span> <span class='op'>&lt;</span> <span class='op'>-</span><span class='fl'>3</span> <span class='op'>~</span> <span class='st'>"Extremely cold"</span>,</span>
<span>         <span class='va'>anoms.S</span> <span class='op'>&gt;=</span> <span class='op'>-</span><span class='fl'>3</span> <span class='op'>&amp;</span> <span class='va'>anoms.S</span> <span class='op'>&lt;</span> <span class='op'>-</span><span class='fl'>0.5</span> <span class='op'>~</span> <span class='st'>"Cold"</span>,</span>
<span>         <span class='va'>anoms.S</span> <span class='op'>&gt;=</span> <span class='op'>-</span><span class='fl'>0.5</span> <span class='op'>&amp;</span> <span class='va'>anoms.S</span> <span class='op'>&lt;=</span> <span class='fl'>0.5</span> <span class='op'>~</span> <span class='st'>"Normal"</span>,</span>
<span>         <span class='va'>anoms.S</span> <span class='op'>&gt;</span> <span class='fl'>0.5</span> <span class='op'>&amp;</span> <span class='va'>anoms.S</span> <span class='op'>&lt;=</span> <span class='fl'>3</span> <span class='op'>~</span> <span class='st'>"Hot"</span>,</span>
<span>         <span class='va'>anoms.S</span> <span class='op'>&gt;</span> <span class='fl'>3</span> <span class='op'>~</span> <span class='st'>"Extremely hot"</span><span class='op'>)</span><span class='op'>)</span></span>
<span></span>
<span><span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='op'>(</span><span class='va'>longdata</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code># A tibble: 6 × 4
  anoms.S period    value temptype      
    &lt;dbl&gt; &lt;chr&gt;     &lt;dbl&gt; &lt;chr&gt;         
1   -6    1980.1990     0 Extremely cold
2   -6    1991.2001     0 Extremely cold
3   -6    2002.2012     0 Extremely cold
4   -6    2013.2023     0 Extremely cold
5   -5.95 1980.1990     0 Extremely cold
6   -5.95 1991.2001     0 Extremely cold</code></pre>
</div>
<p>Now with the data as we want it, we can head on and start with our graph.</p>
<h3 id="base-plot">Base plot</h3>
<p>I have broken down the code of my base plot in four steps</p>
<ol type="1">
<li><p>As a first step we degine our <strong><code>ggplot()</code></strong> function. This sets up the basic structure of the plot function. It specifies the data (<strong><code>longdata</code></strong>) and aesthetic mappings for the x-axis (<strong><code>anoms.S</code></strong>), y-axis (<strong><code>value</code></strong>), and fill color (<strong><code>temptype</code></strong>). But up to this line, we are left only with an x and a y axis and no markings within it.</p></li>
<li><p>Secondly, we must define our geom, which is this case is <strong><code>geom_area()</code></strong>. This adds an area plot to the ggplot with options specifying that the data is in identity form, the stacking position, the number of bins. <u>Note</u> here that the <code>legend</code> argument has been set to <code>false</code> this is because we wish to add it later on as a separate item.</p></li>
<li><p>Third, we style our plot. using <strong><code>scale_fill_manual()</code></strong> we set the fill colors for different levels of the ‘temptype’ variable using their codes in hexadecimal format.</p></li>
<li><p>In this step we determine the size of our X-axis using <code>xlim()</code> and we use <strong><code>theme_void()</code></strong> to set the theme of the plot to a blank/void , essentially removing any axes, labels, or background elements.</p></li>
</ol>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>baseplot</span><span class='op'>&lt;-</span> </span>
<span>  <span class='va'>longdata</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>anoms.S</span>, </span>
<span>             y <span class='op'>=</span> <span class='va'>value</span>, </span>
<span>             fill <span class='op'>=</span> <span class='va'>temptype</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span> </span>
<span><span class='co'>#2. Adding the geom which will map our data </span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_ribbon.html'>geom_area</a></span><span class='op'>(</span>stat <span class='op'>=</span> <span class='st'>"identity"</span>, </span>
<span>                 position <span class='op'>=</span> <span class='st'>"stack"</span>, </span>
<span>                 bins <span class='op'>=</span> <span class='fl'>30</span>,</span>
<span>                 show.legend <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span> </span>
<span></span>
<span><span class='co'>#3. Custom colors</span></span>
<span><span class='co'>##saving custom colors to save space later down the road</span></span>
<span><span class='va'>customcolors</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Extremely cold"</span><span class='op'>=</span><span class='st'>"#085b84"</span>, </span>
<span>                                 <span class='st'>"Cold"</span> <span class='op'>=</span> <span class='st'>"#54a5ba"</span>,</span>
<span>                                 <span class='st'>"Normal"</span> <span class='op'>=</span> <span class='st'>"#dfdfdf"</span>, </span>
<span>                                 <span class='st'>"Hot"</span> <span class='op'>=</span> <span class='st'>"#eb8550"</span>,</span>
<span>                                 <span class='st'>"Extremely hot"</span> <span class='op'>=</span> <span class='st'>"#cc2821"</span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>baseplot</span><span class='op'>&lt;-</span> <span class='va'>baseplot</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_fill_manual</a></span><span class='op'>(</span>values <span class='op'>=</span> <span class='va'>customcolors</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span><span class='co'>#4. Axis limits and theme</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/lims.html'>xlim</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='op'>-</span><span class='fl'>6</span>, <span class='fl'>6</span><span class='op'>)</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_void</a></span><span class='op'>(</span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>baseplot</span></span></code></pre>
</div>
<p><img src="100481838_files/figure-html5/base%20plot-1.png" width="624" /></p>
</div>
<p>At this point, out plot has the general shape we want it to have. But it still needs additional elements to help us understand what is going on.</p>
<h3 id="annotations">Annotations</h3>
<p>To our <code>baseplot</code> we need to add all the explanatory elements such as labels, tittles, legend and others. So lets take a look at the code for that.</p>
<ul>
<li><p><u><strong>Tittle and subtitle</strong></u></p>
<p>This element was added using the <code>labs</code> function which sets these elements for the plot.</p></li>
</ul>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>baseplot</span> <span class='op'>&lt;-</span> </span>
<span><span class='va'>baseplot</span> <span class='op'>+</span></span>
<span><span class='co'>#Tittle and subtittle + the color we want it to have</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>title <span class='op'>=</span> <span class='st'>"Summer temperatures"</span>,</span>
<span>       subtitle <span class='op'>=</span> <span class='st'>"in the Northern Hemisphere"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span>plot.title <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>color <span class='op'>=</span> <span class='st'>"black"</span>,</span>
<span>                                  hjust <span class='op'>=</span> <span class='fl'>0.015</span>,</span>
<span>                                  face <span class='op'>=</span> <span class='st'>"bold"</span><span class='op'>)</span>,</span>
<span>        plot.subtitle <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>color <span class='op'>=</span> <span class='st'>"gray"</span>,</span>
<span>                                     hjust <span class='op'>=</span> <span class='fl'>0.015</span><span class='op'>)</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<ul>
<li><p><u><strong>Legend and period lable</strong></u></p>
<p>We will add our legend using the <code>annotate</code> function which essentially allows us to add text annotation freely along the plot. For example, consider the line</p>
<p><strong><code>annotate("text", x=0, y=-0.04, label= "Normal", color = "#999999", fontface = 2)</code></strong></p>
<p>This annotates the plot with the text “Normal” at coordinates (0, -0.04) with a gray color and bold fontface. We have done this for all temperature types.</p>
<p>Similarly, using this same function, we will add a label for the corresponding period of the plot. As this <code>baseplot</code> is set to consider all our data the period it corresponds to is from 1980 to 2023.</p></li>
</ul>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'>#Leged by annotations</span></span>
<span>  </span>
<span><span class='va'>baseplot</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, </span>
<span>           x<span class='op'>=</span><span class='fl'>0</span>, </span>
<span>           y<span class='op'>=</span><span class='op'>-</span><span class='fl'>0.04</span>, </span>
<span>           label<span class='op'>=</span> <span class='st'>"Normal"</span>, </span>
<span>           color <span class='op'>=</span> <span class='st'>"#999999"</span>,</span>
<span>           fontface <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, </span>
<span>           x<span class='op'>=</span><span class='op'>-</span><span class='fl'>5</span>, </span>
<span>           y<span class='op'>=</span><span class='op'>-</span><span class='fl'>0.04</span>, </span>
<span>           label<span class='op'>=</span> <span class='st'>"Extremely Cold"</span>, </span>
<span>           color <span class='op'>=</span> <span class='st'>"#085b84"</span>,</span>
<span>           fontface <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, </span>
<span>           x<span class='op'>=</span><span class='op'>-</span><span class='fl'>1.8</span>, </span>
<span>           y<span class='op'>=</span><span class='op'>-</span><span class='fl'>0.04</span>, </span>
<span>           label<span class='op'>=</span> <span class='st'>"Cold"</span>, </span>
<span>           color <span class='op'>=</span> <span class='st'>"#54a5ba"</span>,</span>
<span>           fontface <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, </span>
<span>           x<span class='op'>=</span><span class='fl'>1.8</span>, </span>
<span>           y<span class='op'>=</span><span class='op'>-</span><span class='fl'>0.04</span>, </span>
<span>           label<span class='op'>=</span> <span class='st'>"Hot"</span>, </span>
<span>           color <span class='op'>=</span> <span class='st'>"#eb8550"</span>,</span>
<span>           fontface <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, </span>
<span>           x<span class='op'>=</span><span class='fl'>5</span>, </span>
<span>           y<span class='op'>=</span><span class='op'>-</span><span class='fl'>0.04</span>, </span>
<span>           label<span class='op'>=</span> <span class='st'>"Extremely Hot"</span>, </span>
<span>           color <span class='op'>=</span> <span class='st'>"#cc2821"</span>,</span>
<span>           fontface <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span><span class='op'>+</span></span>
<span>    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, </span>
<span>           x<span class='op'>=</span><span class='fl'>4</span>, </span>
<span>           y<span class='op'>=</span> <span class='fl'>1</span>, </span>
<span>           label<span class='op'>=</span> <span class='st'>"1980-2023"</span>, </span>
<span>           color <span class='op'>=</span> <span class='st'>"black"</span>,</span>
<span>           size <span class='op'>=</span> <span class='fl'>10</span>,</span>
<span>           fontface <span class='op'>=</span> <span class='fl'>10</span><span class='op'>)</span></span></code></pre>
</div>
<p><img src="100481838_files/figure-html5/legend%20and%20period%20lable-1.png" width="624" /></p>
</div>
<ul>
<li><p><u><strong>Reference lines</strong></u></p>
<p>We also have reference lines showing the limits of each temp type in the baseline period. We have added these using <code>geom_vline()</code> and setting the places where we want it to intercept the x axis in <code>xintercept</code>, the line type and the color we want it to be.</p></li>
</ul>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>baseplot</span><span class='op'>&lt;-</span> </span>
<span>  <span class='va'>baseplot</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_abline.html'>geom_vline</a></span><span class='op'>(</span>xintercept <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='op'>-</span><span class='fl'>3</span>, <span class='op'>-</span><span class='fl'>0.5</span>, <span class='fl'>0.5</span>, <span class='fl'>3</span><span class='op'>)</span>, </span>
<span>             linetype <span class='op'>=</span> <span class='st'>"dashed"</span>, </span>
<span>             color <span class='op'>=</span> <span class='st'>"gray"</span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>baseplot</span></span></code></pre>
</div>
<p><img src="100481838_files/figure-html5/reference%20lines-1.png" width="624" /></p>
</div>
<p>Now our chart has almost all the elements it needs. But it still not quite as we want it to be because it doesn’t yet tell the story.</p>
<h3 id="breaking-it-by-periods">Breaking it by periods</h3>
<p>Our <code>baseplot</code> is good for showing all the elements that go into the making of our chart. However, we still need this to be made for each of the period we have data for. We can easily do this by filtering our data using the <code>filter</code> function before our <code>ggplot()</code> fucntion as follows</p>
<p><code>plot1980.1990&lt;- longdata |&gt; filter(period == "1980.1990") |&gt; ggplot(...</code></p>
<div class="line-block">Note: Creating these plots also needs us to adjust the coordinates in the labels. I’m also setting a <code>ylim()</code> argument to make this standard through all plots.</div>
<p>The following chunk shows this example for the period of 1980 to 1990.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>plot1980.1990</span><span class='op'>&lt;-</span></span>
<span><span class='va'>longdata</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>period</span> <span class='op'>==</span> <span class='st'>"1980.1990"</span><span class='op'>)</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>anoms.S</span>, </span>
<span>               y <span class='op'>=</span> <span class='va'>value</span>, </span>
<span>               fill <span class='op'>=</span> <span class='va'>temptype</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span> </span>
<span>    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_ribbon.html'>geom_area</a></span><span class='op'>(</span>stat <span class='op'>=</span> <span class='st'>"identity"</span>, </span>
<span>                   position <span class='op'>=</span> <span class='st'>"stack"</span>, </span>
<span>                   bins <span class='op'>=</span> <span class='fl'>30</span>,</span>
<span>                   show.legend <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_fill_manual</a></span><span class='op'>(</span>values <span class='op'>=</span> <span class='va'>customcolors</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/lims.html'>xlim</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='op'>-</span><span class='fl'>6</span>, <span class='fl'>6</span><span class='op'>)</span><span class='op'>)</span><span class='op'>+</span>    </span>
<span>    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_void</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, </span>
<span>           x<span class='op'>=</span><span class='fl'>3</span>, </span>
<span>           y<span class='op'>=</span> <span class='fl'>0.35</span>, </span>
<span>           label<span class='op'>=</span> <span class='st'>"1980-1990"</span>, </span>
<span>           color <span class='op'>=</span> <span class='st'>"black"</span>,</span>
<span>           size <span class='op'>=</span> <span class='fl'>10</span>,</span>
<span>           fontface <span class='op'>=</span> <span class='fl'>10</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<p>Once that is done, we can add a few more annotations are needed. Namely those that are placed together with an arrow or another visual element. For this we use the function <code>geom_segment</code> and indicate its positioning with x y coordinates as we have done for text annotations.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'>#We save the new lables as a function in order to reuse</span></span>
<span><span class='va'>period_annotations</span> <span class='op'>&lt;-</span> <span class='kw'>function</span><span class='op'>(</span><span class='va'>plot</span><span class='op'>)</span><span class='op'>{</span></span>
<span>  <span class='va'>plot</span> <span class='op'>+</span> </span>
<span>  <span class='co'>#chart aesthetics</span></span>
<span>    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_fill_manual</a></span><span class='op'>(</span>values <span class='op'>=</span> <span class='va'>customcolors</span><span class='op'>)</span><span class='op'>+</span></span>
<span>    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/lims.html'>xlim</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='op'>-</span><span class='fl'>6</span>, <span class='fl'>6</span><span class='op'>)</span><span class='op'>)</span><span class='op'>+</span>    </span>
<span>    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_void</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='co'>#title and subtitle </span></span>
<span>    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>title <span class='op'>=</span> <span class='st'>"Summer temperatures"</span>,</span>
<span>       subtitle <span class='op'>=</span> <span class='st'>"in the Northern Hemisphere"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span>plot.title <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>color <span class='op'>=</span> <span class='st'>"black"</span>,</span>
<span>                                  hjust <span class='op'>=</span> <span class='fl'>0.015</span>,</span>
<span>                                  face <span class='op'>=</span> <span class='st'>"bold"</span><span class='op'>)</span>,</span>
<span>          plot.subtitle <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>color <span class='op'>=</span> <span class='st'>"gray"</span>,</span>
<span>                                     hjust <span class='op'>=</span> <span class='fl'>0.015</span><span class='op'>)</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='co'>#Reference lines</span></span>
<span>    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_abline.html'>geom_vline</a></span><span class='op'>(</span>xintercept <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='op'>-</span><span class='fl'>3</span>, <span class='op'>-</span><span class='fl'>0.5</span>, <span class='fl'>0.5</span>, <span class='fl'>3</span><span class='op'>)</span>, </span>
<span>             linetype <span class='op'>=</span> <span class='st'>"dashed"</span>, </span>
<span>             color <span class='op'>=</span> <span class='st'>"gray"</span><span class='op'>)</span><span class='op'>+</span> </span>
<span>   <span class='co'>#Legend</span></span>
<span>     <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, </span>
<span>           x<span class='op'>=</span><span class='fl'>0</span>, </span>
<span>           y<span class='op'>=</span><span class='op'>-</span><span class='fl'>0.02</span>, </span>
<span>           label<span class='op'>=</span> <span class='st'>"Normal"</span>, </span>
<span>           color <span class='op'>=</span> <span class='st'>"#999999"</span>,</span>
<span>           fontface <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, </span>
<span>           x<span class='op'>=</span><span class='op'>-</span><span class='fl'>5</span>, </span>
<span>           y<span class='op'>=</span><span class='op'>-</span><span class='fl'>0.02</span>, </span>
<span>           label<span class='op'>=</span> <span class='st'>"Extremely Cold"</span>, </span>
<span>           color <span class='op'>=</span> <span class='st'>"#085b84"</span>,</span>
<span>           fontface <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, </span>
<span>           x<span class='op'>=</span><span class='op'>-</span><span class='fl'>1.8</span>, </span>
<span>           y<span class='op'>=</span><span class='op'>-</span><span class='fl'>0.02</span>, </span>
<span>           label<span class='op'>=</span> <span class='st'>"Cold"</span>, </span>
<span>           color <span class='op'>=</span> <span class='st'>"#54a5ba"</span>,</span>
<span>           fontface <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, </span>
<span>           x<span class='op'>=</span><span class='fl'>1.8</span>, </span>
<span>           y<span class='op'>=</span><span class='op'>-</span><span class='fl'>0.02</span>, </span>
<span>           label<span class='op'>=</span> <span class='st'>"Hot"</span>, </span>
<span>           color <span class='op'>=</span> <span class='st'>"#eb8550"</span>,</span>
<span>           fontface <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, </span>
<span>           x<span class='op'>=</span><span class='fl'>5</span>, </span>
<span>           y<span class='op'>=</span><span class='op'>-</span><span class='fl'>0.02</span>, </span>
<span>           label<span class='op'>=</span> <span class='st'>"Extremely Hot"</span>, </span>
<span>           color <span class='op'>=</span> <span class='st'>"#cc2821"</span>,</span>
<span>           fontface <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='co'>#Other annotatins</span></span>
<span>    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_segment.html'>geom_segment</a></span><span class='op'>(</span></span>
<span>    x <span class='op'>=</span> <span class='op'>-</span><span class='fl'>4.2</span>, </span>
<span>    y <span class='op'>=</span> <span class='fl'>0.05</span>,          </span>
<span>    xend <span class='op'>=</span> <span class='op'>-</span><span class='fl'>4.2</span>, </span>
<span>    yend <span class='op'>=</span> <span class='fl'>0.1</span>,</span>
<span>    color <span class='op'>=</span> <span class='st'>"#999999"</span>,</span>
<span>    arrow <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/arrow.html'>arrow</a></span><span class='op'>(</span>length <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/unit.html'>unit</a></span><span class='op'>(</span><span class='fl'>0.2</span>, <span class='st'>"cm"</span><span class='op'>)</span>, </span>
<span>                  ends <span class='op'>=</span> <span class='st'>"last"</span>, </span>
<span>                  type <span class='op'>=</span> <span class='st'>"closed"</span><span class='op'>)</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, </span>
<span>           x<span class='op'>=</span> <span class='op'>-</span><span class='fl'>4.2</span>, </span>
<span>           y<span class='op'>=</span> <span class='fl'>0.03</span>, </span>
<span>           label<span class='op'>=</span> <span class='st'>"More frequent"</span>, </span>
<span>           color <span class='op'>=</span> <span class='st'>"#999999"</span><span class='op'>)</span></span>
<span><span class='op'>}</span></span>
<span></span>
<span><span class='co'>#We apply the function to the plot to save the layers</span></span>
<span><span class='va'>plot1980.1990</span><span class='op'>&lt;-</span> <span class='fu'>period_annotations</span><span class='op'>(</span><span class='va'>plot1980.1990</span><span class='op'>)</span> </span>
<span></span>
<span><span class='va'>plot1980.1990</span></span></code></pre>
</div>
<p><img src="100481838_files/figure-html5/unnamed-chunk-1-1.png" width="624" /></p>
</div>
<p>Once we have that down, we can do it for all the other periods.</p>
<div class="layout-chunk" data-layout="l-body">
<p><img src="100481838_files/figure-html5/all%20the%20periods-1.png" width="1152" /></p>
</div>
<p>In these 4 plots we can already see the shift tha the original plot communicates. But again a key element will help show that better.</p>
<h3 id="reference-area">Reference area</h3>
<p>Along the animaion, the original plot maintains a reference area filled by a lined pattern in order to show the difference in the distribution of the baseline period and all those which follow. For this, we need to create another layer on our plots.</p>
<p>First, I’m creating a data frame with data for the shadow along using the filter function.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>df.shadow</span><span class='op'>&lt;-</span></span>
<span>  <span class='va'>longdata</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>period</span> <span class='op'>==</span> <span class='st'>"1980.1990"</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<p>The code for the shadow is as follows. Here I’m applying it over the <code>plot1991.2001</code> object so we can see the reference area. Here, it now makes sense to include one annotation I had previously disregarded as it points to the reference area.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>referenceshadow</span><span class='op'>&lt;-</span> <span class='kw'>function</span><span class='op'>(</span><span class='va'>plot</span><span class='op'>)</span><span class='op'>{</span></span>
<span>  <span class='va'>plot</span> <span class='op'>+</span></span>
<span>  <span class='fu'>ggpattern</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/ggpattern/man/geom-docs.html'>geom_area_pattern</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>df.shadow</span>,</span>
<span>                               stat <span class='op'>=</span> <span class='st'>"identity"</span>, </span>
<span>                 position <span class='op'>=</span> <span class='st'>"stack"</span>, </span>
<span>                 show.legend <span class='op'>=</span> <span class='cn'>FALSE</span>,</span>
<span>                 pattern <span class='op'>=</span> <span class='st'>"stripe"</span>,</span>
<span>                 pattern_density <span class='op'>=</span> <span class='fl'>0.2</span>,</span>
<span>                 pattern_fill <span class='op'>=</span> <span class='st'>"#999999"</span>,</span>
<span>                 pattern_colour <span class='op'>=</span> <span class='st'>"#999999"</span>,</span>
<span>                 alpha <span class='op'>=</span> <span class='fl'>0.09</span>,</span>
<span>                 pattern_size <span class='op'>=</span> <span class='fl'>0.01</span>,</span>
<span>                 pattern_spacing <span class='op'>=</span> <span class='fl'>0.01</span>,</span>
<span>                 pattern_linetype <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='co'>#'base period' annotation</span></span>
<span>   <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_segment.html'>geom_segment</a></span><span class='op'>(</span></span>
<span>    x <span class='op'>=</span> <span class='op'>-</span><span class='fl'>1.6</span>, </span>
<span>    y <span class='op'>=</span> <span class='fl'>0.11</span>,          </span>
<span>    xend <span class='op'>=</span> <span class='op'>-</span><span class='fl'>2.1</span>, </span>
<span>    yend <span class='op'>=</span> <span class='fl'>0.11</span>,</span>
<span>    color <span class='op'>=</span> <span class='st'>"#999999"</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, </span>
<span>           x<span class='op'>=</span> <span class='op'>-</span><span class='fl'>3</span>, </span>
<span>           y<span class='op'>=</span> <span class='fl'>0.12</span>, </span>
<span>           label<span class='op'>=</span> <span class='st'>"1980-1990"</span>,</span>
<span>           size <span class='op'>=</span> <span class='fl'>3</span>,</span>
<span>           color <span class='op'>=</span> <span class='st'>"#999999"</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, </span>
<span>           x<span class='op'>=</span> <span class='op'>-</span><span class='fl'>3</span>, </span>
<span>           y<span class='op'>=</span> <span class='fl'>0.1</span>, </span>
<span>           label<span class='op'>=</span> <span class='st'>"Base period"</span>,</span>
<span>           size <span class='op'>=</span> <span class='fl'>2.6</span>,</span>
<span>           color <span class='op'>=</span> <span class='st'>"#999999"</span><span class='op'>)</span></span>
<span><span class='op'>}</span></span>
<span></span>
<span><span class='fu'>referenceshadow</span><span class='op'>(</span><span class='va'>plot1991.2001</span><span class='op'>)</span></span></code></pre>
</div>
<p><img src="100481838_files/figure-html5/first_plot_with_shadow-1.png" width="624" data-distill-preview=1 /></p>
</div>
<p>Here is how it looks when applied to all plots.</p>
<div class="layout-chunk" data-layout="l-body">
<p><img src="100481838_files/figure-html5/shadow%20on%20all%20periods-1.png" width="1920" /></p>
</div>
<h3 id="animation">Animation</h3>
<p>I redefined our <code>baseplot</code> to have a <code>ylim</code> that would be suiting to all time periods and have the lables and fons sizes adjusted accordingly. This new plot I named <code>thewholething</code> as it includes all the elements previously discussed in this post.</p>
<p>Using the function <code>transition_states</code> from the <code>gganimate()</code>. For the animation it’s actually not necessary to make an individual plot for each time period. Rather, we can define that we want our variable <code>period</code> to be what determines our transition states. The result is as follows</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://gganimate.com'>gganimate</a></span><span class='op'>)</span></span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://r-rust.r-universe.dev/gifski'>gifski</a></span><span class='op'>)</span></span>
<span></span>
<span></span>
<span><span class='co'># Animate the plots</span></span>
<span><span class='va'>anim</span> <span class='op'>&lt;-</span> <span class='va'>thewholething</span> <span class='op'>+</span> </span>
<span>  <span class='fu'><a href='https://gganimate.com/reference/transition_states.html'>transition_states</a></span><span class='op'>(</span><span class='va'>longdata</span><span class='op'>$</span><span class='va'>period</span>,</span>
<span>                    transition_length <span class='op'>=</span> <span class='fl'>2</span>,</span>
<span>                    state_length <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span></span>
<span></span>
<span></span>
<span><span class='fu'><a href='https://gganimate.com/reference/animate.html'>animate</a></span><span class='op'>(</span><span class='va'>anim</span><span class='op'>)</span></span></code></pre>
</div>
<p><img src="100481838_files/figure-html5/Animation-1.gif" /><!-- --></p>
</div>
<h2 id="enhancement">Enhancement</h2>
<p>The main thing I’d like to improve in this plot is being able to tell the same story but without having to rely on the animation. I would like for this plot to be able to tell us that temperatures are getting hotter every decade from the first look.</p>
<p>So I have proposed 2 enhacements.</p>
<h3 id="enhancement-1-ridgelines">Enhancement 1: Ridgelines</h3>
<p>The first one involve changing the geom we use to <code>geom_ridgeline_gradient</code>.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://wilkelab.org/ggridges/'>ggridges</a></span><span class='op'>)</span></span>
<span></span>
<span><span class='co'>#enhancement1&lt;-</span></span>
<span>  <span class='va'>longdata</span> <span class='op'>|&gt;</span> </span>
<span>   <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>y<span class='op'>=</span><span class='va'>value</span>, </span>
<span>               x<span class='op'>=</span><span class='va'>anoms.S</span>,</span>
<span>              height <span class='op'>=</span> <span class='va'>value</span>,</span>
<span>              group <span class='op'>=</span> <span class='va'>period</span>,</span>
<span>              fill <span class='op'>=</span> <span class='va'>temptype</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>    <span class='fu'><a href='https://wilkelab.org/ggridges/reference/geom_ridgeline_gradient.html'>geom_ridgeline_gradient</a></span><span class='op'>(</span>show.legend <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span><span class='op'>+</span></span>
<span>    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_fill_manual</a></span><span class='op'>(</span>values <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Extremely cold"</span><span class='op'>=</span><span class='st'>"#085b84"</span>, </span>
<span>                               <span class='st'>"Cold"</span> <span class='op'>=</span> <span class='st'>"#54a5ba"</span>,</span>
<span>                               <span class='st'>"Normal"</span> <span class='op'>=</span> <span class='st'>"#dfdfdf"</span>, </span>
<span>                               <span class='st'>"Hot"</span> <span class='op'>=</span> <span class='st'>"#eb8550"</span>,</span>
<span>                               <span class='st'>"Extremely hot"</span> <span class='op'>=</span> <span class='st'>"#cc2821"</span><span class='op'>)</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_void</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/lims.html'>xlim</a></span><span class='op'>(</span><span class='op'>-</span><span class='fl'>8</span>,<span class='fl'>8</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, </span>
<span>           x<span class='op'>=</span><span class='fl'>0</span>, </span>
<span>           y<span class='op'>=</span><span class='op'>-</span><span class='fl'>0.04</span>, </span>
<span>           label<span class='op'>=</span> <span class='st'>"Normal"</span>, </span>
<span>           color <span class='op'>=</span> <span class='st'>"#999999"</span>,</span>
<span>           fontface <span class='op'>=</span> <span class='fl'>2</span>,</span>
<span>           size <span class='op'>=</span> <span class='fl'>6</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, </span>
<span>           x<span class='op'>=</span><span class='op'>-</span><span class='fl'>5</span>, </span>
<span>           y<span class='op'>=</span><span class='op'>-</span><span class='fl'>0.04</span>, </span>
<span>           label<span class='op'>=</span> <span class='st'>"Extremely Cold"</span>, </span>
<span>           color <span class='op'>=</span> <span class='st'>"#085b84"</span>,</span>
<span>           fontface <span class='op'>=</span> <span class='fl'>2</span>,</span>
<span>           size <span class='op'>=</span> <span class='fl'>6</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, </span>
<span>           x<span class='op'>=</span><span class='op'>-</span><span class='fl'>1.8</span>, </span>
<span>           y<span class='op'>=</span><span class='op'>-</span><span class='fl'>0.04</span>, </span>
<span>           label<span class='op'>=</span> <span class='st'>"Cold"</span>, </span>
<span>           color <span class='op'>=</span> <span class='st'>"#54a5ba"</span>,</span>
<span>           fontface <span class='op'>=</span> <span class='fl'>2</span>,</span>
<span>           size <span class='op'>=</span> <span class='fl'>6</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, </span>
<span>           x<span class='op'>=</span><span class='fl'>1.8</span>, </span>
<span>           y<span class='op'>=</span><span class='op'>-</span><span class='fl'>0.04</span>, </span>
<span>           label<span class='op'>=</span> <span class='st'>"Hot"</span>, </span>
<span>           color <span class='op'>=</span> <span class='st'>"#eb8550"</span>,</span>
<span>           fontface <span class='op'>=</span> <span class='fl'>2</span>,</span>
<span>           size <span class='op'>=</span> <span class='fl'>6</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, </span>
<span>           x<span class='op'>=</span><span class='fl'>5</span>, </span>
<span>           y<span class='op'>=</span><span class='op'>-</span><span class='fl'>0.04</span>, </span>
<span>           label<span class='op'>=</span> <span class='st'>"Extremely Hot"</span>, </span>
<span>           color <span class='op'>=</span> <span class='st'>"#cc2821"</span>,</span>
<span>           fontface <span class='op'>=</span> <span class='fl'>2</span>,</span>
<span>           size <span class='op'>=</span> <span class='fl'>6</span><span class='op'>)</span><span class='op'>+</span></span>
<span>    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_segment.html'>geom_segment</a></span><span class='op'>(</span></span>
<span>        x <span class='op'>=</span> <span class='op'>-</span><span class='fl'>4.2</span>, </span>
<span>        y <span class='op'>=</span> <span class='fl'>0.12</span>,          </span>
<span>        xend <span class='op'>=</span> <span class='op'>-</span><span class='fl'>4.2</span>, </span>
<span>        yend <span class='op'>=</span> <span class='fl'>0.3</span>,</span>
<span>        color <span class='op'>=</span> <span class='st'>"#999999"</span>,</span>
<span>        arrow <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/arrow.html'>arrow</a></span><span class='op'>(</span>length <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/unit.html'>unit</a></span><span class='op'>(</span><span class='fl'>0.2</span>, <span class='st'>"cm"</span><span class='op'>)</span>, </span>
<span>                      ends <span class='op'>=</span> <span class='st'>"last"</span>, </span>
<span>                      type <span class='op'>=</span> <span class='st'>"closed"</span><span class='op'>)</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, </span>
<span>           x<span class='op'>=</span> <span class='op'>-</span><span class='fl'>4.2</span>, </span>
<span>           y<span class='op'>=</span> <span class='fl'>0.09</span>, </span>
<span>           label<span class='op'>=</span> <span class='st'>"More frequent"</span>, </span>
<span>           color <span class='op'>=</span> <span class='st'>"#999999"</span>,</span>
<span>           size <span class='op'>=</span> <span class='fl'>4</span><span class='op'>)</span><span class='op'>+</span></span>
<span>    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>title <span class='op'>=</span> <span class='st'>"Summer temperatures"</span>,</span>
<span>       subtitle <span class='op'>=</span> <span class='st'>"in the Northern Hemisphere"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span>plot.title <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>color <span class='op'>=</span> <span class='st'>"black"</span>,</span>
<span>                                  hjust <span class='op'>=</span> <span class='fl'>0.015</span>,</span>
<span>                                  face <span class='op'>=</span> <span class='st'>"bold"</span>,</span>
<span>                                  size <span class='op'>=</span> <span class='fl'>20</span><span class='op'>)</span>,</span>
<span>        plot.subtitle <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>color <span class='op'>=</span> <span class='st'>"gray"</span>,</span>
<span>                                     hjust <span class='op'>=</span> <span class='fl'>0.015</span>,</span>
<span>                                     size <span class='op'>=</span> <span class='fl'>15</span><span class='op'>)</span><span class='op'>)</span></span></code></pre>
</div>
<p><img src="100481838_files/figure-html5/enhancement%201-1.png" width="624" /></p>
</div>
<p>With this alternative plot we are able to visualize the shift in the distribution of temperatures without relying on the animation. However, having all the data clustered up in the same space might not be the most efficient way of showing the shift with as much emphasis as we would like.</p>
<h3 id="enhancement-2-facets">Enhancement 2: Facets</h3>
<p>For the second enhacement, I consider the use of facets.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>enhancement2</span><span class='op'>&lt;-</span> </span>
<span>  <span class='va'>longdata</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>anoms.S</span>, </span>
<span>             y <span class='op'>=</span> <span class='va'>value</span>, </span>
<span>             fill <span class='op'>=</span> <span class='va'>temptype</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span> </span>
<span><span class='co'>#2. Adding the geom which will map our data </span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_ribbon.html'>geom_area</a></span><span class='op'>(</span>stat <span class='op'>=</span> <span class='st'>"identity"</span>, </span>
<span>                 position <span class='op'>=</span> <span class='st'>"stack"</span>, </span>
<span>                 bins <span class='op'>=</span> <span class='fl'>30</span><span class='op'>)</span> <span class='op'>+</span></span>
<span><span class='co'>#3. </span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_fill_manual</a></span><span class='op'>(</span>values <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Extremely cold"</span><span class='op'>=</span><span class='st'>"#085b84"</span>, </span>
<span>                               <span class='st'>"Cold"</span> <span class='op'>=</span> <span class='st'>"#54a5ba"</span>,</span>
<span>                               <span class='st'>"Normal"</span> <span class='op'>=</span> <span class='st'>"#dfdfdf"</span>, </span>
<span>                               <span class='st'>"Hot"</span> <span class='op'>=</span> <span class='st'>"#eb8550"</span>,</span>
<span>                               <span class='st'>"Extremely hot"</span> <span class='op'>=</span> <span class='st'>"#cc2821"</span><span class='op'>)</span>,</span>
<span>                    breaks <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Extremely cold"</span>, </span>
<span>                               <span class='st'>"Cold"</span>, <span class='st'>"Normal"</span>, </span>
<span>                               <span class='st'>"Hot"</span>, </span>
<span>                               <span class='st'>"Extremely hot"</span><span class='op'>)</span>,</span>
<span>                    name <span class='op'>=</span> <span class='cn'>NULL</span><span class='op'>)</span> <span class='op'>+</span></span>
<span><span class='co'>#4. Axis limits and theme</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/lims.html'>xlim</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='op'>-</span><span class='fl'>6</span>, <span class='fl'>6</span><span class='op'>)</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/lims.html'>ylim</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='op'>-</span><span class='fl'>0.15</span>,<span class='fl'>0.4</span><span class='op'>)</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_void</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>+</span></span>
<span><span class='co'>#Tittle and subtittle + the color we want it to have</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>title <span class='op'>=</span> <span class='st'>"Summer temperatures"</span>,</span>
<span>       subtitle <span class='op'>=</span> <span class='st'>"in the Northern Hemisphere"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span>plot.title <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>color <span class='op'>=</span> <span class='st'>"black"</span>,</span>
<span>                                  hjust <span class='op'>=</span> <span class='fl'>0.015</span>,</span>
<span>                                  face <span class='op'>=</span> <span class='st'>"bold"</span>,</span>
<span>                                  size <span class='op'>=</span> <span class='fl'>20</span><span class='op'>)</span>,</span>
<span>        plot.subtitle <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>color <span class='op'>=</span> <span class='st'>"gray"</span>,</span>
<span>                                     hjust <span class='op'>=</span> <span class='fl'>0.015</span>,</span>
<span>                                     size <span class='op'>=</span> <span class='fl'>15</span><span class='op'>)</span>,</span>
<span>        strip.text <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>hjust <span class='op'>=</span> <span class='fl'>0.09</span>, </span>
<span>                                  vjust <span class='op'>=</span> <span class='fl'>0</span>,</span>
<span>                                  size <span class='op'>=</span> <span class='fl'>15</span><span class='op'>)</span>,</span>
<span>         legend.position <span class='op'>=</span> <span class='st'>"bottom"</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/facet_wrap.html'>facet_wrap</a></span><span class='op'>(</span><span class='op'>~</span> <span class='va'>period</span>, </span>
<span>             nrow <span class='op'>=</span> <span class='fl'>4</span>, </span>
<span>             ncol <span class='op'>=</span> <span class='fl'>1</span>,</span>
<span>             scales <span class='op'>=</span> <span class='st'>"free_x"</span><span class='op'>)</span></span>
<span>  </span>
<span>  </span>
<span><span class='va'>enhancement2</span></span></code></pre>
</div>
<p><img src="100481838_files/figure-html5/enhancement%202-1.png" width="624" /></p>
</div>
<p>In this alternative plot, each period is allocated on their ‘own’ X-axis and distributed vertically. This allows for the visual comparison of the distribution to be faster for our readers.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r distill-force-highlighting-css"><code class="sourceCode r"></code></pre></div>
<!--radix_placeholder_article_footer-->
<!--/radix_placeholder_article_footer-->
</div>

<div class="d-appendix">
</div>


<!--radix_placeholder_site_after_body-->
<!--/radix_placeholder_site_after_body-->
<!--radix_placeholder_appendices-->
<div class="appendix-bottom"></div>
<!--/radix_placeholder_appendices-->
<!--radix_placeholder_navigation_after_body-->
<!--/radix_placeholder_navigation_after_body-->

</body>

</html>
