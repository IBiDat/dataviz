<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">

<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/>
  <meta name="generator" content="distill" />

  <style type="text/css">
  /* Hide doc at startup (prevent jankiness while JS renders/transforms) */
  body {
    visibility: hidden;
  }
  </style>

 <!--radix_placeholder_import_source-->
 <!--/radix_placeholder_import_source-->

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  { color: #00769e; background-color: #f1f3f5; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span { color: #00769e; } /* Normal */
code span.al { color: #ad0000; } /* Alert */
code span.an { color: #5e5e5e; } /* Annotation */
code span.at { color: #657422; } /* Attribute */
code span.bn { color: #ad0000; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #00769e; } /* ControlFlow */
code span.ch { color: #20794d; } /* Char */
code span.cn { color: #8f5902; } /* Constant */
code span.co { color: #5e5e5e; } /* Comment */
code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
code span.dt { color: #ad0000; } /* DataType */
code span.dv { color: #ad0000; } /* DecVal */
code span.er { color: #ad0000; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #ad0000; } /* Float */
code span.fu { color: #4758ab; } /* Function */
code span.im { } /* Import */
code span.in { color: #5e5e5e; } /* Information */
code span.kw { color: #00769e; } /* Keyword */
code span.op { color: #5e5e5e; } /* Operator */
code span.ot { color: #00769e; } /* Other */
code span.pp { color: #ad0000; } /* Preprocessor */
code span.sc { color: #5e5e5e; } /* SpecialChar */
code span.ss { color: #20794d; } /* SpecialString */
code span.st { color: #20794d; } /* String */
code span.va { color: #111111; } /* Variable */
code span.vs { color: #20794d; } /* VerbatimString */
code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
</style>


  <!--radix_placeholder_meta_tags-->
  <title>Behind the numbers: comparing extreme poverty and GDP per capita by world regions</title>

  <meta property="description" itemprop="description" content="By recreating from group up a OurWorldinData chart about extreme poverty vs GDP per capita we look at the foundations of Data Visualisation techniques layer by layer. Further, this project also proposes X alternative representation for the original data to better understand the story behind the numbers."/>


  <!--  https://schema.org/Article -->
  <meta property="article:published" itemprop="datePublished" content="2025-01-04"/>
  <meta property="article:created" itemprop="dateCreated" content="2025-01-04"/>
  <meta name="article:author" content="Mafalda González González"/>

  <!--  https://developers.facebook.com/docs/sharing/webmasters#markup -->
  <meta property="og:title" content="Behind the numbers: comparing extreme poverty and GDP per capita by world regions"/>
  <meta property="og:type" content="article"/>
  <meta property="og:description" content="By recreating from group up a OurWorldinData chart about extreme poverty vs GDP per capita we look at the foundations of Data Visualisation techniques layer by layer. Further, this project also proposes X alternative representation for the original data to better understand the story behind the numbers."/>
  <meta property="og:locale" content="en_US"/>

  <!--  https://dev.twitter.com/cards/types/summary -->
  <meta property="twitter:card" content="summary"/>
  <meta property="twitter:title" content="Behind the numbers: comparing extreme poverty and GDP per capita by world regions"/>
  <meta property="twitter:description" content="By recreating from group up a OurWorldinData chart about extreme poverty vs GDP per capita we look at the foundations of Data Visualisation techniques layer by layer. Further, this project also proposes X alternative representation for the original data to better understand the story behind the numbers."/>

  <!--/radix_placeholder_meta_tags-->
  <!--radix_placeholder_rmarkdown_metadata-->

  <script type="text/json" id="radix-rmarkdown-metadata">
  {"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["title","description","categories","author","date","output"]}},"value":[{"type":"character","attributes":{},"value":["Behind the numbers: comparing extreme poverty and GDP per capita by world regions"]},{"type":"character","attributes":{},"value":["By recreating from group up a OurWorldinData chart about extreme poverty vs GDP per capita we look at the foundations of Data Visualisation techniques layer by layer. Further, this project also proposes X alternative representation for the original data to better understand the story behind the numbers. \n"]},{"type":"character","attributes":{},"value":["2024"]},{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name"]}},"value":[{"type":"character","attributes":{},"value":["Mafalda González González"]}]}]},{"type":"character","attributes":{},"value":["2025-01-04"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["distill::distill_article"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["self_contained","toc"]}},"value":[{"type":"logical","attributes":{},"value":[false]},{"type":"logical","attributes":{},"value":[true]}]}]}]}
  </script>
  <!--/radix_placeholder_rmarkdown_metadata-->
  
  <script type="text/json" id="radix-resource-manifest">
  {"type":"character","attributes":{},"value":["100546612_files/anchor-4.2.2/anchor.min.js","100546612_files/bowser-1.9.3/bowser.min.js","100546612_files/colorbrewer-1/colorbrewer.css","100546612_files/colorbrewer-1/colorbrewer.js","100546612_files/colorbrewer-1/LICENSE.txt","100546612_files/d3-3.5.3/bower.json","100546612_files/d3-3.5.3/CONTRIBUTING.md","100546612_files/d3-3.5.3/d3.js","100546612_files/d3-3.5.3/d3.min.js","100546612_files/d3-3.5.3/LICENSE","100546612_files/distill-2.2.21/template.v2.js","100546612_files/figure-html5/unnamed-chunk-10-1.png","100546612_files/figure-html5/unnamed-chunk-11-1.png","100546612_files/figure-html5/unnamed-chunk-12-1.png","100546612_files/figure-html5/unnamed-chunk-13-1.png","100546612_files/figure-html5/unnamed-chunk-13-2.png","100546612_files/figure-html5/unnamed-chunk-14-1.png","100546612_files/figure-html5/unnamed-chunk-15-1.png","100546612_files/figure-html5/unnamed-chunk-15-2.png","100546612_files/figure-html5/unnamed-chunk-16-1.png","100546612_files/figure-html5/unnamed-chunk-17-1.png","100546612_files/figure-html5/unnamed-chunk-18-1.png","100546612_files/figure-html5/unnamed-chunk-19-1.png","100546612_files/figure-html5/unnamed-chunk-6-1.png","100546612_files/figure-html5/unnamed-chunk-7-1.png","100546612_files/figure-html5/unnamed-chunk-8-1.png","100546612_files/figure-html5/unnamed-chunk-9-1.png","100546612_files/header-attrs-2.28/header-attrs.js","100546612_files/header-attrs-2.29/header-attrs.js","100546612_files/htmlwidgets-1.6.4/htmlwidgets.js","100546612_files/jquery-3.6.0/jquery-3.6.0.js","100546612_files/jquery-3.6.0/jquery-3.6.0.min.js","100546612_files/jquery-3.6.0/jquery-3.6.0.min.map","100546612_files/popper-2.6.0/popper.min.js","100546612_files/sass0a796f4839e3eb1a64fbc0cc43f9dfff/style.min.css","100546612_files/streamgraph-1/streamgraph.css","100546612_files/streamgraph-binding-0.9.0/streamgraph.js","100546612_files/tippy-6.2.7/tippy-bundle.umd.min.js","100546612_files/tippy-6.2.7/tippy-light-border.css","100546612_files/tippy-6.2.7/tippy.css","100546612_files/tippy-6.2.7/tippy.umd.min.js","100546612_files/webcomponents-2.0.0/webcomponents.js","combined_plot.png","GDP countries.xlsx","GDP world.xlsx","Growth-and-poverty-since-1820.png","images/clipboard-131230004.png","Lato/Lato-Black.ttf","Lato/Lato-BlackItalic.ttf","Lato/Lato-Bold.ttf","Lato/Lato-BoldItalic.ttf","Lato/Lato-Italic.ttf","Lato/Lato-Light.ttf","Lato/Lato-LightItalic.ttf","Lato/Lato-Regular.ttf","Lato/Lato-Thin.ttf","Lato/Lato-ThinItalic.ttf","Lato/OFL.txt","Our_World_in_Data_logo.png","poverty countries.xlsx","poverty world.xlsx","replication","replication.png","story image 1.png","story image 2.png"]}
  </script>
  <!--radix_placeholder_navigation_in_header-->
  <!--/radix_placeholder_navigation_in_header-->
  <!--radix_placeholder_distill-->

  <style type="text/css">

  body {
    background-color: white;
  }

  .pandoc-table {
    width: 100%;
  }

  .pandoc-table>caption {
    margin-bottom: 10px;
  }

  .pandoc-table th:not([align]) {
    text-align: left;
  }

  .pagedtable-footer {
    font-size: 15px;
  }

  d-byline .byline {
    grid-template-columns: 2fr 2fr;
  }

  d-byline .byline h3 {
    margin-block-start: 1.5em;
  }

  d-byline .byline .authors-affiliations h3 {
    margin-block-start: 0.5em;
  }

  .authors-affiliations .orcid-id {
    width: 16px;
    height:16px;
    margin-left: 4px;
    margin-right: 4px;
    vertical-align: middle;
    padding-bottom: 2px;
  }

  d-title .dt-tags {
    margin-top: 1em;
    grid-column: text;
  }

  .dt-tags .dt-tag {
    text-decoration: none;
    display: inline-block;
    color: rgba(0,0,0,0.6);
    padding: 0em 0.4em;
    margin-right: 0.5em;
    margin-bottom: 0.4em;
    font-size: 70%;
    border: 1px solid rgba(0,0,0,0.2);
    border-radius: 3px;
    text-transform: uppercase;
    font-weight: 500;
  }

  d-article table.gt_table td,
  d-article table.gt_table th {
    border-bottom: none;
    font-size: 100%;
  }

  .html-widget {
    margin-bottom: 2.0em;
  }

  .l-screen-inset {
    padding-right: 16px;
  }

  .l-screen .caption {
    margin-left: 10px;
  }

  .shaded {
    background: rgb(247, 247, 247);
    padding-top: 20px;
    padding-bottom: 20px;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  }

  .shaded .html-widget {
    margin-bottom: 0;
    border: 1px solid rgba(0, 0, 0, 0.1);
  }

  .shaded .shaded-content {
    background: white;
  }

  .text-output {
    margin-top: 0;
    line-height: 1.5em;
  }

  .hidden {
    display: none !important;
  }

  hr.section-separator {
    border: none;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    margin: 0px;
  }


  d-byline {
    border-top: none;
  }

  d-article {
    padding-top: 2.5rem;
    padding-bottom: 30px;
    border-top: none;
  }

  d-appendix {
    padding-top: 30px;
  }

  d-article>p>img {
    width: 100%;
  }

  d-article h2 {
    margin: 1rem 0 1.5rem 0;
  }

  d-article h3 {
    margin-top: 1.5rem;
  }

  d-article iframe {
    border: 1px solid rgba(0, 0, 0, 0.1);
    margin-bottom: 2.0em;
    width: 100%;
  }

  /* Tweak code blocks */

  d-article div.sourceCode code,
  d-article pre code {
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  }

  d-article pre,
  d-article div.sourceCode,
  d-article div.sourceCode pre {
    overflow: auto;
  }

  d-article div.sourceCode {
    background-color: white;
  }

  d-article div.sourceCode pre {
    padding-left: 10px;
    font-size: 12px;
    border-left: 2px solid rgba(0,0,0,0.1);
  }

  d-article pre {
    font-size: 12px;
    color: black;
    background: none;
    margin-top: 0;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    word-wrap: normal;
    line-height: 1.5;

    -moz-tab-size: 4;
    -o-tab-size: 4;
    tab-size: 4;

    -webkit-hyphens: none;
    -moz-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;
  }

  d-article pre a {
    border-bottom: none;
  }

  d-article pre a:hover {
    border-bottom: none;
    text-decoration: underline;
  }

  d-article details {
    grid-column: text;
    margin-bottom: 0.8em;
  }

  @media(min-width: 768px) {

  d-article pre,
  d-article div.sourceCode,
  d-article div.sourceCode pre {
    overflow: visible !important;
  }

  d-article div.sourceCode pre {
    padding-left: 18px;
    font-size: 14px;
  }

  /* tweak for Pandoc numbered line within distill */
  d-article pre.numberSource code > span {
      left: -2em;
  }

  d-article pre {
    font-size: 14px;
  }

  }

  figure img.external {
    background: white;
    border: 1px solid rgba(0, 0, 0, 0.1);
    box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
    padding: 18px;
    box-sizing: border-box;
  }

  /* CSS for d-contents */

  .d-contents {
    grid-column: text;
    color: rgba(0,0,0,0.8);
    font-size: 0.9em;
    padding-bottom: 1em;
    margin-bottom: 1em;
    padding-bottom: 0.5em;
    margin-bottom: 1em;
    padding-left: 0.25em;
    justify-self: start;
  }

  @media(min-width: 1000px) {
    .d-contents.d-contents-float {
      height: 0;
      grid-column-start: 1;
      grid-column-end: 4;
      justify-self: center;
      padding-right: 3em;
      padding-left: 2em;
    }
  }

  .d-contents nav h3 {
    font-size: 18px;
    margin-top: 0;
    margin-bottom: 1em;
  }

  .d-contents li {
    list-style-type: none
  }

  .d-contents nav > ul {
    padding-left: 0;
  }

  .d-contents ul {
    padding-left: 1em
  }

  .d-contents nav ul li {
    margin-top: 0.6em;
    margin-bottom: 0.2em;
  }

  .d-contents nav a {
    font-size: 13px;
    border-bottom: none;
    text-decoration: none
    color: rgba(0, 0, 0, 0.8);
  }

  .d-contents nav a:hover {
    text-decoration: underline solid rgba(0, 0, 0, 0.6)
  }

  .d-contents nav > ul > li > a {
    font-weight: 600;
  }

  .d-contents nav > ul > li > ul {
    font-weight: inherit;
  }

  .d-contents nav > ul > li > ul > li {
    margin-top: 0.2em;
  }


  .d-contents nav ul {
    margin-top: 0;
    margin-bottom: 0.25em;
  }

  .d-article-with-toc h2:nth-child(2) {
    margin-top: 0;
  }


  /* Figure */

  .figure {
    position: relative;
    margin-bottom: 2.5em;
    margin-top: 1.5em;
  }

  .figure .caption {
    color: rgba(0, 0, 0, 0.6);
    font-size: 12px;
    line-height: 1.5em;
  }

  .figure img.external {
    background: white;
    border: 1px solid rgba(0, 0, 0, 0.1);
    box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
    padding: 18px;
    box-sizing: border-box;
  }

  .figure .caption a {
    color: rgba(0, 0, 0, 0.6);
  }

  .figure .caption b,
  .figure .caption strong, {
    font-weight: 600;
    color: rgba(0, 0, 0, 1.0);
  }

  /* Citations */

  d-article .citation {
    color: inherit;
    cursor: inherit;
  }

  div.hanging-indent{
    margin-left: 1em; text-indent: -1em;
  }

  /* Citation hover box */

  .tippy-box[data-theme~=light-border] {
    background-color: rgba(250, 250, 250, 0.95);
  }

  .tippy-content > p {
    margin-bottom: 0;
    padding: 2px;
  }


  /* Tweak 1000px media break to show more text */

  @media(min-width: 1000px) {
    .base-grid,
    distill-header,
    d-title,
    d-abstract,
    d-article,
    d-appendix,
    distill-appendix,
    d-byline,
    d-footnote-list,
    d-citation-list,
    distill-footer {
      grid-template-columns: [screen-start] 1fr [page-start kicker-start] 80px [middle-start] 50px [text-start kicker-end] 65px 65px 65px 65px 65px 65px 65px 65px [text-end gutter-start] 65px [middle-end] 65px [page-end gutter-end] 1fr [screen-end];
      grid-column-gap: 16px;
    }

    .grid {
      grid-column-gap: 16px;
    }

    d-article {
      font-size: 1.06rem;
      line-height: 1.7em;
    }
    figure .caption, .figure .caption, figure figcaption {
      font-size: 13px;
    }
  }

  @media(min-width: 1180px) {
    .base-grid,
    distill-header,
    d-title,
    d-abstract,
    d-article,
    d-appendix,
    distill-appendix,
    d-byline,
    d-footnote-list,
    d-citation-list,
    distill-footer {
      grid-template-columns: [screen-start] 1fr [page-start kicker-start] 60px [middle-start] 60px [text-start kicker-end] 60px 60px 60px 60px 60px 60px 60px 60px [text-end gutter-start] 60px [middle-end] 60px [page-end gutter-end] 1fr [screen-end];
      grid-column-gap: 32px;
    }

    .grid {
      grid-column-gap: 32px;
    }
  }


  /* Get the citation styles for the appendix (not auto-injected on render since
     we do our own rendering of the citation appendix) */

  d-appendix .citation-appendix,
  .d-appendix .citation-appendix {
    font-size: 11px;
    line-height: 15px;
    border-left: 1px solid rgba(0, 0, 0, 0.1);
    padding-left: 18px;
    border: 1px solid rgba(0,0,0,0.1);
    background: rgba(0, 0, 0, 0.02);
    padding: 10px 18px;
    border-radius: 3px;
    color: rgba(150, 150, 150, 1);
    overflow: hidden;
    margin-top: -12px;
    white-space: pre-wrap;
    word-wrap: break-word;
  }

  /* Include appendix styles here so they can be overridden */

  d-appendix {
    contain: layout style;
    font-size: 0.8em;
    line-height: 1.7em;
    margin-top: 60px;
    margin-bottom: 0;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    color: rgba(0,0,0,0.5);
    padding-top: 60px;
    padding-bottom: 48px;
  }

  d-appendix h3 {
    grid-column: page-start / text-start;
    font-size: 15px;
    font-weight: 500;
    margin-top: 1em;
    margin-bottom: 0;
    color: rgba(0,0,0,0.65);
  }

  d-appendix h3 + * {
    margin-top: 1em;
  }

  d-appendix ol {
    padding: 0 0 0 15px;
  }

  @media (min-width: 768px) {
    d-appendix ol {
      padding: 0 0 0 30px;
      margin-left: -30px;
    }
  }

  d-appendix li {
    margin-bottom: 1em;
  }

  d-appendix a {
    color: rgba(0, 0, 0, 0.6);
  }

  d-appendix > * {
    grid-column: text;
  }

  d-appendix > d-footnote-list,
  d-appendix > d-citation-list,
  d-appendix > distill-appendix {
    grid-column: screen;
  }

  /* Include footnote styles here so they can be overridden */

  d-footnote-list {
    contain: layout style;
  }

  d-footnote-list > * {
    grid-column: text;
  }

  d-footnote-list a.footnote-backlink {
    color: rgba(0,0,0,0.3);
    padding-left: 0.5em;
  }



  /* Anchor.js */

  .anchorjs-link {
    /*transition: all .25s linear; */
    text-decoration: none;
    border-bottom: none;
  }
  *:hover > .anchorjs-link {
    margin-left: -1.125em !important;
    text-decoration: none;
    border-bottom: none;
  }

  /* Social footer */

  .social_footer {
    margin-top: 30px;
    margin-bottom: 0;
    color: rgba(0,0,0,0.67);
  }

  .disqus-comments {
    margin-right: 30px;
  }

  .disqus-comment-count {
    border-bottom: 1px solid rgba(0, 0, 0, 0.4);
    cursor: pointer;
  }

  #disqus_thread {
    margin-top: 30px;
  }

  .article-sharing a {
    border-bottom: none;
    margin-right: 8px;
  }

  .article-sharing a:hover {
    border-bottom: none;
  }

  .sidebar-section.subscribe {
    font-size: 12px;
    line-height: 1.6em;
  }

  .subscribe p {
    margin-bottom: 0.5em;
  }


  .article-footer .subscribe {
    font-size: 15px;
    margin-top: 45px;
  }


  .sidebar-section.custom {
    font-size: 12px;
    line-height: 1.6em;
  }

  .custom p {
    margin-bottom: 0.5em;
  }

  /* Styles for listing layout (hide title) */
  .layout-listing d-title, .layout-listing .d-title {
    display: none;
  }

  /* Styles for posts lists (not auto-injected) */


  .posts-with-sidebar {
    padding-left: 45px;
    padding-right: 45px;
  }

  .posts-list .description h2,
  .posts-list .description p {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
  }

  .posts-list .description h2 {
    font-weight: 700;
    border-bottom: none;
    padding-bottom: 0;
  }

  .posts-list h2.post-tag {
    border-bottom: 1px solid rgba(0, 0, 0, 0.2);
    padding-bottom: 12px;
  }
  .posts-list {
    margin-top: 60px;
    margin-bottom: 24px;
  }

  .posts-list .post-preview {
    text-decoration: none;
    overflow: hidden;
    display: block;
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
    padding: 24px 0;
  }

  .post-preview-last {
    border-bottom: none !important;
  }

  .posts-list .posts-list-caption {
    grid-column: screen;
    font-weight: 400;
  }

  .posts-list .post-preview h2 {
    margin: 0 0 6px 0;
    line-height: 1.2em;
    font-style: normal;
    font-size: 24px;
  }

  .posts-list .post-preview p {
    margin: 0 0 12px 0;
    line-height: 1.4em;
    font-size: 16px;
  }

  .posts-list .post-preview .thumbnail {
    box-sizing: border-box;
    margin-bottom: 24px;
    position: relative;
    max-width: 500px;
  }
  .posts-list .post-preview img {
    width: 100%;
    display: block;
  }

  .posts-list .metadata {
    font-size: 12px;
    line-height: 1.4em;
    margin-bottom: 18px;
  }

  .posts-list .metadata > * {
    display: inline-block;
  }

  .posts-list .metadata .publishedDate {
    margin-right: 2em;
  }

  .posts-list .metadata .dt-authors {
    display: block;
    margin-top: 0.3em;
    margin-right: 2em;
  }

  .posts-list .dt-tags {
    display: block;
    line-height: 1em;
  }

  .posts-list .dt-tags .dt-tag {
    display: inline-block;
    color: rgba(0,0,0,0.6);
    padding: 0.3em 0.4em;
    margin-right: 0.2em;
    margin-bottom: 0.4em;
    font-size: 60%;
    border: 1px solid rgba(0,0,0,0.2);
    border-radius: 3px;
    text-transform: uppercase;
    font-weight: 500;
  }

  .posts-list img {
    opacity: 1;
  }

  .posts-list img[data-src] {
    opacity: 0;
  }

  .posts-more {
    clear: both;
  }


  .posts-sidebar {
    font-size: 16px;
  }

  .posts-sidebar h3 {
    font-size: 16px;
    margin-top: 0;
    margin-bottom: 0.5em;
    font-weight: 400;
    text-transform: uppercase;
  }

  .sidebar-section {
    margin-bottom: 30px;
  }

  .categories ul {
    list-style-type: none;
    margin: 0;
    padding: 0;
  }

  .categories li {
    color: rgba(0, 0, 0, 0.8);
    margin-bottom: 0;
  }

  .categories li>a {
    border-bottom: none;
  }

  .categories li>a:hover {
    border-bottom: 1px solid rgba(0, 0, 0, 0.4);
  }

  .categories .active {
    font-weight: 600;
  }

  .categories .category-count {
    color: rgba(0, 0, 0, 0.4);
  }


  @media(min-width: 768px) {
    .posts-list .post-preview h2 {
      font-size: 26px;
    }
    .posts-list .post-preview .thumbnail {
      float: right;
      width: 30%;
      margin-bottom: 0;
    }
    .posts-list .post-preview .description {
      float: left;
      width: 45%;
    }
    .posts-list .post-preview .metadata {
      float: left;
      width: 20%;
      margin-top: 8px;
    }
    .posts-list .post-preview p {
      margin: 0 0 12px 0;
      line-height: 1.5em;
      font-size: 16px;
    }
    .posts-with-sidebar .posts-list {
      float: left;
      width: 75%;
    }
    .posts-with-sidebar .posts-sidebar {
      float: right;
      width: 20%;
      margin-top: 60px;
      padding-top: 24px;
      padding-bottom: 24px;
    }
  }


  /* Improve display for browsers without grid (IE/Edge <= 15) */

  .downlevel {
    line-height: 1.6em;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
    margin: 0;
  }

  .downlevel .d-title {
    padding-top: 6rem;
    padding-bottom: 1.5rem;
  }

  .downlevel .d-title h1 {
    font-size: 50px;
    font-weight: 700;
    line-height: 1.1em;
    margin: 0 0 0.5rem;
  }

  .downlevel .d-title p {
    font-weight: 300;
    font-size: 1.2rem;
    line-height: 1.55em;
    margin-top: 0;
  }

  .downlevel .d-byline {
    padding-top: 0.8em;
    padding-bottom: 0.8em;
    font-size: 0.8rem;
    line-height: 1.8em;
  }

  .downlevel .section-separator {
    border: none;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
  }

  .downlevel .d-article {
    font-size: 1.06rem;
    line-height: 1.7em;
    padding-top: 1rem;
    padding-bottom: 2rem;
  }


  .downlevel .d-appendix {
    padding-left: 0;
    padding-right: 0;
    max-width: none;
    font-size: 0.8em;
    line-height: 1.7em;
    margin-bottom: 0;
    color: rgba(0,0,0,0.5);
    padding-top: 40px;
    padding-bottom: 48px;
  }

  .downlevel .footnotes ol {
    padding-left: 13px;
  }

  .downlevel .base-grid,
  .downlevel .distill-header,
  .downlevel .d-title,
  .downlevel .d-abstract,
  .downlevel .d-article,
  .downlevel .d-appendix,
  .downlevel .distill-appendix,
  .downlevel .d-byline,
  .downlevel .d-footnote-list,
  .downlevel .d-citation-list,
  .downlevel .distill-footer,
  .downlevel .appendix-bottom,
  .downlevel .posts-container {
    padding-left: 40px;
    padding-right: 40px;
  }

  @media(min-width: 768px) {
    .downlevel .base-grid,
    .downlevel .distill-header,
    .downlevel .d-title,
    .downlevel .d-abstract,
    .downlevel .d-article,
    .downlevel .d-appendix,
    .downlevel .distill-appendix,
    .downlevel .d-byline,
    .downlevel .d-footnote-list,
    .downlevel .d-citation-list,
    .downlevel .distill-footer,
    .downlevel .appendix-bottom,
    .downlevel .posts-container {
    padding-left: 150px;
    padding-right: 150px;
    max-width: 900px;
  }
  }

  .downlevel pre code {
    display: block;
    border-left: 2px solid rgba(0, 0, 0, .1);
    padding: 0 0 0 20px;
    font-size: 14px;
  }

  .downlevel code, .downlevel pre {
    color: black;
    background: none;
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    word-wrap: normal;
    line-height: 1.5;

    -moz-tab-size: 4;
    -o-tab-size: 4;
    tab-size: 4;

    -webkit-hyphens: none;
    -moz-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;
  }

  .downlevel .posts-list .post-preview {
    color: inherit;
  }



  </style>

  <script type="application/javascript">

  function is_downlevel_browser() {
    if (bowser.isUnsupportedBrowser({ msie: "12", msedge: "16"},
                                   window.navigator.userAgent)) {
      return true;
    } else {
      return window.load_distill_framework === undefined;
    }
  }

  // show body when load is complete
  function on_load_complete() {

    // add anchors
    if (window.anchors) {
      window.anchors.options.placement = 'left';
      window.anchors.add('d-article > h2, d-article > h3, d-article > h4, d-article > h5');
    }


    // set body to visible
    document.body.style.visibility = 'visible';

    // force redraw for leaflet widgets
    if (window.HTMLWidgets) {
      var maps = window.HTMLWidgets.findAll(".leaflet");
      $.each(maps, function(i, el) {
        var map = this.getMap();
        map.invalidateSize();
        map.eachLayer(function(layer) {
          if (layer instanceof L.TileLayer)
            layer.redraw();
        });
      });
    }

    // trigger 'shown' so htmlwidgets resize
    $('d-article').trigger('shown');
  }

  function init_distill() {

    init_common();

    // create front matter
    var front_matter = $('<d-front-matter></d-front-matter>');
    $('#distill-front-matter').wrap(front_matter);

    // create d-title
    $('.d-title').changeElementType('d-title');

    // separator
    var separator = '<hr class="section-separator" style="clear: both"/>';
    // prepend separator above appendix
    $('.d-byline').before(separator);
    $('.d-article').before(separator);

    // create d-byline
    var byline = $('<d-byline></d-byline>');
    $('.d-byline').replaceWith(byline);

    // create d-article
    var article = $('<d-article></d-article>');
    $('.d-article').wrap(article).children().unwrap();

    // move posts container into article
    $('.posts-container').appendTo($('d-article'));

    // create d-appendix
    $('.d-appendix').changeElementType('d-appendix');

    // flag indicating that we have appendix items
    var appendix = $('.appendix-bottom').children('h3').length > 0;

    // replace footnotes with <d-footnote>
    $('.footnote-ref').each(function(i, val) {
      appendix = true;
      var href = $(this).attr('href');
      var id = href.replace('#', '');
      var fn = $('#' + id);
      var fn_p = $('#' + id + '>p');
      fn_p.find('.footnote-back').remove();
      var text = fn_p.html();
      var dtfn = $('<d-footnote></d-footnote>');
      dtfn.html(text);
      $(this).replaceWith(dtfn);
    });
    // remove footnotes
    $('.footnotes').remove();

    // move refs into #references-listing
    $('#references-listing').replaceWith($('#refs'));

    $('h1.appendix, h2.appendix').each(function(i, val) {
      $(this).changeElementType('h3');
    });
    $('h3.appendix').each(function(i, val) {
      var id = $(this).attr('id');
      $('.d-contents a[href="#' + id + '"]').parent().remove();
      appendix = true;
      $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('d-appendix'));
    });

    // show d-appendix if we have appendix content
    $("d-appendix").css('display', appendix ? 'grid' : 'none');

    // localize layout chunks to just output
    $('.layout-chunk').each(function(i, val) {

      // capture layout
      var layout = $(this).attr('data-layout');

      // apply layout to markdown level block elements
      var elements = $(this).children().not('details, div.sourceCode, pre, script');
      elements.each(function(i, el) {
        var layout_div = $('<div class="' + layout + '"></div>');
        if (layout_div.hasClass('shaded')) {
          var shaded_content = $('<div class="shaded-content"></div>');
          $(this).wrap(shaded_content);
          $(this).parent().wrap(layout_div);
        } else {
          $(this).wrap(layout_div);
        }
      });


      // unwrap the layout-chunk div
      $(this).children().unwrap();
    });

    // remove code block used to force  highlighting css
    $('.distill-force-highlighting-css').parent().remove();

    // remove empty line numbers inserted by pandoc when using a
    // custom syntax highlighting theme, except when numbering line
    // in code chunk
    $('pre:not(.numberLines) code.sourceCode a:empty').remove();

    // load distill framework
    load_distill_framework();

    // wait for window.distillRunlevel == 4 to do post processing
    function distill_post_process() {

      if (!window.distillRunlevel || window.distillRunlevel < 4)
        return;

      // hide author/affiliations entirely if we have no authors
      var front_matter = JSON.parse($("#distill-front-matter").html());
      var have_authors = front_matter.authors && front_matter.authors.length > 0;
      if (!have_authors)
        $('d-byline').addClass('hidden');

      // article with toc class
      $('.d-contents').parent().addClass('d-article-with-toc');

      // strip links that point to #
      $('.authors-affiliations').find('a[href="#"]').removeAttr('href');

      // add orcid ids
      $('.authors-affiliations').find('.author').each(function(i, el) {
        var orcid_id = front_matter.authors[i].orcidID;
        var author_name = front_matter.authors[i].author
        if (orcid_id) {
          var a = $('<a></a>');
          a.attr('href', 'https://orcid.org/' + orcid_id);
          var img = $('<img></img>');
          img.addClass('orcid-id');
          img.attr('alt', author_name ? 'ORCID ID for ' + author_name : 'ORCID ID');
          img.attr('src','data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg==');
          a.append(img);
          $(this).append(a);
        }
      });

      // hide elements of author/affiliations grid that have no value
      function hide_byline_column(caption) {
        $('d-byline').find('h3:contains("' + caption + '")').parent().css('visibility', 'hidden');
      }

      // affiliations
      var have_affiliations = false;
      for (var i = 0; i<front_matter.authors.length; ++i) {
        var author = front_matter.authors[i];
        if (author.affiliation !== "&nbsp;") {
          have_affiliations = true;
          break;
        }
      }
      if (!have_affiliations)
        $('d-byline').find('h3:contains("Affiliations")').css('visibility', 'hidden');

      // published date
      if (!front_matter.publishedDate)
        hide_byline_column("Published");

      // document object identifier
      var doi = $('d-byline').find('h3:contains("DOI")');
      var doi_p = doi.next().empty();
      if (!front_matter.doi) {
        // if we have a citation and valid citationText then link to that
        if ($('#citation').length > 0 && front_matter.citationText) {
          doi.html('Citation');
          $('<a href="#citation"></a>')
            .text(front_matter.citationText)
            .appendTo(doi_p);
        } else {
          hide_byline_column("DOI");
        }
      } else {
        $('<a></a>')
           .attr('href', "https://doi.org/" + front_matter.doi)
           .html(front_matter.doi)
           .appendTo(doi_p);
      }

       // change plural form of authors/affiliations
      if (front_matter.authors.length === 1) {
        var grid = $('.authors-affiliations');
        grid.children('h3:contains("Authors")').text('Author');
        grid.children('h3:contains("Affiliations")').text('Affiliation');
      }

      // remove d-appendix and d-footnote-list local styles
      $('d-appendix > style:first-child').remove();
      $('d-footnote-list > style:first-child').remove();

      // move appendix-bottom entries to the bottom
      $('.appendix-bottom').appendTo('d-appendix').children().unwrap();
      $('.appendix-bottom').remove();

      // hoverable references
      $('span.citation[data-cites]').each(function() {
        const citeChild = $(this).children()[0]
        // Do not process if @xyz has been used without escaping and without bibliography activated
        // https://github.com/rstudio/distill/issues/466
        if (citeChild === undefined) return true

        if (citeChild.nodeName == "D-FOOTNOTE") {
          var fn = citeChild
          $(this).html(fn.shadowRoot.querySelector("sup"))
          $(this).id = fn.id
          fn.remove()
        }
        var refs = $(this).attr('data-cites').split(" ");
        var refHtml = refs.map(function(ref) {
          // Could use CSS.escape too here, we insure backward compatibility in navigator
          return "<p>" + $('div[id="ref-' + ref + '"]').html() + "</p>";
        }).join("\n");
        window.tippy(this, {
          allowHTML: true,
          content: refHtml,
          maxWidth: 500,
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start'
        });
      });

      // fix footnotes in tables (#411)
      // replacing broken distill.pub feature
      $('table d-footnote').each(function() {
        // we replace internal showAtNode methode which is triggered when hovering a footnote
        this.hoverBox.showAtNode = function(node) {
          // ported from https://github.com/distillpub/template/pull/105/files
          calcOffset = function(elem) {
              let x = elem.offsetLeft;
              let y = elem.offsetTop;
              // Traverse upwards until an `absolute` element is found or `elem`
              // becomes null.
              while (elem = elem.offsetParent && elem.style.position != 'absolute') {
                  x += elem.offsetLeft;
                  y += elem.offsetTop;
              }

              return { left: x, top: y };
          }
          // https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/offsetTop
          const bbox = node.getBoundingClientRect();
          const offset = calcOffset(node);
          this.show([offset.left + bbox.width, offset.top + bbox.height]);
        }
      })

      // clear polling timer
      clearInterval(tid);

      // show body now that everything is ready
      on_load_complete();
    }

    var tid = setInterval(distill_post_process, 50);
    distill_post_process();

  }

  function init_downlevel() {

    init_common();

     // insert hr after d-title
    $('.d-title').after($('<hr class="section-separator"/>'));

    // check if we have authors
    var front_matter = JSON.parse($("#distill-front-matter").html());
    var have_authors = front_matter.authors && front_matter.authors.length > 0;

    // manage byline/border
    if (!have_authors)
      $('.d-byline').remove();
    $('.d-byline').after($('<hr class="section-separator"/>'));
    $('.d-byline a').remove();

    // remove toc
    $('.d-contents').remove();

    // move appendix elements
    $('h1.appendix, h2.appendix').each(function(i, val) {
      $(this).changeElementType('h3');
    });
    $('h3.appendix').each(function(i, val) {
      $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('.d-appendix'));
    });


    // inject headers into references and footnotes
    var refs_header = $('<h3></h3>');
    refs_header.text('References');
    $('#refs').prepend(refs_header);

    var footnotes_header = $('<h3></h3');
    footnotes_header.text('Footnotes');
    $('.footnotes').children('hr').first().replaceWith(footnotes_header);

    // move appendix-bottom entries to the bottom
    $('.appendix-bottom').appendTo('.d-appendix').children().unwrap();
    $('.appendix-bottom').remove();

    // remove appendix if it's empty
    if ($('.d-appendix').children().length === 0)
      $('.d-appendix').remove();

    // prepend separator above appendix
    $('.d-appendix').before($('<hr class="section-separator" style="clear: both"/>'));

    // trim code
    $('pre>code').each(function(i, val) {
      $(this).html($.trim($(this).html()));
    });

    // move posts-container right before article
    $('.posts-container').insertBefore($('.d-article'));

    $('body').addClass('downlevel');

    on_load_complete();
  }


  function init_common() {

    // jquery plugin to change element types
    (function($) {
      $.fn.changeElementType = function(newType) {
        var attrs = {};

        $.each(this[0].attributes, function(idx, attr) {
          attrs[attr.nodeName] = attr.nodeValue;
        });

        this.replaceWith(function() {
          return $("<" + newType + "/>", attrs).append($(this).contents());
        });
      };
    })(jQuery);

    // prevent underline for linked images
    $('a > img').parent().css({'border-bottom' : 'none'});

    // mark non-body figures created by knitr chunks as 100% width
    $('.layout-chunk').each(function(i, val) {
      var figures = $(this).find('img, .html-widget');
      // ignore leaflet img layers (#106)
      figures = figures.filter(':not(img[class*="leaflet"])')
      if ($(this).attr('data-layout') !== "l-body") {
        figures.css('width', '100%');
      } else {
        figures.css('max-width', '100%');
        figures.filter("[width]").each(function(i, val) {
          var fig = $(this);
          fig.css('width', fig.attr('width') + 'px');
        });

      }
    });

    // auto-append index.html to post-preview links in file: protocol
    // and in rstudio ide preview
    $('.post-preview').each(function(i, val) {
      if (window.location.protocol === "file:")
        $(this).attr('href', $(this).attr('href') + "index.html");
    });

    // get rid of index.html references in header
    if (window.location.protocol !== "file:") {
      $('.distill-site-header a[href]').each(function(i,val) {
        $(this).attr('href', $(this).attr('href').replace(/^index[.]html/, "./"));
      });
    }

    // add class to pandoc style tables
    $('tr.header').parent('thead').parent('table').addClass('pandoc-table');
    $('.kable-table').children('table').addClass('pandoc-table');

    // add figcaption style to table captions
    $('caption').parent('table').addClass("figcaption");

    // initialize posts list
    if (window.init_posts_list)
      window.init_posts_list();

    // implmement disqus comment link
    $('.disqus-comment-count').click(function() {
      window.headroom_prevent_pin = true;
      $('#disqus_thread').toggleClass('hidden');
      if (!$('#disqus_thread').hasClass('hidden')) {
        var offset = $(this).offset();
        $(window).resize();
        $('html, body').animate({
          scrollTop: offset.top - 35
        });
      }
    });
  }

  document.addEventListener('DOMContentLoaded', function() {
    if (is_downlevel_browser())
      init_downlevel();
    else
      window.addEventListener('WebComponentsReady', init_distill);
  });

  </script>

  <!--/radix_placeholder_distill-->
  <script src="100546612_files/header-attrs-2.29/header-attrs.js"></script>
  <script src="100546612_files/htmlwidgets-1.6.4/htmlwidgets.js"></script>
  <script src="100546612_files/d3-3.5.3/d3.min.js"></script>
  <link href="100546612_files/colorbrewer-1/colorbrewer.css" rel="stylesheet" />
  <script src="100546612_files/colorbrewer-1/colorbrewer.js"></script>
  <link href="100546612_files/streamgraph-1/streamgraph.css" rel="stylesheet" />
  <script src="100546612_files/streamgraph-binding-0.9.0/streamgraph.js"></script>
  <script src="100546612_files/jquery-3.6.0/jquery-3.6.0.min.js"></script>
  <script src="100546612_files/popper-2.6.0/popper.min.js"></script>
  <link href="100546612_files/tippy-6.2.7/tippy.css" rel="stylesheet" />
  <link href="100546612_files/tippy-6.2.7/tippy-light-border.css" rel="stylesheet" />
  <script src="100546612_files/tippy-6.2.7/tippy.umd.min.js"></script>
  <script src="100546612_files/anchor-4.2.2/anchor.min.js"></script>
  <script src="100546612_files/bowser-1.9.3/bowser.min.js"></script>
  <script src="100546612_files/webcomponents-2.0.0/webcomponents.js"></script>
  <script src="100546612_files/distill-2.2.21/template.v2.js"></script>
  <!--radix_placeholder_site_in_header-->
  <!--/radix_placeholder_site_in_header-->


</head>

<body>

<!--radix_placeholder_front_matter-->

<script id="distill-front-matter" type="text/json">
{"title":"Behind the numbers: comparing extreme poverty and GDP per capita by world regions","description":"By recreating from group up a OurWorldinData chart about extreme poverty vs GDP per capita we look at the foundations of Data Visualisation techniques layer by layer. Further, this project also proposes X alternative representation for the original data to better understand the story behind the numbers.","authors":[{"author":"Mafalda González González","authorURL":"#","affiliation":"&nbsp;","affiliationURL":"#","orcidID":""}],"publishedDate":"2025-01-04T00:00:00.000+01:00","citationText":"González, 2025"}
</script>

<!--/radix_placeholder_front_matter-->
<!--radix_placeholder_navigation_before_body-->
<!--/radix_placeholder_navigation_before_body-->
<!--radix_placeholder_site_before_body-->
<!--/radix_placeholder_site_before_body-->

<div class="d-title">
<h1>Behind the numbers: comparing extreme poverty and GDP per capita by world regions</h1>

<!--radix_placeholder_categories-->
<div class="dt-tags">
<div class="dt-tag">2024</div>
</div>
<!--/radix_placeholder_categories-->
<p><p>By recreating from group up a OurWorldinData chart about extreme poverty vs GDP per capita we look at the foundations of Data Visualisation techniques layer by layer. Further, this project also proposes X alternative representation for the original data to better understand the story behind the numbers.</p></p>
</div>

<div class="d-byline">
  
  Mafalda González González
  
<br/>2025-01-04
</div>

<div class="d-article">
<div class="d-contents d-contents-float">
<nav class="l-text toc figcaption" id="TOC">
<h3>Contents</h3>
<ul>
<li><a href="#on-extreme-poverty-and-gdp" id="toc-on-extreme-poverty-and-gdp">On Extreme poverty and GDP</a>
<ul>
<li><a href="#the-original-graph" id="toc-the-original-graph">The original graph</a></li>
</ul></li>
<li><a href="#before-we-start" id="toc-before-we-start">Before we start…</a>
<ul>
<li><a href="#library-and-fonts" id="toc-library-and-fonts">Library and fonts</a></li>
</ul></li>
<li><a href="#pre-steps" id="toc-pre-steps">Pre-Steps</a>
<ul>
<li><a href="#get-data" id="toc-get-data">Get data:</a></li>
<li><a href="#supplementing-data-for-world-global-average" id="toc-supplementing-data-for-world-global-average">Supplementing data for World (Global Average)</a></li>
</ul></li>
<li><a href="#replication-process-graph" id="toc-replication-process-graph">Replication process: Graph</a>
<ul>
<li><a href="#starting-point-facet_wrap-by-region" id="toc-starting-point-facet_wrap-by-region">Starting point: facet_wrap by region</a></li>
<li><a href="#removing-stuff-and-adding-stuff" id="toc-removing-stuff-and-adding-stuff">Removing stuff and adding stuff</a></li>
<li><a href="#axis-3-different-paths" id="toc-axis-3-different-paths">Axis (3 different paths)</a></li>
<li><a href="#theme-and-parameters-changing-a-lot-of-numbers" id="toc-theme-and-parameters-changing-a-lot-of-numbers">Theme and Parameters: changing a lot of numbers</a></li>
<li><a href="#background-lines" id="toc-background-lines">Background lines</a></li>
<li><a href="#title-subtitle-data-sources-and-licenses" id="toc-title-subtitle-data-sources-and-licenses">Title, subtitle, data sources and licenses</a></li>
<li><a href="#annotations-and-descriptions" id="toc-annotations-and-descriptions">Annotations and Descriptions</a></li>
<li><a href="#logo" id="toc-logo">Logo</a></li>
</ul></li>
<li><a href="#comparison" id="toc-comparison">Comparison</a>
<ul>
<li><a href="#things-im-not-doing" id="toc-things-im-not-doing">Things im (not) doing</a></li>
<li><a href="#lessons" id="toc-lessons">Lessons</a></li>
</ul></li>
<li><a href="#improvement" id="toc-improvement">Improvement</a></li>
</ul>
</nav>
</div>
<h2 id="on-extreme-poverty-and-gdp">On Extreme poverty and GDP</h2>
<p><a href="https://www.gapminder.org/questions/gms1-3/">When asked</a> if the world’s population living in extreme poverty has halved, stayed the same, or double in the last 20 years, about two thirds of respondents will say it has doubled – when, in fact, it has more than halved, which only one in in every ten person will guess. The misconception stems out our dichotomous perception of the social classes between rich and poor, all the while an overwhelming majority of people live in between those two extremes. The inaccurate negative understanding of this economic asymmetry brings us to two key points: firstly, we <em>believe that everything everywhere is becoming worse</em> which leads to, secondly, <em>diverting our attention away from the actual trends</em> at hand.</p>
<p><a href="https://ourworldindata.org/extreme-poverty-in-brief#article-citation">OurWorldinData</a> takes a closer look at the current developments in poverty. Particularly, they are interested in highlighting the necessity to differentiate between people living in poverty, and people living in <em>extreme poverty</em>, i.e. living on less than 2.15$ a day, as without this distinction we would not understand the crucial differences and trends in living standards within impoverished people. In the graph below we can observe how with this metric relates to the GDP of a country. Tackling out previously mentioned key points, we see the important share of wealth that has propelled many world regions out of extreme poverty in the last 200 years, and at the same time recognize which world regions have disproportionate percentages of extreme poverty in comparison to other regions. While it takes just a bit to understand the underlying relationship that OurWorldinData seeks to visualize, the point is that economic growth implies poverty decline, and stagnated economies imply higher poverty rates.</p>
<figure>
<img src="Growth-and-poverty-since-1820.png" class="external" style="width:100.0%" alt="Original graph sourced from Our World in Data." />
<figcaption aria-hidden="true">Original graph sourced from <a href="https://ourworldindata.org/extreme-poverty-in-brief#article-citation">Our World in Data</a>.</figcaption>
</figure>
<p>Hence, to quote Max Roser, the author of this graph and corresponding article, “what needs explanation is not poverty, but prosperity.” I find this point particularly intriguing, and will refer back to it in my proposal for the graph improvement. However, first let us take a look at the replication of the original</p>
<h3 id="the-original-graph">The original graph</h3>
<p>The original graph portrays the relationship between the share living in extreme poverty and the GDP per capita in 8 world regions and the global average between the years 1817 and 2017.</p>
<div style="overflow: hidden;">
<img src="Growth-and-poverty-since-1820.png" style="float: left; margin-right: 15px; margin-bottom: 10px; width: 350px;" alt="The graphs strengths include its clear comparison between the world regions wealth and poverty trends, which highlight the significant variation between regions, and its historical perspective, which provides some context for the global and regional progress. Visually, the regional facets and coloring contribute to their acute distinction and provide clarity and readability." />
<p>
The graphs strengths include its clear comparison between the world regions wealth and poverty trends, which highlight the significant variation between regions, and its historical perspective, which provides some context for the global and regional progress. Visually, the regional facets and coloring contribute to their acute distinction and provide clarity and readability.
</p>
</div>
<p>XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX WORK IN PROGRESS XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX</p>
<h2 id="before-we-start">Before we start…</h2>
<h3 id="library-and-fonts">Library and fonts</h3>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://readxl.tidyverse.org'>readxl</a></span><span class='op'>)</span> </span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://tidyverse.tidyverse.org'>tidyverse</a></span><span class='op'>)</span> </span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://dplyr.tidyverse.org'>dplyr</a></span><span class='op'>)</span> </span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://ggplot2.tidyverse.org'>ggplot2</a></span><span class='op'>)</span></span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://forcats.tidyverse.org/'>forcats</a></span><span class='op'>)</span></span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://wilkelab.org/ggtext/'>ggtext</a></span><span class='op'>)</span></span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'>grid</span><span class='op'>)</span></span>
<span></span>
<span><span class='co'># fails: </span></span>
<span><span class='co'># library(ggarrow) # geom_arrow instead of geom_path</span></span>
<span><span class='co'># library(arrowheadr) # arrow head</span></span>
<span><span class='co'># and many more</span></span>
<span></span>
<span><span class='co'># fonts</span></span>
<span><span class='fu'>sysfonts</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/sysfonts/man/font_add_google.html'>font_add_google</a></span><span class='op'>(</span><span class='st'>"Playfair Display"</span>, family <span class='op'>=</span> <span class='st'>"playfair display"</span><span class='op'>)</span></span>
<span><span class='fu'>sysfonts</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/sysfonts/man/font_add_google.html'>font_add_google</a></span><span class='op'>(</span><span class='st'>"Lato"</span>, family <span class='op'>=</span> <span class='st'>"lato"</span><span class='op'>)</span></span>
<span><span class='fu'>sysfonts</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/sysfonts/man/font_add.html'>font_add</a></span><span class='op'>(</span>regular <span class='op'>=</span> <span class='st'>"./Lato/Lato-Light.ttf"</span>, family <span class='op'>=</span> <span class='st'>"lato_light"</span><span class='op'>)</span></span>
<span></span>
<span><span class='fu'>showtext</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/showtext/man/showtext_auto.html'>showtext_auto</a></span><span class='op'>(</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<h2 id="pre-steps">Pre-Steps</h2>
<h3 id="get-data">Get data:</h3>
<ul>
<li>email, data repository =&gt; incomplete</li>
</ul>
<p>Data handling</p>
<ul>
<li>Read data</li>
</ul>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'>######################################## WORLD</span></span>
<span><span class='co'>############### Read data </span></span>
<span><span class='co'># gdp</span></span>
<span><span class='va'>gdp_world</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://readxl.tidyverse.org/reference/read_excel.html'>read_xlsx</a></span><span class='op'>(</span>path <span class='op'>=</span> <span class='st'>"GDP world.xlsx"</span><span class='op'>)</span></span>
<span><span class='co'># View(gdp_world) # 21 obs x 10 var</span></span>
<span></span>
<span><span class='co'># poverty</span></span>
<span><span class='va'>pov_world</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://readxl.tidyverse.org/reference/read_excel.html'>read_xlsx</a></span><span class='op'>(</span>path <span class='op'>=</span> <span class='st'>"poverty world.xlsx"</span><span class='op'>)</span></span>
<span><span class='co'># View(pov_world) # 13 obs x 9 var</span></span></code></pre>
</div>
</div>
<ul>
<li>Making it tidy</li>
</ul>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'>############### Pivot</span></span>
<span><span class='co'># gdp</span></span>
<span><span class='va'>gdp_world</span> <span class='op'>&lt;-</span> <span class='va'>gdp_world</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'><a href='https://tidyr.tidyverse.org/reference/pivot_longer.html'>pivot_longer</a></span><span class='op'>(</span></span>
<span>    cols <span class='op'>=</span> <span class='op'>-</span><span class='va'>YEAR</span>,        </span>
<span>    names_to <span class='op'>=</span> <span class='st'>"region"</span>,  </span>
<span>    values_to <span class='op'>=</span> <span class='st'>"GDP"</span>      </span>
<span>  <span class='op'>)</span></span>
<span></span>
<span><span class='co'># poverty</span></span>
<span><span class='va'>pov_world</span> <span class='op'>&lt;-</span> <span class='va'>pov_world</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'><a href='https://tidyr.tidyverse.org/reference/pivot_longer.html'>pivot_longer</a></span><span class='op'>(</span></span>
<span>    cols <span class='op'>=</span> <span class='op'>-</span><span class='va'>YEAR</span>,          </span>
<span>    names_to <span class='op'>=</span> <span class='st'>"region"</span>,  </span>
<span>    values_to <span class='op'>=</span> <span class='st'>"poverty"</span>  </span>
<span>  <span class='op'>)</span></span>
<span></span>
<span><span class='co'>############### Combine </span></span>
<span><span class='va'>world</span> <span class='op'>&lt;-</span> <span class='va'>gdp_world</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate-joins.html'>full_join</a></span><span class='op'>(</span><span class='va'>pov_world</span>, by <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"YEAR"</span>, <span class='st'>"region"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>source <span class='op'>=</span> <span class='st'>"world_region"</span><span class='op'>)</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>GDP <span class='op'>=</span> <span class='fu'><a href='https://stringr.tidyverse.org/reference/str_remove.html'>str_remove_all</a></span><span class='op'>(</span><span class='va'>GDP</span>, pattern <span class='op'>=</span> <span class='st'>"\\s"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>GDP <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/numeric.html'>as.numeric</a></span><span class='op'>(</span><span class='va'>GDP</span><span class='op'>)</span><span class='op'>)</span> </span>
<span><span class='co'># View(world) # 221 obs X 5 vars</span></span></code></pre>
</div>
</div>
<ul>
<li>Clean data</li>
</ul>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'>######################################## Clean data</span></span>
<span><span class='co'># unique(world$region)</span></span>
<span><span class='co'># Here it was important to check that the data i was merging was not stepping on top of each other!</span></span>
<span></span>
<span><span class='co'>############### Clean South and Southeast Asia</span></span>
<span></span>
<span><span class='co'># Create two dataset: in one i delete south and southeast asia, and in the other </span></span>
<span><span class='co'># i clean south and southeast asia and then join it back into the first one </span></span>
<span></span>
<span><span class='co'># check no stepping of data (manual lol)</span></span>
<span><span class='co'># View(world |&gt; # 34 obs</span></span>
<span>  <span class='co'>#filter(region %in% c("South and Southeast Asia", </span></span>
<span>                       <span class='co'>#"South and Southeast Asia)")))</span></span>
<span></span>
<span><span class='co'># create new data set </span></span>
<span><span class='va'>clean_southeast</span> <span class='op'>&lt;-</span> <span class='va'>world</span> <span class='op'>|&gt;</span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>region</span> <span class='op'><a href='https://rdrr.io/r/base/match.html'>%in%</a></span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"South and Southeast Asia"</span>, <span class='st'>"South and Southeast Asia)"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>|&gt;</span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>region <span class='op'>=</span> <span class='st'>"South and Southeast Asia"</span><span class='op'>)</span> <span class='op'>|&gt;</span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/group_by.html'>group_by</a></span><span class='op'>(</span><span class='va'>YEAR</span>, region <span class='op'>=</span> <span class='st'>"South and Southeast Asia"</span>, <span class='va'>source</span><span class='op'>)</span> <span class='op'>|&gt;</span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/summarise.html'>summarise</a></span><span class='op'>(</span></span>
<span>    GDP <span class='op'>=</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/nth.html'>first</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/stats/na.fail.html'>na.omit</a></span><span class='op'>(</span><span class='va'>GDP</span><span class='op'>)</span><span class='op'>)</span>,</span>
<span>    poverty <span class='op'>=</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/nth.html'>first</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/stats/na.fail.html'>na.omit</a></span><span class='op'>(</span><span class='va'>poverty</span><span class='op'>)</span><span class='op'>)</span>,</span>
<span>    .groups <span class='op'>=</span> <span class='st'>"drop"</span></span>
<span>  <span class='op'>)</span></span>
<span></span>
<span><span class='co'># View(clean_southeast) # 22 obs (12 deleted)</span></span>
<span></span>
<span><span class='co'># remove south and southeast asia from original dataset </span></span>
<span><span class='va'>world</span> <span class='op'>&lt;-</span> <span class='va'>world</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='op'>!</span><span class='va'>region</span> <span class='op'><a href='https://rdrr.io/r/base/match.html'>%in%</a></span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"South and Southeast Asia"</span>, </span>
<span>                          <span class='st'>"South and Southeast Asia)"</span><span class='op'>)</span><span class='op'>)</span></span>
<span><span class='co'># View(world) # 187 obs </span></span>
<span></span>
<span></span>
<span><span class='co'># combine data </span></span>
<span><span class='va'>clean_world</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/bind_rows.html'>bind_rows</a></span><span class='op'>(</span><span class='va'>world</span>, <span class='va'>clean_southeast</span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>world</span> <span class='op'>&lt;-</span> <span class='va'>clean_world</span></span>
<span></span>
<span><span class='co'># View(world) # 209 obs</span></span>
<span></span>
<span><span class='co'>############### Clean Latin America and Caribbean</span></span>
<span><span class='co'># check no stepping of data (manual lol)</span></span>
<span><span class='co'>#View(world |&gt; # 34 obs</span></span>
<span>       <span class='co'>#filter(region %in% c("Latin America and Carribean",</span></span>
<span>                            <span class='co'>#"Latin America and Caribbean")))</span></span>
<span></span>
<span><span class='co'># create new data set </span></span>
<span><span class='va'>clean_latin</span> <span class='op'>&lt;-</span> <span class='va'>world</span> <span class='op'>|&gt;</span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>region</span> <span class='op'><a href='https://rdrr.io/r/base/match.html'>%in%</a></span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Latin America and Carribean"</span>, <span class='st'>"Latin America and Caribbean"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>|&gt;</span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>region <span class='op'>=</span> <span class='st'>"Latin America and Caribbean"</span><span class='op'>)</span> <span class='op'>|&gt;</span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/group_by.html'>group_by</a></span><span class='op'>(</span><span class='va'>YEAR</span>, region <span class='op'>=</span> <span class='st'>"Latin America and Caribbean"</span>, <span class='va'>source</span><span class='op'>)</span> <span class='op'>|&gt;</span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/summarise.html'>summarise</a></span><span class='op'>(</span></span>
<span>    GDP <span class='op'>=</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/nth.html'>first</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/stats/na.fail.html'>na.omit</a></span><span class='op'>(</span><span class='va'>GDP</span><span class='op'>)</span><span class='op'>)</span>,</span>
<span>    poverty <span class='op'>=</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/nth.html'>first</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/stats/na.fail.html'>na.omit</a></span><span class='op'>(</span><span class='va'>poverty</span><span class='op'>)</span><span class='op'>)</span>,</span>
<span>    .groups <span class='op'>=</span> <span class='st'>"drop"</span></span>
<span>  <span class='op'>)</span></span>
<span><span class='co'># View(clean_latin) # 22 obs (12 deleted)</span></span>
<span></span>
<span><span class='co'># remove south and southeast asia from original dataset </span></span>
<span><span class='va'>world</span> <span class='op'>&lt;-</span> <span class='va'>world</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='op'>!</span><span class='va'>region</span> <span class='op'><a href='https://rdrr.io/r/base/match.html'>%in%</a></span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Latin America and Carribean"</span>, </span>
<span>                        <span class='st'>"Latin America and Caribbean"</span><span class='op'>)</span><span class='op'>)</span></span>
<span><span class='co'># View(world) # 175 obs </span></span>
<span></span>
<span></span>
<span><span class='co'># combine data </span></span>
<span><span class='va'>clean_world</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/bind_rows.html'>bind_rows</a></span><span class='op'>(</span><span class='va'>world</span>, <span class='va'>clean_latin</span><span class='op'>)</span></span>
<span></span>
<span><span class='co'># View(clean_world) # 197 obs</span></span>
<span></span>
<span><span class='va'>world</span> <span class='op'>&lt;-</span> <span class='va'>clean_world</span></span>
<span></span>
<span><span class='co'># unique(world$region) # 9 regions =&gt; 9 graphs </span></span>
<span></span>
<span><span class='co'># View(world)</span></span>
<span></span>
<span></span>
<span><span class='co'>############### Recode names </span></span>
<span></span>
<span><span class='va'>world</span> <span class='op'>&lt;-</span> <span class='va'>world</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>region <span class='op'>=</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/recode.html'>recode</a></span><span class='op'>(</span><span class='va'>region</span>,</span>
<span>                         <span class='st'>"Western Offshoots"</span> <span class='op'>=</span> </span>
<span>                           <span class='st'>"Australia, New Zealand, USA and Canada"</span><span class='op'>)</span>, </span>
<span>         region <span class='op'>=</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/recode.html'>recode</a></span><span class='op'>(</span><span class='va'>region</span>, <span class='st'>"World"</span> <span class='op'>=</span> <span class='st'>"Global Average"</span><span class='op'>)</span><span class='op'>)</span></span>
<span></span>
<span></span>
<span><span class='co'># View(world)</span></span></code></pre>
</div>
</div>
<h3 id="supplementing-data-for-world-global-average">Supplementing data for World (Global Average)</h3>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'>######################################## Supplement data: WORLD </span></span>
<span><span class='co'>####### World (Global Average) =&gt; add poverty &amp; GDP averages </span></span>
<span></span>
<span><span class='co'># calculate means for GDP and poverty by YEAR, excluding "World"</span></span>
<span><span class='va'>world_mean</span> <span class='op'>&lt;-</span> <span class='va'>world</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>region</span> <span class='op'>!=</span> <span class='st'>"Global Average"</span><span class='op'>)</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/group_by.html'>group_by</a></span><span class='op'>(</span><span class='va'>YEAR</span><span class='op'>)</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/summarise.html'>summarise</a></span><span class='op'>(</span></span>
<span>    avg_poverty <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/mean.html'>mean</a></span><span class='op'>(</span><span class='va'>poverty</span>, na.rm <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>, </span>
<span>    avg_gdp <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/mean.html'>mean</a></span><span class='op'>(</span><span class='va'>GDP</span>, na.rm <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>, </span>
<span>    .groups <span class='op'>=</span> <span class='st'>"drop"</span></span>
<span>  <span class='op'>)</span></span>
<span></span>
<span><span class='co'># View(world_mean)</span></span>
<span></span>
<span><span class='co'># supplementing "world" dataset with these means (updating "World" region rows)</span></span>
<span><span class='va'>world_supplemented</span> <span class='op'>&lt;-</span> <span class='va'>world</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate-joins.html'>left_join</a></span><span class='op'>(</span><span class='va'>world_mean</span>, by <span class='op'>=</span> <span class='st'>"YEAR"</span><span class='op'>)</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span></span>
<span>    poverty <span class='op'>=</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/if_else.html'>if_else</a></span><span class='op'>(</span></span>
<span>      <span class='va'>region</span> <span class='op'>==</span> <span class='st'>"Global Average"</span> <span class='op'>&amp;</span> <span class='fu'><a href='https://rdrr.io/r/base/NA.html'>is.na</a></span><span class='op'>(</span><span class='va'>poverty</span><span class='op'>)</span>, </span>
<span>      <span class='va'>avg_poverty</span>, </span>
<span>      <span class='va'>poverty</span><span class='op'>)</span>,</span>
<span>    GDP <span class='op'>=</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/if_else.html'>if_else</a></span><span class='op'>(</span></span>
<span>      <span class='va'>region</span> <span class='op'>==</span> <span class='st'>"Global Average"</span> <span class='op'>&amp;</span> <span class='fu'><a href='https://rdrr.io/r/base/NA.html'>is.na</a></span><span class='op'>(</span><span class='va'>GDP</span><span class='op'>)</span>, </span>
<span>      <span class='va'>avg_gdp</span>, </span>
<span>      <span class='va'>GDP</span><span class='op'>)</span></span>
<span>  <span class='op'>)</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/select.html'>select</a></span><span class='op'>(</span><span class='op'>-</span><span class='va'>avg_poverty</span>, <span class='op'>-</span><span class='va'>avg_gdp</span><span class='op'>)</span>  <span class='co'># remove temporary average columns</span></span>
<span></span>
<span><span class='co'># View(world_supplemented) # 197 obs </span></span>
<span></span>
<span><span class='va'>world</span> <span class='op'>&lt;-</span> <span class='va'>world_supplemented</span></span></code></pre>
</div>
</div>
<h2 id="replication-process-graph">Replication process: Graph</h2>
<p>(no, they dont have logical order, i just did what i could and what bugged me at the moment)</p>
<h3 id="starting-point-facet_wrap-by-region">Starting point: facet_wrap by region</h3>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'>##################### simple line graph  </span></span>
<span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='va'>world</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>GDP</span>, y <span class='op'>=</span> <span class='va'>poverty</span>, color <span class='op'>=</span> <span class='va'>region</span><span class='op'>)</span> <span class='op'>+</span> </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_path.html'>geom_path</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_continuous.html'>scale_x_log10</a></span><span class='op'>(</span>labels <span class='op'>=</span> <span class='fu'>scales</span><span class='fu'>::</span><span class='va'><a href='https://scales.r-lib.org/reference/comma.html'>comma</a></span><span class='op'>)</span> <span class='op'>+</span>  <span class='co'># Log scale for GDP</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_continuous.html'>scale_y_continuous</a></span><span class='op'>(</span>labels <span class='op'>=</span> <span class='fu'>scales</span><span class='fu'>::</span><span class='fu'><a href='https://scales.r-lib.org/reference/percent_format.html'>percent_format</a></span><span class='op'>(</span>scale <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>  <span class='co'># Percentage for poverty</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/facet_wrap.html'>facet_wrap</a></span><span class='op'>(</span><span class='op'>~</span> <span class='va'>region</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_minimal</a></span><span class='op'>(</span><span class='op'>)</span> </span></code></pre>
</div>
<p><img src="100546612_files/figure-html5/unnamed-chunk-6-1.png" width="624" /></p>
</div>
<h3 id="removing-stuff-and-adding-stuff">Removing stuff and adding stuff</h3>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'>#-   Excluding NAs (because data a bitch, will give us finally the correct lines)</span></span>
<span><span class='co'>#-   ordering the countries and giving them correct colors</span></span>
<span><span class='co'>#-   taking away legend, labs and individual graph titles</span></span>
<span><span class='co'>##################### order countries </span></span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://forcats.tidyverse.org/'>forcats</a></span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>data_fct</span> <span class='op'>&lt;-</span> <span class='va'>world</span> <span class='op'>|&gt;</span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>region <span class='op'>=</span> <span class='fu'><a href='https://forcats.tidyverse.org/reference/fct_relevel.html'>fct_relevel</a></span><span class='op'>(</span><span class='va'>region</span>,</span>
<span>    <span class='st'>"Global Average"</span>,</span>
<span>    <span class='st'>"Western Europe"</span>,</span>
<span>    <span class='st'>"Australia, New Zealand, USA and Canada"</span>,</span>
<span>    <span class='st'>"Middle East and North Africa"</span>,</span>
<span>    <span class='st'>"Eastern Europe"</span>,</span>
<span>    <span class='st'>"Sub-Saharan Africa"</span>,</span>
<span>    <span class='st'>"East Asia"</span>,</span>
<span>    <span class='st'>"South and Southeast Asia"</span>,</span>
<span>    <span class='st'>"Latin America and Caribbean"</span></span>
<span>  <span class='op'>)</span><span class='op'>)</span></span>
<span></span>
<span><span class='co'>##################### exclude NAs</span></span>
<span></span>
<span><span class='va'>data_filtered</span> <span class='op'>&lt;-</span> <span class='va'>data_fct</span> <span class='op'>|&gt;</span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='op'>!</span><span class='fu'><a href='https://rdrr.io/r/base/NA.html'>is.na</a></span><span class='op'>(</span><span class='va'>poverty</span><span class='op'>)</span> <span class='op'>&amp;</span> <span class='op'>!</span><span class='fu'><a href='https://rdrr.io/r/base/NA.html'>is.na</a></span><span class='op'>(</span><span class='va'>GDP</span><span class='op'>)</span><span class='op'>)</span> </span>
<span></span>
<span><span class='co'># View(data_filtered)</span></span>
<span></span>
<span><span class='co'>##################### simple line graph with colours and no legend </span></span>
<span></span>
<span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='va'>data_filtered</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>GDP</span>, y <span class='op'>=</span> <span class='va'>poverty</span>, color <span class='op'>=</span> <span class='va'>region</span><span class='op'>)</span> <span class='op'>+</span> </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_path.html'>geom_path</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_continuous.html'>scale_x_log10</a></span><span class='op'>(</span>labels <span class='op'>=</span> <span class='fu'>scales</span><span class='fu'>::</span><span class='va'><a href='https://scales.r-lib.org/reference/comma.html'>comma</a></span><span class='op'>)</span> <span class='op'>+</span>  </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_continuous.html'>scale_y_continuous</a></span><span class='op'>(</span>labels <span class='op'>=</span> <span class='fu'>scales</span><span class='fu'>::</span><span class='fu'><a href='https://scales.r-lib.org/reference/percent_format.html'>percent_format</a></span><span class='op'>(</span>scale <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span> </span>
<span>  <span class='co'>##################### inserting colours</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_color_manual</a></span><span class='op'>(</span>values <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span> </span>
<span>                    <span class='st'>"Global Average"</span> <span class='op'>=</span> <span class='st'>"#840037"</span>,</span>
<span>                    <span class='st'>"Western Europe"</span> <span class='op'>=</span> <span class='st'>"#203558"</span>,</span>
<span>                    <span class='st'>"Australia, New Zealand, USA and Canada"</span> <span class='op'>=</span> <span class='st'>"#3f3386"</span>,</span>
<span>                    <span class='st'>"Middle East and North Africa"</span> <span class='op'>=</span> <span class='st'>"#845100"</span>,</span>
<span>                    <span class='st'>"Eastern Europe"</span> <span class='op'>=</span> <span class='st'>"#057ea1"</span>,</span>
<span>                    <span class='st'>"Sub-Saharan Africa"</span> <span class='op'>=</span> <span class='st'>"#951c73"</span>,</span>
<span>                    <span class='st'>"East Asia"</span> <span class='op'>=</span> <span class='st'>"#30918d"</span>,</span>
<span>                    <span class='st'>"South and Southeast Asia"</span> <span class='op'>=</span> <span class='st'>"#e0902f"</span>,</span>
<span>                    <span class='st'>"Latin America and Caribbean"</span> <span class='op'>=</span> <span class='st'>"#d54c3f"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span> </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/facet_wrap.html'>facet_wrap</a></span><span class='op'>(</span><span class='op'>~</span> <span class='va'>region</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_minimal</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span> </span>
<span>  <span class='co'>##################### changes in theme: removing legend, x and y labs, titles </span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span></span>
<span>    legend.position <span class='op'>=</span> <span class='st'>"none"</span>, </span>
<span>    strip.text <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>,</span>
<span>    axis.title <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span></span></code></pre>
</div>
<p><img src="100546612_files/figure-html5/unnamed-chunk-7-1.png" width="624" /></p>
</div>
<h3 id="axis-3-different-paths">Axis (3 different paths)</h3>
<ul>
<li><strong>Automation vs Manually</strong></li>
</ul>
<p>=&gt; changing <code>scale_x</code>/<code>scale_y</code> and <code>theme</code> VS <u><code>geom_segment</code></u> VS <code>annotate</code></p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'># for readibility we give it a shorter name</span></span>
<span><span class='va'>row_per_region</span> <span class='op'>&lt;-</span> <span class='va'>data_filtered</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/distinct.html'>distinct</a></span><span class='op'>(</span><span class='va'>region</span>, .keep_all <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>region <span class='op'>=</span> <span class='fu'><a href='https://forcats.tidyverse.org/reference/fct_relevel.html'>fct_relevel</a></span><span class='op'>(</span><span class='va'>region</span>,</span>
<span>    <span class='st'>"Global Average"</span>,</span>
<span>    <span class='st'>"Western Europe"</span>,</span>
<span>    <span class='st'>"Australia, New Zealand, USA and Canada"</span>,</span>
<span>    <span class='st'>"Middle East and North Africa"</span>,</span>
<span>    <span class='st'>"Eastern Europe"</span>,</span>
<span>    <span class='st'>"Sub-Saharan Africa"</span>,</span>
<span>    <span class='st'>"East Asia"</span>,</span>
<span>    <span class='st'>"South and Southeast Asia"</span>,</span>
<span>    <span class='st'>"Latin America and Caribbean"</span></span>
<span>  <span class='op'>)</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'># graph</span></span>
<span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='va'>data_filtered</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>GDP</span>, y <span class='op'>=</span> <span class='va'>poverty</span>, color <span class='op'>=</span> <span class='va'>region</span><span class='op'>)</span> <span class='op'>+</span> </span>
<span></span>
<span>  <span class='co'>##################### CUSTOM GRID</span></span>
<span>  </span>
<span>  <span class='co'># x axis grid lines (vertical lines)</span></span>
<span>  </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_segment.html'>geom_segment</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>row_per_region</span>, </span>
<span>               <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>1000</span>, xend <span class='op'>=</span> <span class='fl'>1000</span>, y <span class='op'>=</span> <span class='fl'>0</span>, yend <span class='op'>=</span> <span class='fl'>100</span><span class='op'>)</span>, </span>
<span>               linetype <span class='op'>=</span> <span class='st'>"11"</span>, color <span class='op'>=</span> <span class='st'>"#d9d8d7"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_segment.html'>geom_segment</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>row_per_region</span>, </span>
<span>               <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>2000</span>, xend <span class='op'>=</span> <span class='fl'>2000</span>, y <span class='op'>=</span> <span class='fl'>0</span>, yend <span class='op'>=</span> <span class='fl'>100</span><span class='op'>)</span>, </span>
<span>               linetype <span class='op'>=</span> <span class='st'>"11"</span>, color <span class='op'>=</span> <span class='st'>"#d9d8d7"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_segment.html'>geom_segment</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>row_per_region</span>, </span>
<span>               <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>5000</span>, xend <span class='op'>=</span> <span class='fl'>5000</span>, y <span class='op'>=</span> <span class='fl'>0</span>, yend <span class='op'>=</span> <span class='fl'>100</span><span class='op'>)</span>,</span>
<span>               linetype <span class='op'>=</span> <span class='st'>"11"</span>, color <span class='op'>=</span> <span class='st'>"#d9d8d7"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_segment.html'>geom_segment</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>row_per_region</span>, </span>
<span>               <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>10000</span>, xend <span class='op'>=</span> <span class='fl'>10000</span>, y <span class='op'>=</span> <span class='fl'>0</span>, yend <span class='op'>=</span> <span class='fl'>100</span><span class='op'>)</span>, </span>
<span>               linetype <span class='op'>=</span> <span class='st'>"11"</span>, color <span class='op'>=</span> <span class='st'>"#d9d8d7"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_segment.html'>geom_segment</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>row_per_region</span>, </span>
<span>               <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>20000</span>, xend <span class='op'>=</span> <span class='fl'>20000</span>, y <span class='op'>=</span> <span class='fl'>0</span>, yend <span class='op'>=</span> <span class='fl'>100</span><span class='op'>)</span>, </span>
<span>               linetype <span class='op'>=</span> <span class='st'>"11"</span>, color <span class='op'>=</span> <span class='st'>"#d9d8d7"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_segment.html'>geom_segment</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>row_per_region</span>, </span>
<span>               <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>50000</span>, xend <span class='op'>=</span> <span class='fl'>50000</span>, y <span class='op'>=</span> <span class='fl'>0</span>, yend <span class='op'>=</span> <span class='fl'>100</span><span class='op'>)</span>, </span>
<span>               linetype <span class='op'>=</span> <span class='st'>"11"</span>, color <span class='op'>=</span> <span class='st'>"#d9d8d7"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span></span>
<span>  <span class='co'># y axis grid lines (horizontal lines): 800:57000 to come closer to original graph (range of GDP values + padding to the right)</span></span>
<span>  </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_segment.html'>geom_segment</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>row_per_region</span>, </span>
<span>               <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>800</span>, xend <span class='op'>=</span> <span class='fl'>57000</span>, y <span class='op'>=</span> <span class='fl'>0</span>, yend <span class='op'>=</span> <span class='fl'>0</span><span class='op'>)</span>, </span>
<span>               linetype <span class='op'>=</span> <span class='st'>"solid"</span>, color <span class='op'>=</span> <span class='st'>"#c6c6c6"</span><span class='op'>)</span> <span class='op'>+</span> <span class='co'># custom thick</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_segment.html'>geom_segment</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>row_per_region</span>, </span>
<span>               <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>800</span>, xend <span class='op'>=</span> <span class='fl'>57000</span>, y <span class='op'>=</span> <span class='fl'>25</span>, yend <span class='op'>=</span> <span class='fl'>25</span><span class='op'>)</span>, </span>
<span>               linetype <span class='op'>=</span> <span class='st'>"11"</span>, color <span class='op'>=</span> <span class='st'>"#d9d8d7"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_segment.html'>geom_segment</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>row_per_region</span>,</span>
<span>               <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>800</span>, xend <span class='op'>=</span> <span class='fl'>57000</span>, y <span class='op'>=</span> <span class='fl'>50</span>, yend <span class='op'>=</span> <span class='fl'>50</span><span class='op'>)</span>, </span>
<span>               linetype <span class='op'>=</span> <span class='st'>"11"</span>, color <span class='op'>=</span> <span class='st'>"#d9d8d7"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_segment.html'>geom_segment</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>row_per_region</span>, </span>
<span>               <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>800</span>, xend <span class='op'>=</span> <span class='fl'>57000</span>, y <span class='op'>=</span> <span class='fl'>75</span>, yend <span class='op'>=</span> <span class='fl'>75</span><span class='op'>)</span>, </span>
<span>               linetype <span class='op'>=</span> <span class='st'>"11"</span>, color <span class='op'>=</span> <span class='st'>"#d9d8d7"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_segment.html'>geom_segment</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>row_per_region</span>, </span>
<span>               <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>800</span>, xend <span class='op'>=</span> <span class='fl'>57000</span>, y <span class='op'>=</span> <span class='fl'>100</span>, yend <span class='op'>=</span> <span class='fl'>100</span><span class='op'>)</span>, </span>
<span>               linetype <span class='op'>=</span> <span class='st'>"solid"</span>, color <span class='op'>=</span> <span class='st'>"#c6c6c6"</span><span class='op'>)</span> <span class='op'>+</span> <span class='co'># custom thick</span></span>
<span>  </span>
<span>  <span class='co'>##################### adjust x axis breaks + guides/labels details' ($ and . )</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_continuous.html'>scale_x_log10</a></span><span class='op'>(</span>breaks <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1000</span>, <span class='fl'>2000</span>, <span class='fl'>5000</span>, <span class='fl'>10000</span>, <span class='fl'>20000</span>, <span class='fl'>50000</span><span class='op'>)</span>,</span>
<span>                minor_breaks <span class='op'>=</span> <span class='cn'>NULL</span>,</span>
<span>                labels <span class='op'>=</span> <span class='fu'>scales</span><span class='fu'>::</span><span class='fu'><a href='https://scales.r-lib.org/reference/label_number.html'>label_number</a></span><span class='op'>(</span></span>
<span>                  big.mark <span class='op'>=</span> <span class='st'>"."</span>,prefix <span class='op'>=</span> <span class='st'>"$"</span>, decimal.mark <span class='op'>=</span> <span class='st'>"none"</span><span class='op'>)</span></span>
<span>                <span class='op'>)</span> <span class='op'>+</span> </span>
<span>  </span>
<span>  <span class='co'>##################### adjust y axis breaks and guides/label details (percent_format)</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_continuous.html'>scale_y_continuous</a></span><span class='op'>(</span>breaks <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>25</span>, <span class='fl'>50</span>, <span class='fl'>75</span>, <span class='fl'>100</span><span class='op'>)</span>,</span>
<span>                     minor_breaks <span class='op'>=</span> <span class='cn'>NULL</span>,</span>
<span>                     labels <span class='op'>=</span> <span class='fu'>scales</span><span class='fu'>::</span><span class='fu'><a href='https://scales.r-lib.org/reference/percent_format.html'>percent_format</a></span><span class='op'>(</span>scale <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span></span>
<span>                     <span class='op'>)</span> <span class='op'>+</span></span>
<span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_color_manual</a></span><span class='op'>(</span>values <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span></span>
<span>                    <span class='st'>"Global Average"</span> <span class='op'>=</span> <span class='st'>"#840037"</span>,</span>
<span>                    <span class='st'>"Western Europe"</span> <span class='op'>=</span> <span class='st'>"#203558"</span>,</span>
<span>                    <span class='st'>"Australia, New Zealand, USA and Canada"</span> <span class='op'>=</span> <span class='st'>"#3f3386"</span>,</span>
<span>                    <span class='st'>"Middle East and North Africa"</span> <span class='op'>=</span> <span class='st'>"#845100"</span>,</span>
<span>                    <span class='st'>"Eastern Europe"</span> <span class='op'>=</span> <span class='st'>"#057ea1"</span>,</span>
<span>                    <span class='st'>"Sub-Saharan Africa"</span> <span class='op'>=</span> <span class='st'>"#951c73"</span>,</span>
<span>                    <span class='st'>"East Asia"</span> <span class='op'>=</span> <span class='st'>"#30918d"</span>,</span>
<span>                    <span class='st'>"South and Southeast Asia"</span> <span class='op'>=</span> <span class='st'>"#e0902f"</span>,</span>
<span>                    <span class='st'>"Latin America and Caribbean"</span> <span class='op'>=</span> <span class='st'>"#d54c3f"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span> </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_path.html'>geom_path</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/facet_wrap.html'>facet_wrap</a></span><span class='op'>(</span><span class='op'>~</span> <span class='va'>region</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_minimal</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span> </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span></span>
<span>    legend.position <span class='op'>=</span> <span class='st'>"none"</span>, </span>
<span>    strip.text <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>,</span>
<span>    axis.title <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>, </span>
<span>    </span>
<span>    <span class='co'>##################### changing appearance of x and y axis guides/labels </span></span>
<span>    axis.text <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>family <span class='op'>=</span> <span class='st'>"lato_light"</span>, colour <span class='op'>=</span> <span class='st'>"#515151"</span>, size <span class='op'>=</span> <span class='fl'>6</span><span class='op'>)</span>,  <span class='co'># we rewrite this later on </span></span>
<span>    </span>
<span>    </span>
<span>    <span class='co'>##################### removing ggplot's default grid lines </span></span>
<span>    panel.grid.major <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>,</span>
<span>    panel.grid.minor <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>,</span>
<span>    <span class='op'>)</span></span></code></pre>
</div>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'># -   Insert x and y axis guides for all panels</span></span>
<span><span class='co'># we set the scales free and manually set the limits for all panels equal </span></span>
<span><span class='co'>#| eval: true</span></span>
<span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='va'>data_filtered</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>GDP</span>, y <span class='op'>=</span> <span class='va'>poverty</span>, color <span class='op'>=</span> <span class='va'>region</span><span class='op'>)</span> <span class='op'>+</span> </span>
<span>  </span>
<span>  <span class='co'># x axis</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_segment.html'>geom_segment</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>row_per_region</span>, </span>
<span>               <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>1000</span>, xend <span class='op'>=</span> <span class='fl'>1000</span>, y <span class='op'>=</span> <span class='fl'>0</span>, yend <span class='op'>=</span> <span class='fl'>100</span><span class='op'>)</span>, </span>
<span>               linetype <span class='op'>=</span> <span class='st'>"11"</span>, color <span class='op'>=</span> <span class='st'>"#d9d8d7"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_segment.html'>geom_segment</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>row_per_region</span>, </span>
<span>               <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>2000</span>, xend <span class='op'>=</span> <span class='fl'>2000</span>, y <span class='op'>=</span> <span class='fl'>0</span>, yend <span class='op'>=</span> <span class='fl'>100</span><span class='op'>)</span>, </span>
<span>               linetype <span class='op'>=</span> <span class='st'>"11"</span>, color <span class='op'>=</span> <span class='st'>"#d9d8d7"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_segment.html'>geom_segment</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>row_per_region</span>, </span>
<span>               <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>5000</span>, xend <span class='op'>=</span> <span class='fl'>5000</span>, y <span class='op'>=</span> <span class='fl'>0</span>, yend <span class='op'>=</span> <span class='fl'>100</span><span class='op'>)</span>,</span>
<span>               linetype <span class='op'>=</span> <span class='st'>"11"</span>, color <span class='op'>=</span> <span class='st'>"#d9d8d7"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_segment.html'>geom_segment</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>row_per_region</span>, </span>
<span>               <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>10000</span>, xend <span class='op'>=</span> <span class='fl'>10000</span>, y <span class='op'>=</span> <span class='fl'>0</span>, yend <span class='op'>=</span> <span class='fl'>100</span><span class='op'>)</span>, </span>
<span>               linetype <span class='op'>=</span> <span class='st'>"11"</span>, color <span class='op'>=</span> <span class='st'>"#d9d8d7"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_segment.html'>geom_segment</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>row_per_region</span>, </span>
<span>               <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>20000</span>, xend <span class='op'>=</span> <span class='fl'>20000</span>, y <span class='op'>=</span> <span class='fl'>0</span>, yend <span class='op'>=</span> <span class='fl'>100</span><span class='op'>)</span>, </span>
<span>               linetype <span class='op'>=</span> <span class='st'>"11"</span>, color <span class='op'>=</span> <span class='st'>"#d9d8d7"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_segment.html'>geom_segment</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>row_per_region</span>, </span>
<span>               <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>50000</span>, xend <span class='op'>=</span> <span class='fl'>50000</span>, y <span class='op'>=</span> <span class='fl'>0</span>, yend <span class='op'>=</span> <span class='fl'>100</span><span class='op'>)</span>, </span>
<span>               linetype <span class='op'>=</span> <span class='st'>"11"</span>, color <span class='op'>=</span> <span class='st'>"#d9d8d7"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span></span>
<span>  <span class='co'># y axis</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_segment.html'>geom_segment</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>row_per_region</span>, </span>
<span>               <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>800</span>, xend <span class='op'>=</span> <span class='fl'>57000</span>, y <span class='op'>=</span> <span class='fl'>0</span>, yend <span class='op'>=</span> <span class='fl'>0</span><span class='op'>)</span>, </span>
<span>               linetype <span class='op'>=</span> <span class='st'>"solid"</span>, color <span class='op'>=</span> <span class='st'>"#c6c6c6"</span><span class='op'>)</span> <span class='op'>+</span> </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_segment.html'>geom_segment</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>row_per_region</span>, </span>
<span>               <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>800</span>, xend <span class='op'>=</span> <span class='fl'>57000</span>, y <span class='op'>=</span> <span class='fl'>25</span>, yend <span class='op'>=</span> <span class='fl'>25</span><span class='op'>)</span>, </span>
<span>               linetype <span class='op'>=</span> <span class='st'>"11"</span>, color <span class='op'>=</span> <span class='st'>"#d9d8d7"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_segment.html'>geom_segment</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>row_per_region</span>,</span>
<span>               <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>800</span>, xend <span class='op'>=</span> <span class='fl'>57000</span>, y <span class='op'>=</span> <span class='fl'>50</span>, yend <span class='op'>=</span> <span class='fl'>50</span><span class='op'>)</span>, </span>
<span>               linetype <span class='op'>=</span> <span class='st'>"11"</span>, color <span class='op'>=</span> <span class='st'>"#d9d8d7"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_segment.html'>geom_segment</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>row_per_region</span>, </span>
<span>               <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>800</span>, xend <span class='op'>=</span> <span class='fl'>57000</span>, y <span class='op'>=</span> <span class='fl'>75</span>, yend <span class='op'>=</span> <span class='fl'>75</span><span class='op'>)</span>, </span>
<span>               linetype <span class='op'>=</span> <span class='st'>"11"</span>, color <span class='op'>=</span> <span class='st'>"#d9d8d7"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_segment.html'>geom_segment</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>row_per_region</span>, </span>
<span>               <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>800</span>, xend <span class='op'>=</span> <span class='fl'>57000</span>, y <span class='op'>=</span> <span class='fl'>100</span>, yend <span class='op'>=</span> <span class='fl'>100</span><span class='op'>)</span>, </span>
<span>               linetype <span class='op'>=</span> <span class='st'>"solid"</span>, color <span class='op'>=</span> <span class='st'>"#c6c6c6"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span></span>
<span>  <span class='co'>##################### set scales free so that all panels show scales</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/facet_wrap.html'>facet_wrap</a></span><span class='op'>(</span><span class='op'>~</span> <span class='va'>region</span>, scales <span class='op'>=</span> <span class='st'>"free"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_continuous.html'>scale_x_log10</a></span><span class='op'>(</span>breaks <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1000</span>, <span class='fl'>2000</span>, <span class='fl'>5000</span>, <span class='fl'>10000</span>, <span class='fl'>20000</span>, <span class='fl'>50000</span><span class='op'>)</span>,</span>
<span>                minor_breaks <span class='op'>=</span> <span class='cn'>NULL</span>,</span>
<span>                labels <span class='op'>=</span> <span class='fu'>scales</span><span class='fu'>::</span><span class='fu'><a href='https://scales.r-lib.org/reference/label_number.html'>label_number</a></span><span class='op'>(</span></span>
<span>                  big.mark <span class='op'>=</span> <span class='st'>"."</span>,prefix <span class='op'>=</span> <span class='st'>"$"</span>, decimal.mark <span class='op'>=</span> <span class='st'>"none"</span><span class='op'>)</span>,</span>
<span>                </span>
<span>                <span class='co'>##################### set limits for x axis </span></span>
<span>                limits <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>800</span>, <span class='fl'>57000</span><span class='op'>)</span> </span>
<span>                <span class='op'>)</span> <span class='op'>+</span> </span>
<span>  </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_continuous.html'>scale_y_continuous</a></span><span class='op'>(</span>breaks <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>25</span>, <span class='fl'>50</span>, <span class='fl'>75</span>, <span class='fl'>100</span><span class='op'>)</span>,</span>
<span>                     minor_breaks <span class='op'>=</span> <span class='cn'>NULL</span>,</span>
<span>                     labels <span class='op'>=</span> <span class='fu'>scales</span><span class='fu'>::</span><span class='fu'><a href='https://scales.r-lib.org/reference/percent_format.html'>percent_format</a></span><span class='op'>(</span>scale <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span>, </span>
<span>                     </span>
<span>                     <span class='co'>##################### set limits for y axis</span></span>
<span>                     limits <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>100</span><span class='op'>)</span></span>
<span>                     <span class='op'>)</span> <span class='op'>+</span></span>
<span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_color_manual</a></span><span class='op'>(</span>values <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span></span>
<span>                    <span class='st'>"Global Average"</span> <span class='op'>=</span> <span class='st'>"#840037"</span>,</span>
<span>                    <span class='st'>"Western Europe"</span> <span class='op'>=</span> <span class='st'>"#203558"</span>,</span>
<span>                    <span class='st'>"Australia, New Zealand, USA and Canada"</span> <span class='op'>=</span> <span class='st'>"#3f3386"</span>,</span>
<span>                    <span class='st'>"Middle East and North Africa"</span> <span class='op'>=</span> <span class='st'>"#845100"</span>,</span>
<span>                    <span class='st'>"Eastern Europe"</span> <span class='op'>=</span> <span class='st'>"#057ea1"</span>,</span>
<span>                    <span class='st'>"Sub-Saharan Africa"</span> <span class='op'>=</span> <span class='st'>"#951c73"</span>,</span>
<span>                    <span class='st'>"East Asia"</span> <span class='op'>=</span> <span class='st'>"#30918d"</span>,</span>
<span>                    <span class='st'>"South and Southeast Asia"</span> <span class='op'>=</span> <span class='st'>"#e0902f"</span>,</span>
<span>                    <span class='st'>"Latin America and Caribbean"</span> <span class='op'>=</span> <span class='st'>"#d54c3f"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span> </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_path.html'>geom_path</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_minimal</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span> </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span></span>
<span>    legend.position <span class='op'>=</span> <span class='st'>"none"</span>, </span>
<span>    strip.text <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>,</span>
<span>    axis.title <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>, </span>
<span>    axis.text <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>family <span class='op'>=</span> <span class='st'>"lato_light"</span>, colour <span class='op'>=</span> <span class='st'>"#515151"</span>, size <span class='op'>=</span> <span class='fl'>6</span><span class='op'>)</span>,  <span class='co'># we rewrite this later on </span></span>
<span>    panel.grid.major <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>,</span>
<span>    panel.grid.minor <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>,</span>
<span>    <span class='op'>)</span></span></code></pre>
</div>
<p><img src="100546612_files/figure-html5/unnamed-chunk-10-1.png" width="624" /></p>
</div>
<p>Recurring problem: i have to change the order of the commands</p>
<h3 id="theme-and-parameters-changing-a-lot-of-numbers">Theme and Parameters: changing a lot of numbers</h3>
<p>{r, layout=“l-body-outset”, fig.width = 8, fig.height = 5.8, fig.dpi = 300}</p>
<div class="layout-chunk" data-layout="l-body-outset">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'># Changes:</span></span>
<span></span>
<span><span class='co'># -   Take into consideration final parameters of website: change sizes (lines and text!</span></span>
<span><span class='co'># -   Background of panels</span></span>
<span><span class='co'># -   x and y axis labels inside panel</span></span>
<span><span class='co'># -   Spacing between graphs</span></span>
<span></span>
<span></span>
<span><span class='co'>#| eval: false</span></span>
<span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='va'>data_filtered</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>GDP</span>, y <span class='op'>=</span> <span class='va'>poverty</span>, color <span class='op'>=</span> <span class='va'>region</span><span class='op'>)</span> <span class='op'>+</span> </span>
<span>  </span>
<span>  <span class='co'># x axis</span></span>
<span>  </span>
<span>  <span class='co'>##################### changes for parameters</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_segment.html'>geom_segment</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>row_per_region</span>, </span>
<span>               <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>1000</span>, xend <span class='op'>=</span> <span class='fl'>1000</span>, y <span class='op'>=</span> <span class='fl'>0</span>, yend <span class='op'>=</span> <span class='fl'>100</span><span class='op'>)</span>, </span>
<span>               linetype <span class='op'>=</span> <span class='st'>"11"</span>, linewidth <span class='op'>=</span> <span class='fl'>0.30</span>, color <span class='op'>=</span> <span class='st'>"#ebebeb"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_segment.html'>geom_segment</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>row_per_region</span>, </span>
<span>               <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>2000</span>, xend <span class='op'>=</span> <span class='fl'>2000</span>, y <span class='op'>=</span> <span class='fl'>0</span>, yend <span class='op'>=</span> <span class='fl'>100</span><span class='op'>)</span>, </span>
<span>               linetype <span class='op'>=</span> <span class='st'>"21"</span>, linewidth <span class='op'>=</span> <span class='fl'>0.30</span>, color <span class='op'>=</span> <span class='st'>"#ebebeb"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_segment.html'>geom_segment</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>row_per_region</span>, </span>
<span>               <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>5000</span>, xend <span class='op'>=</span> <span class='fl'>5000</span>, y <span class='op'>=</span> <span class='fl'>0</span>, yend <span class='op'>=</span> <span class='fl'>100</span><span class='op'>)</span>,</span>
<span>               linetype <span class='op'>=</span> <span class='st'>"21"</span>, linewidth <span class='op'>=</span> <span class='fl'>0.30</span>, color <span class='op'>=</span> <span class='st'>"#ebebeb"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_segment.html'>geom_segment</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>row_per_region</span>, </span>
<span>               <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>10000</span>, xend <span class='op'>=</span> <span class='fl'>10000</span>, y <span class='op'>=</span> <span class='fl'>0</span>, yend <span class='op'>=</span> <span class='fl'>100</span><span class='op'>)</span>, </span>
<span>               linetype <span class='op'>=</span> <span class='st'>"21"</span>, linewidth <span class='op'>=</span> <span class='fl'>0.30</span>, color <span class='op'>=</span> <span class='st'>"#ebebeb"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_segment.html'>geom_segment</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>row_per_region</span>, </span>
<span>               <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>20000</span>, xend <span class='op'>=</span> <span class='fl'>20000</span>, y <span class='op'>=</span> <span class='fl'>0</span>, yend <span class='op'>=</span> <span class='fl'>100</span><span class='op'>)</span>, </span>
<span>               linetype <span class='op'>=</span> <span class='st'>"21"</span>, linewidth <span class='op'>=</span> <span class='fl'>0.30</span>, color <span class='op'>=</span> <span class='st'>"#ebebeb"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_segment.html'>geom_segment</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>row_per_region</span>, </span>
<span>               <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>50000</span>, xend <span class='op'>=</span> <span class='fl'>50000</span>, y <span class='op'>=</span> <span class='fl'>0</span>, yend <span class='op'>=</span> <span class='fl'>100</span><span class='op'>)</span>, </span>
<span>               linetype <span class='op'>=</span> <span class='st'>"21"</span>, linewidth <span class='op'>=</span> <span class='fl'>0.30</span>, color <span class='op'>=</span> <span class='st'>"#ebebeb"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span></span>
<span>  <span class='co'># y axis</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_segment.html'>geom_segment</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>row_per_region</span>, </span>
<span>               <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>800</span>, xend <span class='op'>=</span> <span class='fl'>57000</span>, y <span class='op'>=</span> <span class='fl'>0</span>, yend <span class='op'>=</span> <span class='fl'>0</span><span class='op'>)</span>, </span>
<span>               linetype <span class='op'>=</span> <span class='st'>"solid"</span>, linewidth <span class='op'>=</span> <span class='fl'>0.22</span>, color <span class='op'>=</span> <span class='st'>"#aeaeae"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_segment.html'>geom_segment</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>row_per_region</span>, </span>
<span>               <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>800</span>, xend <span class='op'>=</span> <span class='fl'>57000</span>, y <span class='op'>=</span> <span class='fl'>25</span>, yend <span class='op'>=</span> <span class='fl'>25</span><span class='op'>)</span>, </span>
<span>               linetype <span class='op'>=</span> <span class='st'>"21"</span>, linewidth <span class='op'>=</span> <span class='fl'>0.30</span>, color <span class='op'>=</span> <span class='st'>"#ebebeb"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_segment.html'>geom_segment</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>row_per_region</span>,</span>
<span>               <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>800</span>, xend <span class='op'>=</span> <span class='fl'>57000</span>, y <span class='op'>=</span> <span class='fl'>50</span>, yend <span class='op'>=</span> <span class='fl'>50</span><span class='op'>)</span>, </span>
<span>               linetype <span class='op'>=</span> <span class='st'>"21"</span>, linewidth <span class='op'>=</span> <span class='fl'>0.30</span>, color <span class='op'>=</span> <span class='st'>"#ebebeb"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_segment.html'>geom_segment</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>row_per_region</span>, </span>
<span>               <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>800</span>, xend <span class='op'>=</span> <span class='fl'>57000</span>, y <span class='op'>=</span> <span class='fl'>75</span>, yend <span class='op'>=</span> <span class='fl'>75</span><span class='op'>)</span>, </span>
<span>               linetype <span class='op'>=</span> <span class='st'>"21"</span>, linewidth <span class='op'>=</span> <span class='fl'>0.30</span>, color <span class='op'>=</span> <span class='st'>"#ebebeb"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_segment.html'>geom_segment</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>row_per_region</span>, </span>
<span>               <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>800</span>, xend <span class='op'>=</span> <span class='fl'>57000</span>, y <span class='op'>=</span> <span class='fl'>100</span>, yend <span class='op'>=</span> <span class='fl'>100</span><span class='op'>)</span>, </span>
<span>               linetype <span class='op'>=</span> <span class='st'>"solid"</span>, linewidth <span class='op'>=</span> <span class='fl'>0.22</span>, color <span class='op'>=</span> <span class='st'>"#aeaeae"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/facet_wrap.html'>facet_wrap</a></span><span class='op'>(</span><span class='op'>~</span> <span class='va'>region</span>, scales <span class='op'>=</span> <span class='st'>"free"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_continuous.html'>scale_x_log10</a></span><span class='op'>(</span>breaks <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1000</span>, <span class='fl'>2000</span>, <span class='fl'>5000</span>, <span class='fl'>10000</span>, <span class='fl'>20000</span>, <span class='fl'>50000</span><span class='op'>)</span>,</span>
<span>                minor_breaks <span class='op'>=</span> <span class='cn'>NULL</span>,</span>
<span>                labels <span class='op'>=</span> <span class='fu'>scales</span><span class='fu'>::</span><span class='fu'><a href='https://scales.r-lib.org/reference/label_number.html'>label_number</a></span><span class='op'>(</span></span>
<span>                  big.mark <span class='op'>=</span> <span class='st'>"."</span>,prefix <span class='op'>=</span> <span class='st'>"$"</span>, decimal.mark <span class='op'>=</span> <span class='st'>"none"</span><span class='op'>)</span>,</span>
<span>                limits <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>800</span>, <span class='fl'>57000</span><span class='op'>)</span>, </span>
<span>                </span>
<span>                <span class='co'>##################### expanding panels: width</span></span>
<span>                expand <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/expansion.html'>expansion</a></span><span class='op'>(</span>add <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0.17</span>, <span class='fl'>0.05</span><span class='op'>)</span><span class='op'>)</span></span>
<span>                <span class='op'>)</span> <span class='op'>+</span> </span>
<span>  </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_continuous.html'>scale_y_continuous</a></span><span class='op'>(</span>breaks <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>25</span>, <span class='fl'>50</span>, <span class='fl'>75</span>, <span class='fl'>100</span><span class='op'>)</span>,</span>
<span>                     minor_breaks <span class='op'>=</span> <span class='cn'>NULL</span>,</span>
<span>                     labels <span class='op'>=</span> <span class='fu'>scales</span><span class='fu'>::</span><span class='fu'><a href='https://scales.r-lib.org/reference/percent_format.html'>percent_format</a></span><span class='op'>(</span>scale <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span>, </span>
<span>                     limits <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>100</span><span class='op'>)</span>,</span>
<span>                     </span>
<span>                     <span class='co'>##################### expanding panels: height</span></span>
<span>                     expand <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/expansion.html'>expansion</a></span><span class='op'>(</span>mult <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0.08</span>, <span class='fl'>0.04</span><span class='op'>)</span><span class='op'>)</span></span>
<span>                     <span class='op'>)</span> <span class='op'>+</span></span>
<span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_color_manual</a></span><span class='op'>(</span>values <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span></span>
<span>                    <span class='st'>"Global Average"</span> <span class='op'>=</span> <span class='st'>"#840037"</span>,</span>
<span>                    <span class='st'>"Western Europe"</span> <span class='op'>=</span> <span class='st'>"#203558"</span>,</span>
<span>                    <span class='st'>"Australia, New Zealand, USA and Canada"</span> <span class='op'>=</span> <span class='st'>"#3f3386"</span>,</span>
<span>                    <span class='st'>"Middle East and North Africa"</span> <span class='op'>=</span> <span class='st'>"#845100"</span>,</span>
<span>                    <span class='st'>"Eastern Europe"</span> <span class='op'>=</span> <span class='st'>"#057ea1"</span>,</span>
<span>                    <span class='st'>"Sub-Saharan Africa"</span> <span class='op'>=</span> <span class='st'>"#951c73"</span>,</span>
<span>                    <span class='st'>"East Asia"</span> <span class='op'>=</span> <span class='st'>"#30918d"</span>,</span>
<span>                    <span class='st'>"South and Southeast Asia"</span> <span class='op'>=</span> <span class='st'>"#e0902f"</span>,</span>
<span>                    <span class='st'>"Latin America and Caribbean"</span> <span class='op'>=</span> <span class='st'>"#d54c3f"</span><span class='op'>)</span></span>
<span>                    <span class='op'>)</span> <span class='op'>+</span> </span>
<span>  <span class='co'># geom_path(data = row_per_region, linewidth = c(0.40, 0.35, 0.35, 0.35, 0.35, 0.35, 0.35, 0.35, 0.35)) + # global_average needs to be bigger </span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_path.html'>geom_path</a></span><span class='op'>(</span>linewidth <span class='op'>=</span> <span class='fl'>0.35</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_minimal</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span> </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span></span>
<span>    legend.position <span class='op'>=</span> <span class='st'>"none"</span>, </span>
<span>    strip.text <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>,</span>
<span>    axis.title <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>, </span>
<span>    </span>
<span>    <span class='co'># Axis</span></span>
<span>    <span class='co'>##################### move axis guides inside panel</span></span>
<span>    </span>
<span>    </span>
<span>    axis.text.x <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span></span>
<span>      family <span class='op'>=</span> <span class='st'>"lato"</span>, colour <span class='op'>=</span> <span class='st'>"#939292"</span>, size <span class='op'>=</span> <span class='fl'>26.5</span>, <span class='co'># lighter colour because when adjusting hjust manually for each label, the lbels become bold for some reason</span></span>
<span>      hjust <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0.4</span>, <span class='fl'>0.4</span>, <span class='fl'>0.4</span>, <span class='fl'>0.4</span>, <span class='fl'>0.4</span>, <span class='fl'>0.6</span><span class='op'>)</span>, margin <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>margin</a></span><span class='op'>(</span>t <span class='op'>=</span> <span class='op'>-</span><span class='fl'>10</span><span class='op'>)</span><span class='op'>)</span>, </span>
<span>    axis.text.y <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span></span>
<span>      family <span class='op'>=</span> <span class='st'>"lato"</span>, colour <span class='op'>=</span> <span class='st'>"#676767"</span>, size <span class='op'>=</span> <span class='fl'>26.5</span>, </span>
<span>      vjust <span class='op'>=</span> <span class='fl'>0.5</span>, margin <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>margin</a></span><span class='op'>(</span>r <span class='op'>=</span> <span class='op'>-</span><span class='fl'>16</span><span class='op'>)</span><span class='op'>)</span>,</span>
<span></span>
<span>    <span class='co'># Panel</span></span>
<span>    <span class='co'>##################### panels background and border</span></span>
<span>    panel.background <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>"#faf9f9"</span><span class='op'>)</span>, </span>
<span>    panel.border <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='cn'>NA</span>, color <span class='op'>=</span> <span class='st'>"#efefef"</span><span class='op'>)</span>, <span class='co'># needs to be thiner tho and linewidth works super strange #HELP #ebebeb</span></span>
<span>    </span>
<span>    <span class='co'>##################### adjust between-panel spacing</span></span>
<span>    panel.spacing.x <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/unit.html'>unit</a></span><span class='op'>(</span><span class='fl'>0.45</span>, <span class='st'>"lines"</span><span class='op'>)</span>, </span>
<span>    panel.spacing.y <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/unit.html'>unit</a></span><span class='op'>(</span><span class='fl'>0.6</span>, <span class='st'>"lines"</span><span class='op'>)</span>, </span>
<span>    </span>
<span>    <span class='co'># old </span></span>
<span>    panel.grid.major <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>,</span>
<span>    panel.grid.minor <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>,</span>
<span>    <span class='op'>)</span> </span></code></pre>
</div>
<p><img src="100546612_files/figure-html5/unnamed-chunk-11-1.png" width="2400" /></p>
</div>
<h3 id="background-lines">Background lines</h3>
<div class="layout-chunk" data-layout="l-body-outset">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>data_filtered_2</span> <span class='op'>&lt;-</span> <span class='va'>data_filtered</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>region2 <span class='op'>=</span> <span class='va'>region</span>, region <span class='op'>=</span> <span class='cn'>NULL</span><span class='op'>)</span> </span>
<span></span>
<span><span class='va'>plot</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='va'>data_filtered</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>GDP</span>, y <span class='op'>=</span> <span class='va'>poverty</span>, color <span class='op'>=</span> <span class='va'>region</span><span class='op'>)</span> <span class='op'>+</span> </span>
<span>  </span>
<span>  <span class='co'># x axis</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_segment.html'>geom_segment</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>row_per_region</span>, </span>
<span>               <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>1000</span>, xend <span class='op'>=</span> <span class='fl'>1000</span>, y <span class='op'>=</span> <span class='fl'>0</span>, yend <span class='op'>=</span> <span class='fl'>100</span><span class='op'>)</span>, </span>
<span>               linetype <span class='op'>=</span> <span class='st'>"11"</span>, linewidth <span class='op'>=</span> <span class='fl'>0.30</span>, color <span class='op'>=</span> <span class='st'>"#ebebeb"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_segment.html'>geom_segment</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>row_per_region</span>, </span>
<span>               <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>2000</span>, xend <span class='op'>=</span> <span class='fl'>2000</span>, y <span class='op'>=</span> <span class='fl'>0</span>, yend <span class='op'>=</span> <span class='fl'>100</span><span class='op'>)</span>, </span>
<span>               linetype <span class='op'>=</span> <span class='st'>"21"</span>, linewidth <span class='op'>=</span> <span class='fl'>0.30</span>, color <span class='op'>=</span> <span class='st'>"#ebebeb"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_segment.html'>geom_segment</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>row_per_region</span>, </span>
<span>               <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>5000</span>, xend <span class='op'>=</span> <span class='fl'>5000</span>, y <span class='op'>=</span> <span class='fl'>0</span>, yend <span class='op'>=</span> <span class='fl'>100</span><span class='op'>)</span>,</span>
<span>               linetype <span class='op'>=</span> <span class='st'>"21"</span>, linewidth <span class='op'>=</span> <span class='fl'>0.30</span>, color <span class='op'>=</span> <span class='st'>"#ebebeb"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_segment.html'>geom_segment</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>row_per_region</span>, </span>
<span>               <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>10000</span>, xend <span class='op'>=</span> <span class='fl'>10000</span>, y <span class='op'>=</span> <span class='fl'>0</span>, yend <span class='op'>=</span> <span class='fl'>100</span><span class='op'>)</span>, </span>
<span>               linetype <span class='op'>=</span> <span class='st'>"21"</span>, linewidth <span class='op'>=</span> <span class='fl'>0.30</span>, color <span class='op'>=</span> <span class='st'>"#ebebeb"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_segment.html'>geom_segment</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>row_per_region</span>, </span>
<span>               <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>20000</span>, xend <span class='op'>=</span> <span class='fl'>20000</span>, y <span class='op'>=</span> <span class='fl'>0</span>, yend <span class='op'>=</span> <span class='fl'>100</span><span class='op'>)</span>, </span>
<span>               linetype <span class='op'>=</span> <span class='st'>"21"</span>, linewidth <span class='op'>=</span> <span class='fl'>0.30</span>, color <span class='op'>=</span> <span class='st'>"#ebebeb"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_segment.html'>geom_segment</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>row_per_region</span>, </span>
<span>               <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>50000</span>, xend <span class='op'>=</span> <span class='fl'>50000</span>, y <span class='op'>=</span> <span class='fl'>0</span>, yend <span class='op'>=</span> <span class='fl'>100</span><span class='op'>)</span>, </span>
<span>               linetype <span class='op'>=</span> <span class='st'>"21"</span>, linewidth <span class='op'>=</span> <span class='fl'>0.30</span>, color <span class='op'>=</span> <span class='st'>"#ebebeb"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span></span>
<span>  <span class='co'># y axis</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_segment.html'>geom_segment</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>row_per_region</span>, </span>
<span>               <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>800</span>, xend <span class='op'>=</span> <span class='fl'>57000</span>, y <span class='op'>=</span> <span class='fl'>0</span>, yend <span class='op'>=</span> <span class='fl'>0</span><span class='op'>)</span>, </span>
<span>               linetype <span class='op'>=</span> <span class='st'>"solid"</span>, linewidth <span class='op'>=</span> <span class='fl'>0.22</span>, color <span class='op'>=</span> <span class='st'>"#aeaeae"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_segment.html'>geom_segment</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>row_per_region</span>, </span>
<span>               <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>800</span>, xend <span class='op'>=</span> <span class='fl'>57000</span>, y <span class='op'>=</span> <span class='fl'>25</span>, yend <span class='op'>=</span> <span class='fl'>25</span><span class='op'>)</span>, </span>
<span>               linetype <span class='op'>=</span> <span class='st'>"21"</span>, linewidth <span class='op'>=</span> <span class='fl'>0.30</span>, color <span class='op'>=</span> <span class='st'>"#ebebeb"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_segment.html'>geom_segment</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>row_per_region</span>,</span>
<span>               <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>800</span>, xend <span class='op'>=</span> <span class='fl'>57000</span>, y <span class='op'>=</span> <span class='fl'>50</span>, yend <span class='op'>=</span> <span class='fl'>50</span><span class='op'>)</span>, </span>
<span>               linetype <span class='op'>=</span> <span class='st'>"21"</span>, linewidth <span class='op'>=</span> <span class='fl'>0.30</span>, color <span class='op'>=</span> <span class='st'>"#ebebeb"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_segment.html'>geom_segment</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>row_per_region</span>, </span>
<span>               <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>800</span>, xend <span class='op'>=</span> <span class='fl'>57000</span>, y <span class='op'>=</span> <span class='fl'>75</span>, yend <span class='op'>=</span> <span class='fl'>75</span><span class='op'>)</span>, </span>
<span>               linetype <span class='op'>=</span> <span class='st'>"21"</span>, linewidth <span class='op'>=</span> <span class='fl'>0.30</span>, color <span class='op'>=</span> <span class='st'>"#ebebeb"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_segment.html'>geom_segment</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>row_per_region</span>, </span>
<span>               <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>800</span>, xend <span class='op'>=</span> <span class='fl'>57000</span>, y <span class='op'>=</span> <span class='fl'>100</span>, yend <span class='op'>=</span> <span class='fl'>100</span><span class='op'>)</span>, </span>
<span>               linetype <span class='op'>=</span> <span class='st'>"solid"</span>, linewidth <span class='op'>=</span> <span class='fl'>0.22</span>, color <span class='op'>=</span> <span class='st'>"#aeaeae"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/facet_wrap.html'>facet_wrap</a></span><span class='op'>(</span><span class='op'>~</span> <span class='va'>region</span>, scales <span class='op'>=</span> <span class='st'>"free"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_continuous.html'>scale_x_log10</a></span><span class='op'>(</span>breaks <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1000</span>, <span class='fl'>2000</span>, <span class='fl'>5000</span>, <span class='fl'>10000</span>, <span class='fl'>20000</span>, <span class='fl'>50000</span><span class='op'>)</span>,</span>
<span>                minor_breaks <span class='op'>=</span> <span class='cn'>NULL</span>,</span>
<span>                labels <span class='op'>=</span> <span class='fu'>scales</span><span class='fu'>::</span><span class='fu'><a href='https://scales.r-lib.org/reference/label_number.html'>label_number</a></span><span class='op'>(</span></span>
<span>                  big.mark <span class='op'>=</span> <span class='st'>"."</span>,prefix <span class='op'>=</span> <span class='st'>"$"</span>, decimal.mark <span class='op'>=</span> <span class='st'>"none"</span><span class='op'>)</span>,</span>
<span>                limits <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>800</span>, <span class='fl'>57000</span><span class='op'>)</span>, </span>
<span>                expand <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/expansion.html'>expansion</a></span><span class='op'>(</span>add <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0.17</span>, <span class='fl'>0.05</span><span class='op'>)</span><span class='op'>)</span></span>
<span>                <span class='op'>)</span> <span class='op'>+</span> </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_continuous.html'>scale_y_continuous</a></span><span class='op'>(</span>breaks <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>25</span>, <span class='fl'>50</span>, <span class='fl'>75</span>, <span class='fl'>100</span><span class='op'>)</span>,</span>
<span>                     minor_breaks <span class='op'>=</span> <span class='cn'>NULL</span>,</span>
<span>                     labels <span class='op'>=</span> <span class='fu'>scales</span><span class='fu'>::</span><span class='fu'><a href='https://scales.r-lib.org/reference/percent_format.html'>percent_format</a></span><span class='op'>(</span>scale <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span>, </span>
<span>                     limits <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>100</span><span class='op'>)</span>,</span>
<span>                     expand <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/expansion.html'>expansion</a></span><span class='op'>(</span>mult <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0.08</span>, <span class='fl'>0.04</span><span class='op'>)</span><span class='op'>)</span></span>
<span>                     <span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_color_manual</a></span><span class='op'>(</span>values <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span></span>
<span>                    <span class='st'>"Global Average"</span> <span class='op'>=</span> <span class='st'>"#840037"</span>,</span>
<span>                    <span class='st'>"Western Europe"</span> <span class='op'>=</span> <span class='st'>"#203558"</span>,</span>
<span>                    <span class='st'>"Australia, New Zealand, USA and Canada"</span> <span class='op'>=</span> <span class='st'>"#3f3386"</span>,</span>
<span>                    <span class='st'>"Middle East and North Africa"</span> <span class='op'>=</span> <span class='st'>"#845100"</span>,</span>
<span>                    <span class='st'>"Eastern Europe"</span> <span class='op'>=</span> <span class='st'>"#057ea1"</span>,</span>
<span>                    <span class='st'>"Sub-Saharan Africa"</span> <span class='op'>=</span> <span class='st'>"#951c73"</span>,</span>
<span>                    <span class='st'>"East Asia"</span> <span class='op'>=</span> <span class='st'>"#30918d"</span>,</span>
<span>                    <span class='st'>"South and Southeast Asia"</span> <span class='op'>=</span> <span class='st'>"#e0902f"</span>,</span>
<span>                    <span class='st'>"Latin America and Caribbean"</span> <span class='op'>=</span> <span class='st'>"#d54c3f"</span><span class='op'>)</span></span>
<span>                    <span class='op'>)</span> <span class='op'>+</span> </span>
<span>    </span>
<span>  <span class='co'>##################### BACKGROUND LINES</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_path.html'>geom_path</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>data_filtered_2</span>,</span>
<span>            <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>GDP</span>, y <span class='op'>=</span> <span class='va'>poverty</span>, </span>
<span>                group <span class='op'>=</span> <span class='va'>region2</span>, </span>
<span>                color <span class='op'>=</span> <span class='va'>region2</span><span class='op'>)</span>, </span>
<span>            alpha <span class='op'>=</span> <span class='fl'>0.2</span>, </span>
<span>            linewidth <span class='op'>=</span> <span class='fl'>0.2</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_path.html'>geom_path</a></span><span class='op'>(</span>linewidth <span class='op'>=</span> <span class='fl'>0.35</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/facet_wrap.html'>facet_wrap</a></span><span class='op'>(</span><span class='op'>~</span> <span class='va'>region</span>, scales <span class='op'>=</span> <span class='st'>"free"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_path.html'>geom_path</a></span><span class='op'>(</span>linewidth <span class='op'>=</span> <span class='fl'>0.35</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_minimal</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span> </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span></span>
<span>    legend.position <span class='op'>=</span> <span class='st'>"none"</span>, </span>
<span>    strip.text <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>,</span>
<span>    axis.title <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>, </span>
<span>    axis.text.x <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span></span>
<span>      family <span class='op'>=</span> <span class='st'>"lato"</span>, colour <span class='op'>=</span> <span class='st'>"#939292"</span>, size <span class='op'>=</span> <span class='fl'>26.5</span>, </span>
<span>      hjust <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0.4</span>, <span class='fl'>0.4</span>, <span class='fl'>0.4</span>, <span class='fl'>0.4</span>, <span class='fl'>0.4</span>, <span class='fl'>0.6</span><span class='op'>)</span>, margin <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>margin</a></span><span class='op'>(</span>t <span class='op'>=</span> <span class='op'>-</span><span class='fl'>10</span><span class='op'>)</span><span class='op'>)</span>, </span>
<span>    axis.text.y <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span></span>
<span>      family <span class='op'>=</span> <span class='st'>"lato"</span>, colour <span class='op'>=</span> <span class='st'>"#676767"</span>, size <span class='op'>=</span> <span class='fl'>26.5</span>, </span>
<span>      vjust <span class='op'>=</span> <span class='fl'>0.5</span>, margin <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>margin</a></span><span class='op'>(</span>r <span class='op'>=</span> <span class='op'>-</span><span class='fl'>16</span><span class='op'>)</span><span class='op'>)</span>,</span>
<span>    panel.background <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>"#faf9f9"</span><span class='op'>)</span>, </span>
<span>    panel.border <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='cn'>NA</span>, color <span class='op'>=</span> <span class='st'>"#efefef"</span><span class='op'>)</span>,</span>
<span>    panel.spacing.x <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/unit.html'>unit</a></span><span class='op'>(</span><span class='fl'>0.45</span>, <span class='st'>"lines"</span><span class='op'>)</span>, </span>
<span>    panel.spacing.y <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/unit.html'>unit</a></span><span class='op'>(</span><span class='fl'>0.6</span>, <span class='st'>"lines"</span><span class='op'>)</span>, </span>
<span>    panel.grid.major <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>,</span>
<span>    panel.grid.minor <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>,</span>
<span>    <span class='op'>)</span> </span>
<span></span>
<span><span class='va'>plot</span></span></code></pre>
</div>
<p><img src="100546612_files/figure-html5/unnamed-chunk-12-1.png" width="2400" /></p>
</div>
<h3 id="title-subtitle-data-sources-and-licenses">Title, subtitle, data sources and licenses</h3>
<div class="layout-chunk" data-layout="l-body-outset">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'># -   why now? cause afterwards annotations and we will need exact coordinates and it might be annoying to change everything later =\&gt; i want the final figures width and height</span></span>
<span><span class='co'>#| eval: true</span></span>
<span></span>
<span></span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://wilkelab.org/ggtext/'>ggtext</a></span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>plot</span> <span class='op'>&lt;-</span> <span class='va'>plot</span> <span class='op'>+</span> </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>title <span class='op'>=</span> <span class='st'>"By world region: Share living in extreme poverty vs. GDP per capita (1820-2017)"</span>,</span>
<span>              subtitle <span class='op'>=</span> <span class='st'>"Poverty is measured by the 'cost of basic needs'-approach. It represents the share which was unable to obtain a bundle of very basic goods and services.\nPrice changes over time (inflation) and price differences between countries are taken into account in both measures."</span>,</span>
<span>              caption <span class='op'>=</span> <span class='st'>"Data sources:  Michail Moatsos for data on extreme poverty and Jutta Bolt and Jan Luiten van Zanden for GDP data – both published in How was life? Volume II, OECD 2021.&lt;br&gt;&lt;span style = 'font-family:lato; color:#403c94;'&gt;OurWorldinData.org&lt;/span&gt; – Research and data to make progress against the world's largest problems."</span>, <span class='co'># even if it doesnt look like it the — is not a normal one, its a larger one </span></span>
<span>              tag <span class='op'>=</span> <span class='st'>"Licensed under &lt;span style = 'color:#403c94;'&gt;CC-BY&lt;/span&gt; by the author Max Roser"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span>plot.title <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>family <span class='op'>=</span> <span class='st'>"playfair display"</span>,</span>
<span>                                  color <span class='op'>=</span> <span class='st'>"#191612"</span>,</span>
<span>                                  size <span class='op'>=</span> <span class='fl'>91.5</span>, </span>
<span>                                  hjust <span class='op'>=</span> <span class='fl'>0</span>, </span>
<span>                                  margin<span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>margin</a></span><span class='op'>(</span>b <span class='op'>=</span> <span class='fl'>2</span>, l <span class='op'>=</span> <span class='op'>-</span><span class='fl'>4</span><span class='op'>)</span><span class='op'>)</span>,</span>
<span>        plot.title.position <span class='op'>=</span> <span class='st'>"plot"</span>,</span>
<span>        plot.subtitle <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>family <span class='op'>=</span> <span class='st'>"lato_light"</span>,</span>
<span>                                     color <span class='op'>=</span> <span class='st'>"#515151"</span>,</span>
<span>                                     size <span class='op'>=</span> <span class='fl'>51</span>, <span class='co'># 50.5 is too short but 51 is just a tad too large =&gt; i think better 51</span></span>
<span>                                     hjust <span class='op'>=</span> <span class='fl'>0</span>, </span>
<span>                                     lineheight <span class='op'>=</span> <span class='fl'>0.14</span>,</span>
<span>                                     margin<span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>margin</a></span><span class='op'>(</span>b <span class='op'>=</span> <span class='fl'>4</span>, l <span class='op'>=</span> <span class='op'>-</span><span class='fl'>1.8</span><span class='op'>)</span><span class='op'>)</span>,</span>
<span>        plot.caption <span class='op'>=</span> <span class='fu'><a href='https://wilkelab.org/ggtext/reference/element_markdown.html'>element_markdown</a></span><span class='op'>(</span>family <span class='op'>=</span> <span class='st'>"lato_light"</span>,</span>
<span>                                        color <span class='op'>=</span> <span class='st'>"#191612"</span>,</span>
<span>                                        size <span class='op'>=</span> <span class='fl'>48</span>, </span>
<span>                                        hjust <span class='op'>=</span> <span class='fl'>0</span>, </span>
<span>                                        lineheight <span class='op'>=</span> <span class='fl'>0.19</span>,</span>
<span>                                        margin<span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>margin</a></span><span class='op'>(</span>t <span class='op'>=</span> <span class='fl'>8</span>, l <span class='op'>=</span> <span class='op'>-</span><span class='fl'>1.8</span><span class='op'>)</span></span>
<span>                                        <span class='op'>)</span>,</span>
<span>        plot.caption.position <span class='op'>=</span> <span class='st'>"plot"</span>,</span>
<span>        plot.tag <span class='op'>=</span> <span class='fu'><a href='https://wilkelab.org/ggtext/reference/element_markdown.html'>element_markdown</a></span><span class='op'>(</span>family <span class='op'>=</span> <span class='st'>"lato_light"</span>,</span>
<span>                                color <span class='op'>=</span> <span class='st'>"#191612"</span>,</span>
<span>                                size <span class='op'>=</span> <span class='fl'>49</span>,</span>
<span>                                hjust <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span>,</span>
<span>        plot.tag.position <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0.99</span>,<span class='fl'>0.010</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span> </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/coord_cartesian.html'>coord_cartesian</a></span><span class='op'>(</span>clip <span class='op'>=</span> <span class='st'>"off"</span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>plot</span></span></code></pre>
</div>
<p><img src="100546612_files/figure-html5/unnamed-chunk-13-1.png" width="2400" /></p>
</div>
<h3 id="annotations-and-descriptions">Annotations and Descriptions</h3>
<div class="layout-chunk" data-layout="l-body-outset">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'>#</span></span>
<span><span class='co'># -   insert numbers inside graph</span></span>
<span><span class='co'># -   region names annotations + descriptions</span></span>
<span><span class='co'>#| eval: true</span></span>
<span></span>
<span></span>
<span><span class='va'>plot</span> <span class='op'>&lt;-</span> <span class='va'>plot</span> <span class='op'>+</span></span>
<span>  <span class='co'>##################### years inside graph</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span></span>
<span>    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>label <span class='op'>=</span> <span class='va'>YEAR</span><span class='op'>)</span>, </span>
<span>    color <span class='op'>=</span> <span class='st'>"black"</span>, </span>
<span>    family <span class='op'>=</span> <span class='st'>"lato"</span>,</span>
<span>    size <span class='op'>=</span> <span class='fl'>6.8</span>, </span>
<span>    hjust <span class='op'>=</span> <span class='fl'>0</span>,</span>
<span>    nudge_x <span class='op'>=</span> <span class='fl'>0.03</span>,</span>
<span>    check_overlap <span class='op'>=</span> <span class='cn'>TRUE</span></span>
<span>    <span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='co'>##################### Annotations 3 upper plots </span></span>
<span>  </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='va'>data_filtered</span> <span class='op'>|&gt;</span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span> <span class='op'>(</span><span class='va'>region</span> <span class='op'><a href='https://rdrr.io/r/base/match.html'>%in%</a></span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Global Average"</span>, <span class='st'>"Western Europe"</span>, <span class='st'>"Australia, New Zealand, USA and Canada"</span><span class='op'>)</span><span class='op'>)</span>, </span>
<span>    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>800</span>, y <span class='op'>=</span> <span class='fl'>94</span>, </span>
<span>        label <span class='op'>=</span> <span class='st'>"Share living in extreme poverty"</span><span class='op'>)</span>, </span>
<span>    family <span class='op'>=</span> <span class='st'>"lato"</span>, </span>
<span>    colour <span class='op'>=</span> <span class='st'>"#939292"</span>, <span class='co'>#676767 if i manage to make it less thick</span></span>
<span>    size <span class='op'>=</span> <span class='fl'>11</span>, </span>
<span>    hjust <span class='op'>=</span> <span class='fl'>0.18</span>, <span class='co'># 0.17 a bit too far to the right  </span></span>
<span>    vjust <span class='op'>=</span> <span class='fl'>0</span></span>
<span>  <span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='co'>##################### Annotations and descriptions by region</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='va'>data_filtered</span> <span class='op'>|&gt;</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>region</span> <span class='op'>==</span> <span class='st'>"Global Average"</span><span class='op'>)</span>,</span>
<span>    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>5700</span>, y <span class='op'>=</span> <span class='fl'>53</span>, label <span class='op'>=</span> <span class='va'>region</span><span class='op'>)</span>,</span>
<span>    family <span class='op'>=</span> <span class='st'>"lato"</span>,</span>
<span>    colour <span class='op'>=</span> <span class='st'>"#840037"</span>,</span>
<span>    size <span class='op'>=</span> <span class='fl'>18.5</span>,  </span>
<span>    hjust <span class='op'>=</span> <span class='fl'>0</span>, </span>
<span>    vjust <span class='op'>=</span> <span class='fl'>0</span></span>
<span>    <span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='va'>data_filtered</span> <span class='op'>|&gt;</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>region</span> <span class='op'>==</span> <span class='st'>"Global Average"</span><span class='op'>)</span>,</span>
<span>    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>1300</span>, y <span class='op'>=</span> <span class='fl'>88</span>, </span>
<span>        label <span class='op'>=</span> <span class='st'>"1820: Three-quarters of the world lived in extreme poverty"</span></span>
<span>        <span class='op'>)</span>,</span>
<span>    family <span class='op'>=</span> <span class='st'>"lato"</span>,</span>
<span>    colour <span class='op'>=</span> <span class='st'>"#840037"</span>,</span>
<span>    size <span class='op'>=</span> <span class='fl'>11</span>,  </span>
<span>    hjust <span class='op'>=</span> <span class='fl'>0</span>, </span>
<span>    vjust <span class='op'>=</span> <span class='fl'>0</span></span>
<span>    <span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='va'>data_filtered</span> <span class='op'>|&gt;</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>region</span> <span class='op'>==</span> <span class='st'>"Global Average"</span><span class='op'>)</span>,</span>
<span>    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>1300</span>, y <span class='op'>=</span> <span class='fl'>78</span>, </span>
<span>        label <span class='op'>=</span> <span class='st'>"Three-quarters of the world \"could not affort a tiny space to live, some\nminimum heating capacity, and food that would not induce malnutrition.\""</span></span>
<span>        <span class='op'>)</span>,</span>
<span>    family <span class='op'>=</span> <span class='st'>"lato"</span>,</span>
<span>    colour <span class='op'>=</span> <span class='st'>"#840037"</span>,</span>
<span>    size <span class='op'>=</span> <span class='fl'>10</span>,  </span>
<span>    hjust <span class='op'>=</span> <span class='fl'>0</span>, </span>
<span>    vjust <span class='op'>=</span> <span class='fl'>0</span>, </span>
<span>    lineheight <span class='op'>=</span> <span class='fl'>0.14</span></span>
<span>    <span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>      <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='va'>data_filtered</span> <span class='op'>|&gt;</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>region</span> <span class='op'>==</span> <span class='st'>"Global Average"</span><span class='op'>)</span>,</span>
<span>    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>18000</span>, y <span class='op'>=</span> <span class='fl'>15</span>, </span>
<span>        label <span class='op'>=</span> <span class='st'>"9% of the world live\nin extreme poverty"</span></span>
<span>        <span class='op'>)</span>,</span>
<span>    family <span class='op'>=</span> <span class='st'>"lato"</span>,</span>
<span>    colour <span class='op'>=</span> <span class='st'>"#840037"</span>,</span>
<span>    size <span class='op'>=</span> <span class='fl'>11</span>,  </span>
<span>    hjust <span class='op'>=</span> <span class='fl'>0</span>, </span>
<span>    vjust <span class='op'>=</span> <span class='fl'>0</span>, </span>
<span>    lineheight <span class='op'>=</span> <span class='fl'>0.14</span></span>
<span>    <span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='va'>data_filtered</span> <span class='op'>|&gt;</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>region</span> <span class='op'>==</span> <span class='st'>"Western Europe"</span><span class='op'>)</span>,</span>
<span>    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>2900</span>, y <span class='op'>=</span> <span class='fl'>68</span>, label <span class='op'>=</span> <span class='va'>region</span><span class='op'>)</span>,</span>
<span>    family <span class='op'>=</span> <span class='st'>"lato"</span>,</span>
<span>    colour <span class='op'>=</span> <span class='st'>"#203558"</span>, </span>
<span>    size <span class='op'>=</span> <span class='fl'>14</span>, </span>
<span>    hjust <span class='op'>=</span> <span class='fl'>0</span>, </span>
<span>    vjust <span class='op'>=</span> <span class='fl'>0</span></span>
<span>    <span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='va'>data_filtered</span> <span class='op'>|&gt;</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>region</span> <span class='op'>==</span> <span class='st'>"Australia, New Zealand, USA and Canada"</span><span class='op'>)</span>,</span>
<span>    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>4000</span>, y <span class='op'>=</span> <span class='fl'>66</span>, label <span class='op'>=</span> <span class='st'>"Australia, New Zealand,\nUSA and Canada"</span><span class='op'>)</span>,</span>
<span>    family <span class='op'>=</span> <span class='st'>"lato"</span>,</span>
<span>    colour <span class='op'>=</span> <span class='st'>"#3f3386"</span>, </span>
<span>    size <span class='op'>=</span> <span class='fl'>14</span>, </span>
<span>    hjust <span class='op'>=</span> <span class='fl'>0</span>, </span>
<span>    vjust <span class='op'>=</span> <span class='fl'>0</span>, </span>
<span>    lineheight <span class='op'>=</span> <span class='fl'>0.14</span>,</span>
<span>    <span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='va'>data_filtered</span> <span class='op'>|&gt;</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>region</span> <span class='op'>==</span> <span class='st'>"Australia, New Zealand, USA and Canada"</span><span class='op'>)</span>,</span>
<span>    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>4000</span>, y <span class='op'>=</span> <span class='fl'>52</span>, </span>
<span>        label <span class='op'>=</span> <span class='st'>"These four countries had already achieved\nenough economic growth to reduce extreme\npoverty to very low levels in the post-war years."</span></span>
<span>        <span class='op'>)</span>,</span>
<span>    family <span class='op'>=</span> <span class='st'>"lato"</span>,</span>
<span>    colour <span class='op'>=</span> <span class='st'>"#3f3386"</span>, </span>
<span>    size <span class='op'>=</span> <span class='fl'>10</span>, </span>
<span>    hjust <span class='op'>=</span> <span class='fl'>0</span>, </span>
<span>    vjust <span class='op'>=</span> <span class='fl'>0</span>, </span>
<span>    lineheight <span class='op'>=</span> <span class='fl'>0.14</span>,</span>
<span>    <span class='op'>)</span> <span class='op'>+</span></span>
<span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='va'>data_filtered</span> <span class='op'>|&gt;</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>region</span> <span class='op'>==</span> <span class='st'>"Middle East and North Africa"</span><span class='op'>)</span>,</span>
<span>    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>4000</span>, y <span class='op'>=</span> <span class='fl'>33</span>, label <span class='op'>=</span> <span class='va'>region</span><span class='op'>)</span>,</span>
<span>    family <span class='op'>=</span> <span class='st'>"lato"</span>,</span>
<span>    colour <span class='op'>=</span> <span class='st'>"#845100"</span>, </span>
<span>    size <span class='op'>=</span> <span class='fl'>14</span>,</span>
<span>    hjust <span class='op'>=</span> <span class='fl'>0</span>, </span>
<span>    vjust <span class='op'>=</span> <span class='fl'>0</span></span>
<span>    <span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='va'>data_filtered</span> <span class='op'>|&gt;</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>region</span> <span class='op'>==</span> <span class='st'>"Eastern Europe"</span><span class='op'>)</span>,</span>
<span>    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>1230</span>, y <span class='op'>=</span> <span class='fl'>19</span>, label <span class='op'>=</span> <span class='va'>region</span><span class='op'>)</span>,</span>
<span>    family <span class='op'>=</span> <span class='st'>"lato"</span>,</span>
<span>    colour <span class='op'>=</span> <span class='st'>"#057ea1"</span>, </span>
<span>    size <span class='op'>=</span> <span class='fl'>14</span>, </span>
<span>    hjust <span class='op'>=</span> <span class='fl'>0</span>, </span>
<span>    vjust <span class='op'>=</span> <span class='fl'>0</span></span>
<span>    <span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='va'>data_filtered</span> <span class='op'>|&gt;</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>region</span> <span class='op'>==</span> <span class='st'>"Sub-Saharan Africa"</span><span class='op'>)</span>,</span>
<span>    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>3750</span>, y <span class='op'>=</span> <span class='fl'>66</span>, label <span class='op'>=</span> <span class='va'>region</span><span class='op'>)</span>,</span>
<span>    family <span class='op'>=</span> <span class='st'>"lato"</span>,</span>
<span>    colour <span class='op'>=</span> <span class='st'>"#951c73"</span>, </span>
<span>    size <span class='op'>=</span> <span class='fl'>14</span>, </span>
<span>    hjust <span class='op'>=</span> <span class='fl'>0</span>, </span>
<span>    vjust <span class='op'>=</span> <span class='fl'>0</span></span>
<span>    <span class='op'>)</span> <span class='op'>+</span>  </span>
<span>  </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='va'>data_filtered</span> <span class='op'>|&gt;</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>region</span> <span class='op'>==</span> <span class='st'>"Sub-Saharan Africa"</span><span class='op'>)</span>,</span>
<span>    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>3800</span>, y <span class='op'>=</span> <span class='fl'>52</span>, </span>
<span>        label <span class='op'>=</span> <span class='st'>"According to the lastest data 37% of the\npopulation live in extreme poverty in\nthe world's poorest region."</span></span>
<span>        <span class='op'>)</span>,</span>
<span>    family <span class='op'>=</span> <span class='st'>"lato"</span>,</span>
<span>    colour <span class='op'>=</span> <span class='st'>"#951c73"</span>, </span>
<span>    size <span class='op'>=</span> <span class='fl'>10</span>, </span>
<span>    hjust <span class='op'>=</span> <span class='fl'>0</span>, </span>
<span>    vjust <span class='op'>=</span> <span class='fl'>0</span>, </span>
<span>    lineheight <span class='op'>=</span> <span class='fl'>0.14</span>,</span>
<span>    <span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='va'>data_filtered</span> <span class='op'>|&gt;</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>region</span> <span class='op'>==</span> <span class='st'>"East Asia"</span><span class='op'>)</span>,</span>
<span>    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>3900</span>, y <span class='op'>=</span> <span class='fl'>55</span>, label <span class='op'>=</span> <span class='va'>region</span><span class='op'>)</span>,</span>
<span>    family <span class='op'>=</span> <span class='st'>"lato"</span>,</span>
<span>    colour <span class='op'>=</span> <span class='st'>"#30918d"</span>, </span>
<span>    size <span class='op'>=</span> <span class='fl'>14</span>, </span>
<span>    hjust <span class='op'>=</span> <span class='fl'>0</span>, </span>
<span>    vjust <span class='op'>=</span> <span class='fl'>0</span></span>
<span>    <span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='va'>data_filtered</span> <span class='op'>|&gt;</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>region</span> <span class='op'>==</span> <span class='st'>"South and Southeast Asia"</span><span class='op'>)</span>,</span>
<span>    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>1850</span>, y <span class='op'>=</span> <span class='fl'>54</span>, label <span class='op'>=</span> <span class='va'>region</span><span class='op'>)</span>,</span>
<span>    family <span class='op'>=</span> <span class='st'>"lato"</span>,</span>
<span>    colour <span class='op'>=</span> <span class='st'>"#e0902f"</span>, </span>
<span>    size <span class='op'>=</span> <span class='fl'>14</span>,  </span>
<span>    hjust <span class='op'>=</span> <span class='fl'>0</span>, </span>
<span>    vjust <span class='op'>=</span> <span class='fl'>0</span></span>
<span>    <span class='op'>)</span> <span class='op'>+</span></span>
<span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='va'>data_filtered</span> <span class='op'>|&gt;</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>region</span> <span class='op'>==</span> <span class='st'>"Latin America and Caribbean"</span><span class='op'>)</span>,</span>
<span>    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>3600</span>, y <span class='op'>=</span> <span class='fl'>68</span>, label <span class='op'>=</span> <span class='va'>region</span><span class='op'>)</span>,</span>
<span>    family <span class='op'>=</span> <span class='st'>"lato"</span>,</span>
<span>    colour <span class='op'>=</span> <span class='st'>"#d54c3f"</span>, </span>
<span>    size <span class='op'>=</span> <span class='fl'>14</span>, </span>
<span>    hjust <span class='op'>=</span> <span class='fl'>0</span>, </span>
<span>    vjust <span class='op'>=</span> <span class='fl'>0</span></span>
<span>    <span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>data_filtered</span> <span class='op'>|&gt;</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>region</span> <span class='op'>==</span> <span class='st'>"Latin America and Caribbean"</span><span class='op'>)</span>,</span>
<span>    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>3600</span>, y <span class='op'>=</span><span class='fl'>54</span>, </span>
<span>        label <span class='op'>=</span> <span class='st'>"As a world region with very high inequality\nthe share in poverty was comparatively high\nat any given level of average income."</span></span>
<span>        <span class='op'>)</span>,</span>
<span>    family <span class='op'>=</span> <span class='st'>"lato"</span>,</span>
<span>    colour <span class='op'>=</span> <span class='st'>"#d54c3f"</span>, </span>
<span>    size <span class='op'>=</span> <span class='fl'>10</span>, </span>
<span>    hjust <span class='op'>=</span> <span class='fl'>0</span>, </span>
<span>    vjust <span class='op'>=</span> <span class='fl'>0</span>, </span>
<span>    lineheight <span class='op'>=</span> <span class='fl'>0.14</span>,</span>
<span>    <span class='op'>)</span> </span>
<span><span class='va'>plot</span>  </span></code></pre>
</div>
<p><img src="100546612_files/figure-html5/unnamed-chunk-14-1.png" width="2400" /></p>
</div>
<h3 id="logo">Logo</h3>
<div class="layout-chunk" data-layout="l-body-outset">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'>grid</span><span class='op'>)</span></span>
<span><span class='va'>image_grob</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/grid/grid.raster.html'>rasterGrob</a></span><span class='op'>(</span><span class='fu'>png</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/png/man/readPNG.html'>readPNG</a></span><span class='op'>(</span><span class='st'>"Our_World_in_Data_logo.png"</span><span class='op'>)</span>,</span>
<span>                         x <span class='op'>=</span> <span class='fl'>0.997</span>, y <span class='op'>=</span> <span class='fl'>0.992</span>,  </span>
<span>                         hjust <span class='op'>=</span> <span class='fl'>1</span>, vjust <span class='op'>=</span> <span class='fl'>1</span>, </span>
<span>                         width <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/unit.html'>unit</a></span><span class='op'>(</span><span class='fl'>0.082</span>, <span class='st'>"npc"</span><span class='op'>)</span><span class='op'>)</span> <span class='co'># relative to plotting area</span></span>
<span></span>
<span></span>
<span><span class='fu'><a href='https://rdrr.io/r/grid/grid.newpage.html'>grid.newpage</a></span><span class='op'>(</span><span class='op'>)</span>      <span class='co'># new plotting canvas</span></span>
<span><span class='fu'><a href='https://rdrr.io/r/grid/grid.draw.html'>grid.draw</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplotGrob.html'>ggplotGrob</a></span><span class='op'>(</span><span class='va'>plot</span><span class='op'>)</span><span class='op'>)</span>  </span>
<span></span>
<span><span class='co'># Overlay the image manually</span></span>
<span><span class='fu'><a href='https://rdrr.io/r/grid/grid.draw.html'>grid.draw</a></span><span class='op'>(</span><span class='va'>image_grob</span><span class='op'>)</span></span></code></pre>
</div>
<p><img src="100546612_files/figure-html5/unnamed-chunk-15-1.png" width="2400" /></p>
</div>
<h2 id="comparison">Comparison</h2>
<div style="display: flex; justify-content: space-between;margin-left: -50%; margin-right: -50%;">
<div style="width: 50%;">
<p>Original</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'>knitr</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/knitr/man/include_graphics.html'>include_graphics</a></span><span class='op'>(</span><span class='st'>"Growth-and-poverty-since-1820.png"</span><span class='op'>)</span></span></code></pre>
</div>
<p><img src="Growth-and-poverty-since-1820.png" width="100%" /></p>
</div>
</div>
<div style="width: 50%;">
<p>Replication</p>
<div class="layout-chunk" data-layout="l-body-outset">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://rdrr.io/r/grid/grid.newpage.html'>grid.newpage</a></span><span class='op'>(</span><span class='op'>)</span>      <span class='co'># new plotting canvas</span></span>
<span><span class='fu'><a href='https://rdrr.io/r/grid/grid.draw.html'>grid.draw</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplotGrob.html'>ggplotGrob</a></span><span class='op'>(</span><span class='va'>plot</span><span class='op'>)</span><span class='op'>)</span>  </span>
<span></span>
<span><span class='co'># Overlay the image manually</span></span>
<span><span class='fu'><a href='https://rdrr.io/r/grid/grid.draw.html'>grid.draw</a></span><span class='op'>(</span><span class='va'>image_grob</span><span class='op'>)</span></span></code></pre>
</div>
<p><img src="100546612_files/figure-html5/unnamed-chunk-17-1.png" width="2400" /></p>
</div>
</div>
</div>
<h3 id="things-im-not-doing">Things im (not) doing</h3>
<ul>
<li>fat annotations =&gt; idk anymore</li>
<li>year annotations =&gt; :/</li>
<li>arrows and dots =&gt; in the next days when i find the time =&gt; HAVE NOT FOUND TIME YET</li>
</ul>
<h3 id="lessons">Lessons</h3>
<p>My biggest enemy: me, and the grid lines (and the expansion and limits in geom_path), and the dimensions (what is dpi? dpi = 150, dpi = 300), also not knowing ⇒ once you knew it seemed so easy, but I spend hours just to find out that one thing = devastating</p>
<h2 id="improvement">Improvement</h2>
<p>original graph strengths:</p>
<p>The graphs strengths include its clear comparison between the world regions wealth and poverty trends, which highlight the significant variation between regions, and its historical perspective, which provides some context for the global and regional progress. Visually, the regional facets and coloring contribute to their acute distinction and provide clarity and readability.</p>
<p>BAD</p>
<p><strong>Content: what it tells us</strong></p>
<ul>
<li>Cons:
<ul>
<li>Some <strong>regions can be hard to follow</strong> without clear focus</li>
<li><strong>Oversimplification</strong>: GDP as sole indicator of poverty reduction</li>
</ul></li>
<li>Cons:
<ul>
<li><strong>Too much info</strong> in one graph?</li>
</ul></li>
</ul>
<p><strong>What I tohught:</strong></p>
<ul>
<li>I liked the <strong>topic and nice colors</strong></li>
<li>I didn’t like <strong>potentially bias story</strong></li>
</ul>
<p><strong>What needs explanation is not poverty, but prosperity.</strong> </p>
<p>Historian Michail Moatsos has recently produced a new global dataset that goes back two centuries. The chart shows his data. According to his research three-quarters of the world lived in extreme poverty in 1820. This means they “could not afford a tiny space to live, some minimum heating capacity, and food that would not induce malnutrition.”<a href="https://ourworldindata.org/extreme-poverty-in-brief#note-9">9</a></p>
<p>Economic growth made it possible to leave the widespread extreme poverty of the past behind. It made the difference between a society in which the majority were lacking even the most basic goods and services – food, decent housing and clothes, healthcare, public infrastructure and transport – and a society in which these products are widely available.</p>
<p>Growth <a href="https://ourworldindata.org/what-is-economic-growth">means</a> that a society produces an increasing quantity and quality of economic goods and services. The key to economic growth is the development of technology that makes it possible to increase productivity by which these goods and services are produced.</p>
<p><strong>Because the total production in an economy equals the total income in that country – as everyone’s spending is someone else’s income – incomes grow at the same rate as production increases.</strong></p>
<p>The 9 charts show the data for different regions in the world. On the horizontal axis of each chart, you find the average income (GDP per capita) and on the vertical axis you see the share living in extreme poverty. The starting point of each trajectory shows the data for 1820 and it tells us that two centuries ago the majority of people lived in extreme poverty, no matter where in the world they were at home.<sup><a href="https://ourworldindata.org/extreme-poverty-in-brief#note-11">11</a></sup> Since then, all world regions achieved growth – the production of goods and services increased – and the share living in poverty declined.</p>
<p>The previous chart showed that Sub-Saharan Africa is the poorest region. Almost 40% of the population lives in extreme poverty.</p>
<p>Not all African countries are struggling. In fact, most African countries have achieved good growth after the end of the oppressive colonial regimes <a href="https://voxeu.org/article/colonialism-and-development-africa">that hindered the growth</a> of African economies. But in a number of countries, the situation is bad. These countries remain as poor as they were in the past. Since the economy is stagnant, poverty is too.</p>
<p>The majority of people in Madagascar still live in extreme poverty. Very similar to the global situation two centuries ago, three-quarters of Madagascar’s population are living in extreme poverty.</p>
<p>Not just economic growth, but also the distribution of that growth matters. If the inequality of income increases, the poorest can be left behind.</p>
<p>But without economic growth, there is no chance at all to leave poverty behind. The data from Madagascar makes clear that a reduction of inequality cannot end extreme poverty in a poor country. If inequality in Madagascar would be entirely eradicated, then everyone would live on the average income. In Madagascar, this is $1.60 a day. For poor countries, the only way to end poverty is an increase in incomes – economic growth.</p>
<p>Storytelling: <img src="story%20image%201.png" /></p>
<p><img src="story%20image%202.png" /></p>
<p>=&gt; Streamgraphs:</p>
<ul>
<li>highlight inverse relationship between poverty and GDP</li>
<li>Visual clarity: The colourblind-friendly palette ensures inclusivity</li>
</ul>
<div class="layout-chunk" data-layout="l-body-outset">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='http://github.com/hrbrmstr/streamgraph'>streamgraph</a></span><span class='op'>)</span></span>
<span><span class='fu'><a href='https://rdrr.io/r/utils/packageDescription.html'>packageVersion</a></span><span class='op'>(</span><span class='st'>"streamgraph"</span><span class='op'>)</span> <span class='co'># latest version </span></span></code></pre>
</div>
<pre><code>[1] &#39;0.9.0&#39;</code></pre>
</div>
<ul>
<li>Improved readability by visual order: Grouping by Global North and Global South with distinct colour schemes makes it easier to identify regional disparities =&gt; Sorting Global North regions at the top, Global Average in the middle, and Global South at the bottom improves narrative clarity.</li>
<li>Storytelling: highlighting the separation between developed (North) and developing (South) regions allows for clearer comparisons =&gt; inqualities or trends between developed (top) and developing regions (bottom) while anchoring the global average in the middle for comparison.</li>
</ul>
<p><strong>Poverty</strong></p>
<div class="layout-chunk" data-layout="l-body-outset">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'># update levels to reflect desired visual order</span></span>
<span><span class='va'>data_filtered_sg</span> <span class='op'>&lt;-</span> <span class='va'>data_filtered</span></span>
<span></span>
<span><span class='co'># add new variable with desired order </span></span>
<span><span class='va'>data_filtered_sg</span><span class='op'>$</span><span class='va'>region_ordered</span> <span class='op'>&lt;-</span> </span>
<span>  <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span><span class='op'>(</span><span class='va'>data_filtered_sg</span><span class='op'>$</span><span class='va'>region</span>,</span>
<span>  levels <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/rev.html'>rev</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Australia, New Zealand, USA and Canada"</span>,  <span class='co'># Global North (top)</span></span>
<span>             <span class='st'>"Western Europe"</span>,                          <span class='co'># Global North</span></span>
<span>             <span class='st'>"Eastern Europe"</span>,                          <span class='co'># Global North</span></span>
<span>             <span class='st'>"Global Average"</span>,                          <span class='co'># Middle</span></span>
<span>             <span class='st'>"Middle East and North Africa"</span>,            <span class='co'># Global South (bottom)</span></span>
<span>             <span class='st'>"Latin America and Caribbean"</span>,             <span class='co'># Global South</span></span>
<span>             <span class='st'>"East Asia"</span>,                               <span class='co'># Global South</span></span>
<span>             <span class='st'>"South and Southeast Asia"</span>,                <span class='co'># Global South</span></span>
<span>             <span class='st'>"Sub-Saharan Africa"</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>                     <span class='co'># Global South</span></span>
<span></span>
<span><span class='co'># add prefixed for deterministic sorting </span></span>
<span></span>
<span><span class='va'>data_filtered_sg</span><span class='op'>$</span><span class='va'>region_prefix</span> <span class='op'>&lt;-</span> </span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/recode.html'>recode</a></span><span class='op'>(</span><span class='va'>data_filtered_sg</span><span class='op'>$</span><span class='va'>region_ordered</span>,</span>
<span>         <span class='st'>"Australia, New Zealand, USA and Canada"</span> <span class='op'>=</span> <span class='st'>"1. Australia, New Zealand, USA and Canada"</span>,</span>
<span>         <span class='st'>"Western Europe"</span> <span class='op'>=</span>                  <span class='st'>"1. Western Europe"</span>,</span>
<span>         <span class='st'>"Eastern Europe"</span> <span class='op'>=</span>                  <span class='st'>"1. Eastern Europe"</span>,</span>
<span>         <span class='st'>"Global Average"</span> <span class='op'>=</span>                  <span class='st'>"2. Global Average"</span>,</span>
<span>         <span class='st'>"Middle East and North Africa"</span> <span class='op'>=</span>    <span class='st'>"3. Middle East and North Africa"</span>,</span>
<span>         <span class='st'>"Latin America and Caribbean"</span> <span class='op'>=</span>     <span class='st'>"3. Latin America and Caribbean"</span>,</span>
<span>         <span class='st'>"East Asia"</span> <span class='op'>=</span>                       <span class='st'>"3. East Asia"</span>,</span>
<span>         <span class='st'>"South and Southeast Asia"</span> <span class='op'>=</span>        <span class='st'>"3. South and Southeast Asia"</span>,</span>
<span>         <span class='st'>"Sub-Saharan Africa"</span> <span class='op'>=</span>              <span class='st'>"3. Sub-Saharan Africa"</span></span>
<span><span class='op'>)</span></span>
<span></span>
<span><span class='co'># update color palette to align with prefixed names: colours to remain distinct but grouped appropriately</span></span>
<span></span>
<span></span>
<span><span class='va'>cb_colors</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"dodgerblue4"</span>, </span>
<span>               <span class='st'>"#E69F00"</span>, </span>
<span>               <span class='st'>"#56B4E9"</span>, </span>
<span>               <span class='st'>"#009E73"</span>, </span>
<span>               <span class='st'>"#F0E442"</span>, </span>
<span>               <span class='st'>"red"</span>, </span>
<span>               <span class='st'>"black"</span>, </span>
<span>               <span class='st'>"#D55E00"</span>, </span>
<span>               <span class='st'>"#B9E77C"</span><span class='op'>)</span></span>
<span><span class='va'>cb_colors_ordered</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span></span>
<span>  <span class='st'>"1. Australia, New Zealand, USA and Canada"</span> <span class='op'>=</span> <span class='st'>"#D55E00"</span>,</span>
<span>  <span class='st'>"1. Western Europe"</span> <span class='op'>=</span> <span class='st'>"red"</span>,</span>
<span>  <span class='st'>"1. Eastern Europe"</span> <span class='op'>=</span> <span class='st'>"#E69F00"</span>,</span>
<span>  <span class='st'>"2. Global Average"</span> <span class='op'>=</span> <span class='st'>"white"</span>,</span>
<span>  <span class='st'>"3. Middle East and North Africa"</span> <span class='op'>=</span> <span class='st'>"aquamarine2"</span>,</span>
<span>  <span class='st'>"3. Latin America and Caribbean"</span> <span class='op'>=</span> <span class='st'>"#B9E77C"</span>,</span>
<span>  <span class='st'>"3. East Asia"</span> <span class='op'>=</span> <span class='st'>"#56B4E9"</span>,</span>
<span>  <span class='st'>"3. South and Southeast Asia"</span> <span class='op'>=</span> <span class='st'>"#009E73"</span>,</span>
<span>  <span class='st'>"3. Sub-Saharan Africa"</span> <span class='op'>=</span> <span class='st'>"dodgerblue4"</span></span>
<span><span class='op'>)</span></span>
<span></span>
<span></span>
<span><span class='va'>sg2_poverty</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/streamgraph/man/streamgraph.html'>streamgraph</a></span><span class='op'>(</span></span>
<span>  <span class='va'>data_filtered_sg</span>, </span>
<span>  key<span class='op'>=</span><span class='st'>"region_prefix"</span>, </span>
<span>  value<span class='op'>=</span><span class='st'>"poverty"</span>, </span>
<span>  date<span class='op'>=</span><span class='st'>"YEAR"</span>, </span>
<span>  interactive<span class='op'>=</span><span class='cn'>TRUE</span><span class='op'>)</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'><a href='https://rdrr.io/pkg/streamgraph/man/sg_axis_x.html'>sg_axis_x</a></span><span class='op'>(</span>tick_interval <span class='op'>=</span> <span class='fl'>50</span><span class='op'>)</span> <span class='op'>|&gt;</span>                <span class='co'># simplifying x axis</span></span>
<span>  <span class='fu'><a href='https://rdrr.io/pkg/streamgraph/man/sg_fill_manual.html'>sg_fill_manual</a></span><span class='op'>(</span><span class='va'>cb_colors_ordered</span><span class='op'>)</span> <span class='op'>|&gt;</span>            <span class='co'># new color palette (still color blind safe) </span></span>
<span>  <span class='fu'><a href='https://rdrr.io/pkg/streamgraph/man/sg_legend.html'>sg_legend</a></span><span class='op'>(</span>show <span class='op'>=</span> <span class='cn'>TRUE</span>, label <span class='op'>=</span> <span class='st'>"Regions"</span><span class='op'>)</span> <span class='op'>|&gt;</span>    <span class='co'># legend for regions</span></span>
<span>  <span class='fu'><a href='https://rdrr.io/pkg/streamgraph/man/sg_colors.html'>sg_colors</a></span><span class='op'>(</span>label_color <span class='op'>=</span> <span class='st'>"red"</span><span class='op'>)</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'><a href='https://rdrr.io/pkg/streamgraph/man/sg_annotate.html'>sg_annotate</a></span><span class='op'>(</span>label <span class='op'>=</span> <span class='st'>"Global Average"</span>, </span>
<span>              x <span class='op'>=</span> <span class='st'>""</span>, y <span class='op'>=</span> <span class='st'>"460"</span>, </span>
<span>              color <span class='op'>=</span> <span class='st'>"black"</span>, </span>
<span>              size <span class='op'>=</span> <span class='fl'>16</span><span class='op'>)</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'><a href='https://rdrr.io/pkg/streamgraph/man/sg_annotate.html'>sg_annotate</a></span><span class='op'>(</span>label <span class='op'>=</span> <span class='st'>"\"Global North\""</span>, </span>
<span>              x <span class='op'>=</span> <span class='st'>"0.05"</span>, y <span class='op'>=</span> <span class='st'>"600"</span>, </span>
<span>              color <span class='op'>=</span> <span class='st'>"black"</span>, </span>
<span>              size <span class='op'>=</span> <span class='fl'>20</span><span class='op'>)</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'><a href='https://rdrr.io/pkg/streamgraph/man/sg_annotate.html'>sg_annotate</a></span><span class='op'>(</span>label <span class='op'>=</span> <span class='st'>"\"Global South\""</span>, </span>
<span>              x <span class='op'>=</span> <span class='st'>"0.05"</span>, y <span class='op'>=</span> <span class='st'>"100"</span>, </span>
<span>              color <span class='op'>=</span> <span class='st'>"black"</span>, </span>
<span>              size <span class='op'>=</span> <span class='fl'>20</span><span class='op'>)</span> </span>
<span></span>
<span><span class='va'>sg2_poverty</span></span></code></pre>
</div>
<div id="htmlwidget-f3950e13bc5f5324f249" class="streamgraph html-widget" style="width:624px;height:288px;"></div>
<div id="htmlwidget-f3950e13bc5f5324f249-legend" style="width:624" class="streamgraph html-widget-legend"><center><label style='padding-right:5px' for='htmlwidget-f3950e13bc5f5324f249-select'></label><select id='htmlwidget-f3950e13bc5f5324f249-select' style='visibility:hidden;'></select></center></div>
<script type="application/json" data-for="htmlwidget-f3950e13bc5f5324f249">{"x":{"data":{"key":["3. Sub-Saharan Africa","3. South and Southeast Asia","3. East Asia","3. Latin America and Caribbean","3. Middle East and North Africa","2. Global Average","1. Eastern Europe","1. Western Europe","1. Australia, New Zealand, USA and Canada","3. Sub-Saharan Africa","3. South and Southeast Asia","3. East Asia","3. Latin America and Caribbean","3. Middle East and North Africa","2. Global Average","1. Eastern Europe","1. Western Europe","1. Australia, New Zealand, USA and Canada","3. Sub-Saharan Africa","3. South and Southeast Asia","3. East Asia","3. Latin America and Caribbean","3. Middle East and North Africa","2. Global Average","1. Eastern Europe","1. Western Europe","1. Australia, New Zealand, USA and Canada","3. Sub-Saharan Africa","3. South and Southeast Asia","3. East Asia","3. Latin America and Caribbean","3. Middle East and North Africa","2. Global Average","1. Eastern Europe","1. Western Europe","1. Australia, New Zealand, USA and Canada","3. Sub-Saharan Africa","3. South and Southeast Asia","3. East Asia","3. Latin America and Caribbean","3. Middle East and North Africa","2. Global Average","1. Eastern Europe","1. Western Europe","1. Australia, New Zealand, USA and Canada","3. Sub-Saharan Africa","3. South and Southeast Asia","3. East Asia","3. Latin America and Caribbean","3. Middle East and North Africa","2. Global Average","1. Eastern Europe","1. Western Europe","1. Australia, New Zealand, USA and Canada","3. Sub-Saharan Africa","3. South and Southeast Asia","3. East Asia","3. Latin America and Caribbean","3. Middle East and North Africa","2. Global Average","1. Eastern Europe","1. Western Europe","1. Australia, New Zealand, USA and Canada","3. Sub-Saharan Africa","3. South and Southeast Asia","3. East Asia","3. Latin America and Caribbean","3. Middle East and North Africa","2. Global Average","1. Eastern Europe","1. Western Europe","1. Australia, New Zealand, USA and Canada","3. Sub-Saharan Africa","3. South and Southeast Asia","3. East Asia","3. Latin America and Caribbean","3. Middle East and North Africa","2. Global Average","1. Eastern Europe","1. Western Europe","1. Australia, New Zealand, USA and Canada","3. Sub-Saharan Africa","3. South and Southeast Asia","3. East Asia","3. Latin America and Caribbean","3. Middle East and North Africa","2. Global Average","1. Eastern Europe","1. Western Europe","1. Australia, New Zealand, USA and Canada","3. Sub-Saharan Africa","3. South and Southeast Asia","3. East Asia","3. Latin America and Caribbean","3. Middle East and North Africa","2. Global Average","1. Eastern Europe","1. Western Europe","1. Australia, New Zealand, USA and Canada","3. Sub-Saharan Africa","3. South and Southeast Asia","3. East Asia","3. Latin America and Caribbean","3. Middle East and North Africa","2. Global Average","1. Eastern Europe","1. Western Europe","1. Australia, New Zealand, USA and Canada"],"value":[91,69,78,85,75,77.125,91,73,55,95,69,80,84,71,72,84,65,28,93,74,80,80,68,69.125,68,59,31,91,66,76,74,59,57.375,43,41,9,87,62,77,61,55,55.75,63,38,3,70,67,82,45,33,42.25,19,21,1,67,69,66,45,34,37.5,8,11,0,62,64,64,42,26,32.75,2,2,0,63,50,46,12,17,24,3,0,1,58,47,37,17,7,21,1,0,1,50,35,29,12,3,17.875,13,0,1,41,23,17,8,1,11.875,3,1,1],"date":["1820-01-01","1820-01-01","1820-01-01","1820-01-01","1820-01-01","1820-01-01","1820-01-01","1820-01-01","1820-01-01","1850-01-01","1850-01-01","1850-01-01","1850-01-01","1850-01-01","1850-01-01","1850-01-01","1850-01-01","1850-01-01","1870-01-01","1870-01-01","1870-01-01","1870-01-01","1870-01-01","1870-01-01","1870-01-01","1870-01-01","1870-01-01","1900-01-01","1900-01-01","1900-01-01","1900-01-01","1900-01-01","1900-01-01","1900-01-01","1900-01-01","1900-01-01","1920-01-01","1920-01-01","1920-01-01","1920-01-01","1920-01-01","1920-01-01","1920-01-01","1920-01-01","1920-01-01","1950-01-01","1950-01-01","1950-01-01","1950-01-01","1950-01-01","1950-01-01","1950-01-01","1950-01-01","1950-01-01","1960-01-01","1960-01-01","1960-01-01","1960-01-01","1960-01-01","1960-01-01","1960-01-01","1960-01-01","1960-01-01","1970-01-01","1970-01-01","1970-01-01","1970-01-01","1970-01-01","1970-01-01","1970-01-01","1970-01-01","1970-01-01","1980-01-01","1980-01-01","1980-01-01","1980-01-01","1980-01-01","1980-01-01","1980-01-01","1980-01-01","1980-01-01","1990-01-01","1990-01-01","1990-01-01","1990-01-01","1990-01-01","1990-01-01","1990-01-01","1990-01-01","1990-01-01","2000-01-01","2000-01-01","2000-01-01","2000-01-01","2000-01-01","2000-01-01","2000-01-01","2000-01-01","2000-01-01","2010-01-01","2010-01-01","2010-01-01","2010-01-01","2010-01-01","2010-01-01","2010-01-01","2010-01-01","2010-01-01"]},"markers":null,"annotations":{"label":["\"Global South\"","\"Global North\"","Global Average"],"x":["0.05","0.05",""],"y":["100","600","460"],"color":["black","black","black"],"size":[20,20,16]},"offset":"silhouette","interactive":true,"interpolate":"cardinal","palette":["#D55E00","#FF0000","#E69F00","#FFFFFF","#76EEC6","#B9E77C","#56B4E9","#009E73","#104E8B"],"text":"black","tooltip":"black","x_tick_interval":50,"x_tick_units":"year","x_tick_format":"%Y","y_tick_count":5,"y_tick_format":",g","top":20,"right":40,"bottom":30,"left":50,"legend":true,"legend_label":"Regions","fill":"manual","label_col":"red","x_scale":"date","sort":true,"order":"none"},"evals":[],"jsHooks":[]}</script>
</div>
<p><strong>GDP</strong></p>
<div class="layout-chunk" data-layout="l-body-outset">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>sg2_gdp</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/streamgraph/man/streamgraph.html'>streamgraph</a></span><span class='op'>(</span></span>
<span>  <span class='va'>data_filtered_sg</span>, </span>
<span>  key<span class='op'>=</span><span class='st'>"region_prefix"</span>, </span>
<span>  value<span class='op'>=</span><span class='st'>"GDP"</span>, </span>
<span>  date<span class='op'>=</span><span class='st'>"YEAR"</span>, </span>
<span>  interactive <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'><a href='https://rdrr.io/pkg/streamgraph/man/sg_axis_x.html'>sg_axis_x</a></span><span class='op'>(</span>tick_interval <span class='op'>=</span> <span class='fl'>50</span><span class='op'>)</span> <span class='op'>|&gt;</span>     </span>
<span>  <span class='fu'><a href='https://rdrr.io/pkg/streamgraph/man/sg_fill_manual.html'>sg_fill_manual</a></span><span class='op'>(</span><span class='va'>cb_colors_ordered</span><span class='op'>)</span> <span class='op'>|&gt;</span></span>
<span>  <span class='fu'><a href='https://rdrr.io/pkg/streamgraph/man/sg_legend.html'>sg_legend</a></span><span class='op'>(</span>show <span class='op'>=</span> <span class='cn'>TRUE</span>, label <span class='op'>=</span> <span class='st'>"GDP"</span><span class='op'>)</span> <span class='op'>|&gt;</span>    </span>
<span>  <span class='fu'><a href='https://rdrr.io/pkg/streamgraph/man/sg_colors.html'>sg_colors</a></span><span class='op'>(</span>label_color <span class='op'>=</span> <span class='st'>"red"</span><span class='op'>)</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'><a href='https://rdrr.io/pkg/streamgraph/man/sg_annotate.html'>sg_annotate</a></span><span class='op'>(</span>label <span class='op'>=</span> <span class='st'>"Global Average"</span>, </span>
<span>              x <span class='op'>=</span> <span class='st'>"1850"</span>, y <span class='op'>=</span> <span class='st'>"62000"</span>, </span>
<span>              color <span class='op'>=</span> <span class='st'>"black"</span>, </span>
<span>              size <span class='op'>=</span> <span class='fl'>16</span><span class='op'>)</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'><a href='https://rdrr.io/pkg/streamgraph/man/sg_annotate.html'>sg_annotate</a></span><span class='op'>(</span>label <span class='op'>=</span> <span class='st'>"\"Global North\""</span>, </span>
<span>              x <span class='op'>=</span> <span class='st'>"1850"</span>, y <span class='op'>=</span> <span class='st'>"160000"</span>, </span>
<span>              color <span class='op'>=</span> <span class='st'>"black"</span>, </span>
<span>              size <span class='op'>=</span> <span class='fl'>20</span><span class='op'>)</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'><a href='https://rdrr.io/pkg/streamgraph/man/sg_annotate.html'>sg_annotate</a></span><span class='op'>(</span>label <span class='op'>=</span> <span class='st'>"\"Global South\""</span>, </span>
<span>              x <span class='op'>=</span> <span class='st'>"1850"</span>, y <span class='op'>=</span> <span class='st'>"100"</span>, </span>
<span>              color <span class='op'>=</span> <span class='st'>"black"</span>, </span>
<span>              size <span class='op'>=</span> <span class='fl'>20</span><span class='op'>)</span> </span>
<span></span>
<span><span class='va'>sg2_gdp</span></span></code></pre>
</div>
<div id="htmlwidget-c9e495560490e687fbb8" class="streamgraph html-widget" style="width:624px;height:288px;"></div>
<div id="htmlwidget-c9e495560490e687fbb8-legend" style="width:624" class="streamgraph html-widget-legend"><center><label style='padding-right:5px' for='htmlwidget-c9e495560490e687fbb8-select'></label><select id='htmlwidget-c9e495560490e687fbb8-select' style='visibility:hidden;'></select></center></div>
<script type="application/json" data-for="htmlwidget-c9e495560490e687fbb8">{"x":{"data":{"key":["3. Sub-Saharan Africa","3. South and Southeast Asia","3. East Asia","3. Latin America and Caribbean","3. Middle East and North Africa","2. Global Average","1. Eastern Europe","1. Western Europe","1. Australia, New Zealand, USA and Canada","3. Sub-Saharan Africa","3. South and Southeast Asia","3. East Asia","3. Latin America and Caribbean","3. Middle East and North Africa","2. Global Average","1. Eastern Europe","1. Western Europe","1. Australia, New Zealand, USA and Canada","3. Sub-Saharan Africa","3. South and Southeast Asia","3. East Asia","3. Latin America and Caribbean","3. Middle East and North Africa","2. Global Average","1. Eastern Europe","1. Western Europe","1. Australia, New Zealand, USA and Canada","3. Sub-Saharan Africa","3. South and Southeast Asia","3. East Asia","3. Latin America and Caribbean","3. Middle East and North Africa","2. Global Average","1. Eastern Europe","1. Western Europe","1. Australia, New Zealand, USA and Canada","3. Sub-Saharan Africa","3. South and Southeast Asia","3. East Asia","3. Latin America and Caribbean","3. Middle East and North Africa","2. Global Average","1. Eastern Europe","1. Western Europe","1. Australia, New Zealand, USA and Canada","3. Sub-Saharan Africa","3. South and Southeast Asia","3. East Asia","3. Latin America and Caribbean","3. Middle East and North Africa","2. Global Average","1. Eastern Europe","1. Western Europe","1. Australia, New Zealand, USA and Canada","3. Sub-Saharan Africa","3. South and Southeast Asia","3. East Asia","3. Latin America and Caribbean","3. Middle East and North Africa","2. Global Average","1. Eastern Europe","1. Western Europe","1. Australia, New Zealand, USA and Canada","3. Sub-Saharan Africa","3. South and Southeast Asia","3. East Asia","3. Latin America and Caribbean","3. Middle East and North Africa","2. Global Average","1. Eastern Europe","1. Western Europe","1. Australia, New Zealand, USA and Canada","3. Sub-Saharan Africa","3. South and Southeast Asia","3. East Asia","3. Latin America and Caribbean","3. Middle East and North Africa","2. Global Average","1. Eastern Europe","1. Western Europe","1. Australia, New Zealand, USA and Canada","3. Sub-Saharan Africa","3. South and Southeast Asia","3. East Asia","3. Latin America and Caribbean","3. Middle East and North Africa","2. Global Average","1. Eastern Europe","1. Western Europe","1. Australia, New Zealand, USA and Canada","3. Sub-Saharan Africa","3. South and Southeast Asia","3. East Asia","3. Latin America and Caribbean","3. Middle East and North Africa","2. Global Average","1. Eastern Europe","1. Western Europe","1. Australia, New Zealand, USA and Canada","3. Sub-Saharan Africa","3. South and Southeast Asia","3. East Asia","3. Latin America and Caribbean","3. Middle East and North Africa","2. Global Average","1. Eastern Europe","1. Western Europe","1. Australia, New Zealand, USA and Canada"],"value":[800,929,1089,953,974,1174,818,2307,2513,800,929,900,1081,1000,1225,985,2678,3474,800,850,989,1319,1165,1498,1575,3301,4647,850,994,1086,1751,1300,2212,2700,4724,7741,950,1117,1160,2331,900,2241,1343,4884,9741,1323,1070,1122,3713,2393,3351,4082,7263,14773,1574,1295,1735,4751,3110,4386,5779,10974,17472,1958,1546,3042,6286,4801,5952,8241,16161,23210,2026,1897,4212,8728,6742,7233,9933,20950,28787,1801,2574,6121,8132,6435,8222,10344,25440,35619,1981,3437,8164,10225,9640,9915,8986,32536,44329,3156,5367,12853,13453,16716,13179,17021,37318,48090],"date":["1820-01-01","1820-01-01","1820-01-01","1820-01-01","1820-01-01","1820-01-01","1820-01-01","1820-01-01","1820-01-01","1850-01-01","1850-01-01","1850-01-01","1850-01-01","1850-01-01","1850-01-01","1850-01-01","1850-01-01","1850-01-01","1870-01-01","1870-01-01","1870-01-01","1870-01-01","1870-01-01","1870-01-01","1870-01-01","1870-01-01","1870-01-01","1900-01-01","1900-01-01","1900-01-01","1900-01-01","1900-01-01","1900-01-01","1900-01-01","1900-01-01","1900-01-01","1920-01-01","1920-01-01","1920-01-01","1920-01-01","1920-01-01","1920-01-01","1920-01-01","1920-01-01","1920-01-01","1950-01-01","1950-01-01","1950-01-01","1950-01-01","1950-01-01","1950-01-01","1950-01-01","1950-01-01","1950-01-01","1960-01-01","1960-01-01","1960-01-01","1960-01-01","1960-01-01","1960-01-01","1960-01-01","1960-01-01","1960-01-01","1970-01-01","1970-01-01","1970-01-01","1970-01-01","1970-01-01","1970-01-01","1970-01-01","1970-01-01","1970-01-01","1980-01-01","1980-01-01","1980-01-01","1980-01-01","1980-01-01","1980-01-01","1980-01-01","1980-01-01","1980-01-01","1990-01-01","1990-01-01","1990-01-01","1990-01-01","1990-01-01","1990-01-01","1990-01-01","1990-01-01","1990-01-01","2000-01-01","2000-01-01","2000-01-01","2000-01-01","2000-01-01","2000-01-01","2000-01-01","2000-01-01","2000-01-01","2010-01-01","2010-01-01","2010-01-01","2010-01-01","2010-01-01","2010-01-01","2010-01-01","2010-01-01","2010-01-01"]},"markers":null,"annotations":{"label":["\"Global South\"","\"Global North\"","Global Average"],"x":["1850","1850","1850"],"y":["100","160000","62000"],"color":["black","black","black"],"size":[20,20,16]},"offset":"silhouette","interactive":true,"interpolate":"cardinal","palette":["#D55E00","#FF0000","#E69F00","#FFFFFF","#76EEC6","#B9E77C","#56B4E9","#009E73","#104E8B"],"text":"black","tooltip":"black","x_tick_interval":50,"x_tick_units":"year","x_tick_format":"%Y","y_tick_count":5,"y_tick_format":",g","top":20,"right":40,"bottom":30,"left":50,"legend":true,"legend_label":"GDP","fill":"manual","label_col":"red","x_scale":"date","sort":true,"order":"none"},"evals":[],"jsHooks":[]}</script>
</div>
<div class="sourceCode" id="cb2"><pre class="sourceCode r distill-force-highlighting-css"><code class="sourceCode r"></code></pre></div>
<!--radix_placeholder_article_footer-->
<!--/radix_placeholder_article_footer-->
</div>

<div class="d-appendix">
</div>


<!--radix_placeholder_site_after_body-->
<!--/radix_placeholder_site_after_body-->
<!--radix_placeholder_appendices-->
<div class="appendix-bottom"></div>
<!--/radix_placeholder_appendices-->
<!--radix_placeholder_navigation_after_body-->
<!--/radix_placeholder_navigation_after_body-->

</body>

</html>
