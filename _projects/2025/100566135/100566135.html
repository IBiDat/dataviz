<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">

<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/>
  <meta name="generator" content="distill" />

  <style type="text/css">
  /* Hide doc at startup (prevent jankiness while JS renders/transforms) */
  body {
    visibility: hidden;
  }
  </style>

 <!--radix_placeholder_import_source-->
 <!--/radix_placeholder_import_source-->

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  { color: #00769e; background-color: #f1f3f5; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span { color: #00769e; } /* Normal */
code span.al { color: #ad0000; } /* Alert */
code span.an { color: #5e5e5e; } /* Annotation */
code span.at { color: #657422; } /* Attribute */
code span.bn { color: #ad0000; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #00769e; } /* ControlFlow */
code span.ch { color: #20794d; } /* Char */
code span.cn { color: #8f5902; } /* Constant */
code span.co { color: #5e5e5e; } /* Comment */
code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
code span.dt { color: #ad0000; } /* DataType */
code span.dv { color: #ad0000; } /* DecVal */
code span.er { color: #ad0000; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #ad0000; } /* Float */
code span.fu { color: #4758ab; } /* Function */
code span.im { } /* Import */
code span.in { color: #5e5e5e; } /* Information */
code span.kw { color: #00769e; } /* Keyword */
code span.op { color: #5e5e5e; } /* Operator */
code span.ot { color: #00769e; } /* Other */
code span.pp { color: #ad0000; } /* Preprocessor */
code span.sc { color: #5e5e5e; } /* SpecialChar */
code span.ss { color: #20794d; } /* SpecialString */
code span.st { color: #20794d; } /* String */
code span.va { color: #111111; } /* Variable */
code span.vs { color: #20794d; } /* VerbatimString */
code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
</style>


  <!--radix_placeholder_meta_tags-->
  <title>Combatant deaths in conventional wars, 1800-2011</title>

  <meta property="description" itemprop="description" content="Number of combatants who died due to fighting in interstate and civil wars. This excludes civilian deaths, which can make the death tolls much larger."/>


  <!--  https://schema.org/Article -->
  <meta property="article:published" itemprop="datePublished" content="2026-01-14"/>
  <meta property="article:created" itemprop="dateCreated" content="2026-01-14"/>
  <meta name="article:author" content="Adela Solís"/>

  <!--  https://developers.facebook.com/docs/sharing/webmasters#markup -->
  <meta property="og:title" content="Combatant deaths in conventional wars, 1800-2011"/>
  <meta property="og:type" content="article"/>
  <meta property="og:description" content="Number of combatants who died due to fighting in interstate and civil wars. This excludes civilian deaths, which can make the death tolls much larger."/>
  <meta property="og:locale" content="en_US"/>

  <!--  https://dev.twitter.com/cards/types/summary -->
  <meta property="twitter:card" content="summary"/>
  <meta property="twitter:title" content="Combatant deaths in conventional wars, 1800-2011"/>
  <meta property="twitter:description" content="Number of combatants who died due to fighting in interstate and civil wars. This excludes civilian deaths, which can make the death tolls much larger."/>

  <!--/radix_placeholder_meta_tags-->
  <!--radix_placeholder_rmarkdown_metadata-->

  <script type="text/json" id="radix-rmarkdown-metadata">
  {"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["title","description","categories","author","date","output"]}},"value":[{"type":"character","attributes":{},"value":["Combatant deaths in conventional wars, 1800-2011"]},{"type":"character","attributes":{},"value":["Number of combatants who died due to fighting in interstate and civil wars. This excludes civilian deaths, which can make the death tolls much larger."]},{"type":"character","attributes":{},"value":["2025"]},{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name"]}},"value":[{"type":"character","attributes":{},"value":["Adela Solís"]}]}]},{"type":"character","attributes":{},"value":["2026-01-14"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["distill::distill_article"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["self_contained","toc"]}},"value":[{"type":"logical","attributes":{},"value":[false]},{"type":"logical","attributes":{},"value":[true]}]}]}]}
  </script>
  <!--/radix_placeholder_rmarkdown_metadata-->
  
  <script type="text/json" id="radix-resource-manifest">
  {"type":"character","attributes":{},"value":["100566135_files/anchor-4.2.2/anchor.min.js","100566135_files/bowser-1.9.3/bowser.min.js","100566135_files/distill-2.2.21/template.v2.js","100566135_files/figure-html5/plot display 2-1.png","100566135_files/figure-html5/plot display-1.png","100566135_files/figure-html5/plot-display-1.png","100566135_files/figure-html5/plot-display-2-1.png","100566135_files/header-attrs-2.30/header-attrs.js","100566135_files/jquery-3.6.0/jquery-3.6.0.js","100566135_files/jquery-3.6.0/jquery-3.6.0.min.js","100566135_files/jquery-3.6.0/jquery-3.6.0.min.map","100566135_files/popper-2.6.0/popper.min.js","100566135_files/tippy-6.2.7/tippy-bundle.umd.min.js","100566135_files/tippy-6.2.7/tippy-light-border.css","100566135_files/tippy-6.2.7/tippy.css","100566135_files/tippy-6.2.7/tippy.umd.min.js","100566135_files/webcomponents-2.0.0/webcomponents.js","original_graph.png","wars_by_deaths_mars.csv"]}
  </script>
  <!--radix_placeholder_navigation_in_header-->
  <!--/radix_placeholder_navigation_in_header-->
  <!--radix_placeholder_distill-->

  <style type="text/css">

  body {
    background-color: white;
  }

  .pandoc-table {
    width: 100%;
  }

  .pandoc-table>caption {
    margin-bottom: 10px;
  }

  .pandoc-table th:not([align]) {
    text-align: left;
  }

  .pagedtable-footer {
    font-size: 15px;
  }

  d-byline .byline {
    grid-template-columns: 2fr 2fr;
  }

  d-byline .byline h3 {
    margin-block-start: 1.5em;
  }

  d-byline .byline .authors-affiliations h3 {
    margin-block-start: 0.5em;
  }

  .authors-affiliations .orcid-id {
    width: 16px;
    height:16px;
    margin-left: 4px;
    margin-right: 4px;
    vertical-align: middle;
    padding-bottom: 2px;
  }

  d-title .dt-tags {
    margin-top: 1em;
    grid-column: text;
  }

  .dt-tags .dt-tag {
    text-decoration: none;
    display: inline-block;
    color: rgba(0,0,0,0.6);
    padding: 0em 0.4em;
    margin-right: 0.5em;
    margin-bottom: 0.4em;
    font-size: 70%;
    border: 1px solid rgba(0,0,0,0.2);
    border-radius: 3px;
    text-transform: uppercase;
    font-weight: 500;
  }

  d-article table.gt_table td,
  d-article table.gt_table th {
    border-bottom: none;
    font-size: 100%;
  }

  .html-widget {
    margin-bottom: 2.0em;
  }

  .l-screen-inset {
    padding-right: 16px;
  }

  .l-screen .caption {
    margin-left: 10px;
  }

  .shaded {
    background: rgb(247, 247, 247);
    padding-top: 20px;
    padding-bottom: 20px;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  }

  .shaded .html-widget {
    margin-bottom: 0;
    border: 1px solid rgba(0, 0, 0, 0.1);
  }

  .shaded .shaded-content {
    background: white;
  }

  .text-output {
    margin-top: 0;
    line-height: 1.5em;
  }

  .hidden {
    display: none !important;
  }

  hr.section-separator {
    border: none;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    margin: 0px;
  }


  d-byline {
    border-top: none;
  }

  d-article {
    padding-top: 2.5rem;
    padding-bottom: 30px;
    border-top: none;
  }

  d-appendix {
    padding-top: 30px;
  }

  d-article>p>img {
    width: 100%;
  }

  d-article h2 {
    margin: 1rem 0 1.5rem 0;
  }

  d-article h3 {
    margin-top: 1.5rem;
  }

  d-article iframe {
    border: 1px solid rgba(0, 0, 0, 0.1);
    margin-bottom: 2.0em;
    width: 100%;
  }

  /* Tweak code blocks */

  d-article div.sourceCode code,
  d-article pre code {
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  }

  d-article pre,
  d-article div.sourceCode,
  d-article div.sourceCode pre {
    overflow: auto;
  }

  d-article div.sourceCode {
    background-color: white;
  }

  d-article div.sourceCode pre {
    padding-left: 10px;
    font-size: 12px;
    border-left: 2px solid rgba(0,0,0,0.1);
  }

  d-article pre {
    font-size: 12px;
    color: black;
    background: none;
    margin-top: 0;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    word-wrap: normal;
    line-height: 1.5;

    -moz-tab-size: 4;
    -o-tab-size: 4;
    tab-size: 4;

    -webkit-hyphens: none;
    -moz-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;
  }

  d-article pre a {
    border-bottom: none;
  }

  d-article pre a:hover {
    border-bottom: none;
    text-decoration: underline;
  }

  d-article details {
    grid-column: text;
    margin-bottom: 0.8em;
  }

  @media(min-width: 768px) {

  d-article pre,
  d-article div.sourceCode,
  d-article div.sourceCode pre {
    overflow: visible !important;
  }

  d-article div.sourceCode pre {
    padding-left: 18px;
    font-size: 14px;
  }

  /* tweak for Pandoc numbered line within distill */
  d-article pre.numberSource code > span {
      left: -2em;
  }

  d-article pre {
    font-size: 14px;
  }

  }

  figure img.external {
    background: white;
    border: 1px solid rgba(0, 0, 0, 0.1);
    box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
    padding: 18px;
    box-sizing: border-box;
  }

  /* CSS for d-contents */

  .d-contents {
    grid-column: text;
    color: rgba(0,0,0,0.8);
    font-size: 0.9em;
    padding-bottom: 1em;
    margin-bottom: 1em;
    padding-bottom: 0.5em;
    margin-bottom: 1em;
    padding-left: 0.25em;
    justify-self: start;
  }

  @media(min-width: 1000px) {
    .d-contents.d-contents-float {
      height: 0;
      grid-column-start: 1;
      grid-column-end: 4;
      justify-self: center;
      padding-right: 3em;
      padding-left: 2em;
    }
  }

  .d-contents nav h3 {
    font-size: 18px;
    margin-top: 0;
    margin-bottom: 1em;
  }

  .d-contents li {
    list-style-type: none
  }

  .d-contents nav > ul {
    padding-left: 0;
  }

  .d-contents ul {
    padding-left: 1em
  }

  .d-contents nav ul li {
    margin-top: 0.6em;
    margin-bottom: 0.2em;
  }

  .d-contents nav a {
    font-size: 13px;
    border-bottom: none;
    text-decoration: none
    color: rgba(0, 0, 0, 0.8);
  }

  .d-contents nav a:hover {
    text-decoration: underline solid rgba(0, 0, 0, 0.6)
  }

  .d-contents nav > ul > li > a {
    font-weight: 600;
  }

  .d-contents nav > ul > li > ul {
    font-weight: inherit;
  }

  .d-contents nav > ul > li > ul > li {
    margin-top: 0.2em;
  }


  .d-contents nav ul {
    margin-top: 0;
    margin-bottom: 0.25em;
  }

  .d-article-with-toc h2:nth-child(2) {
    margin-top: 0;
  }


  /* Figure */

  .figure {
    position: relative;
    margin-bottom: 2.5em;
    margin-top: 1.5em;
  }

  .figure .caption {
    color: rgba(0, 0, 0, 0.6);
    font-size: 12px;
    line-height: 1.5em;
  }

  .figure img.external {
    background: white;
    border: 1px solid rgba(0, 0, 0, 0.1);
    box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
    padding: 18px;
    box-sizing: border-box;
  }

  .figure .caption a {
    color: rgba(0, 0, 0, 0.6);
  }

  .figure .caption b,
  .figure .caption strong, {
    font-weight: 600;
    color: rgba(0, 0, 0, 1.0);
  }

  /* Citations */

  d-article .citation {
    color: inherit;
    cursor: inherit;
  }

  div.hanging-indent{
    margin-left: 1em; text-indent: -1em;
  }

  /* Citation hover box */

  .tippy-box[data-theme~=light-border] {
    background-color: rgba(250, 250, 250, 0.95);
  }

  .tippy-content > p {
    margin-bottom: 0;
    padding: 2px;
  }


  /* Tweak 1000px media break to show more text */

  @media(min-width: 1000px) {
    .base-grid,
    distill-header,
    d-title,
    d-abstract,
    d-article,
    d-appendix,
    distill-appendix,
    d-byline,
    d-footnote-list,
    d-citation-list,
    distill-footer {
      grid-template-columns: [screen-start] 1fr [page-start kicker-start] 80px [middle-start] 50px [text-start kicker-end] 65px 65px 65px 65px 65px 65px 65px 65px [text-end gutter-start] 65px [middle-end] 65px [page-end gutter-end] 1fr [screen-end];
      grid-column-gap: 16px;
    }

    .grid {
      grid-column-gap: 16px;
    }

    d-article {
      font-size: 1.06rem;
      line-height: 1.7em;
    }
    figure .caption, .figure .caption, figure figcaption {
      font-size: 13px;
    }
  }

  @media(min-width: 1180px) {
    .base-grid,
    distill-header,
    d-title,
    d-abstract,
    d-article,
    d-appendix,
    distill-appendix,
    d-byline,
    d-footnote-list,
    d-citation-list,
    distill-footer {
      grid-template-columns: [screen-start] 1fr [page-start kicker-start] 60px [middle-start] 60px [text-start kicker-end] 60px 60px 60px 60px 60px 60px 60px 60px [text-end gutter-start] 60px [middle-end] 60px [page-end gutter-end] 1fr [screen-end];
      grid-column-gap: 32px;
    }

    .grid {
      grid-column-gap: 32px;
    }
  }


  /* Get the citation styles for the appendix (not auto-injected on render since
     we do our own rendering of the citation appendix) */

  d-appendix .citation-appendix,
  .d-appendix .citation-appendix {
    font-size: 11px;
    line-height: 15px;
    border-left: 1px solid rgba(0, 0, 0, 0.1);
    padding-left: 18px;
    border: 1px solid rgba(0,0,0,0.1);
    background: rgba(0, 0, 0, 0.02);
    padding: 10px 18px;
    border-radius: 3px;
    color: rgba(150, 150, 150, 1);
    overflow: hidden;
    margin-top: -12px;
    white-space: pre-wrap;
    word-wrap: break-word;
  }

  /* Include appendix styles here so they can be overridden */

  d-appendix {
    contain: layout style;
    font-size: 0.8em;
    line-height: 1.7em;
    margin-top: 60px;
    margin-bottom: 0;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    color: rgba(0,0,0,0.5);
    padding-top: 60px;
    padding-bottom: 48px;
  }

  d-appendix h3 {
    grid-column: page-start / text-start;
    font-size: 15px;
    font-weight: 500;
    margin-top: 1em;
    margin-bottom: 0;
    color: rgba(0,0,0,0.65);
  }

  d-appendix h3 + * {
    margin-top: 1em;
  }

  d-appendix ol {
    padding: 0 0 0 15px;
  }

  @media (min-width: 768px) {
    d-appendix ol {
      padding: 0 0 0 30px;
      margin-left: -30px;
    }
  }

  d-appendix li {
    margin-bottom: 1em;
  }

  d-appendix a {
    color: rgba(0, 0, 0, 0.6);
  }

  d-appendix > * {
    grid-column: text;
  }

  d-appendix > d-footnote-list,
  d-appendix > d-citation-list,
  d-appendix > distill-appendix {
    grid-column: screen;
  }

  /* Include footnote styles here so they can be overridden */

  d-footnote-list {
    contain: layout style;
  }

  d-footnote-list > * {
    grid-column: text;
  }

  d-footnote-list a.footnote-backlink {
    color: rgba(0,0,0,0.3);
    padding-left: 0.5em;
  }



  /* Anchor.js */

  .anchorjs-link {
    /*transition: all .25s linear; */
    text-decoration: none;
    border-bottom: none;
  }
  *:hover > .anchorjs-link {
    margin-left: -1.125em !important;
    text-decoration: none;
    border-bottom: none;
  }

  /* Social footer */

  .social_footer {
    margin-top: 30px;
    margin-bottom: 0;
    color: rgba(0,0,0,0.67);
  }

  .disqus-comments {
    margin-right: 30px;
  }

  .disqus-comment-count {
    border-bottom: 1px solid rgba(0, 0, 0, 0.4);
    cursor: pointer;
  }

  #disqus_thread {
    margin-top: 30px;
  }

  .article-sharing a {
    border-bottom: none;
    margin-right: 8px;
  }

  .article-sharing a:hover {
    border-bottom: none;
  }

  .sidebar-section.subscribe {
    font-size: 12px;
    line-height: 1.6em;
  }

  .subscribe p {
    margin-bottom: 0.5em;
  }


  .article-footer .subscribe {
    font-size: 15px;
    margin-top: 45px;
  }


  .sidebar-section.custom {
    font-size: 12px;
    line-height: 1.6em;
  }

  .custom p {
    margin-bottom: 0.5em;
  }

  /* Styles for listing layout (hide title) */
  .layout-listing d-title, .layout-listing .d-title {
    display: none;
  }

  /* Styles for posts lists (not auto-injected) */


  .posts-with-sidebar {
    padding-left: 45px;
    padding-right: 45px;
  }

  .posts-list .description h2,
  .posts-list .description p {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
  }

  .posts-list .description h2 {
    font-weight: 700;
    border-bottom: none;
    padding-bottom: 0;
  }

  .posts-list h2.post-tag {
    border-bottom: 1px solid rgba(0, 0, 0, 0.2);
    padding-bottom: 12px;
  }
  .posts-list {
    margin-top: 60px;
    margin-bottom: 24px;
  }

  .posts-list .post-preview {
    text-decoration: none;
    overflow: hidden;
    display: block;
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
    padding: 24px 0;
  }

  .post-preview-last {
    border-bottom: none !important;
  }

  .posts-list .posts-list-caption {
    grid-column: screen;
    font-weight: 400;
  }

  .posts-list .post-preview h2 {
    margin: 0 0 6px 0;
    line-height: 1.2em;
    font-style: normal;
    font-size: 24px;
  }

  .posts-list .post-preview p {
    margin: 0 0 12px 0;
    line-height: 1.4em;
    font-size: 16px;
  }

  .posts-list .post-preview .thumbnail {
    box-sizing: border-box;
    margin-bottom: 24px;
    position: relative;
    max-width: 500px;
  }
  .posts-list .post-preview img {
    width: 100%;
    display: block;
  }

  .posts-list .metadata {
    font-size: 12px;
    line-height: 1.4em;
    margin-bottom: 18px;
  }

  .posts-list .metadata > * {
    display: inline-block;
  }

  .posts-list .metadata .publishedDate {
    margin-right: 2em;
  }

  .posts-list .metadata .dt-authors {
    display: block;
    margin-top: 0.3em;
    margin-right: 2em;
  }

  .posts-list .dt-tags {
    display: block;
    line-height: 1em;
  }

  .posts-list .dt-tags .dt-tag {
    display: inline-block;
    color: rgba(0,0,0,0.6);
    padding: 0.3em 0.4em;
    margin-right: 0.2em;
    margin-bottom: 0.4em;
    font-size: 60%;
    border: 1px solid rgba(0,0,0,0.2);
    border-radius: 3px;
    text-transform: uppercase;
    font-weight: 500;
  }

  .posts-list img {
    opacity: 1;
  }

  .posts-list img[data-src] {
    opacity: 0;
  }

  .posts-more {
    clear: both;
  }


  .posts-sidebar {
    font-size: 16px;
  }

  .posts-sidebar h3 {
    font-size: 16px;
    margin-top: 0;
    margin-bottom: 0.5em;
    font-weight: 400;
    text-transform: uppercase;
  }

  .sidebar-section {
    margin-bottom: 30px;
  }

  .categories ul {
    list-style-type: none;
    margin: 0;
    padding: 0;
  }

  .categories li {
    color: rgba(0, 0, 0, 0.8);
    margin-bottom: 0;
  }

  .categories li>a {
    border-bottom: none;
  }

  .categories li>a:hover {
    border-bottom: 1px solid rgba(0, 0, 0, 0.4);
  }

  .categories .active {
    font-weight: 600;
  }

  .categories .category-count {
    color: rgba(0, 0, 0, 0.4);
  }


  @media(min-width: 768px) {
    .posts-list .post-preview h2 {
      font-size: 26px;
    }
    .posts-list .post-preview .thumbnail {
      float: right;
      width: 30%;
      margin-bottom: 0;
    }
    .posts-list .post-preview .description {
      float: left;
      width: 45%;
    }
    .posts-list .post-preview .metadata {
      float: left;
      width: 20%;
      margin-top: 8px;
    }
    .posts-list .post-preview p {
      margin: 0 0 12px 0;
      line-height: 1.5em;
      font-size: 16px;
    }
    .posts-with-sidebar .posts-list {
      float: left;
      width: 75%;
    }
    .posts-with-sidebar .posts-sidebar {
      float: right;
      width: 20%;
      margin-top: 60px;
      padding-top: 24px;
      padding-bottom: 24px;
    }
  }


  /* Improve display for browsers without grid (IE/Edge <= 15) */

  .downlevel {
    line-height: 1.6em;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
    margin: 0;
  }

  .downlevel .d-title {
    padding-top: 6rem;
    padding-bottom: 1.5rem;
  }

  .downlevel .d-title h1 {
    font-size: 50px;
    font-weight: 700;
    line-height: 1.1em;
    margin: 0 0 0.5rem;
  }

  .downlevel .d-title p {
    font-weight: 300;
    font-size: 1.2rem;
    line-height: 1.55em;
    margin-top: 0;
  }

  .downlevel .d-byline {
    padding-top: 0.8em;
    padding-bottom: 0.8em;
    font-size: 0.8rem;
    line-height: 1.8em;
  }

  .downlevel .section-separator {
    border: none;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
  }

  .downlevel .d-article {
    font-size: 1.06rem;
    line-height: 1.7em;
    padding-top: 1rem;
    padding-bottom: 2rem;
  }


  .downlevel .d-appendix {
    padding-left: 0;
    padding-right: 0;
    max-width: none;
    font-size: 0.8em;
    line-height: 1.7em;
    margin-bottom: 0;
    color: rgba(0,0,0,0.5);
    padding-top: 40px;
    padding-bottom: 48px;
  }

  .downlevel .footnotes ol {
    padding-left: 13px;
  }

  .downlevel .base-grid,
  .downlevel .distill-header,
  .downlevel .d-title,
  .downlevel .d-abstract,
  .downlevel .d-article,
  .downlevel .d-appendix,
  .downlevel .distill-appendix,
  .downlevel .d-byline,
  .downlevel .d-footnote-list,
  .downlevel .d-citation-list,
  .downlevel .distill-footer,
  .downlevel .appendix-bottom,
  .downlevel .posts-container {
    padding-left: 40px;
    padding-right: 40px;
  }

  @media(min-width: 768px) {
    .downlevel .base-grid,
    .downlevel .distill-header,
    .downlevel .d-title,
    .downlevel .d-abstract,
    .downlevel .d-article,
    .downlevel .d-appendix,
    .downlevel .distill-appendix,
    .downlevel .d-byline,
    .downlevel .d-footnote-list,
    .downlevel .d-citation-list,
    .downlevel .distill-footer,
    .downlevel .appendix-bottom,
    .downlevel .posts-container {
    padding-left: 150px;
    padding-right: 150px;
    max-width: 900px;
  }
  }

  .downlevel pre code {
    display: block;
    border-left: 2px solid rgba(0, 0, 0, .1);
    padding: 0 0 0 20px;
    font-size: 14px;
  }

  .downlevel code, .downlevel pre {
    color: black;
    background: none;
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    word-wrap: normal;
    line-height: 1.5;

    -moz-tab-size: 4;
    -o-tab-size: 4;
    tab-size: 4;

    -webkit-hyphens: none;
    -moz-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;
  }

  .downlevel .posts-list .post-preview {
    color: inherit;
  }



  </style>

  <script type="application/javascript">

  function is_downlevel_browser() {
    if (bowser.isUnsupportedBrowser({ msie: "12", msedge: "16"},
                                   window.navigator.userAgent)) {
      return true;
    } else {
      return window.load_distill_framework === undefined;
    }
  }

  // show body when load is complete
  function on_load_complete() {

    // add anchors
    if (window.anchors) {
      window.anchors.options.placement = 'left';
      window.anchors.add('d-article > h2, d-article > h3, d-article > h4, d-article > h5');
    }


    // set body to visible
    document.body.style.visibility = 'visible';

    // force redraw for leaflet widgets
    if (window.HTMLWidgets) {
      var maps = window.HTMLWidgets.findAll(".leaflet");
      $.each(maps, function(i, el) {
        var map = this.getMap();
        map.invalidateSize();
        map.eachLayer(function(layer) {
          if (layer instanceof L.TileLayer)
            layer.redraw();
        });
      });
    }

    // trigger 'shown' so htmlwidgets resize
    $('d-article').trigger('shown');
  }

  function init_distill() {

    init_common();

    // create front matter
    var front_matter = $('<d-front-matter></d-front-matter>');
    $('#distill-front-matter').wrap(front_matter);

    // create d-title
    $('.d-title').changeElementType('d-title');

    // separator
    var separator = '<hr class="section-separator" style="clear: both"/>';
    // prepend separator above appendix
    $('.d-byline').before(separator);
    $('.d-article').before(separator);

    // create d-byline
    var byline = $('<d-byline></d-byline>');
    $('.d-byline').replaceWith(byline);

    // create d-article
    var article = $('<d-article></d-article>');
    $('.d-article').wrap(article).children().unwrap();

    // move posts container into article
    $('.posts-container').appendTo($('d-article'));

    // create d-appendix
    $('.d-appendix').changeElementType('d-appendix');

    // flag indicating that we have appendix items
    var appendix = $('.appendix-bottom').children('h3').length > 0;

    // replace footnotes with <d-footnote>
    $('.footnote-ref').each(function(i, val) {
      appendix = true;
      var href = $(this).attr('href');
      var id = href.replace('#', '');
      var fn = $('#' + id);
      var fn_p = $('#' + id + '>p');
      fn_p.find('.footnote-back').remove();
      var text = fn_p.html();
      var dtfn = $('<d-footnote></d-footnote>');
      dtfn.html(text);
      $(this).replaceWith(dtfn);
    });
    // remove footnotes
    $('.footnotes').remove();

    // move refs into #references-listing
    $('#references-listing').replaceWith($('#refs'));

    $('h1.appendix, h2.appendix').each(function(i, val) {
      $(this).changeElementType('h3');
    });
    $('h3.appendix').each(function(i, val) {
      var id = $(this).attr('id');
      $('.d-contents a[href="#' + id + '"]').parent().remove();
      appendix = true;
      $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('d-appendix'));
    });

    // show d-appendix if we have appendix content
    $("d-appendix").css('display', appendix ? 'grid' : 'none');

    // localize layout chunks to just output
    $('.layout-chunk').each(function(i, val) {

      // capture layout
      var layout = $(this).attr('data-layout');

      // apply layout to markdown level block elements
      var elements = $(this).children().not('details, div.sourceCode, pre, script');
      elements.each(function(i, el) {
        var layout_div = $('<div class="' + layout + '"></div>');
        if (layout_div.hasClass('shaded')) {
          var shaded_content = $('<div class="shaded-content"></div>');
          $(this).wrap(shaded_content);
          $(this).parent().wrap(layout_div);
        } else {
          $(this).wrap(layout_div);
        }
      });


      // unwrap the layout-chunk div
      $(this).children().unwrap();
    });

    // remove code block used to force  highlighting css
    $('.distill-force-highlighting-css').parent().remove();

    // remove empty line numbers inserted by pandoc when using a
    // custom syntax highlighting theme, except when numbering line
    // in code chunk
    $('pre:not(.numberLines) code.sourceCode a:empty').remove();

    // load distill framework
    load_distill_framework();

    // wait for window.distillRunlevel == 4 to do post processing
    function distill_post_process() {

      if (!window.distillRunlevel || window.distillRunlevel < 4)
        return;

      // hide author/affiliations entirely if we have no authors
      var front_matter = JSON.parse($("#distill-front-matter").html());
      var have_authors = front_matter.authors && front_matter.authors.length > 0;
      if (!have_authors)
        $('d-byline').addClass('hidden');

      // article with toc class
      $('.d-contents').parent().addClass('d-article-with-toc');

      // strip links that point to #
      $('.authors-affiliations').find('a[href="#"]').removeAttr('href');

      // add orcid ids
      $('.authors-affiliations').find('.author').each(function(i, el) {
        var orcid_id = front_matter.authors[i].orcidID;
        var author_name = front_matter.authors[i].author
        if (orcid_id) {
          var a = $('<a></a>');
          a.attr('href', 'https://orcid.org/' + orcid_id);
          var img = $('<img></img>');
          img.addClass('orcid-id');
          img.attr('alt', author_name ? 'ORCID ID for ' + author_name : 'ORCID ID');
          img.attr('src','data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg==');
          a.append(img);
          $(this).append(a);
        }
      });

      // hide elements of author/affiliations grid that have no value
      function hide_byline_column(caption) {
        $('d-byline').find('h3:contains("' + caption + '")').parent().css('visibility', 'hidden');
      }

      // affiliations
      var have_affiliations = false;
      for (var i = 0; i<front_matter.authors.length; ++i) {
        var author = front_matter.authors[i];
        if (author.affiliation !== "&nbsp;") {
          have_affiliations = true;
          break;
        }
      }
      if (!have_affiliations)
        $('d-byline').find('h3:contains("Affiliations")').css('visibility', 'hidden');

      // published date
      if (!front_matter.publishedDate)
        hide_byline_column("Published");

      // document object identifier
      var doi = $('d-byline').find('h3:contains("DOI")');
      var doi_p = doi.next().empty();
      if (!front_matter.doi) {
        // if we have a citation and valid citationText then link to that
        if ($('#citation').length > 0 && front_matter.citationText) {
          doi.html('Citation');
          $('<a href="#citation"></a>')
            .text(front_matter.citationText)
            .appendTo(doi_p);
        } else {
          hide_byline_column("DOI");
        }
      } else {
        $('<a></a>')
           .attr('href', "https://doi.org/" + front_matter.doi)
           .html(front_matter.doi)
           .appendTo(doi_p);
      }

       // change plural form of authors/affiliations
      if (front_matter.authors.length === 1) {
        var grid = $('.authors-affiliations');
        grid.children('h3:contains("Authors")').text('Author');
        grid.children('h3:contains("Affiliations")').text('Affiliation');
      }

      // remove d-appendix and d-footnote-list local styles
      $('d-appendix > style:first-child').remove();
      $('d-footnote-list > style:first-child').remove();

      // move appendix-bottom entries to the bottom
      $('.appendix-bottom').appendTo('d-appendix').children().unwrap();
      $('.appendix-bottom').remove();

      // hoverable references
      $('span.citation[data-cites]').each(function() {
        const citeChild = $(this).children()[0]
        // Do not process if @xyz has been used without escaping and without bibliography activated
        // https://github.com/rstudio/distill/issues/466
        if (citeChild === undefined) return true

        if (citeChild.nodeName == "D-FOOTNOTE") {
          var fn = citeChild
          $(this).html(fn.shadowRoot.querySelector("sup"))
          $(this).id = fn.id
          fn.remove()
        }
        var refs = $(this).attr('data-cites').split(" ");
        var refHtml = refs.map(function(ref) {
          // Could use CSS.escape too here, we insure backward compatibility in navigator
          return "<p>" + $('div[id="ref-' + ref + '"]').html() + "</p>";
        }).join("\n");
        window.tippy(this, {
          allowHTML: true,
          content: refHtml,
          maxWidth: 500,
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start'
        });
      });

      // fix footnotes in tables (#411)
      // replacing broken distill.pub feature
      $('table d-footnote').each(function() {
        // we replace internal showAtNode methode which is triggered when hovering a footnote
        this.hoverBox.showAtNode = function(node) {
          // ported from https://github.com/distillpub/template/pull/105/files
          calcOffset = function(elem) {
              let x = elem.offsetLeft;
              let y = elem.offsetTop;
              // Traverse upwards until an `absolute` element is found or `elem`
              // becomes null.
              while (elem = elem.offsetParent && elem.style.position != 'absolute') {
                  x += elem.offsetLeft;
                  y += elem.offsetTop;
              }

              return { left: x, top: y };
          }
          // https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/offsetTop
          const bbox = node.getBoundingClientRect();
          const offset = calcOffset(node);
          this.show([offset.left + bbox.width, offset.top + bbox.height]);
        }
      })

      // clear polling timer
      clearInterval(tid);

      // show body now that everything is ready
      on_load_complete();
    }

    var tid = setInterval(distill_post_process, 50);
    distill_post_process();

  }

  function init_downlevel() {

    init_common();

     // insert hr after d-title
    $('.d-title').after($('<hr class="section-separator"/>'));

    // check if we have authors
    var front_matter = JSON.parse($("#distill-front-matter").html());
    var have_authors = front_matter.authors && front_matter.authors.length > 0;

    // manage byline/border
    if (!have_authors)
      $('.d-byline').remove();
    $('.d-byline').after($('<hr class="section-separator"/>'));
    $('.d-byline a').remove();

    // remove toc
    $('.d-contents').remove();

    // move appendix elements
    $('h1.appendix, h2.appendix').each(function(i, val) {
      $(this).changeElementType('h3');
    });
    $('h3.appendix').each(function(i, val) {
      $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('.d-appendix'));
    });


    // inject headers into references and footnotes
    var refs_header = $('<h3></h3>');
    refs_header.text('References');
    $('#refs').prepend(refs_header);

    var footnotes_header = $('<h3></h3');
    footnotes_header.text('Footnotes');
    $('.footnotes').children('hr').first().replaceWith(footnotes_header);

    // move appendix-bottom entries to the bottom
    $('.appendix-bottom').appendTo('.d-appendix').children().unwrap();
    $('.appendix-bottom').remove();

    // remove appendix if it's empty
    if ($('.d-appendix').children().length === 0)
      $('.d-appendix').remove();

    // prepend separator above appendix
    $('.d-appendix').before($('<hr class="section-separator" style="clear: both"/>'));

    // trim code
    $('pre>code').each(function(i, val) {
      $(this).html($.trim($(this).html()));
    });

    // move posts-container right before article
    $('.posts-container').insertBefore($('.d-article'));

    $('body').addClass('downlevel');

    on_load_complete();
  }


  function init_common() {

    // jquery plugin to change element types
    (function($) {
      $.fn.changeElementType = function(newType) {
        var attrs = {};

        $.each(this[0].attributes, function(idx, attr) {
          attrs[attr.nodeName] = attr.nodeValue;
        });

        this.replaceWith(function() {
          return $("<" + newType + "/>", attrs).append($(this).contents());
        });
      };
    })(jQuery);

    // prevent underline for linked images
    $('a > img').parent().css({'border-bottom' : 'none'});

    // mark non-body figures created by knitr chunks as 100% width
    $('.layout-chunk').each(function(i, val) {
      var figures = $(this).find('img, .html-widget');
      // ignore leaflet img layers (#106)
      figures = figures.filter(':not(img[class*="leaflet"])')
      if ($(this).attr('data-layout') !== "l-body") {
        figures.css('width', '100%');
      } else {
        figures.css('max-width', '100%');
        figures.filter("[width]").each(function(i, val) {
          var fig = $(this);
          fig.css('width', fig.attr('width') + 'px');
        });

      }
    });

    // auto-append index.html to post-preview links in file: protocol
    // and in rstudio ide preview
    $('.post-preview').each(function(i, val) {
      if (window.location.protocol === "file:")
        $(this).attr('href', $(this).attr('href') + "index.html");
    });

    // get rid of index.html references in header
    if (window.location.protocol !== "file:") {
      $('.distill-site-header a[href]').each(function(i,val) {
        $(this).attr('href', $(this).attr('href').replace(/^index[.]html/, "./"));
      });
    }

    // add class to pandoc style tables
    $('tr.header').parent('thead').parent('table').addClass('pandoc-table');
    $('.kable-table').children('table').addClass('pandoc-table');

    // add figcaption style to table captions
    $('caption').parent('table').addClass("figcaption");

    // initialize posts list
    if (window.init_posts_list)
      window.init_posts_list();

    // implmement disqus comment link
    $('.disqus-comment-count').click(function() {
      window.headroom_prevent_pin = true;
      $('#disqus_thread').toggleClass('hidden');
      if (!$('#disqus_thread').hasClass('hidden')) {
        var offset = $(this).offset();
        $(window).resize();
        $('html, body').animate({
          scrollTop: offset.top - 35
        });
      }
    });
  }

  document.addEventListener('DOMContentLoaded', function() {
    if (is_downlevel_browser())
      init_downlevel();
    else
      window.addEventListener('WebComponentsReady', init_distill);
  });

  </script>

  <!--/radix_placeholder_distill-->
  <script src="100566135_files/header-attrs-2.30/header-attrs.js"></script>
  <script src="100566135_files/jquery-3.6.0/jquery-3.6.0.min.js"></script>
  <script src="100566135_files/popper-2.6.0/popper.min.js"></script>
  <link href="100566135_files/tippy-6.2.7/tippy.css" rel="stylesheet" />
  <link href="100566135_files/tippy-6.2.7/tippy-light-border.css" rel="stylesheet" />
  <script src="100566135_files/tippy-6.2.7/tippy.umd.min.js"></script>
  <script src="100566135_files/anchor-4.2.2/anchor.min.js"></script>
  <script src="100566135_files/bowser-1.9.3/bowser.min.js"></script>
  <script src="100566135_files/webcomponents-2.0.0/webcomponents.js"></script>
  <script src="100566135_files/distill-2.2.21/template.v2.js"></script>
  <!--radix_placeholder_site_in_header-->
  <!--/radix_placeholder_site_in_header-->


</head>

<body>

<!--radix_placeholder_front_matter-->

<script id="distill-front-matter" type="text/json">
{"title":"Combatant deaths in conventional wars, 1800-2011","description":"Number of combatants who died due to fighting in interstate and civil wars. This excludes civilian deaths, which can make the death tolls much larger.","authors":[{"author":"Adela Solís","authorURL":"#","affiliation":"&nbsp;","affiliationURL":"#","orcidID":""}],"publishedDate":"2026-01-14T00:00:00.000+01:00","citationText":"Solís, 2026"}
</script>

<!--/radix_placeholder_front_matter-->
<!--radix_placeholder_navigation_before_body-->
<!--/radix_placeholder_navigation_before_body-->
<!--radix_placeholder_site_before_body-->
<!--/radix_placeholder_site_before_body-->

<div class="d-title">
<h1>Combatant deaths in conventional wars, 1800-2011</h1>

<!--radix_placeholder_categories-->
<div class="dt-tags">
<div class="dt-tag">2025</div>
</div>
<!--/radix_placeholder_categories-->
<p>Number of combatants who died due to fighting in interstate and civil wars. This excludes civilian deaths, which can make the death tolls much larger.</p>
</div>

<div class="d-byline">
  
  Adela Solís
  
<br/>2026-01-14
</div>

<div class="d-article">
<div class="d-contents d-contents-float">
<nav class="l-text toc figcaption" id="TOC">
<h3>Contents</h3>
<ul>
<li><a href="#graph-replication" id="toc-graph-replication">Graph Replication</a>
<ul>
<li><a href="#introduction" id="toc-introduction">Introduction</a></li>
<li><a href="#loading-libraries-and-data" id="toc-loading-libraries-and-data">Loading Libraries and Data</a></li>
<li><a href="#data-preparation" id="toc-data-preparation">Data Preparation</a></li>
<li><a href="#details-for-visualization-colors-fonts-and-labels" id="toc-details-for-visualization-colors-fonts-and-labels">Details for Visualization (Colors, Fonts and Labels)</a></li>
<li><a href="#create-the-plot" id="toc-create-the-plot">Create the Plot</a></li>
</ul></li>
<li><a href="#graph-improvement" id="toc-graph-improvement">Graph Improvement</a>
<ul>
<li><a href="#data-preparation-1" id="toc-data-preparation-1">Data Preparation</a></li>
<li><a href="#create-the-plot-1" id="toc-create-the-plot-1">Create the Plot</a></li>
</ul></li>
</ul>
</nav>
</div>
<h2 id="graph-replication">Graph Replication</h2>
<h3 id="introduction">Introduction</h3>
<p>The chosen graph to replicate consists on a visualization that explores the impact of conventional wars from 1800 to 2011, focusing specifically on combatant deaths in both interstate and civil wars. The original graph, created by Our World in Data, uses a bubble chart approach where each circle represents a war, with its size proportional to the amount of deaths. The visualization is split into two horizontal panels to clearly distinguish between interstate wars (conflicts between different nations) and civil wars (internal conflicts within a nation).</p>
<figure>
<img src="original_graph.png" class="external" style="width:100.0%" alt="Original chart. Source: &lt;OurWorldinData.org&gt;" />
<figcaption aria-hidden="true">Original chart. Source: &lt;OurWorldinData.org&gt;</figcaption>
</figure>
<p>The decision to replicate this graph stems from its effective visual communication of war’s human cost across two centuries. By positioning wars chronologically and sizing them by death toll, the visualization immediately highlights the unprecedented scale of 20th-century conflicts, particularly the World Wars. The color coding by region adds another layer of analysis, allowing viewers to trace geographic patterns in warfare over time.</p>
<h3 id="loading-libraries-and-data">Loading Libraries and Data</h3>
<p>This project utilizes several key R packages for data manipulation and visualization.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://tidyverse.tidyverse.org'>tidyverse</a></span><span class='op'>)</span></span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://scales.r-lib.org'>scales</a></span><span class='op'>)</span></span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://patchwork.data-imaginist.com'>patchwork</a></span><span class='op'>)</span></span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://github.com/yixuan/showtext'>showtext</a></span><span class='op'>)</span></span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://github.com/yixuan/sysfonts'>sysfonts</a></span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>data</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/utils/read.table.html'>read.csv</a></span><span class='op'>(</span><span class='st'>"wars_by_deaths_mars.csv"</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<h3 id="data-preparation">Data Preparation</h3>
<p>The data preparation phase is crucial for this visualization, as it involves not only calculating death tolls but also manually positioning each war to avoid bubble overlap in the final plot. This manual positioning is necessary because a pure timeline approach would cause circles to overlap, making individual wars difficult to identify.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></span><span class='op'>(</span><span class='fl'>123</span><span class='op'>)</span></span>
<span><span class='va'>data</span> <span class='op'>&lt;-</span> <span class='va'>data</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span> <span class='co'># calculating average deaths for sizing</span></span>
<span>    avg_deaths <span class='op'>=</span> <span class='op'>(</span><span class='va'>war_deaths_low</span> <span class='op'>+</span> <span class='va'>war_deaths_high</span><span class='op'>)</span> <span class='op'>/</span> <span class='fl'>2</span>, </span>
<span>    deaths_millions <span class='op'>=</span> <span class='va'>avg_deaths</span> <span class='op'>/</span> <span class='fl'>1000000</span>,</span>
<span>    war_type <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/ifelse.html'>ifelse</a></span><span class='op'>(</span><span class='va'>civil_war</span> <span class='op'>==</span> <span class='st'>"Civil war"</span>, <span class='st'>"CIVIL WARS"</span>, <span class='st'>"INTERSTATE WARS"</span><span class='op'>)</span>,</span>
<span>    war_type <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span><span class='op'>(</span><span class='va'>war_type</span>, levels <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"INTERSTATE WARS"</span>, <span class='st'>"CIVIL WARS"</span><span class='op'>)</span><span class='op'>)</span>,</span>
<span>    </span>
<span>    y_manual <span class='op'>=</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/case_when.html'>case_when</a></span><span class='op'>(</span> <span class='co'># i manually assign a 'y' value to each war to ensure exact spread</span></span>
<span>  </span>
<span>  <span class='co'># INTERSTATE WARS (positioned around y = 4.0)</span></span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Second Maratha War"</span> <span class='op'>~</span> <span class='fl'>4.17</span>,   </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Napoleonic Wars"</span> <span class='op'>~</span> <span class='fl'>4.7</span>,       </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Anglo-Turkish War"</span> <span class='op'>~</span> <span class='fl'>3.95</span>,    </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Russo-Turkish War"</span> <span class='op'>~</span> <span class='fl'>3.67</span>,    </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Russo-Persian War"</span> <span class='op'>~</span> <span class='fl'>4.17</span>,    </span>
<span> </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"War of 1812"</span> <span class='op'>~</span> <span class='fl'>4.0</span>,           </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Wahhabi War"</span> <span class='op'>~</span> <span class='fl'>4.3</span>,           </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Neapolitan War"</span> <span class='op'>~</span> <span class='fl'>3.87</span>,       </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Gurkha War"</span> <span class='op'>~</span> <span class='fl'>4.1</span>,            </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Bombardment of Algiers"</span> <span class='op'>~</span> <span class='fl'>4.0</span>, </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Third Maratha War"</span> <span class='op'>~</span> <span class='fl'>4.15</span>,    </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Durrani Empire-Sikh War"</span> <span class='op'>~</span> <span class='fl'>3.7</span>, </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Fifth Cape Frontier War"</span> <span class='op'>~</span> <span class='fl'>4.0</span>, </span>
<span>  </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Turko Persian War"</span> <span class='op'>~</span> <span class='fl'>4.0</span>,     </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Ashanti-British War"</span> <span class='op'>~</span> <span class='fl'>4.15</span>,  </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"First Anglo-Burmese War"</span> <span class='op'>~</span> <span class='fl'>3.78</span>, </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Siege of Bharatpur"</span> <span class='op'>~</span> <span class='fl'>4.0</span>,    </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Argentine-Brazilian War"</span> <span class='op'>~</span> <span class='fl'>4.15</span>, </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Vientiane-Siam War"</span> <span class='op'>~</span> <span class='fl'>3.6</span>,    </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Second Russo-Persian War"</span> <span class='op'>~</span> <span class='fl'>3.9</span>, </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Russo-Turkish War of 1828-29"</span> <span class='op'>~</span> <span class='fl'>4.3</span>, </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Gran Colombia-Peru War"</span> <span class='op'>~</span> <span class='fl'>4.05</span>, </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"French-Algerian War"</span> <span class='op'>~</span> <span class='fl'>4.0</span>,   </span>
<span>  </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Siamese-Vietnamese War"</span> <span class='op'>~</span> <span class='fl'>4.0</span>, </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Afghan-Sikh War"</span> <span class='op'>~</span> <span class='fl'>4.0</span>,       </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Afghan-Persian War"</span> <span class='op'>~</span> <span class='fl'>3.78</span>,   </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"War of the Confederation"</span> <span class='op'>~</span> <span class='fl'>4.17</span>, </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"First Opium War"</span> <span class='op'>~</span> <span class='fl'>4.23</span>,      </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Bolivia-Peru War"</span> <span class='op'>~</span> <span class='fl'>4.0</span>,       </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Sino-Sikh War"</span> <span class='op'>~</span> <span class='fl'>3.78</span>,        </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Siamese-Vietnamese War II"</span> <span class='op'>~</span> <span class='fl'>4.35</span>,  </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Gwalior War"</span> <span class='op'>~</span> <span class='fl'>4.1</span>,           </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Anglo-Baluch War"</span> <span class='op'>~</span> <span class='fl'>3.8</span>,      </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Franco-Moroccan War"</span> <span class='op'>~</span> <span class='fl'>4.0</span>,   </span>
<span>  </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Mexican-American War"</span> <span class='op'>~</span> <span class='fl'>3.78</span>, </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Second Dominican War"</span> <span class='op'>~</span> <span class='fl'>4.23</span>,  </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Seventh Cape Frontier War"</span> <span class='op'>~</span> <span class='fl'>4.0</span>, </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"First Anglo-Sikh War"</span> <span class='op'>~</span> <span class='fl'>3.53</span>, </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Austro-Sardinian War of 1848"</span> <span class='op'>~</span> <span class='fl'>4.33</span>,  </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"First Schleswig-Holstein War"</span> <span class='op'>~</span> <span class='fl'>4.0</span>, </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"First Egba-Dahomey War"</span> <span class='op'>~</span> <span class='fl'>3.8</span>, </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Eighth Cape Frontier War"</span> <span class='op'>~</span> <span class='fl'>4.0</span>,  </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"La Plata War"</span> <span class='op'>~</span> <span class='fl'>4.23</span>,      </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Tukolor-Tamba War"</span> <span class='op'>~</span> <span class='fl'>4.1</span>, </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Crimean War"</span> <span class='op'>~</span> <span class='fl'>4.6</span>,         </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Tukolor-Bambara War of 1855"</span> <span class='op'>~</span> <span class='fl'>4.2</span>, </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Tibet-Nepalese War"</span> <span class='op'>~</span> <span class='fl'>3.75</span>,   </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Fourth Dominican War"</span> <span class='op'>~</span> <span class='fl'>3.95</span>, </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Central American National War"</span> <span class='op'>~</span> <span class='fl'>4.25</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Anglo-Persian War"</span> <span class='op'>~</span> <span class='fl'>4.03</span>, </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Franco-Tukulor War"</span> <span class='op'>~</span> <span class='fl'>4.23</span>,  </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Second Opium War"</span> <span class='op'>~</span> <span class='fl'>4.03</span>,     </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Hispano-Moroccan War"</span> <span class='op'>~</span> <span class='fl'>3.78</span>, </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Two Sicilies Insurrection"</span> <span class='op'>~</span> <span class='fl'>4.2</span>, </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Papal States War"</span> <span class='op'>~</span> <span class='fl'>4.0</span>,      </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Tukulor-Bambara War of 1860"</span> <span class='op'>~</span> <span class='fl'>4.43</span>, </span>
<span>  </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Central American War"</span> <span class='op'>~</span> <span class='fl'>4.2</span>,  </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Ecuadorian-Colombian War"</span> <span class='op'>~</span> <span class='fl'>4.0</span>, </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Second Schleswig-Holstein War"</span> <span class='op'>~</span> <span class='fl'>3.67</span>, </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Second Egba-Dahomey War"</span> <span class='op'>~</span> <span class='fl'>4.04</span>, </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Franco-Mexican War"</span> <span class='op'>~</span> <span class='fl'>3.4</span>,    </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Russia-Khokandian War"</span> <span class='op'>~</span> <span class='fl'>3.87</span>, </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Sino-Kuchean Muslim War"</span> <span class='op'>~</span> <span class='fl'>4.23</span>, </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Sino-Khokandian War"</span> <span class='op'>~</span> <span class='fl'>4.06</span>, </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Russia-Bukhara Khanate War"</span> <span class='op'>~</span> <span class='fl'>3.77</span>, </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Austro-Prussian War"</span> <span class='op'>~</span> <span class='fl'>3.5</span>,   </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Paraguayan War"</span> <span class='op'>~</span> <span class='fl'>4.2</span>,        </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"British Abyssinian Expedition"</span> <span class='op'>~</span> <span class='fl'>3.8</span>, </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Franco-Prussian War"</span> <span class='op'>~</span> <span class='fl'>4.5</span>, </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Sino-Jahriyya Order War"</span> <span class='op'>~</span> <span class='fl'>3.55</span>, </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Ottoman Conquest of Arabia"</span> <span class='op'>~</span> <span class='fl'>3.8</span>, </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Kashgaria-Urumchi Dungan War"</span> <span class='op'>~</span> <span class='fl'>4.05</span>, </span>
<span>  </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Anglo-Ashanti War"</span> <span class='op'>~</span> <span class='fl'>4.17</span>,    </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Egypt-Abyssinian War"</span> <span class='op'>~</span> <span class='fl'>3.55</span>, </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Russia-Khokand Khanate War"</span> <span class='op'>~</span> <span class='fl'>4.2</span>, </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"First Central American War"</span> <span class='op'>~</span> <span class='fl'>4.0</span>, </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Sino-Kashgarian War"</span> <span class='op'>~</span> <span class='fl'>3.8</span>,   </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Russo-Turkish War of 1877-78"</span> <span class='op'>~</span> <span class='fl'>4.3</span>, </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Ninth Cape Frontier War"</span> <span class='op'>~</span> <span class='fl'>4.0</span>, </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"British-Zulu War"</span> <span class='op'>~</span> <span class='fl'>3.77</span>,     </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Second Anglo-Afghan War"</span> <span class='op'>~</span> <span class='fl'>4.23</span>, </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Russo-Turkomen War"</span> <span class='op'>~</span> <span class='fl'>4.0</span>,   </span>
<span>  </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"War of the Pacific"</span> <span class='op'>~</span> <span class='fl'>3.77</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Anglo-Egyptian War"</span> <span class='op'>~</span> <span class='fl'>4.0</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Sino-French (Tonkin) War"</span> <span class='op'>~</span> <span class='fl'>4.15</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Second Central American War"</span> <span class='op'>~</span> <span class='fl'>4.0</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Serbo-Bulgarian War"</span> <span class='op'>~</span> <span class='fl'>4.2</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Ethiopian-Mahdi War"</span> <span class='op'>~</span> <span class='fl'>3.73</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"War of Dogali"</span> <span class='op'>~</span> <span class='fl'>4.0</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Mahdi-Egyptian War"</span> <span class='op'>~</span> <span class='fl'>4.0</span>,</span>
<span></span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Franco-Dahomean War"</span> <span class='op'>~</span> <span class='fl'>4.1</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Franco-Mandingo War V"</span> <span class='op'>~</span> <span class='fl'>4.0</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Congo Arab War"</span> <span class='op'>~</span> <span class='fl'>4.37</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Bornu Empire-Rabah Empire War"</span> <span class='op'>~</span> <span class='fl'>3.75</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"France-Tukolor Empire War"</span> <span class='op'>~</span> <span class='fl'>4.05</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Melilla War"</span> <span class='op'>~</span> <span class='fl'>4.2</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Mahdist-Italian War"</span> <span class='op'>~</span> <span class='fl'>3.9</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"First Matabele War"</span> <span class='op'>~</span> <span class='fl'>4.1</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"First Sino-Japanese War"</span> <span class='op'>~</span> <span class='fl'>3.9</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Japanese Invasion of Taiwan"</span> <span class='op'>~</span> <span class='fl'>4.3</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Portugal-Gaza Nguni War"</span> <span class='op'>~</span> <span class='fl'>4.1</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Second Franco-Hova War"</span> <span class='op'>~</span> <span class='fl'>4.01</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"First Italo-Abyssinian War"</span> <span class='op'>~</span> <span class='fl'>3.73</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"British-Mahdi War"</span> <span class='op'>~</span> <span class='fl'>3.85</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Spanish-American War"</span> <span class='op'>~</span> <span class='fl'>4.15</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Franco-Mandingo War VIII"</span> <span class='op'>~</span> <span class='fl'>4.07</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Second Anglo-Boer War"</span> <span class='op'>~</span> <span class='fl'>4.2</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"War of the Golden Stool"</span> <span class='op'>~</span> <span class='fl'>4.27</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"British-Sokoto Caliphate War"</span> <span class='op'>~</span> <span class='fl'>3.8</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Franco-Rabah Empire War"</span> <span class='op'>~</span> <span class='fl'>4.0</span>,</span>
<span>  </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Boxer Rebellion"</span> <span class='op'>~</span> <span class='fl'>4.05</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Russo-Japanese War"</span> <span class='op'>~</span> <span class='fl'>4.3</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Third and Fourth Central American War"</span> <span class='op'>~</span> <span class='fl'>4.05</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Second Spanish-Moroccan War"</span> <span class='op'>~</span> <span class='fl'>4.15</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Greco-Turkish War"</span> <span class='op'>~</span> <span class='fl'>3.8</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Wadai War"</span> <span class='op'>~</span> <span class='fl'>4.0</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Italo-Turkish War"</span> <span class='op'>~</span> <span class='fl'>4.15</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Second Balkan War"</span> <span class='op'>~</span> <span class='fl'>3.7</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"First Sino-Tibet War"</span> <span class='op'>~</span> <span class='fl'>4.0</span>,</span>
<span>  </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"World War I"</span> <span class='op'>~</span> <span class='fl'>1.65</span>,           </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Second Sino-Tibet War"</span> <span class='op'>~</span> <span class='fl'>4.0</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Polish-Ukrainian War"</span> <span class='op'>~</span> <span class='fl'>4.5</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Czech-Polish War"</span> <span class='op'>~</span> <span class='fl'>4.3</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Hungarian Adversaries War"</span> <span class='op'>~</span> <span class='fl'>3.75</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Third Anglo-Afghan War"</span> <span class='op'>~</span> <span class='fl'>4.1</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Soviet-Polish War"</span> <span class='op'>~</span> <span class='fl'>3.5</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Waziristan Campaign"</span> <span class='op'>~</span> <span class='fl'>4.0</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Franco-Turkish War"</span> <span class='op'>~</span> <span class='fl'>4.2</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Turkish-Armenian War"</span> <span class='op'>~</span> <span class='fl'>3.8</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Azeri-Armenian War"</span> <span class='op'>~</span> <span class='fl'>4.1</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Polish-Lithuanian War"</span> <span class='op'>~</span> <span class='fl'>4.0</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Soviet-Georgia War"</span> <span class='op'>~</span> <span class='fl'>3.7</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Hejaz War"</span> <span class='op'>~</span> <span class='fl'>4.0</span>,</span>
<span>  </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Second Sino-Japanese War"</span> <span class='op'>~</span> <span class='fl'>4.4</span>, </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Third Sino-Japanese War"</span> <span class='op'>~</span> <span class='fl'>2.85</span>, </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"World War II"</span> <span class='op'>~</span> <span class='fl'>7.9</span>,         </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Sino-Soviet War"</span> <span class='op'>~</span> <span class='fl'>4.0</span>, </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Chaco War"</span> <span class='op'>~</span> <span class='fl'>3.7</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"East Turkestan Kashgar War"</span> <span class='op'>~</span> <span class='fl'>4.25</span>, </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Saudi-Yemeni War"</span> <span class='op'>~</span> <span class='fl'>4.01</span>, </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Second Italo-Abyssinian War"</span> <span class='op'>~</span> <span class='fl'>3.9</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Battle of Lake Khasan"</span> <span class='op'>~</span> <span class='fl'>4.01</span>, </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Battle of Khalkhin Gol"</span> <span class='op'>~</span> <span class='fl'>4.2</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Peruvian-Ecuadorian War"</span> <span class='op'>~</span> <span class='fl'>4.0</span>, </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"East Turkestan Gulja Incident"</span> <span class='op'>~</span> <span class='fl'>4.0</span>, </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"India-Pakistan War of 1947"</span> <span class='op'>~</span> <span class='fl'>4.0</span>, </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Operation Polo"</span> <span class='op'>~</span> <span class='fl'>4.2</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"1948 Palestine War"</span> <span class='op'>~</span> <span class='fl'>3.8</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Korean War"</span> <span class='op'>~</span> <span class='fl'>4.6</span>,            </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Suez Crisis"</span> <span class='op'>~</span> <span class='fl'>3.95</span>,          </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Second Taiwan Strait Crisis"</span> <span class='op'>~</span> <span class='fl'>4.09</span>,</span>
<span>  </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Sino-Indian War"</span> <span class='op'>~</span> <span class='fl'>3.95</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"India-Pakistan War of 1965"</span> <span class='op'>~</span> <span class='fl'>3.95</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Six Day War"</span> <span class='op'>~</span> <span class='fl'>3.95</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Vietnam War"</span> <span class='op'>~</span> <span class='fl'>3.22</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Football War"</span> <span class='op'>~</span> <span class='fl'>3.95</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"War of Attrition"</span> <span class='op'>~</span> <span class='fl'>4.09</span>, </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Yom Kippur War"</span> <span class='op'>~</span> <span class='fl'>4.0</span>,       </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"North Vietnam-South Vietnam War"</span> <span class='op'>~</span> <span class='fl'>4.25</span>,   </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Vietnamese-Cambodian War"</span> <span class='op'>~</span> <span class='fl'>4.0</span>,       </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Uganda-Tanzania War"</span> <span class='op'>~</span> <span class='fl'>4.09</span>, </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"First Sino-Vietnamese War"</span> <span class='op'>~</span> <span class='fl'>3.8</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Yemen Border War II"</span> <span class='op'>~</span> <span class='fl'>4.0</span>,    </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Falklands War"</span> <span class='op'>~</span> <span class='fl'>4.0</span>,    </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Lebanese War of 1982-84"</span> <span class='op'>~</span> <span class='fl'>4.09</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Iran-Iraq War"</span> <span class='op'>~</span> <span class='fl'>3.6</span>,        </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Toyota War"</span> <span class='op'>~</span> <span class='fl'>4.1</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Second Sino-Vietnamese War"</span> <span class='op'>~</span> <span class='fl'>4.0</span>,  </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Iraq-Kuwait War"</span> <span class='op'>~</span> <span class='fl'>4.0</span>,  </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Persian Gulf War"</span> <span class='op'>~</span> <span class='fl'>4.25</span>,  </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Nagorno-Karabakh War"</span> <span class='op'>~</span> <span class='fl'>4.0</span>, </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"US-Afghan"</span> <span class='op'>~</span> <span class='fl'>4.25</span>,  </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Ethiopian-Eritrean War"</span> <span class='op'>~</span> <span class='fl'>3.7</span>, </span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Kargil Conflict"</span> <span class='op'>~</span> <span class='fl'>4.0</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"US-Iraq War"</span> <span class='op'>~</span> <span class='fl'>4.0</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Israel-Hezbollah War"</span> <span class='op'>~</span> <span class='fl'>4.0</span>,</span>
<span>  </span>
<span>  <span class='co'># CIVIL WARS (positioned around y = 5.0)</span></span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Argentine War of Independence"</span> <span class='op'>~</span> <span class='fl'>5.0</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Venezuelan War of Independence"</span> <span class='op'>~</span> <span class='fl'>5.3</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Chilean War of Independence"</span> <span class='op'>~</span> <span class='fl'>5.0</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Ecuadorian War of Independence"</span> <span class='op'>~</span> <span class='fl'>5.0</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Peruvian War of Independence"</span> <span class='op'>~</span> <span class='fl'>4.8</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Brazilian War of Independence"</span> <span class='op'>~</span> <span class='fl'>5.2</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"November Uprising"</span> <span class='op'>~</span> <span class='fl'>5.3</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Second Turko-Egyptian War"</span> <span class='op'>~</span> <span class='fl'>5.0</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Farroupilha Revolution"</span> <span class='op'>~</span> <span class='fl'>5.3</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"First Anglo-Afghan War"</span> <span class='op'>~</span> <span class='fl'>4.8</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Hungarian War of Independence"</span> <span class='op'>~</span> <span class='fl'>4.52</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"War of the Roman Republic"</span> <span class='op'>~</span> <span class='fl'>5.3</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Montenegrin-Ottoman War"</span> <span class='op'>~</span> <span class='fl'>4.86</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Indian Rebellion of 1857"</span> <span class='op'>~</span> <span class='fl'>5.3</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Austro-Sardinian War of 1859"</span> <span class='op'>~</span> <span class='fl'>4.9</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Nien (Nian) Rebellion"</span> <span class='op'>~</span> <span class='fl'>5.2</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Taiping Rebellion"</span> <span class='op'>~</span> <span class='fl'>4.1</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"American Civil War"</span> <span class='op'>~</span> <span class='fl'>4.7</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Boshin War"</span> <span class='op'>~</span> <span class='fl'>4.9</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Satsuma Rebellion"</span> <span class='op'>~</span> <span class='fl'>5.47</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Thousand Days' War"</span> <span class='op'>~</span> <span class='fl'>5.45</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Xinhai Revolution"</span> <span class='op'>~</span> <span class='fl'>5.0</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Finnish Civil War"</span> <span class='op'>~</span> <span class='fl'>5.0</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Lithuanian-Soviet War"</span> <span class='op'>~</span> <span class='fl'>5.35</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Latvian War of Independence"</span> <span class='op'>~</span> <span class='fl'>4.73</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Estonian War of Independence"</span> <span class='op'>~</span> <span class='fl'>4.35</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Russian Civil War"</span> <span class='op'>~</span> <span class='fl'>6.85</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Warlord Era Wars"</span> <span class='op'>~</span> <span class='fl'>6.15</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Spanish Civil War"</span> <span class='op'>~</span> <span class='fl'>5.0</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Chinese Civil War"</span> <span class='op'>~</span> <span class='fl'>5.0</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Nigerian-Biafran War"</span> <span class='op'>~</span> <span class='fl'>4.9</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Black September War of 1970"</span> <span class='op'>~</span> <span class='fl'>4.9</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Bangladesh War"</span> <span class='op'>~</span> <span class='fl'>5.15</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Ogaden War"</span> <span class='op'>~</span> <span class='fl'>4.95</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Angolan Civil War"</span> <span class='op'>~</span> <span class='fl'>5.85</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Dniestrian Independence War"</span> <span class='op'>~</span> <span class='fl'>5.27</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Bosnian War"</span> <span class='op'>~</span> <span class='fl'>4.4</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Rwanda War 1994"</span> <span class='op'>~</span> <span class='fl'>5.5</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Yemen Civil War"</span> <span class='op'>~</span> <span class='fl'>5.15</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Second Congo War"</span> <span class='op'>~</span> <span class='fl'>5.3</span>,</span>
<span>  <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Sri Lanka-Tamil War II"</span> <span class='op'>~</span> <span class='fl'>5.37</span>,</span>
<span></span>
<span>  <span class='va'>war_type</span> <span class='op'>==</span> <span class='st'>"INTERSTATE WARS"</span> <span class='op'>~</span> <span class='fu'><a href='https://rdrr.io/r/stats/Uniform.html'>runif</a></span><span class='op'>(</span><span class='fu'><a href='https://dplyr.tidyverse.org/reference/context.html'>n</a></span><span class='op'>(</span><span class='op'>)</span>, <span class='fl'>3.85</span>, <span class='fl'>4.15</span><span class='op'>)</span>, <span class='co'># default y-position for interstate wars</span></span>
<span>  <span class='va'>war_type</span> <span class='op'>==</span> <span class='st'>"CIVIL WARS"</span> <span class='op'>~</span> <span class='fu'><a href='https://rdrr.io/r/stats/Uniform.html'>runif</a></span><span class='op'>(</span><span class='fu'><a href='https://dplyr.tidyverse.org/reference/context.html'>n</a></span><span class='op'>(</span><span class='op'>)</span>, <span class='fl'>4.85</span>, <span class='fl'>5.15</span><span class='op'>)</span>, <span class='co'># default y-position for civil wars</span></span>
<span>  <span class='cn'>TRUE</span> <span class='op'>~</span> <span class='fl'>5.0</span></span>
<span><span class='op'>)</span>,</span>
<span></span>
<span></span>
<span>    y_plot <span class='op'>=</span> <span class='fu'>scales</span><span class='fu'>::</span><span class='fu'><a href='https://scales.r-lib.org/reference/rescale.html'>rescale</a></span><span class='op'>(</span><span class='va'>y_manual</span>, to <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0.5</span>, <span class='fl'>1.5</span><span class='op'>)</span>, from <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>10</span><span class='op'>)</span><span class='op'>)</span>, <span class='co'># rescale for plotting</span></span>
<span>    x_plot <span class='op'>=</span> <span class='va'>midpoint</span> <span class='co'># x-coordinate is the midpoint of war years (variable from dataset)</span></span>
<span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>data</span> <span class='op'>&lt;-</span> <span class='va'>data</span> <span class='op'>|&gt;</span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span></span>
<span>    region <span class='op'>=</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/recode.html'>recode</a></span><span class='op'>(</span><span class='va'>region</span>, </span>
<span>                    <span class='st'>"Cross-Regional"</span> <span class='op'>=</span> <span class='st'>"Multiple regions"</span>,</span>
<span>                    <span class='st'>"North Africa and Middle East"</span> <span class='op'>=</span> <span class='st'>"North Africa &amp; Middle East"</span><span class='op'>)</span> </span>
<span>  <span class='op'>)</span></span>
<span></span>
<span><span class='va'>max_deaths</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/Extremes.html'>max</a></span><span class='op'>(</span><span class='va'>data</span><span class='op'>$</span><span class='va'>avg_deaths</span><span class='op'>)</span></span>
<span><span class='va'>min_deaths</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/Extremes.html'>min</a></span><span class='op'>(</span><span class='va'>data</span><span class='op'>$</span><span class='va'>avg_deaths</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<h3 id="details-for-visualization-colors-fonts-and-labels">Details for Visualization (Colors, Fonts and Labels)</h3>
<p>This section establishes the visual identity of the graph through color palette selection, typography, and label positioning. The color choices are critical for distinguishing regions at a glance, and, with the custom font, we try to replicate the original graph as much as possible.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>region_colors</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span></span>
<span>  <span class='st'>"Multiple regions"</span> <span class='op'>=</span> <span class='st'>"#AF1B45"</span>,</span>
<span>  <span class='st'>"Americas"</span> <span class='op'>=</span> <span class='st'>"#E46E5A"</span>,</span>
<span>  <span class='st'>"Asia"</span> <span class='op'>=</span> <span class='st'>"#58AB8B"</span>,</span>
<span>  <span class='st'>"Europe"</span> <span class='op'>=</span> <span class='st'>"#FAAF3B"</span>,</span>
<span>  <span class='st'>"North Africa &amp; Middle East"</span> <span class='op'>=</span> <span class='st'>"#79B6F2"</span>,</span>
<span>  <span class='st'>"Sub-Saharan Africa"</span> <span class='op'>=</span> <span class='st'>"#4C6A9B"</span></span>
<span><span class='op'>)</span></span>
<span></span>
<span><span class='fu'><a href='https://rdrr.io/pkg/sysfonts/man/font_add_google.html'>font_add_google</a></span><span class='op'>(</span><span class='st'>"Castoro"</span>, <span class='st'>"Castoro"</span><span class='op'>)</span></span>
<span> <span class='co'># custom font from google fonts</span></span>
<span></span>
<span><span class='fu'><a href='https://rdrr.io/pkg/showtext/man/showtext_auto.html'>showtext_auto</a></span><span class='op'>(</span><span class='op'>)</span></span>
<span></span>
<span><span class='co'># manual positioning for labels (INTERSTATE)</span></span>
<span><span class='va'>interstate_labels</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://tibble.tidyverse.org/reference/tribble.html'>tribble</a></span><span class='op'>(</span></span>
<span>  <span class='op'>~</span><span class='va'>war_name</span>, <span class='op'>~</span><span class='va'>label_y</span>, <span class='op'>~</span><span class='va'>formatted_name</span>,</span>
<span>  <span class='st'>"Napoleonic Wars"</span>, <span class='fl'>5.7</span>, <span class='st'>"Napoleonic Wars"</span>,</span>
<span>  <span class='st'>"Crimean War"</span>, <span class='fl'>5.5</span>, <span class='st'>"Crimean War"</span>,</span>
<span>  <span class='st'>"Korean War"</span>, <span class='fl'>1.5</span>, <span class='st'>"Korean War"</span>,</span>
<span>  <span class='st'>"Suez Crisis"</span>, <span class='fl'>3.0</span>, <span class='st'>"Suez Crisis"</span>,</span>
<span>  <span class='st'>"Vietnam War"</span>, <span class='fl'>1.0</span>, <span class='st'>"Vietnam War"</span>,</span>
<span>  <span class='st'>"Yom Kippur War"</span>, <span class='fl'>5.3</span>, <span class='st'>"Yom Kippur War"</span>,</span>
<span>  <span class='st'>"Iran-Iraq War"</span>, <span class='fl'>2.0</span>, <span class='st'>"Iran-Iraq War"</span>,</span>
<span>  <span class='st'>"Persian Gulf War"</span>, <span class='fl'>5.8</span>, <span class='st'>"Persian Gulf War"</span>,</span>
<span>  <span class='st'>"Ethiopian-Eritrean War"</span>, <span class='fl'>1.5</span>, <span class='st'>"Ethiopian-\nEritrean War"</span>,  <span class='co'># line break </span></span>
<span>  <span class='st'>"Third Sino-Japanese War"</span>, <span class='fl'>0.2</span>, <span class='st'>"Second Sino-\nJapanese War"</span>  <span class='co'># renamed (error in dataset) + line break</span></span>
<span><span class='op'>)</span> <span class='op'>|&gt;</span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate-joins.html'>left_join</a></span><span class='op'>(</span><span class='va'>data</span> <span class='op'>|&gt;</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/select.html'>select</a></span><span class='op'>(</span><span class='va'>war_name</span>, <span class='va'>x_plot</span>, <span class='va'>war_deaths_low</span>, <span class='va'>war_deaths_high</span><span class='op'>)</span>, <span class='co'># add death range estimate</span></span>
<span>            by <span class='op'>=</span> <span class='st'>"war_name"</span><span class='op'>)</span> <span class='op'>|&gt;</span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span></span>
<span>    <span class='co'># use formatted_name in label</span></span>
<span>    label_text <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/ifelse.html'>ifelse</a></span><span class='op'>(</span></span>
<span>      <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Third Sino-Japanese War"</span>,</span>
<span>      <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span><span class='op'>(</span><span class='va'>formatted_name</span>, <span class='st'>"\n"</span>, </span>
<span>             <span class='fu'><a href='https://rdrr.io/r/base/Round.html'>floor</a></span><span class='op'>(</span><span class='va'>war_deaths_low</span><span class='op'>/</span><span class='fl'>1000000</span> <span class='op'>*</span> <span class='fl'>10</span><span class='op'>)</span> <span class='op'>/</span> <span class='fl'>10</span>, <span class='st'>"–"</span>, </span>
<span>             <span class='fu'><a href='https://rdrr.io/r/base/Round.html'>floor</a></span><span class='op'>(</span><span class='va'>war_deaths_high</span><span class='op'>/</span><span class='fl'>1000000</span> <span class='op'>*</span> <span class='fl'>10</span><span class='op'>)</span> <span class='op'>/</span> <span class='fl'>10</span>, <span class='st'>"m"</span><span class='op'>)</span>, <span class='co'># death range in millions</span></span>
<span>      <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span><span class='op'>(</span><span class='va'>formatted_name</span>, <span class='st'>"\n"</span>, </span>
<span>             <span class='fu'><a href='https://rdrr.io/r/base/Round.html'>floor</a></span><span class='op'>(</span><span class='va'>war_deaths_low</span><span class='op'>/</span><span class='fl'>1000</span><span class='op'>)</span>, <span class='st'>"–"</span>, </span>
<span>             <span class='fu'><a href='https://rdrr.io/r/base/Round.html'>floor</a></span><span class='op'>(</span><span class='va'>war_deaths_high</span><span class='op'>/</span><span class='fl'>1000</span><span class='op'>)</span>, <span class='st'>"k"</span><span class='op'>)</span>  <span class='co'># death range in thousands</span></span>
<span>    <span class='op'>)</span>,</span>
<span>    label_y_plot <span class='op'>=</span> <span class='fu'>scales</span><span class='fu'>::</span><span class='fu'><a href='https://scales.r-lib.org/reference/rescale.html'>rescale</a></span><span class='op'>(</span><span class='va'>label_y</span>, to <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0.5</span>, <span class='fl'>1.5</span><span class='op'>)</span>, from <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>10</span><span class='op'>)</span><span class='op'>)</span> <span class='co'># rescaling</span></span>
<span>  <span class='op'>)</span></span>
<span></span>
<span><span class='co'># manual positioning for labels (CIVIL)</span></span>
<span><span class='va'>civil_labels</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://tibble.tidyverse.org/reference/tribble.html'>tribble</a></span><span class='op'>(</span></span>
<span>  <span class='op'>~</span><span class='va'>war_name</span>, <span class='op'>~</span><span class='va'>label_y</span>, <span class='op'>~</span><span class='va'>formatted_name</span>,</span>
<span>  <span class='st'>"Venezuelan War of Independence"</span>, <span class='fl'>7.2</span>, <span class='st'>"Venezuelan War\nof Independence"</span>,  </span>
<span>  <span class='st'>"American Civil War"</span>, <span class='fl'>2.6</span>, <span class='st'>"American Civil War"</span>,</span>
<span>  <span class='st'>"Russian Civil War"</span>, <span class='fl'>9.2</span>, <span class='st'>"Russian Civil War"</span>,</span>
<span>  <span class='st'>"Warlord Era Wars"</span>, <span class='fl'>3.5</span>, <span class='st'>"Warlord Era Wars"</span>,</span>
<span>  <span class='st'>"Spanish Civil War"</span>, <span class='fl'>6.7</span>, <span class='st'>"Spanish Civil War"</span>,</span>
<span>  <span class='st'>"Chinese Civil War"</span>, <span class='fl'>1.8</span>, <span class='st'>"Chinese Civil War"</span>,</span>
<span>  <span class='st'>"Angolan Civil War"</span>, <span class='fl'>7.6</span>, <span class='st'>"Angolan Civil War"</span>,</span>
<span>  <span class='st'>"Bosnian War"</span>, <span class='fl'>1.6</span>, <span class='st'>"Bosnian War"</span></span>
<span><span class='op'>)</span> <span class='op'>|&gt;</span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate-joins.html'>left_join</a></span><span class='op'>(</span><span class='va'>data</span> <span class='op'>|&gt;</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/select.html'>select</a></span><span class='op'>(</span><span class='va'>war_name</span>, <span class='va'>x_plot</span>, <span class='va'>war_deaths_low</span>, <span class='va'>war_deaths_high</span><span class='op'>)</span>, <span class='co'># also add death estimate range</span></span>
<span>            by <span class='op'>=</span> <span class='st'>"war_name"</span><span class='op'>)</span> <span class='op'>|&gt;</span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span></span>
<span>    label_text <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/ifelse.html'>ifelse</a></span><span class='op'>(</span></span>
<span>      <span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Chinese Civil War"</span>,</span>
<span>      <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span><span class='op'>(</span><span class='va'>formatted_name</span>, <span class='st'>"\n"</span>, </span>
<span>             <span class='fu'><a href='https://rdrr.io/r/base/Round.html'>floor</a></span><span class='op'>(</span><span class='va'>war_deaths_low</span><span class='op'>/</span><span class='fl'>1000000</span> <span class='op'>*</span> <span class='fl'>10</span><span class='op'>)</span> <span class='op'>/</span> <span class='fl'>10</span>, <span class='st'>"–"</span>, </span>
<span>             <span class='fu'><a href='https://rdrr.io/r/base/Round.html'>floor</a></span><span class='op'>(</span><span class='va'>war_deaths_high</span><span class='op'>/</span><span class='fl'>1000000</span> <span class='op'>*</span> <span class='fl'>10</span><span class='op'>)</span> <span class='op'>/</span> <span class='fl'>10</span>, <span class='st'>"m"</span><span class='op'>)</span>,</span>
<span>      <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span><span class='op'>(</span><span class='va'>formatted_name</span>, <span class='st'>"\n"</span>, </span>
<span>             <span class='fu'><a href='https://rdrr.io/r/base/Round.html'>floor</a></span><span class='op'>(</span><span class='va'>war_deaths_low</span><span class='op'>/</span><span class='fl'>1000</span><span class='op'>)</span>, <span class='st'>"–"</span>, </span>
<span>             <span class='fu'><a href='https://rdrr.io/r/base/Round.html'>floor</a></span><span class='op'>(</span><span class='va'>war_deaths_high</span><span class='op'>/</span><span class='fl'>1000</span><span class='op'>)</span>, <span class='st'>"k"</span><span class='op'>)</span></span>
<span>    <span class='op'>)</span>,</span>
<span>    label_y_plot <span class='op'>=</span> <span class='fu'>scales</span><span class='fu'>::</span><span class='fu'><a href='https://scales.r-lib.org/reference/rescale.html'>rescale</a></span><span class='op'>(</span><span class='va'>label_y</span>, to <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0.5</span>, <span class='fl'>1.5</span><span class='op'>)</span>, from <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>10</span><span class='op'>)</span><span class='op'>)</span> <span class='co'># rescaling</span></span>
<span>  <span class='op'>)</span></span></code></pre>
</div>
</div>
<h3 id="create-the-plot">Create the Plot</h3>
<p>Once the data and specific details for the visualization are done, we can proceed with the creation of the graph itself. It consists of two horizontally stacked panels created separately, each displaying wars as proportionally-sized circles along a timeline. The top panel shows interstate wars, while the bottom shows civil wars. We also focus on titles, subtitles, captions and timeline.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>graph_interstate</span> <span class='op'>&lt;-</span> <span class='va'>data</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>war_type</span> <span class='op'>==</span> <span class='st'>"INTERSTATE WARS"</span><span class='op'>)</span> <span class='op'>|&gt;</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>x_plot</span>, y <span class='op'>=</span> <span class='va'>y_plot</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>   </span>
<span>  <span class='co'># lines connecting circles to external labels (added first so that they appear behind the circles)</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_segment.html'>geom_segment</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='va'>interstate_labels</span> <span class='op'>|&gt;</span> </span>
<span>      <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate-joins.html'>left_join</a></span><span class='op'>(</span><span class='va'>data</span> <span class='op'>|&gt;</span></span>
<span>                  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/select.html'>select</a></span><span class='op'>(</span><span class='va'>war_name</span>, <span class='va'>y_plot</span><span class='op'>)</span>, by <span class='op'>=</span> <span class='st'>"war_name"</span><span class='op'>)</span>,</span>
<span>    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>x_plot</span>, </span>
<span>        y <span class='op'>=</span> <span class='va'>y_plot</span>, </span>
<span>        xend <span class='op'>=</span> <span class='va'>x_plot</span>, </span>
<span>        yend <span class='op'>=</span> <span class='va'>label_y_plot</span><span class='op'>)</span>,</span>
<span>    color <span class='op'>=</span> <span class='st'>"gray40"</span>,</span>
<span>    linewidth <span class='op'>=</span> <span class='fl'>0.3</span></span>
<span>  <span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='co'># plot the circles that represent wars</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_point.html'>geom_point</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>size <span class='op'>=</span> <span class='va'>avg_deaths</span>, </span>
<span>                 color <span class='op'>=</span> <span class='va'>region</span><span class='op'>)</span>, </span>
<span>             alpha <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span> <span class='op'>+</span> </span>
<span>  </span>
<span>  <span class='co'># white labels for WWI and WWII (inside the circles)</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='va'>data</span> <span class='op'>|&gt;</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>war_name</span> <span class='op'><a href='https://rdrr.io/r/base/match.html'>%in%</a></span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"World War II"</span>, <span class='st'>"World War I"</span><span class='op'>)</span><span class='op'>)</span>, </span>
<span>    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>label <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span><span class='op'>(</span><span class='va'>war_name</span>, <span class='st'>"\n"</span>, </span>
<span>                       <span class='fu'><a href='https://rdrr.io/r/base/Round.html'>floor</a></span><span class='op'>(</span><span class='va'>war_deaths_low</span><span class='op'>/</span><span class='fl'>1000000</span> <span class='op'>*</span> <span class='fl'>10</span><span class='op'>)</span> <span class='op'>/</span> <span class='fl'>10</span>, <span class='st'>"–"</span>,</span>
<span>                       <span class='fu'><a href='https://rdrr.io/r/base/Round.html'>floor</a></span><span class='op'>(</span><span class='va'>war_deaths_high</span><span class='op'>/</span><span class='fl'>1000000</span> <span class='op'>*</span> <span class='fl'>10</span><span class='op'>)</span> <span class='op'>/</span> <span class='fl'>10</span>, <span class='st'>"m deaths"</span><span class='op'>)</span><span class='op'>)</span>,</span>
<span>    size <span class='op'>=</span> <span class='fl'>2.7</span>,</span>
<span>    color <span class='op'>=</span> <span class='st'>"white"</span>,</span>
<span>    fontface <span class='op'>=</span> <span class='st'>"bold"</span>,</span>
<span>    lineheight <span class='op'>=</span> <span class='fl'>0.9</span></span>
<span>  <span class='op'>)</span> <span class='op'>+</span></span>
<span> </span>
<span>  <span class='co'># labels outside the circles for other wars</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='va'>interstate_labels</span>,</span>
<span>    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>x_plot</span>, y <span class='op'>=</span> <span class='va'>label_y_plot</span>, label <span class='op'>=</span> <span class='va'>label_text</span><span class='op'>)</span>,</span>
<span>    size <span class='op'>=</span> <span class='fl'>2.9</span>,</span>
<span>    color <span class='op'>=</span> <span class='st'>"black"</span>,</span>
<span>    lineheight <span class='op'>=</span> <span class='fl'>0.9</span></span>
<span>  <span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='co'># "INTERSTATE WARS" panel title at top</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, </span>
<span>           x <span class='op'>=</span> <span class='fl'>1800</span>, </span>
<span>           y <span class='op'>=</span> <span class='fl'>1.55</span>, </span>
<span>           label <span class='op'>=</span> <span class='st'>"INTERSTATE WARS"</span>, </span>
<span>           size <span class='op'>=</span> <span class='fl'>5</span>, </span>
<span>           fontface <span class='op'>=</span> <span class='st'>"bold"</span>, </span>
<span>           hjust <span class='op'>=</span> <span class='fl'>0</span><span class='op'>)</span> <span class='op'>+</span> <span class='co'># left-side</span></span>
<span>  </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_color_manual</a></span><span class='op'>(</span>values <span class='op'>=</span> <span class='va'>region_colors</span>,</span>
<span>                     name <span class='op'>=</span> <span class='cn'>NULL</span>, </span>
<span>                     breaks <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/names.html'>names</a></span><span class='op'>(</span><span class='va'>region_colors</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='co'># circle area proportional to value</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_size.html'>scale_size_area</a></span><span class='op'>(</span>max_size <span class='op'>=</span> <span class='fl'>82</span>,  </span>
<span>                limits <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/Extremes.html'>min</a></span><span class='op'>(</span><span class='va'>data</span><span class='op'>$</span><span class='va'>avg_deaths</span><span class='op'>)</span>, </span>
<span>                           <span class='fu'><a href='https://rdrr.io/r/base/Extremes.html'>max</a></span><span class='op'>(</span><span class='va'>data</span><span class='op'>$</span><span class='va'>avg_deaths</span><span class='op'>)</span><span class='op'>)</span>, </span>
<span>                guide <span class='op'>=</span> <span class='st'>"none"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_continuous.html'>scale_x_continuous</a></span><span class='op'>(</span>limits <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1800</span>, <span class='fl'>2015</span><span class='op'>)</span>, <span class='co'># x-axis scale</span></span>
<span>                     breaks <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span><span class='op'>(</span><span class='fl'>1800</span>, <span class='fl'>2000</span>, by <span class='op'>=</span> <span class='fl'>20</span><span class='op'>)</span>, </span>
<span>                                <span class='fl'>2011</span><span class='op'>)</span>, <span class='co'># marks every 20 years (+ 2011)</span></span>
<span>                     expand <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0.01</span>, <span class='fl'>0</span><span class='op'>)</span>,</span>
<span>                     position <span class='op'>=</span> <span class='st'>"bottom"</span><span class='op'>)</span> <span class='op'>+</span>  <span class='co'># timeline at bottom of this panel</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_continuous.html'>scale_y_continuous</a></span><span class='op'>(</span>limits <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0.4</span>, <span class='fl'>1.6</span><span class='op'>)</span>, <span class='co'># y-axis scale</span></span>
<span>                     expand <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>0</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>title <span class='op'>=</span> <span class='st'>"Combatant deaths in conventional wars, 1800–2011"</span>,</span>
<span>       subtitle <span class='op'>=</span> <span class='st'>"Number of combatants who died due to fighting in interstate and civil wars. This excludes civilian deaths, which can\nmake the death tolls much larger."</span>,</span>
<span>       x <span class='op'>=</span> <span class='cn'>NULL</span>, y <span class='op'>=</span> <span class='cn'>NULL</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_minimal</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span></span>
<span>    panel.background <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>"#faf8f2"</span>, color <span class='op'>=</span> <span class='cn'>NA</span><span class='op'>)</span>,</span>
<span>    plot.background <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>"#faf8f2"</span>, color <span class='op'>=</span> <span class='cn'>NA</span><span class='op'>)</span>,</span>
<span>    panel.grid.major.y <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>,</span>
<span>    panel.grid.minor <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>,</span>
<span>    panel.grid.major.x <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_line</a></span><span class='op'>(</span>color <span class='op'>=</span> <span class='st'>"gray90"</span>, linewidth <span class='op'>=</span> <span class='fl'>0.3</span><span class='op'>)</span>,</span>
<span>    axis.text.x <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>11</span><span class='op'>)</span>,  <span class='co'># show x-axis numbers here (timeline)</span></span>
<span>    axis.text.y <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>, <span class='co'># no y-axis numbers</span></span>
<span>    axis.ticks <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>,</span>
<span>    plot.title <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>24</span>, face <span class='op'>=</span> <span class='st'>"bold"</span>, <span class='co'># font for title</span></span>
<span>                            family <span class='op'>=</span> <span class='st'>"Castoro"</span>,  </span>
<span>                            margin <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>margin</a></span><span class='op'>(</span>b <span class='op'>=</span> <span class='fl'>5</span><span class='op'>)</span><span class='op'>)</span>,</span>
<span>  </span>
<span>  plot.subtitle <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>14</span>, color <span class='op'>=</span> <span class='st'>"gray30"</span>, <span class='co'># font for subtitle</span></span>
<span>                               family <span class='op'>=</span> <span class='st'>"Castoro"</span>,</span>
<span>                               margin <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>margin</a></span><span class='op'>(</span>b <span class='op'>=</span> <span class='fl'>15</span><span class='op'>)</span><span class='op'>)</span>,</span>
<span>  plot.margin <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>margin</a></span><span class='op'>(</span><span class='fl'>10</span>, <span class='fl'>10</span>, <span class='fl'>10</span>, <span class='fl'>10</span><span class='op'>)</span>,</span>
<span>    legend.position <span class='op'>=</span> <span class='st'>"top"</span>,</span>
<span>    legend.justification <span class='op'>=</span> <span class='st'>"left"</span>,</span>
<span>    legend.direction <span class='op'>=</span> <span class='st'>"horizontal"</span>,</span>
<span>    legend.text <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>10</span><span class='op'>)</span></span>
<span>  <span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='co'># region legend</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/guides.html'>guides</a></span><span class='op'>(</span>color <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/guide_legend.html'>guide_legend</a></span><span class='op'>(</span></span>
<span>    override.aes <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>shape <span class='op'>=</span> <span class='fl'>15</span>, <span class='co'># show colors as squares</span></span>
<span>                        size <span class='op'>=</span> <span class='fl'>4.7</span><span class='op'>)</span>, </span>
<span>    nrow <span class='op'>=</span> <span class='fl'>1</span></span>
<span>  <span class='op'>)</span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>graph_civil</span> <span class='op'>&lt;-</span> <span class='va'>data</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>war_type</span> <span class='op'>==</span> <span class='st'>"CIVIL WARS"</span><span class='op'>)</span> <span class='op'>|&gt;</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>x_plot</span>, y <span class='op'>=</span> <span class='va'>y_plot</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_segment.html'>geom_segment</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='va'>civil_labels</span> <span class='op'>|&gt;</span> </span>
<span>      <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate-joins.html'>left_join</a></span><span class='op'>(</span><span class='va'>data</span> <span class='op'>|&gt;</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/select.html'>select</a></span><span class='op'>(</span><span class='va'>war_name</span>, <span class='va'>y_plot</span><span class='op'>)</span>, by <span class='op'>=</span> <span class='st'>"war_name"</span><span class='op'>)</span>,</span>
<span>    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>x_plot</span>, y <span class='op'>=</span> <span class='va'>y_plot</span>, xend <span class='op'>=</span> <span class='va'>x_plot</span>, yend <span class='op'>=</span> <span class='va'>label_y_plot</span><span class='op'>)</span>,</span>
<span>    color <span class='op'>=</span> <span class='st'>"gray40"</span>,</span>
<span>    size <span class='op'>=</span> <span class='fl'>0.3</span></span>
<span>  <span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_point.html'>geom_point</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>size <span class='op'>=</span> <span class='va'>avg_deaths</span>, color <span class='op'>=</span> <span class='va'>region</span><span class='op'>)</span>, alpha <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='va'>civil_labels</span>,</span>
<span>    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>x_plot</span>, y <span class='op'>=</span> <span class='va'>label_y_plot</span>, label <span class='op'>=</span> <span class='va'>label_text</span><span class='op'>)</span>,</span>
<span>    size <span class='op'>=</span> <span class='fl'>2.9</span>,</span>
<span>    color <span class='op'>=</span> <span class='st'>"black"</span>,</span>
<span>    lineheight <span class='op'>=</span> <span class='fl'>0.9</span></span>
<span>  <span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>1800</span>, y <span class='op'>=</span> <span class='fl'>1.55</span>, label <span class='op'>=</span> <span class='st'>"CIVIL WARS"</span>, </span>
<span>           size <span class='op'>=</span> <span class='fl'>5</span>, fontface <span class='op'>=</span> <span class='st'>"bold"</span>, hjust <span class='op'>=</span> <span class='fl'>0</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_color_manual</a></span><span class='op'>(</span>values <span class='op'>=</span> <span class='va'>region_colors</span>, name <span class='op'>=</span> <span class='cn'>NULL</span>, </span>
<span>                     breaks <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/names.html'>names</a></span><span class='op'>(</span><span class='va'>region_colors</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_size.html'>scale_size_area</a></span><span class='op'>(</span>max_size <span class='op'>=</span> <span class='fl'>80</span>,  </span>
<span>                limits <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/Extremes.html'>min</a></span><span class='op'>(</span><span class='va'>data</span><span class='op'>$</span><span class='va'>avg_deaths</span><span class='op'>)</span>, <span class='fu'><a href='https://rdrr.io/r/base/Extremes.html'>max</a></span><span class='op'>(</span><span class='va'>data</span><span class='op'>$</span><span class='va'>avg_deaths</span><span class='op'>)</span><span class='op'>)</span>,</span>
<span>                guide <span class='op'>=</span> <span class='st'>"none"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_continuous.html'>scale_x_continuous</a></span><span class='op'>(</span>limits <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1800</span>, <span class='fl'>2015</span><span class='op'>)</span>, </span>
<span>                     breaks <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span><span class='op'>(</span><span class='fl'>1800</span>, <span class='fl'>2000</span>, by <span class='op'>=</span> <span class='fl'>20</span><span class='op'>)</span>, <span class='fl'>2011</span><span class='op'>)</span>,</span>
<span>                     expand <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0.01</span>, <span class='fl'>0</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_continuous.html'>scale_y_continuous</a></span><span class='op'>(</span>limits <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0.4</span>, <span class='fl'>1.6</span><span class='op'>)</span>, expand <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>0</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='cn'>NULL</span>, y <span class='op'>=</span> <span class='cn'>NULL</span>,  <span class='co'># remove axis labels</span></span>
<span>       caption <span class='op'>=</span> <span class='st'>"Note: Each circle is sized according to the war's lower death estimate. A conventional war is defined here as an armed conflict fought with differentiated militaries and clear frontlines that\ncaused at least 500 combatant deaths due to fighting over its duration. A civil war is a conflict between combatants that were previously part of the same state, with at least one group now\nseeking control or secession.\nSources: Lyall, Jason. 2020. Divided Armies: Inequality and Battlefield Performance in Modern War. Princeton University Press.\nOurWorldInData.org — Research and data to make progress against the world's largest problems. Licensed under CC-BY by the authors Bastian Herre, Christian Schwinehart and Klara Auerbach."</span><span class='op'>)</span>  <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_minimal</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span></span>
<span>    panel.background <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>"#faf8f2"</span>, color <span class='op'>=</span> <span class='cn'>NA</span><span class='op'>)</span>,</span>
<span>    plot.background <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>"#faf8f2"</span>, color <span class='op'>=</span> <span class='cn'>NA</span><span class='op'>)</span>,</span>
<span>    panel.grid.major.y <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>,</span>
<span>    panel.grid.minor <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>,</span>
<span>    panel.grid.major.x <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_line</a></span><span class='op'>(</span>color <span class='op'>=</span> <span class='st'>"gray90"</span>, size <span class='op'>=</span> <span class='fl'>0.3</span><span class='op'>)</span>,</span>
<span>    axis.text.x <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>,  <span class='co'># no timeline here</span></span>
<span>    axis.text.y <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>,</span>
<span>    axis.ticks <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>,</span>
<span>    plot.caption <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>9.7</span>, color <span class='op'>=</span> <span class='st'>"gray50"</span>, hjust <span class='op'>=</span> <span class='fl'>0</span>, margin <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>margin</a></span><span class='op'>(</span>t <span class='op'>=</span> <span class='fl'>15</span><span class='op'>)</span><span class='op'>)</span>,</span>
<span>    plot.margin <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>margin</a></span><span class='op'>(</span><span class='fl'>10</span>, <span class='fl'>10</span>, <span class='fl'>10</span>, <span class='fl'>10</span><span class='op'>)</span>,</span>
<span>    legend.position <span class='op'>=</span> <span class='st'>"none"</span></span>
<span>  <span class='op'>)</span></span>
<span></span>
<span><span class='co'># combine interstate wars + civil wars</span></span>
<span><span class='va'>combined_graph</span> <span class='op'>&lt;-</span> <span class='va'>graph_interstate</span> <span class='op'>/</span> <span class='va'>graph_civil</span> <span class='op'>+</span> </span>
<span>  <span class='fu'><a href='https://patchwork.data-imaginist.com/reference/plot_layout.html'>plot_layout</a></span><span class='op'>(</span>heights <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>7</span>, <span class='fl'>3</span><span class='op'>)</span><span class='op'>)</span>  </span>
<span></span>
<span><span class='va'>combined_graph</span></span></code></pre>
</div>
<p><img src="100566135_files/figure-html5/plot-display-1.png" alt="" width="100%" data-distill-preview=1 style="display: block; margin: auto;" /></p>
</div>
<h2 id="graph-improvement">Graph Improvement</h2>
<p>While the original visualization effectively shows the temporal distribution and scale of wars and it is visually engaging, it has limitations in making direct comparisons between conflicts or understanding regional patterns. It is noticeable that World Wars get most of the attention, and there are not many labels indicating which war is each bubble — most wars are just colorful bubbles, they don’t provide much information. The improved version addresses these shortcomings by presenting the same data through new graphs that will provide more information: a ranked bar chart and a diverging bar chart.</p>
<h3 id="data-preparation-1">Data Preparation</h3>
<p>The improvement requires recalculating death tolls and cleaning inconsistencies in the dataset. We also restructure region names for better display in vertical facets.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'># calculate average deaths from low and high estimates</span></span>
<span><span class='va'>data</span> <span class='op'>&lt;-</span> <span class='va'>data</span> <span class='op'>|&gt;</span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span></span>
<span>    avg_deaths <span class='op'>=</span> <span class='op'>(</span><span class='va'>war_deaths_low</span> <span class='op'>+</span> <span class='va'>war_deaths_high</span><span class='op'>)</span> <span class='op'>/</span> <span class='fl'>2</span>,</span>
<span>    deaths_thousands <span class='op'>=</span> <span class='va'>avg_deaths</span> <span class='op'>/</span> <span class='fl'>1000</span>,</span>
<span>    deaths_millions <span class='op'>=</span> <span class='va'>avg_deaths</span> <span class='op'>/</span> <span class='fl'>1000000</span>,</span>
<span>    war_type <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/ifelse.html'>ifelse</a></span><span class='op'>(</span><span class='va'>civil_war</span> <span class='op'>==</span> <span class='st'>"Civil war"</span>, <span class='st'>"Civil war"</span>, <span class='st'>"Interstate war"</span><span class='op'>)</span>,</span>
<span>    </span>
<span>    <span class='co'># recode regions</span></span>
<span>    region <span class='op'>=</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/case_when.html'>case_when</a></span><span class='op'>(</span></span>
<span>      <span class='va'>region</span> <span class='op'>==</span> <span class='st'>"Americas"</span> <span class='op'>~</span> <span class='st'>"Americas"</span>,</span>
<span>      <span class='va'>region</span> <span class='op'>==</span> <span class='st'>"Asia"</span> <span class='op'>~</span> <span class='st'>"Asia"</span>,</span>
<span>      <span class='va'>region</span> <span class='op'>==</span> <span class='st'>"Europe"</span> <span class='op'>~</span> <span class='st'>"Europe"</span>,</span>
<span>      <span class='va'>region</span> <span class='op'>==</span> <span class='st'>"North Africa and Middle East"</span> <span class='op'>~</span> <span class='st'>"North Africa\n&amp; Middle East"</span>,</span>
<span>      <span class='va'>region</span> <span class='op'>==</span> <span class='st'>"Sub-Saharan Africa"</span> <span class='op'>~</span> <span class='st'>"Sub-Saharan Africa"</span>,</span>
<span>      <span class='cn'>TRUE</span> <span class='op'>~</span> <span class='va'>region</span></span>
<span>    <span class='op'>)</span>,</span>
<span>    </span>
<span>    <span class='co'># fix incorrect naming</span></span>
<span>    war_name <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/ifelse.html'>ifelse</a></span><span class='op'>(</span><span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Third Sino-Japanese War"</span>, </span>
<span>                      <span class='st'>"Second Sino-Japanese War"</span>, </span>
<span>                      <span class='va'>war_name</span><span class='op'>)</span></span>
<span>  <span class='op'>)</span> </span></code></pre>
</div>
</div>
<h3 id="create-the-plot-1">Create the Plot</h3>
<p>The improved visualization consists of two complementary charts. The upper chart uses faceted bar charts to show the top 10 deadliest wars per region, making it easy to compare conflicts within and across regions. The lower chart uses a diverging bar chart to summarize total deaths by region, separated by war type. It does not include war wars and focuses only on each region.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'># UPPER CHART: select top 10 deadliest wars per region (excluding World Wars)</span></span>
<span><span class='va'>top_wars_by_region</span> <span class='op'>&lt;-</span> <span class='va'>data</span> <span class='op'>|&gt;</span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='op'>!</span><span class='va'>war_name</span> <span class='op'><a href='https://rdrr.io/r/base/match.html'>%in%</a></span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"World War I"</span>, <span class='st'>"World War II"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>|&gt;</span></span>
<span>  </span>
<span>  <span class='co'># remove other second sino-japanese war</span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='op'>!</span><span class='op'>(</span><span class='va'>war_name</span> <span class='op'>==</span> <span class='st'>"Second Sino-Japanese War"</span> <span class='op'>&amp;</span> <span class='va'>avg_deaths</span> <span class='op'>&lt;</span> <span class='fl'>100000</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>|&gt;</span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/group_by.html'>group_by</a></span><span class='op'>(</span><span class='va'>region</span><span class='op'>)</span> <span class='op'>|&gt;</span> <span class='co'># top 10 per region</span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/arrange.html'>arrange</a></span><span class='op'>(</span><span class='fu'><a href='https://dplyr.tidyverse.org/reference/desc.html'>desc</a></span><span class='op'>(</span><span class='va'>avg_deaths</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>|&gt;</span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/slice.html'>slice_head</a></span><span class='op'>(</span>n <span class='op'>=</span> <span class='fl'>10</span><span class='op'>)</span> <span class='op'>|&gt;</span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/group_by.html'>ungroup</a></span><span class='op'>(</span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>war_type_colors</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span></span>
<span>  <span class='st'>"Civil war"</span> <span class='op'>=</span> <span class='st'>"#d73027"</span>,</span>
<span>  <span class='st'>"Interstate war"</span> <span class='op'>=</span> <span class='st'>"#4575b4"</span></span>
<span><span class='op'>)</span></span>
<span></span>
<span><span class='co'># plot: bar chart</span></span>
<span><span class='va'>upper_chart</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='va'>top_wars_by_region</span>, </span>
<span>                 <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>deaths_thousands</span>, </span>
<span>                     y <span class='op'>=</span> <span class='fu'><a href='https://forcats.tidyverse.org/reference/fct_reorder.html'>fct_reorder</a></span><span class='op'>(</span><span class='va'>war_name</span>, <span class='va'>avg_deaths</span><span class='op'>)</span>,</span>
<span>                     fill <span class='op'>=</span> <span class='va'>war_type</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_bar.html'>geom_col</a></span><span class='op'>(</span>width <span class='op'>=</span> <span class='fl'>0.7</span>, alpha <span class='op'>=</span> <span class='fl'>0.9</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='co'># labels showing death counts</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span></span>
<span>    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>label <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/ifelse.html'>ifelse</a></span><span class='op'>(</span></span>
<span>      <span class='va'>deaths_thousands</span> <span class='op'>&gt;=</span> <span class='fl'>1000</span>,</span>
<span>      <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/Round.html'>round</a></span><span class='op'>(</span><span class='va'>deaths_millions</span>, <span class='fl'>1</span><span class='op'>)</span>, <span class='st'>"M"</span><span class='op'>)</span>, <span class='co'># when millions "M"</span></span>
<span>      <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/Round.html'>round</a></span><span class='op'>(</span><span class='va'>deaths_thousands</span>, <span class='fl'>0</span><span class='op'>)</span>, <span class='st'>"k"</span><span class='op'>)</span> <span class='co'># when thousands "k"</span></span>
<span>    <span class='op'>)</span><span class='op'>)</span>, </span>
<span>    hjust <span class='op'>=</span> <span class='op'>-</span><span class='fl'>0.1</span>, <span class='co'># position slightly to the right of the bar's end</span></span>
<span>    size <span class='op'>=</span> <span class='fl'>2.3</span>,</span>
<span>    fontface <span class='op'>=</span> <span class='st'>"bold"</span>,</span>
<span>    color <span class='op'>=</span> <span class='st'>"gray20"</span></span>
<span>  <span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='co'># each region gets its own panel (vertically)</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/facet_wrap.html'>facet_wrap</a></span><span class='op'>(</span><span class='op'>~</span><span class='va'>region</span>, scales <span class='op'>=</span> <span class='st'>"free_y"</span>, ncol <span class='op'>=</span> <span class='fl'>1</span>, strip.position <span class='op'>=</span> <span class='st'>"left"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_fill_manual</a></span><span class='op'>(</span>values <span class='op'>=</span> <span class='va'>war_type_colors</span>, name <span class='op'>=</span> <span class='st'>"War Type"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_continuous.html'>scale_x_continuous</a></span><span class='op'>(</span></span>
<span>    breaks <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>2500</span>, <span class='fl'>500</span><span class='op'>)</span>, <span class='co'># marks every 500k</span></span>
<span>    labels <span class='op'>=</span> <span class='kw'>function</span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span> <span class='op'>{</span></span>
<span>      <span class='fu'><a href='https://rdrr.io/r/base/ifelse.html'>ifelse</a></span><span class='op'>(</span><span class='va'>x</span> <span class='op'>&gt;=</span> <span class='fl'>1000</span>, </span>
<span>             <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span><span class='op'>(</span><span class='va'>x</span> <span class='op'>/</span> <span class='fl'>1000</span>, <span class='st'>"M"</span><span class='op'>)</span>,  <span class='co'># "M" if &gt; = 1000k</span></span>
<span>             <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='st'>"k"</span><span class='op'>)</span><span class='op'>)</span>  <span class='co'># keep as "k" otherwise</span></span>
<span>    <span class='op'>}</span>,</span>
<span>    expand <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/expansion.html'>expansion</a></span><span class='op'>(</span>mult <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>0.15</span><span class='op'>)</span><span class='op'>)</span></span>
<span>  <span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span></span>
<span>    title <span class='op'>=</span> <span class='st'>"Deadliest Wars by Region, 1800–2011"</span>,</span>
<span>    subtitle <span class='op'>=</span> <span class='st'>"Top 10 conflicts with highest death toll per region (excluding World Wars)"</span>,</span>
<span>    x <span class='op'>=</span> <span class='st'>"Average Deaths"</span>,</span>
<span>    y <span class='op'>=</span> <span class='cn'>NULL</span></span>
<span>  <span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_minimal</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span></span>
<span>    panel.background <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>"#faf8f2"</span>, color <span class='op'>=</span> <span class='cn'>NA</span><span class='op'>)</span>,</span>
<span>    plot.background <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>"#faf8f2"</span>, color <span class='op'>=</span> <span class='cn'>NA</span><span class='op'>)</span>,</span>
<span>    panel.grid.major.y <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>,</span>
<span>    panel.grid.minor <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>,</span>
<span>    panel.grid.major.x <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_line</a></span><span class='op'>(</span>color <span class='op'>=</span> <span class='st'>"gray90"</span>, linewidth <span class='op'>=</span> <span class='fl'>0.3</span><span class='op'>)</span>,</span>
<span>    strip.text.y.left <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>14</span>, face <span class='op'>=</span> <span class='st'>"bold"</span>, color <span class='op'>=</span> <span class='st'>"gray20"</span>, angle <span class='op'>=</span> <span class='fl'>0</span>, </span>
<span>                                      hjust <span class='op'>=</span> <span class='fl'>0</span>, margin <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>margin</a></span><span class='op'>(</span>l <span class='op'>=</span> <span class='fl'>0</span>, r <span class='op'>=</span> <span class='fl'>5</span><span class='op'>)</span><span class='op'>)</span>,</span>
<span>    strip.background <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='cn'>NA</span>, color <span class='op'>=</span> <span class='cn'>NA</span><span class='op'>)</span>,</span>
<span>    strip.placement <span class='op'>=</span> <span class='st'>"outside"</span>,</span>
<span>    panel.spacing.y <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/unit.html'>unit</a></span><span class='op'>(</span><span class='fl'>0.5</span>, <span class='st'>"lines"</span><span class='op'>)</span>, <span class='co'># spacing between facets</span></span>
<span>    axis.text.y <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>10</span>, face <span class='op'>=</span> <span class='st'>"bold"</span><span class='op'>)</span>,</span>
<span>    axis.text.x <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>9</span><span class='op'>)</span>,</span>
<span>    plot.title <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>18</span>, face <span class='op'>=</span> <span class='st'>"bold"</span>, margin <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>margin</a></span><span class='op'>(</span>b <span class='op'>=</span> <span class='fl'>5</span><span class='op'>)</span><span class='op'>)</span>,</span>
<span>    plot.subtitle <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>10</span>, color <span class='op'>=</span> <span class='st'>"gray30"</span>, margin <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>margin</a></span><span class='op'>(</span>b <span class='op'>=</span> <span class='fl'>10</span><span class='op'>)</span><span class='op'>)</span>,</span>
<span>    legend.position <span class='op'>=</span> <span class='st'>"top"</span>,</span>
<span>    legend.box <span class='op'>=</span> <span class='st'>"horizontal"</span>,</span>
<span>    legend.title <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>9</span>, face <span class='op'>=</span> <span class='st'>"bold"</span><span class='op'>)</span>,</span>
<span>    legend.text <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>8</span><span class='op'>)</span>,</span>
<span>    plot.margin <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>margin</a></span><span class='op'>(</span><span class='fl'>10</span>, <span class='fl'>10</span>, <span class='fl'>5</span>, <span class='fl'>5</span><span class='op'>)</span></span>
<span>  <span class='op'>)</span></span>
<span></span>
<span><span class='co'># BOTTOM CHART: calculate TOTAL deaths per region and war type</span></span>
<span><span class='va'>regional_summary</span> <span class='op'>&lt;-</span> <span class='va'>data</span> <span class='op'>|&gt;</span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='op'>!</span><span class='va'>war_name</span> <span class='op'><a href='https://rdrr.io/r/base/match.html'>%in%</a></span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"World War I"</span>, <span class='st'>"World War II"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>|&gt;</span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/group_by.html'>group_by</a></span><span class='op'>(</span><span class='va'>region</span>, <span class='va'>war_type</span><span class='op'>)</span> <span class='op'>|&gt;</span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/summarise.html'>summarise</a></span><span class='op'>(</span></span>
<span>    total_deaths <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/sum.html'>sum</a></span><span class='op'>(</span><span class='va'>avg_deaths</span><span class='op'>)</span>,</span>
<span>    n_wars <span class='op'>=</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/context.html'>n</a></span><span class='op'>(</span><span class='op'>)</span>,</span>
<span>    .groups <span class='op'>=</span> <span class='st'>"drop"</span></span>
<span>  <span class='op'>)</span> <span class='op'>|&gt;</span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span></span>
<span>    <span class='co'># civil war values are negative so they extend LEFT</span></span>
<span>    deaths_millions <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/ifelse.html'>ifelse</a></span><span class='op'>(</span><span class='va'>war_type</span> <span class='op'>==</span> <span class='st'>"Civil war"</span>, </span>
<span>                             <span class='op'>-</span><span class='va'>total_deaths</span> <span class='op'>/</span> <span class='fl'>1000000</span>,</span>
<span>                             <span class='va'>total_deaths</span> <span class='op'>/</span> <span class='fl'>1000000</span><span class='op'>)</span></span>
<span>  <span class='op'>)</span></span>
<span></span>
<span><span class='co'># calculate total per region for ordering</span></span>
<span><span class='va'>region_totals</span> <span class='op'>&lt;-</span> <span class='va'>regional_summary</span> <span class='op'>|&gt;</span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/group_by.html'>group_by</a></span><span class='op'>(</span><span class='va'>region</span><span class='op'>)</span> <span class='op'>|&gt;</span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/summarise.html'>summarise</a></span><span class='op'>(</span>total <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/sum.html'>sum</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/MathFun.html'>abs</a></span><span class='op'>(</span><span class='va'>deaths_millions</span><span class='op'>)</span><span class='op'>)</span>, .groups <span class='op'>=</span> <span class='st'>"drop"</span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>bottom_chart</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='va'>regional_summary</span>, </span>
<span>                      <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>deaths_millions</span>, </span>
<span>                          y <span class='op'>=</span> <span class='fu'><a href='https://forcats.tidyverse.org/reference/fct_reorder.html'>fct_reorder</a></span><span class='op'>(</span><span class='va'>region</span>, <span class='fu'><a href='https://rdrr.io/r/base/MathFun.html'>abs</a></span><span class='op'>(</span><span class='va'>deaths_millions</span><span class='op'>)</span>, .fun <span class='op'>=</span> <span class='va'>sum</span><span class='op'>)</span>,</span>
<span>                          fill <span class='op'>=</span> <span class='va'>war_type</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_bar.html'>geom_col</a></span><span class='op'>(</span>alpha <span class='op'>=</span> <span class='fl'>0.9</span>, width <span class='op'>=</span> <span class='fl'>0.7</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='co'># vertical line at center</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_abline.html'>geom_vline</a></span><span class='op'>(</span>xintercept <span class='op'>=</span> <span class='fl'>0</span>, color <span class='op'>=</span> <span class='st'>"gray30"</span>, linewidth <span class='op'>=</span> <span class='fl'>0.5</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='co'># labels for civil wars (left side) </span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='va'>regional_summary</span> <span class='op'>|&gt;</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>war_type</span> <span class='op'>==</span> <span class='st'>"Civil war"</span><span class='op'>)</span>,</span>
<span>    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>label <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/ifelse.html'>ifelse</a></span><span class='op'>(</span></span>
<span>      <span class='fu'><a href='https://rdrr.io/r/base/MathFun.html'>abs</a></span><span class='op'>(</span><span class='va'>deaths_millions</span><span class='op'>)</span> <span class='op'>&gt;=</span> <span class='fl'>1</span>,</span>
<span>      <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/Round.html'>round</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/MathFun.html'>abs</a></span><span class='op'>(</span><span class='va'>deaths_millions</span><span class='op'>)</span>, <span class='fl'>1</span><span class='op'>)</span>, <span class='st'>"M"</span><span class='op'>)</span>,</span>
<span>      <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/Round.html'>round</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/MathFun.html'>abs</a></span><span class='op'>(</span><span class='va'>deaths_millions</span><span class='op'>)</span> <span class='op'>*</span> <span class='fl'>1000</span>, <span class='fl'>0</span><span class='op'>)</span>, <span class='st'>"k"</span><span class='op'>)</span></span>
<span>    <span class='op'>)</span><span class='op'>)</span>,</span>
<span>    hjust <span class='op'>=</span> <span class='fl'>1.1</span>, size <span class='op'>=</span> <span class='fl'>3.5</span>, fontface <span class='op'>=</span> <span class='st'>"bold"</span>, color <span class='op'>=</span> <span class='st'>"gray20"</span></span>
<span>  <span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='co'># labels for interstate wars (right side) </span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='va'>regional_summary</span> <span class='op'>|&gt;</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>war_type</span> <span class='op'>==</span> <span class='st'>"Interstate war"</span><span class='op'>)</span>,</span>
<span>    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>label <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/ifelse.html'>ifelse</a></span><span class='op'>(</span></span>
<span>      <span class='va'>deaths_millions</span> <span class='op'>&gt;=</span> <span class='fl'>1</span>,</span>
<span>      <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/Round.html'>round</a></span><span class='op'>(</span><span class='va'>deaths_millions</span>, <span class='fl'>1</span><span class='op'>)</span>, <span class='st'>"M"</span><span class='op'>)</span>,</span>
<span>      <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/Round.html'>round</a></span><span class='op'>(</span><span class='va'>deaths_millions</span> <span class='op'>*</span> <span class='fl'>1000</span>, <span class='fl'>0</span><span class='op'>)</span>, <span class='st'>"k"</span><span class='op'>)</span></span>
<span>    <span class='op'>)</span><span class='op'>)</span>, </span>
<span>    hjust <span class='op'>=</span> <span class='op'>-</span><span class='fl'>0.1</span>, size <span class='op'>=</span> <span class='fl'>3.5</span>, fontface <span class='op'>=</span> <span class='st'>"bold"</span>, color <span class='op'>=</span> <span class='st'>"gray20"</span></span>
<span>  <span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_fill_manual</a></span><span class='op'>(</span>values <span class='op'>=</span> <span class='va'>war_type_colors</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='co'># custom x-axis to show absolute values</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_continuous.html'>scale_x_continuous</a></span><span class='op'>(</span></span>
<span>    labels <span class='op'>=</span> <span class='kw'>function</span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span> <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/MathFun.html'>abs</a></span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>, <span class='st'>"M"</span><span class='op'>)</span>, <span class='co'># show all values as positive</span></span>
<span>    breaks <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span><span class='op'>(</span><span class='op'>-</span><span class='fl'>5</span>, <span class='fl'>5</span>, <span class='fl'>1</span><span class='op'>)</span>,</span>
<span>    limits <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='op'>-</span><span class='fl'>5.5</span>, <span class='fl'>5.5</span><span class='op'>)</span></span>
<span>  <span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span></span>
<span>    title <span class='op'>=</span> <span class='st'>"Total War Deaths by Region and Type"</span>,</span>
<span>    subtitle <span class='op'>=</span> <span class='st'>"All conflicts 1800–2011 (excluding World Wars) | Civil wars (left) vs Interstate wars (right)"</span>,</span>
<span>    x <span class='op'>=</span> <span class='st'>"Total Deaths"</span>,</span>
<span>    y <span class='op'>=</span> <span class='cn'>NULL</span></span>
<span>  <span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_minimal</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span></span>
<span>    panel.background <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>"#faf8f2"</span>, color <span class='op'>=</span> <span class='cn'>NA</span><span class='op'>)</span>,</span>
<span>    plot.background <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>"#faf8f2"</span>, color <span class='op'>=</span> <span class='cn'>NA</span><span class='op'>)</span>,</span>
<span>    panel.grid.major.y <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>,</span>
<span>    panel.grid.minor.x <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>,</span>
<span>    panel.grid.major.x <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_line</a></span><span class='op'>(</span>color <span class='op'>=</span> <span class='st'>"gray90"</span>, linewidth <span class='op'>=</span> <span class='fl'>0.3</span><span class='op'>)</span>,</span>
<span>    axis.text.y <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>12</span>, face <span class='op'>=</span> <span class='st'>"bold"</span><span class='op'>)</span>,</span>
<span>    axis.text.x <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>10</span><span class='op'>)</span>,</span>
<span>    plot.title <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>16</span>, face <span class='op'>=</span> <span class='st'>"bold"</span>, margin <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>margin</a></span><span class='op'>(</span>b <span class='op'>=</span> <span class='fl'>5</span><span class='op'>)</span><span class='op'>)</span>,</span>
<span>    plot.subtitle <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>11</span>, color <span class='op'>=</span> <span class='st'>"gray30"</span>, margin <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>margin</a></span><span class='op'>(</span>b <span class='op'>=</span> <span class='fl'>10</span><span class='op'>)</span><span class='op'>)</span>,</span>
<span>    axis.title.x <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>12</span>, face <span class='op'>=</span> <span class='st'>"bold"</span><span class='op'>)</span>,</span>
<span>    legend.position <span class='op'>=</span> <span class='st'>"none"</span>,</span>
<span>    plot.margin <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>margin</a></span><span class='op'>(</span><span class='fl'>10</span>, <span class='fl'>10</span>, <span class='fl'>10</span>, <span class='fl'>10</span><span class='op'>)</span></span>
<span>  <span class='op'>)</span></span>
<span></span>
<span><span class='co'># using patchwork to stack the two plots vertically</span></span>
<span><span class='va'>final_plot</span> <span class='op'>&lt;-</span> <span class='va'>upper_chart</span> <span class='op'>/</span> <span class='va'>bottom_chart</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://patchwork.data-imaginist.com/reference/plot_layout.html'>plot_layout</a></span><span class='op'>(</span>heights <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>4</span>, <span class='fl'>1</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span> <span class='co'># upper plot 4 times taller than bottom plot</span></span>
<span>  <span class='fu'><a href='https://patchwork.data-imaginist.com/reference/plot_annotation.html'>plot_annotation</a></span><span class='op'>(</span></span>
<span>    caption <span class='op'>=</span> <span class='st'>"Source: Lyall, Jason. 2020. Divided Armies: Inequality and Battlefield Performance in Modern War. Princeton University Press."</span>,</span>
<span>    theme <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span></span>
<span>      plot.caption <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>9</span>, color <span class='op'>=</span> <span class='st'>"gray50"</span>, hjust <span class='op'>=</span> <span class='fl'>0</span>, margin <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>margin</a></span><span class='op'>(</span>t <span class='op'>=</span> <span class='fl'>10</span><span class='op'>)</span><span class='op'>)</span>,</span>
<span>      plot.background <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>"#faf8f2"</span>, color <span class='op'>=</span> <span class='cn'>NA</span><span class='op'>)</span></span>
<span>    <span class='op'>)</span></span>
<span>  <span class='op'>)</span></span>
<span></span>
<span><span class='va'>final_plot</span></span></code></pre>
</div>
<p><img src="100566135_files/figure-html5/plot-display-2-1.png" alt="" width="100%" style="display: block; margin: auto;" /></p>
</div>
<div class="sourceCode" id="cb1"><pre class="sourceCode r distill-force-highlighting-css"><code class="sourceCode r"></code></pre></div>
<!--radix_placeholder_article_footer-->
<!--/radix_placeholder_article_footer-->
</div>

<div class="d-appendix">
</div>


<!--radix_placeholder_site_after_body-->
<!--/radix_placeholder_site_after_body-->
<!--radix_placeholder_appendices-->
<div class="appendix-bottom"></div>
<!--/radix_placeholder_appendices-->
<!--radix_placeholder_navigation_after_body-->
<!--/radix_placeholder_navigation_after_body-->

</body>

</html>
