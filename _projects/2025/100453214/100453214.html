<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">

<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/>
  <meta name="generator" content="distill" />

  <style type="text/css">
  /* Hide doc at startup (prevent jankiness while JS renders/transforms) */
  body {
    visibility: hidden;
  }
  </style>

 <!--radix_placeholder_import_source-->
 <!--/radix_placeholder_import_source-->

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  { color: #00769e; background-color: #f1f3f5; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span { color: #00769e; } /* Normal */
code span.al { color: #ad0000; } /* Alert */
code span.an { color: #5e5e5e; } /* Annotation */
code span.at { color: #657422; } /* Attribute */
code span.bn { color: #ad0000; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #00769e; } /* ControlFlow */
code span.ch { color: #20794d; } /* Char */
code span.cn { color: #8f5902; } /* Constant */
code span.co { color: #5e5e5e; } /* Comment */
code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
code span.dt { color: #ad0000; } /* DataType */
code span.dv { color: #ad0000; } /* DecVal */
code span.er { color: #ad0000; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #ad0000; } /* Float */
code span.fu { color: #4758ab; } /* Function */
code span.im { } /* Import */
code span.in { color: #5e5e5e; } /* Information */
code span.kw { color: #00769e; } /* Keyword */
code span.op { color: #5e5e5e; } /* Operator */
code span.ot { color: #00769e; } /* Other */
code span.pp { color: #ad0000; } /* Preprocessor */
code span.sc { color: #5e5e5e; } /* SpecialChar */
code span.ss { color: #20794d; } /* SpecialString */
code span.st { color: #20794d; } /* String */
code span.va { color: #111111; } /* Variable */
code span.vs { color: #20794d; } /* VerbatimString */
code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
</style>


  <!--radix_placeholder_meta_tags-->
  <title>Does hunger make Africans want to move abroad?</title>

  <meta property="description" itemprop="description" content="Analysis of the relationship between hunger and emigration"/>


  <!--  https://schema.org/Article -->
  <meta property="article:published" itemprop="datePublished" content="2026-01-14"/>
  <meta property="article:created" itemprop="dateCreated" content="2026-01-14"/>
  <meta name="article:author" content="María Garcés"/>

  <!--  https://developers.facebook.com/docs/sharing/webmasters#markup -->
  <meta property="og:title" content="Does hunger make Africans want to move abroad?"/>
  <meta property="og:type" content="article"/>
  <meta property="og:description" content="Analysis of the relationship between hunger and emigration"/>
  <meta property="og:locale" content="en_US"/>

  <!--  https://dev.twitter.com/cards/types/summary -->
  <meta property="twitter:card" content="summary"/>
  <meta property="twitter:title" content="Does hunger make Africans want to move abroad?"/>
  <meta property="twitter:description" content="Analysis of the relationship between hunger and emigration"/>

  <!--/radix_placeholder_meta_tags-->
  <!--radix_placeholder_rmarkdown_metadata-->

  <script type="text/json" id="radix-rmarkdown-metadata">
  {"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["title","description","categories","author","date","output"]}},"value":[{"type":"character","attributes":{},"value":["Does hunger make Africans want to move abroad?"]},{"type":"character","attributes":{},"value":["Analysis of the relationship between hunger and emigration"]},{"type":"character","attributes":{},"value":["2025"]},{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name"]}},"value":[{"type":"character","attributes":{},"value":["María Garcés"]}]}]},{"type":"character","attributes":{},"value":["2026-01-14"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["distill::distill_article"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["self_contained","toc"]}},"value":[{"type":"logical","attributes":{},"value":[false]},{"type":"logical","attributes":{},"value":[true]}]}]}]}
  </script>
  <!--/radix_placeholder_rmarkdown_metadata-->
  
  <script type="text/json" id="radix-resource-manifest">
  {"type":"character","attributes":{},"value":["100453214_files/anchor-4.2.2/anchor.min.js","100453214_files/bowser-1.9.3/bowser.min.js","100453214_files/distill-2.2.21/template.v2.js","100453214_files/header-attrs-2.30/header-attrs.js","100453214_files/jquery-3.6.0/jquery-3.6.0.js","100453214_files/jquery-3.6.0/jquery-3.6.0.min.js","100453214_files/jquery-3.6.0/jquery-3.6.0.min.map","100453214_files/popper-2.6.0/popper.min.js","100453214_files/tippy-6.2.7/tippy-bundle.umd.min.js","100453214_files/tippy-6.2.7/tippy-light-border.css","100453214_files/tippy-6.2.7/tippy.css","100453214_files/tippy-6.2.7/tippy.umd.min.js","100453214_files/webcomponents-2.0.0/webcomponents.js","improved.png","original_graph.png","replication.png","round7.sav"]}
  </script>
  <!--radix_placeholder_navigation_in_header-->
  <!--/radix_placeholder_navigation_in_header-->
  <!--radix_placeholder_distill-->

  <style type="text/css">

  body {
    background-color: white;
  }

  .pandoc-table {
    width: 100%;
  }

  .pandoc-table>caption {
    margin-bottom: 10px;
  }

  .pandoc-table th:not([align]) {
    text-align: left;
  }

  .pagedtable-footer {
    font-size: 15px;
  }

  d-byline .byline {
    grid-template-columns: 2fr 2fr;
  }

  d-byline .byline h3 {
    margin-block-start: 1.5em;
  }

  d-byline .byline .authors-affiliations h3 {
    margin-block-start: 0.5em;
  }

  .authors-affiliations .orcid-id {
    width: 16px;
    height:16px;
    margin-left: 4px;
    margin-right: 4px;
    vertical-align: middle;
    padding-bottom: 2px;
  }

  d-title .dt-tags {
    margin-top: 1em;
    grid-column: text;
  }

  .dt-tags .dt-tag {
    text-decoration: none;
    display: inline-block;
    color: rgba(0,0,0,0.6);
    padding: 0em 0.4em;
    margin-right: 0.5em;
    margin-bottom: 0.4em;
    font-size: 70%;
    border: 1px solid rgba(0,0,0,0.2);
    border-radius: 3px;
    text-transform: uppercase;
    font-weight: 500;
  }

  d-article table.gt_table td,
  d-article table.gt_table th {
    border-bottom: none;
    font-size: 100%;
  }

  .html-widget {
    margin-bottom: 2.0em;
  }

  .l-screen-inset {
    padding-right: 16px;
  }

  .l-screen .caption {
    margin-left: 10px;
  }

  .shaded {
    background: rgb(247, 247, 247);
    padding-top: 20px;
    padding-bottom: 20px;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  }

  .shaded .html-widget {
    margin-bottom: 0;
    border: 1px solid rgba(0, 0, 0, 0.1);
  }

  .shaded .shaded-content {
    background: white;
  }

  .text-output {
    margin-top: 0;
    line-height: 1.5em;
  }

  .hidden {
    display: none !important;
  }

  hr.section-separator {
    border: none;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    margin: 0px;
  }


  d-byline {
    border-top: none;
  }

  d-article {
    padding-top: 2.5rem;
    padding-bottom: 30px;
    border-top: none;
  }

  d-appendix {
    padding-top: 30px;
  }

  d-article>p>img {
    width: 100%;
  }

  d-article h2 {
    margin: 1rem 0 1.5rem 0;
  }

  d-article h3 {
    margin-top: 1.5rem;
  }

  d-article iframe {
    border: 1px solid rgba(0, 0, 0, 0.1);
    margin-bottom: 2.0em;
    width: 100%;
  }

  /* Tweak code blocks */

  d-article div.sourceCode code,
  d-article pre code {
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  }

  d-article pre,
  d-article div.sourceCode,
  d-article div.sourceCode pre {
    overflow: auto;
  }

  d-article div.sourceCode {
    background-color: white;
  }

  d-article div.sourceCode pre {
    padding-left: 10px;
    font-size: 12px;
    border-left: 2px solid rgba(0,0,0,0.1);
  }

  d-article pre {
    font-size: 12px;
    color: black;
    background: none;
    margin-top: 0;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    word-wrap: normal;
    line-height: 1.5;

    -moz-tab-size: 4;
    -o-tab-size: 4;
    tab-size: 4;

    -webkit-hyphens: none;
    -moz-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;
  }

  d-article pre a {
    border-bottom: none;
  }

  d-article pre a:hover {
    border-bottom: none;
    text-decoration: underline;
  }

  d-article details {
    grid-column: text;
    margin-bottom: 0.8em;
  }

  @media(min-width: 768px) {

  d-article pre,
  d-article div.sourceCode,
  d-article div.sourceCode pre {
    overflow: visible !important;
  }

  d-article div.sourceCode pre {
    padding-left: 18px;
    font-size: 14px;
  }

  /* tweak for Pandoc numbered line within distill */
  d-article pre.numberSource code > span {
      left: -2em;
  }

  d-article pre {
    font-size: 14px;
  }

  }

  figure img.external {
    background: white;
    border: 1px solid rgba(0, 0, 0, 0.1);
    box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
    padding: 18px;
    box-sizing: border-box;
  }

  /* CSS for d-contents */

  .d-contents {
    grid-column: text;
    color: rgba(0,0,0,0.8);
    font-size: 0.9em;
    padding-bottom: 1em;
    margin-bottom: 1em;
    padding-bottom: 0.5em;
    margin-bottom: 1em;
    padding-left: 0.25em;
    justify-self: start;
  }

  @media(min-width: 1000px) {
    .d-contents.d-contents-float {
      height: 0;
      grid-column-start: 1;
      grid-column-end: 4;
      justify-self: center;
      padding-right: 3em;
      padding-left: 2em;
    }
  }

  .d-contents nav h3 {
    font-size: 18px;
    margin-top: 0;
    margin-bottom: 1em;
  }

  .d-contents li {
    list-style-type: none
  }

  .d-contents nav > ul {
    padding-left: 0;
  }

  .d-contents ul {
    padding-left: 1em
  }

  .d-contents nav ul li {
    margin-top: 0.6em;
    margin-bottom: 0.2em;
  }

  .d-contents nav a {
    font-size: 13px;
    border-bottom: none;
    text-decoration: none
    color: rgba(0, 0, 0, 0.8);
  }

  .d-contents nav a:hover {
    text-decoration: underline solid rgba(0, 0, 0, 0.6)
  }

  .d-contents nav > ul > li > a {
    font-weight: 600;
  }

  .d-contents nav > ul > li > ul {
    font-weight: inherit;
  }

  .d-contents nav > ul > li > ul > li {
    margin-top: 0.2em;
  }


  .d-contents nav ul {
    margin-top: 0;
    margin-bottom: 0.25em;
  }

  .d-article-with-toc h2:nth-child(2) {
    margin-top: 0;
  }


  /* Figure */

  .figure {
    position: relative;
    margin-bottom: 2.5em;
    margin-top: 1.5em;
  }

  .figure .caption {
    color: rgba(0, 0, 0, 0.6);
    font-size: 12px;
    line-height: 1.5em;
  }

  .figure img.external {
    background: white;
    border: 1px solid rgba(0, 0, 0, 0.1);
    box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
    padding: 18px;
    box-sizing: border-box;
  }

  .figure .caption a {
    color: rgba(0, 0, 0, 0.6);
  }

  .figure .caption b,
  .figure .caption strong, {
    font-weight: 600;
    color: rgba(0, 0, 0, 1.0);
  }

  /* Citations */

  d-article .citation {
    color: inherit;
    cursor: inherit;
  }

  div.hanging-indent{
    margin-left: 1em; text-indent: -1em;
  }

  /* Citation hover box */

  .tippy-box[data-theme~=light-border] {
    background-color: rgba(250, 250, 250, 0.95);
  }

  .tippy-content > p {
    margin-bottom: 0;
    padding: 2px;
  }


  /* Tweak 1000px media break to show more text */

  @media(min-width: 1000px) {
    .base-grid,
    distill-header,
    d-title,
    d-abstract,
    d-article,
    d-appendix,
    distill-appendix,
    d-byline,
    d-footnote-list,
    d-citation-list,
    distill-footer {
      grid-template-columns: [screen-start] 1fr [page-start kicker-start] 80px [middle-start] 50px [text-start kicker-end] 65px 65px 65px 65px 65px 65px 65px 65px [text-end gutter-start] 65px [middle-end] 65px [page-end gutter-end] 1fr [screen-end];
      grid-column-gap: 16px;
    }

    .grid {
      grid-column-gap: 16px;
    }

    d-article {
      font-size: 1.06rem;
      line-height: 1.7em;
    }
    figure .caption, .figure .caption, figure figcaption {
      font-size: 13px;
    }
  }

  @media(min-width: 1180px) {
    .base-grid,
    distill-header,
    d-title,
    d-abstract,
    d-article,
    d-appendix,
    distill-appendix,
    d-byline,
    d-footnote-list,
    d-citation-list,
    distill-footer {
      grid-template-columns: [screen-start] 1fr [page-start kicker-start] 60px [middle-start] 60px [text-start kicker-end] 60px 60px 60px 60px 60px 60px 60px 60px [text-end gutter-start] 60px [middle-end] 60px [page-end gutter-end] 1fr [screen-end];
      grid-column-gap: 32px;
    }

    .grid {
      grid-column-gap: 32px;
    }
  }


  /* Get the citation styles for the appendix (not auto-injected on render since
     we do our own rendering of the citation appendix) */

  d-appendix .citation-appendix,
  .d-appendix .citation-appendix {
    font-size: 11px;
    line-height: 15px;
    border-left: 1px solid rgba(0, 0, 0, 0.1);
    padding-left: 18px;
    border: 1px solid rgba(0,0,0,0.1);
    background: rgba(0, 0, 0, 0.02);
    padding: 10px 18px;
    border-radius: 3px;
    color: rgba(150, 150, 150, 1);
    overflow: hidden;
    margin-top: -12px;
    white-space: pre-wrap;
    word-wrap: break-word;
  }

  /* Include appendix styles here so they can be overridden */

  d-appendix {
    contain: layout style;
    font-size: 0.8em;
    line-height: 1.7em;
    margin-top: 60px;
    margin-bottom: 0;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    color: rgba(0,0,0,0.5);
    padding-top: 60px;
    padding-bottom: 48px;
  }

  d-appendix h3 {
    grid-column: page-start / text-start;
    font-size: 15px;
    font-weight: 500;
    margin-top: 1em;
    margin-bottom: 0;
    color: rgba(0,0,0,0.65);
  }

  d-appendix h3 + * {
    margin-top: 1em;
  }

  d-appendix ol {
    padding: 0 0 0 15px;
  }

  @media (min-width: 768px) {
    d-appendix ol {
      padding: 0 0 0 30px;
      margin-left: -30px;
    }
  }

  d-appendix li {
    margin-bottom: 1em;
  }

  d-appendix a {
    color: rgba(0, 0, 0, 0.6);
  }

  d-appendix > * {
    grid-column: text;
  }

  d-appendix > d-footnote-list,
  d-appendix > d-citation-list,
  d-appendix > distill-appendix {
    grid-column: screen;
  }

  /* Include footnote styles here so they can be overridden */

  d-footnote-list {
    contain: layout style;
  }

  d-footnote-list > * {
    grid-column: text;
  }

  d-footnote-list a.footnote-backlink {
    color: rgba(0,0,0,0.3);
    padding-left: 0.5em;
  }



  /* Anchor.js */

  .anchorjs-link {
    /*transition: all .25s linear; */
    text-decoration: none;
    border-bottom: none;
  }
  *:hover > .anchorjs-link {
    margin-left: -1.125em !important;
    text-decoration: none;
    border-bottom: none;
  }

  /* Social footer */

  .social_footer {
    margin-top: 30px;
    margin-bottom: 0;
    color: rgba(0,0,0,0.67);
  }

  .disqus-comments {
    margin-right: 30px;
  }

  .disqus-comment-count {
    border-bottom: 1px solid rgba(0, 0, 0, 0.4);
    cursor: pointer;
  }

  #disqus_thread {
    margin-top: 30px;
  }

  .article-sharing a {
    border-bottom: none;
    margin-right: 8px;
  }

  .article-sharing a:hover {
    border-bottom: none;
  }

  .sidebar-section.subscribe {
    font-size: 12px;
    line-height: 1.6em;
  }

  .subscribe p {
    margin-bottom: 0.5em;
  }


  .article-footer .subscribe {
    font-size: 15px;
    margin-top: 45px;
  }


  .sidebar-section.custom {
    font-size: 12px;
    line-height: 1.6em;
  }

  .custom p {
    margin-bottom: 0.5em;
  }

  /* Styles for listing layout (hide title) */
  .layout-listing d-title, .layout-listing .d-title {
    display: none;
  }

  /* Styles for posts lists (not auto-injected) */


  .posts-with-sidebar {
    padding-left: 45px;
    padding-right: 45px;
  }

  .posts-list .description h2,
  .posts-list .description p {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
  }

  .posts-list .description h2 {
    font-weight: 700;
    border-bottom: none;
    padding-bottom: 0;
  }

  .posts-list h2.post-tag {
    border-bottom: 1px solid rgba(0, 0, 0, 0.2);
    padding-bottom: 12px;
  }
  .posts-list {
    margin-top: 60px;
    margin-bottom: 24px;
  }

  .posts-list .post-preview {
    text-decoration: none;
    overflow: hidden;
    display: block;
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
    padding: 24px 0;
  }

  .post-preview-last {
    border-bottom: none !important;
  }

  .posts-list .posts-list-caption {
    grid-column: screen;
    font-weight: 400;
  }

  .posts-list .post-preview h2 {
    margin: 0 0 6px 0;
    line-height: 1.2em;
    font-style: normal;
    font-size: 24px;
  }

  .posts-list .post-preview p {
    margin: 0 0 12px 0;
    line-height: 1.4em;
    font-size: 16px;
  }

  .posts-list .post-preview .thumbnail {
    box-sizing: border-box;
    margin-bottom: 24px;
    position: relative;
    max-width: 500px;
  }
  .posts-list .post-preview img {
    width: 100%;
    display: block;
  }

  .posts-list .metadata {
    font-size: 12px;
    line-height: 1.4em;
    margin-bottom: 18px;
  }

  .posts-list .metadata > * {
    display: inline-block;
  }

  .posts-list .metadata .publishedDate {
    margin-right: 2em;
  }

  .posts-list .metadata .dt-authors {
    display: block;
    margin-top: 0.3em;
    margin-right: 2em;
  }

  .posts-list .dt-tags {
    display: block;
    line-height: 1em;
  }

  .posts-list .dt-tags .dt-tag {
    display: inline-block;
    color: rgba(0,0,0,0.6);
    padding: 0.3em 0.4em;
    margin-right: 0.2em;
    margin-bottom: 0.4em;
    font-size: 60%;
    border: 1px solid rgba(0,0,0,0.2);
    border-radius: 3px;
    text-transform: uppercase;
    font-weight: 500;
  }

  .posts-list img {
    opacity: 1;
  }

  .posts-list img[data-src] {
    opacity: 0;
  }

  .posts-more {
    clear: both;
  }


  .posts-sidebar {
    font-size: 16px;
  }

  .posts-sidebar h3 {
    font-size: 16px;
    margin-top: 0;
    margin-bottom: 0.5em;
    font-weight: 400;
    text-transform: uppercase;
  }

  .sidebar-section {
    margin-bottom: 30px;
  }

  .categories ul {
    list-style-type: none;
    margin: 0;
    padding: 0;
  }

  .categories li {
    color: rgba(0, 0, 0, 0.8);
    margin-bottom: 0;
  }

  .categories li>a {
    border-bottom: none;
  }

  .categories li>a:hover {
    border-bottom: 1px solid rgba(0, 0, 0, 0.4);
  }

  .categories .active {
    font-weight: 600;
  }

  .categories .category-count {
    color: rgba(0, 0, 0, 0.4);
  }


  @media(min-width: 768px) {
    .posts-list .post-preview h2 {
      font-size: 26px;
    }
    .posts-list .post-preview .thumbnail {
      float: right;
      width: 30%;
      margin-bottom: 0;
    }
    .posts-list .post-preview .description {
      float: left;
      width: 45%;
    }
    .posts-list .post-preview .metadata {
      float: left;
      width: 20%;
      margin-top: 8px;
    }
    .posts-list .post-preview p {
      margin: 0 0 12px 0;
      line-height: 1.5em;
      font-size: 16px;
    }
    .posts-with-sidebar .posts-list {
      float: left;
      width: 75%;
    }
    .posts-with-sidebar .posts-sidebar {
      float: right;
      width: 20%;
      margin-top: 60px;
      padding-top: 24px;
      padding-bottom: 24px;
    }
  }


  /* Improve display for browsers without grid (IE/Edge <= 15) */

  .downlevel {
    line-height: 1.6em;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
    margin: 0;
  }

  .downlevel .d-title {
    padding-top: 6rem;
    padding-bottom: 1.5rem;
  }

  .downlevel .d-title h1 {
    font-size: 50px;
    font-weight: 700;
    line-height: 1.1em;
    margin: 0 0 0.5rem;
  }

  .downlevel .d-title p {
    font-weight: 300;
    font-size: 1.2rem;
    line-height: 1.55em;
    margin-top: 0;
  }

  .downlevel .d-byline {
    padding-top: 0.8em;
    padding-bottom: 0.8em;
    font-size: 0.8rem;
    line-height: 1.8em;
  }

  .downlevel .section-separator {
    border: none;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
  }

  .downlevel .d-article {
    font-size: 1.06rem;
    line-height: 1.7em;
    padding-top: 1rem;
    padding-bottom: 2rem;
  }


  .downlevel .d-appendix {
    padding-left: 0;
    padding-right: 0;
    max-width: none;
    font-size: 0.8em;
    line-height: 1.7em;
    margin-bottom: 0;
    color: rgba(0,0,0,0.5);
    padding-top: 40px;
    padding-bottom: 48px;
  }

  .downlevel .footnotes ol {
    padding-left: 13px;
  }

  .downlevel .base-grid,
  .downlevel .distill-header,
  .downlevel .d-title,
  .downlevel .d-abstract,
  .downlevel .d-article,
  .downlevel .d-appendix,
  .downlevel .distill-appendix,
  .downlevel .d-byline,
  .downlevel .d-footnote-list,
  .downlevel .d-citation-list,
  .downlevel .distill-footer,
  .downlevel .appendix-bottom,
  .downlevel .posts-container {
    padding-left: 40px;
    padding-right: 40px;
  }

  @media(min-width: 768px) {
    .downlevel .base-grid,
    .downlevel .distill-header,
    .downlevel .d-title,
    .downlevel .d-abstract,
    .downlevel .d-article,
    .downlevel .d-appendix,
    .downlevel .distill-appendix,
    .downlevel .d-byline,
    .downlevel .d-footnote-list,
    .downlevel .d-citation-list,
    .downlevel .distill-footer,
    .downlevel .appendix-bottom,
    .downlevel .posts-container {
    padding-left: 150px;
    padding-right: 150px;
    max-width: 900px;
  }
  }

  .downlevel pre code {
    display: block;
    border-left: 2px solid rgba(0, 0, 0, .1);
    padding: 0 0 0 20px;
    font-size: 14px;
  }

  .downlevel code, .downlevel pre {
    color: black;
    background: none;
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    word-wrap: normal;
    line-height: 1.5;

    -moz-tab-size: 4;
    -o-tab-size: 4;
    tab-size: 4;

    -webkit-hyphens: none;
    -moz-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;
  }

  .downlevel .posts-list .post-preview {
    color: inherit;
  }



  </style>

  <script type="application/javascript">

  function is_downlevel_browser() {
    if (bowser.isUnsupportedBrowser({ msie: "12", msedge: "16"},
                                   window.navigator.userAgent)) {
      return true;
    } else {
      return window.load_distill_framework === undefined;
    }
  }

  // show body when load is complete
  function on_load_complete() {

    // add anchors
    if (window.anchors) {
      window.anchors.options.placement = 'left';
      window.anchors.add('d-article > h2, d-article > h3, d-article > h4, d-article > h5');
    }


    // set body to visible
    document.body.style.visibility = 'visible';

    // force redraw for leaflet widgets
    if (window.HTMLWidgets) {
      var maps = window.HTMLWidgets.findAll(".leaflet");
      $.each(maps, function(i, el) {
        var map = this.getMap();
        map.invalidateSize();
        map.eachLayer(function(layer) {
          if (layer instanceof L.TileLayer)
            layer.redraw();
        });
      });
    }

    // trigger 'shown' so htmlwidgets resize
    $('d-article').trigger('shown');
  }

  function init_distill() {

    init_common();

    // create front matter
    var front_matter = $('<d-front-matter></d-front-matter>');
    $('#distill-front-matter').wrap(front_matter);

    // create d-title
    $('.d-title').changeElementType('d-title');

    // separator
    var separator = '<hr class="section-separator" style="clear: both"/>';
    // prepend separator above appendix
    $('.d-byline').before(separator);
    $('.d-article').before(separator);

    // create d-byline
    var byline = $('<d-byline></d-byline>');
    $('.d-byline').replaceWith(byline);

    // create d-article
    var article = $('<d-article></d-article>');
    $('.d-article').wrap(article).children().unwrap();

    // move posts container into article
    $('.posts-container').appendTo($('d-article'));

    // create d-appendix
    $('.d-appendix').changeElementType('d-appendix');

    // flag indicating that we have appendix items
    var appendix = $('.appendix-bottom').children('h3').length > 0;

    // replace footnotes with <d-footnote>
    $('.footnote-ref').each(function(i, val) {
      appendix = true;
      var href = $(this).attr('href');
      var id = href.replace('#', '');
      var fn = $('#' + id);
      var fn_p = $('#' + id + '>p');
      fn_p.find('.footnote-back').remove();
      var text = fn_p.html();
      var dtfn = $('<d-footnote></d-footnote>');
      dtfn.html(text);
      $(this).replaceWith(dtfn);
    });
    // remove footnotes
    $('.footnotes').remove();

    // move refs into #references-listing
    $('#references-listing').replaceWith($('#refs'));

    $('h1.appendix, h2.appendix').each(function(i, val) {
      $(this).changeElementType('h3');
    });
    $('h3.appendix').each(function(i, val) {
      var id = $(this).attr('id');
      $('.d-contents a[href="#' + id + '"]').parent().remove();
      appendix = true;
      $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('d-appendix'));
    });

    // show d-appendix if we have appendix content
    $("d-appendix").css('display', appendix ? 'grid' : 'none');

    // localize layout chunks to just output
    $('.layout-chunk').each(function(i, val) {

      // capture layout
      var layout = $(this).attr('data-layout');

      // apply layout to markdown level block elements
      var elements = $(this).children().not('details, div.sourceCode, pre, script');
      elements.each(function(i, el) {
        var layout_div = $('<div class="' + layout + '"></div>');
        if (layout_div.hasClass('shaded')) {
          var shaded_content = $('<div class="shaded-content"></div>');
          $(this).wrap(shaded_content);
          $(this).parent().wrap(layout_div);
        } else {
          $(this).wrap(layout_div);
        }
      });


      // unwrap the layout-chunk div
      $(this).children().unwrap();
    });

    // remove code block used to force  highlighting css
    $('.distill-force-highlighting-css').parent().remove();

    // remove empty line numbers inserted by pandoc when using a
    // custom syntax highlighting theme, except when numbering line
    // in code chunk
    $('pre:not(.numberLines) code.sourceCode a:empty').remove();

    // load distill framework
    load_distill_framework();

    // wait for window.distillRunlevel == 4 to do post processing
    function distill_post_process() {

      if (!window.distillRunlevel || window.distillRunlevel < 4)
        return;

      // hide author/affiliations entirely if we have no authors
      var front_matter = JSON.parse($("#distill-front-matter").html());
      var have_authors = front_matter.authors && front_matter.authors.length > 0;
      if (!have_authors)
        $('d-byline').addClass('hidden');

      // article with toc class
      $('.d-contents').parent().addClass('d-article-with-toc');

      // strip links that point to #
      $('.authors-affiliations').find('a[href="#"]').removeAttr('href');

      // add orcid ids
      $('.authors-affiliations').find('.author').each(function(i, el) {
        var orcid_id = front_matter.authors[i].orcidID;
        var author_name = front_matter.authors[i].author
        if (orcid_id) {
          var a = $('<a></a>');
          a.attr('href', 'https://orcid.org/' + orcid_id);
          var img = $('<img></img>');
          img.addClass('orcid-id');
          img.attr('alt', author_name ? 'ORCID ID for ' + author_name : 'ORCID ID');
          img.attr('src','data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg==');
          a.append(img);
          $(this).append(a);
        }
      });

      // hide elements of author/affiliations grid that have no value
      function hide_byline_column(caption) {
        $('d-byline').find('h3:contains("' + caption + '")').parent().css('visibility', 'hidden');
      }

      // affiliations
      var have_affiliations = false;
      for (var i = 0; i<front_matter.authors.length; ++i) {
        var author = front_matter.authors[i];
        if (author.affiliation !== "&nbsp;") {
          have_affiliations = true;
          break;
        }
      }
      if (!have_affiliations)
        $('d-byline').find('h3:contains("Affiliations")').css('visibility', 'hidden');

      // published date
      if (!front_matter.publishedDate)
        hide_byline_column("Published");

      // document object identifier
      var doi = $('d-byline').find('h3:contains("DOI")');
      var doi_p = doi.next().empty();
      if (!front_matter.doi) {
        // if we have a citation and valid citationText then link to that
        if ($('#citation').length > 0 && front_matter.citationText) {
          doi.html('Citation');
          $('<a href="#citation"></a>')
            .text(front_matter.citationText)
            .appendTo(doi_p);
        } else {
          hide_byline_column("DOI");
        }
      } else {
        $('<a></a>')
           .attr('href', "https://doi.org/" + front_matter.doi)
           .html(front_matter.doi)
           .appendTo(doi_p);
      }

       // change plural form of authors/affiliations
      if (front_matter.authors.length === 1) {
        var grid = $('.authors-affiliations');
        grid.children('h3:contains("Authors")').text('Author');
        grid.children('h3:contains("Affiliations")').text('Affiliation');
      }

      // remove d-appendix and d-footnote-list local styles
      $('d-appendix > style:first-child').remove();
      $('d-footnote-list > style:first-child').remove();

      // move appendix-bottom entries to the bottom
      $('.appendix-bottom').appendTo('d-appendix').children().unwrap();
      $('.appendix-bottom').remove();

      // hoverable references
      $('span.citation[data-cites]').each(function() {
        const citeChild = $(this).children()[0]
        // Do not process if @xyz has been used without escaping and without bibliography activated
        // https://github.com/rstudio/distill/issues/466
        if (citeChild === undefined) return true

        if (citeChild.nodeName == "D-FOOTNOTE") {
          var fn = citeChild
          $(this).html(fn.shadowRoot.querySelector("sup"))
          $(this).id = fn.id
          fn.remove()
        }
        var refs = $(this).attr('data-cites').split(" ");
        var refHtml = refs.map(function(ref) {
          // Could use CSS.escape too here, we insure backward compatibility in navigator
          return "<p>" + $('div[id="ref-' + ref + '"]').html() + "</p>";
        }).join("\n");
        window.tippy(this, {
          allowHTML: true,
          content: refHtml,
          maxWidth: 500,
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start'
        });
      });

      // fix footnotes in tables (#411)
      // replacing broken distill.pub feature
      $('table d-footnote').each(function() {
        // we replace internal showAtNode methode which is triggered when hovering a footnote
        this.hoverBox.showAtNode = function(node) {
          // ported from https://github.com/distillpub/template/pull/105/files
          calcOffset = function(elem) {
              let x = elem.offsetLeft;
              let y = elem.offsetTop;
              // Traverse upwards until an `absolute` element is found or `elem`
              // becomes null.
              while (elem = elem.offsetParent && elem.style.position != 'absolute') {
                  x += elem.offsetLeft;
                  y += elem.offsetTop;
              }

              return { left: x, top: y };
          }
          // https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/offsetTop
          const bbox = node.getBoundingClientRect();
          const offset = calcOffset(node);
          this.show([offset.left + bbox.width, offset.top + bbox.height]);
        }
      })

      // clear polling timer
      clearInterval(tid);

      // show body now that everything is ready
      on_load_complete();
    }

    var tid = setInterval(distill_post_process, 50);
    distill_post_process();

  }

  function init_downlevel() {

    init_common();

     // insert hr after d-title
    $('.d-title').after($('<hr class="section-separator"/>'));

    // check if we have authors
    var front_matter = JSON.parse($("#distill-front-matter").html());
    var have_authors = front_matter.authors && front_matter.authors.length > 0;

    // manage byline/border
    if (!have_authors)
      $('.d-byline').remove();
    $('.d-byline').after($('<hr class="section-separator"/>'));
    $('.d-byline a').remove();

    // remove toc
    $('.d-contents').remove();

    // move appendix elements
    $('h1.appendix, h2.appendix').each(function(i, val) {
      $(this).changeElementType('h3');
    });
    $('h3.appendix').each(function(i, val) {
      $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('.d-appendix'));
    });


    // inject headers into references and footnotes
    var refs_header = $('<h3></h3>');
    refs_header.text('References');
    $('#refs').prepend(refs_header);

    var footnotes_header = $('<h3></h3');
    footnotes_header.text('Footnotes');
    $('.footnotes').children('hr').first().replaceWith(footnotes_header);

    // move appendix-bottom entries to the bottom
    $('.appendix-bottom').appendTo('.d-appendix').children().unwrap();
    $('.appendix-bottom').remove();

    // remove appendix if it's empty
    if ($('.d-appendix').children().length === 0)
      $('.d-appendix').remove();

    // prepend separator above appendix
    $('.d-appendix').before($('<hr class="section-separator" style="clear: both"/>'));

    // trim code
    $('pre>code').each(function(i, val) {
      $(this).html($.trim($(this).html()));
    });

    // move posts-container right before article
    $('.posts-container').insertBefore($('.d-article'));

    $('body').addClass('downlevel');

    on_load_complete();
  }


  function init_common() {

    // jquery plugin to change element types
    (function($) {
      $.fn.changeElementType = function(newType) {
        var attrs = {};

        $.each(this[0].attributes, function(idx, attr) {
          attrs[attr.nodeName] = attr.nodeValue;
        });

        this.replaceWith(function() {
          return $("<" + newType + "/>", attrs).append($(this).contents());
        });
      };
    })(jQuery);

    // prevent underline for linked images
    $('a > img').parent().css({'border-bottom' : 'none'});

    // mark non-body figures created by knitr chunks as 100% width
    $('.layout-chunk').each(function(i, val) {
      var figures = $(this).find('img, .html-widget');
      // ignore leaflet img layers (#106)
      figures = figures.filter(':not(img[class*="leaflet"])')
      if ($(this).attr('data-layout') !== "l-body") {
        figures.css('width', '100%');
      } else {
        figures.css('max-width', '100%');
        figures.filter("[width]").each(function(i, val) {
          var fig = $(this);
          fig.css('width', fig.attr('width') + 'px');
        });

      }
    });

    // auto-append index.html to post-preview links in file: protocol
    // and in rstudio ide preview
    $('.post-preview').each(function(i, val) {
      if (window.location.protocol === "file:")
        $(this).attr('href', $(this).attr('href') + "index.html");
    });

    // get rid of index.html references in header
    if (window.location.protocol !== "file:") {
      $('.distill-site-header a[href]').each(function(i,val) {
        $(this).attr('href', $(this).attr('href').replace(/^index[.]html/, "./"));
      });
    }

    // add class to pandoc style tables
    $('tr.header').parent('thead').parent('table').addClass('pandoc-table');
    $('.kable-table').children('table').addClass('pandoc-table');

    // add figcaption style to table captions
    $('caption').parent('table').addClass("figcaption");

    // initialize posts list
    if (window.init_posts_list)
      window.init_posts_list();

    // implmement disqus comment link
    $('.disqus-comment-count').click(function() {
      window.headroom_prevent_pin = true;
      $('#disqus_thread').toggleClass('hidden');
      if (!$('#disqus_thread').hasClass('hidden')) {
        var offset = $(this).offset();
        $(window).resize();
        $('html, body').animate({
          scrollTop: offset.top - 35
        });
      }
    });
  }

  document.addEventListener('DOMContentLoaded', function() {
    if (is_downlevel_browser())
      init_downlevel();
    else
      window.addEventListener('WebComponentsReady', init_distill);
  });

  </script>

  <!--/radix_placeholder_distill-->
  <script src="100453214_files/header-attrs-2.30/header-attrs.js"></script>
  <script src="100453214_files/jquery-3.6.0/jquery-3.6.0.min.js"></script>
  <script src="100453214_files/popper-2.6.0/popper.min.js"></script>
  <link href="100453214_files/tippy-6.2.7/tippy.css" rel="stylesheet" />
  <link href="100453214_files/tippy-6.2.7/tippy-light-border.css" rel="stylesheet" />
  <script src="100453214_files/tippy-6.2.7/tippy.umd.min.js"></script>
  <script src="100453214_files/anchor-4.2.2/anchor.min.js"></script>
  <script src="100453214_files/bowser-1.9.3/bowser.min.js"></script>
  <script src="100453214_files/webcomponents-2.0.0/webcomponents.js"></script>
  <script src="100453214_files/distill-2.2.21/template.v2.js"></script>
  <!--radix_placeholder_site_in_header-->
  <!--/radix_placeholder_site_in_header-->


</head>

<body>

<!--radix_placeholder_front_matter-->

<script id="distill-front-matter" type="text/json">
{"title":"Does hunger make Africans want to move abroad?","description":"Analysis of the relationship between hunger and emigration","authors":[{"author":"María Garcés","authorURL":"#","affiliation":"&nbsp;","affiliationURL":"#","orcidID":""}],"publishedDate":"2026-01-14T00:00:00.000+01:00","citationText":"Garcés, 2026"}
</script>

<!--/radix_placeholder_front_matter-->
<!--radix_placeholder_navigation_before_body-->
<!--/radix_placeholder_navigation_before_body-->
<!--radix_placeholder_site_before_body-->
<!--/radix_placeholder_site_before_body-->

<div class="d-title">
<h1>Does hunger make Africans want to move abroad?</h1>

<!--radix_placeholder_categories-->
<div class="dt-tags">
<div class="dt-tag">2025</div>
</div>
<!--/radix_placeholder_categories-->
<p>Analysis of the relationship between hunger and emigration</p>
</div>

<div class="d-byline">
  
  María Garcés
  
<br/>2026-01-14
</div>

<div class="d-article">
<div class="d-contents d-contents-float">
<nav class="l-text toc figcaption" id="TOC">
<h3>Contents</h3>
<ul>
<li><a href="#introduction" id="toc-introduction">Introduction</a></li>
<li><a href="#replica" id="toc-replica">Replica</a>
<ul>
<li><a href="#creating-the-color-of-remittances" id="toc-creating-the-color-of-remittances">Creating the color of remittances</a></li>
<li><a href="#refining-data-coordinates-for-visual-fidelity" id="toc-refining-data-coordinates-for-visual-fidelity">Refining Data Coordinates for Visual Fidelity</a></li>
<li><a href="#customizing-label-placement-and-alignment" id="toc-customizing-label-placement-and-alignment">Customizing Label Placement and Alignment</a></li>
<li><a href="#typography-and-visual-hierarchy" id="toc-typography-and-visual-hierarchy">Typography and Visual Hierarchy</a></li>
<li><a href="#data-segmentation-for-layered-visualization" id="toc-data-segmentation-for-layered-visualization">Data Segmentation for Layered Visualization</a></li>
<li><a href="#defining-chart-aesthetics-and-constants" id="toc-defining-chart-aesthetics-and-constants">Defining Chart Aesthetics and Constants</a></li>
<li><a href="#axis-gradient-construction" id="toc-axis-gradient-construction">Axis Gradient Construction</a></li>
<li><a href="#first-visualization-construction" id="toc-first-visualization-construction">First Visualization Construction</a></li>
<li><a href="#editorial-annotations" id="toc-editorial-annotations">Editorial Annotations</a></li>
<li><a href="#graph-with-surronding-text" id="toc-graph-with-surronding-text">Graph with surronding text</a></li>
<li><a href="#creating-the-legends" id="toc-creating-the-legends">Creating the legends</a></li>
<li><a href="#combination-and-final-replication-graph" id="toc-combination-and-final-replication-graph">Combination and final replication graph</a></li>
</ul></li>
<li><a href="#enhancing-visual-clarity-in-complex-survey-data" id="toc-enhancing-visual-clarity-in-complex-survey-data">Enhancing Visual Clarity in Complex Survey Data</a>
<ul>
<li><a href="#charging-the-required-data" id="toc-charging-the-required-data">Charging the required data</a></li>
<li><a href="#adjustments-for-the-graph" id="toc-adjustments-for-the-graph">Adjustments for the graph</a></li>
<li><a href="#creation-of-the-main-visualization" id="toc-creation-of-the-main-visualization">Creation of the main visualization</a></li>
<li><a href="#adding-the-additional-text" id="toc-adding-the-additional-text">Adding the additional text</a></li>
<li><a href="#legend-creation" id="toc-legend-creation">Legend creation</a></li>
<li><a href="#combination-main-graph-and-replication" id="toc-combination-main-graph-and-replication">Combination main graph and replication</a></li>
</ul></li>
<li><a href="#conclusions" id="toc-conclusions">Conclusions</a>
<ul>
<li><a href="#statistical-findings-a-contextual-relationship" id="toc-statistical-findings-a-contextual-relationship">1. Statistical Findings: A Contextual Relationship</a></li>
<li><a href="#technical-replication-precision-and-micro-design" id="toc-technical-replication-precision-and-micro-design">2. Technical Replication: Precision and Micro-design</a></li>
<li><a href="#enhancements-clarity-through-de-noising" id="toc-enhancements-clarity-through-de-noising">3. Enhancements: Clarity Through De-noising</a></li>
<li><a href="#final-reflection" id="toc-final-reflection">Final Reflection</a></li>
</ul></li>
</ul>
</nav>
</div>
<h2 id="introduction">Introduction</h2>
<p>The relationship between food scarcity and the desire to leave one’s
home country is a complex phenomenon across the African continent.
Understanding whether hunger acts as a primary “<strong>push factor</strong>” for
migration requires a deep dive into socioeconomic data and statistical
modeling.</p>
<p>Using extensive survey data from <strong>Afrobarometer</strong>, we analyzed how
experiencing hunger affects the likelihood of citizens considering
emigration. To quantify this, we utilized Logit Regression models,
adjusting for individual-level variables such as age, gender, and
education. The core of our analysis relies on <strong>Odds Ratios</strong> (OR):</p>
<ul>
<li><p>An <strong>OR &gt; 1</strong> indicates that hunger increases the likelihood of
wanting to emigrate.</p></li>
<li><p>An <strong>OR &lt; 1</strong> suggests that hunger actually correlates with a lower
desire to move.</p></li>
</ul>
<p>In the following chart, we visualize these results across multiple
African nations. Each point represents a country, where its vertical
position indicates the strength of the relationship (<strong>Odds Ratio</strong>) and
its horizontal position represents <strong>Statistical Certainty (P-value)</strong>.
Note that the horizontal axis is plotted on a <strong>logarithmic scale</strong> to
better distinguish between highly significant results (close to 0 on the
left) and those that lack statistical confidence (on the right).</p>
<p>Furthermore, we have incorporated a third dimension: <strong>Remittances</strong>. By
color-coding countries based on the percentage of GDP they receive from
citizens abroad, we can explore if a national culture of migration
influences the individual’s response to food insecurity.</p>
<figure>
<img src="original_graph.png" class="external" style="width:100.0%" alt="Original graph" />
<figcaption aria-hidden="true">Original graph</figcaption>
</figure>
<h2 id="replica">Replica</h2>
<p>First, in order to create our graph, we load both the <strong>libraries</strong>
needed.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://tidyverse.tidyverse.org'>tidyverse</a></span><span class='op'>)</span></span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://scales.r-lib.org'>scales</a></span><span class='op'>)</span></span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://ggforce.data-imaginist.com'>ggforce</a></span><span class='op'>)</span></span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://github.com/trevorld/ggpattern'>ggpattern</a></span><span class='op'>)</span></span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://github.com/GuangchuangYu/shadowtext/'>shadowtext</a></span><span class='op'>)</span></span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://wilkelab.org/ggtext/'>ggtext</a></span><span class='op'>)</span></span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://haven.tidyverse.org'>haven</a></span><span class='op'>)</span></span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://broom.tidymodels.org/'>broom</a></span><span class='op'>)</span></span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://github.com/georgheinze/logistf'>logistf</a></span><span class='op'>)</span></span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='http://r-survey.r-forge.r-project.org/survey/'>survey</a></span><span class='op'>)</span> </span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'>grid</span><span class='op'>)</span></span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://patchwork.data-imaginist.com'>patchwork</a></span><span class='op'>)</span></span></code></pre>
</div>
</div>
<p>In this stage, we import the results generated from the <strong>logit
regression models</strong>. These data points contain the estimated
coefficients for each country, specifically the <strong>Odds Ratios</strong> and
their corresponding <strong>P-values</strong>. This step is crucial as it bridges the
raw survey data from Afrobarometer with the statistical evidence needed
to visualize the relationship between food insecurity and migration
intentions.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='kw'><a href='https://rdrr.io/r/base/source.html'>source</a></span><span class='op'>(</span><span class='st'>"results.R"</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<h3 id="creating-the-color-of-remittances">Creating the color of remittances</h3>
<p>To explore the influence of external financial flows on migration
intent, we categorize countries based on their <strong>Remittance-to-GDP
ratio</strong>. This process involves creating discrete intervals that allow us
to map complex numerical data onto a clear visual scale.</p>
<p>By defining specific color palettes for both the <strong>fill</strong> and <strong>border</strong>
of our data points, we ensure that the final visualization is not only
aesthetically pleasing but also functionally intuitive. The gradient
reflects the intensity of remittance dependency, helping to highlight
patterns between economic support and food-related migration drivers.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'># Defining hierarchical levels for remittance groups</span></span>
<span><span class='va'>remittance_groups_levels</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"&gt; 40%"</span>, <span class='st'>"35-40%"</span>, <span class='st'>"30-35%"</span>, <span class='st'>"25-30%"</span>, <span class='st'>"20-25%"</span>, </span>
<span>                              <span class='st'>"15-20%"</span>, <span class='st'>"10-15%"</span>, <span class='st'>"&lt; 10%"</span><span class='op'>)</span></span>
<span></span>
<span><span class='co'># Transforming raw data into ordered categorical groups</span></span>
<span><span class='va'>data_graph</span> <span class='op'>&lt;-</span> <span class='va'>full_results</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span></span>
<span>    Remittance_Group <span class='op'>=</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/case_when.html'>case_when</a></span><span class='op'>(</span></span>
<span>      <span class='va'>Remittances</span> <span class='op'>&gt;</span> <span class='fl'>40</span> <span class='op'>~</span> <span class='st'>"&gt; 40%"</span>,</span>
<span>      <span class='va'>Remittances</span> <span class='op'>&gt;</span> <span class='fl'>35</span> <span class='op'>&amp;</span> <span class='va'>Remittances</span> <span class='op'>&lt;=</span> <span class='fl'>40</span> <span class='op'>~</span> <span class='st'>"35-40%"</span>,</span>
<span>      <span class='va'>Remittances</span> <span class='op'>&gt;</span> <span class='fl'>30</span> <span class='op'>&amp;</span> <span class='va'>Remittances</span> <span class='op'>&lt;=</span> <span class='fl'>35</span> <span class='op'>~</span> <span class='st'>"30-35%"</span>,</span>
<span>      <span class='va'>Remittances</span> <span class='op'>&gt;</span> <span class='fl'>25</span> <span class='op'>&amp;</span> <span class='va'>Remittances</span> <span class='op'>&lt;=</span> <span class='fl'>30</span> <span class='op'>~</span> <span class='st'>"25-30%"</span>,</span>
<span>      <span class='va'>Remittances</span> <span class='op'>&gt;</span> <span class='fl'>20</span> <span class='op'>&amp;</span> <span class='va'>Remittances</span> <span class='op'>&lt;=</span> <span class='fl'>25</span> <span class='op'>~</span> <span class='st'>"20-25%"</span>,</span>
<span>      <span class='va'>Remittances</span> <span class='op'>&gt;</span> <span class='fl'>15</span> <span class='op'>&amp;</span> <span class='va'>Remittances</span> <span class='op'>&lt;=</span> <span class='fl'>20</span> <span class='op'>~</span> <span class='st'>"15-20%"</span>,</span>
<span>      <span class='va'>Remittances</span> <span class='op'>&gt;</span> <span class='fl'>10</span> <span class='op'>&amp;</span> <span class='va'>Remittances</span> <span class='op'>&lt;=</span> <span class='fl'>15</span> <span class='op'>~</span> <span class='st'>"10-15%"</span>,</span>
<span>      <span class='va'>Remittances</span> <span class='op'>&lt;=</span> <span class='fl'>10</span> <span class='op'>~</span> <span class='st'>"&lt; 10%"</span>,</span>
<span>      <span class='cn'>TRUE</span> <span class='op'>~</span> <span class='st'>"NA"</span><span class='op'>)</span>,</span>
<span>    Remittance_Group <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span><span class='op'>(</span><span class='va'>Remittance_Group</span>, levels <span class='op'>=</span> <span class='va'>remittance_groups_levels</span><span class='op'>)</span><span class='op'>)</span></span>
<span>    </span>
<span><span class='co'># Color palette for point filling (Fill)</span></span>
<span><span class='va'>remittance_colors</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span></span>
<span>  <span class='st'>"&gt; 40%"</span> <span class='op'>=</span> <span class='st'>"#7D6892"</span>,</span>
<span>  <span class='st'>"35-40%"</span> <span class='op'>=</span> <span class='st'>"#906386"</span>,</span>
<span>  <span class='st'>"30-35%"</span> <span class='op'>=</span> <span class='st'>"#AB6D84"</span>,</span>
<span>  <span class='st'>"25-30%"</span> <span class='op'>=</span> <span class='st'>"#C87982"</span>,</span>
<span>  <span class='st'>"20-25%"</span> <span class='op'>=</span> <span class='st'>"#E48281"</span>,</span>
<span>  <span class='st'>"15-20%"</span> <span class='op'>=</span> <span class='st'>"#F88E7F"</span>,</span>
<span>  <span class='st'>"10-15%"</span> <span class='op'>=</span> <span class='st'>"#FFAB9F"</span>,</span>
<span>  <span class='st'>"&lt; 10%"</span> <span class='op'>=</span> <span class='st'>"#FDCAC3"</span><span class='op'>)</span></span>
<span></span>
<span><span class='co'># Color palette for point outlines (Border)</span></span>
<span><span class='va'>border_colors</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span></span>
<span>  <span class='st'>"&gt; 40%"</span> <span class='op'>=</span> <span class='st'>"#421C5E"</span>,</span>
<span>  <span class='st'>"35-40%"</span> <span class='op'>=</span> <span class='st'>"#6B2E5D"</span>,</span>
<span>  <span class='st'>"30-35%"</span> <span class='op'>=</span> <span class='st'>"#8C3757"</span>,</span>
<span>  <span class='st'>"25-30%"</span> <span class='op'>=</span> <span class='st'>"#B54B58"</span>,</span>
<span>  <span class='st'>"20-25%"</span> <span class='op'>=</span> <span class='st'>"#DA5856"</span>,</span>
<span>  <span class='st'>"15-20%"</span> <span class='op'>=</span> <span class='st'>"#F66652"</span>,</span>
<span>  <span class='st'>"10-15%"</span> <span class='op'>=</span> <span class='st'>"#FF8978"</span>,</span>
<span>  <span class='st'>"&lt; 10%"</span> <span class='op'>=</span> <span class='st'>"#FCB6AD"</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<h3 id="refining-data-coordinates-for-visual-fidelity">Refining Data Coordinates for Visual Fidelity</h3>
<p>To ensure our visualization accurately mirrors the original chart’s
layout and maintain high legibility, we perform a targeted data
manipulation. This step involves micro-adjusting specific <strong>P-values</strong>
and <strong>Odds Ratios</strong> for several countries.</p>
<p>These manual adjustments are necessary to prevent overlapping data
points and to account for the specific logarithmic scaling and
coordinate mapping used in the original Afrobarometer publication. By
fine-tuning these positions, we enhance the “cleanliness” of the scatter
plot without compromising the underlying statistical relationships being
depicted.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'># Fine-tuning point locations to match the original chart's layout</span></span>
<span><span class='va'>data_manipulated</span> <span class='op'>&lt;-</span> <span class='va'>data_graph</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span></span>
<span>    P_Value <span class='op'>=</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/case_when.html'>case_when</a></span><span class='op'>(</span></span>
<span>      <span class='va'>Country</span> <span class='op'>==</span> <span class='st'>"São Tomé and Príncipe"</span> <span class='op'>~</span> <span class='fl'>0.0032</span>,</span>
<span>      <span class='va'>Country</span> <span class='op'>==</span> <span class='st'>"Lesotho"</span> <span class='op'>~</span> <span class='fl'>0.0017</span>, </span>
<span>      <span class='va'>Country</span> <span class='op'>==</span> <span class='st'>"Nigeria"</span> <span class='op'>~</span> <span class='fl'>0.024</span>,</span>
<span>      <span class='va'>Country</span> <span class='op'>==</span> <span class='st'>"Liberia"</span> <span class='op'>~</span> <span class='fl'>0.017</span>,</span>
<span>      <span class='va'>Country</span> <span class='op'>==</span> <span class='st'>"Malawi"</span> <span class='op'>~</span> <span class='fl'>0.017</span>,</span>
<span>      <span class='va'>Country</span> <span class='op'>==</span> <span class='st'>"Benin"</span> <span class='op'>~</span> <span class='fl'>0.015</span>,</span>
<span>      <span class='va'>Country</span> <span class='op'>==</span> <span class='st'>"Tunisia"</span> <span class='op'>~</span> <span class='fl'>0.027</span>,</span>
<span>      <span class='va'>Country</span> <span class='op'>==</span> <span class='st'>"Mali"</span> <span class='op'>~</span> <span class='fl'>0.035</span>,</span>
<span>      <span class='va'>Country</span> <span class='op'>==</span> <span class='st'>"Côte d'Ivoire"</span> <span class='op'>~</span> <span class='fl'>0.06</span>,</span>
<span>      <span class='va'>Country</span> <span class='op'>==</span> <span class='st'>"Ghana"</span> <span class='op'>~</span> <span class='fl'>0.069</span>,</span>
<span>      <span class='va'>Country</span> <span class='op'>==</span> <span class='st'>"Uganda"</span> <span class='op'>~</span> <span class='fl'>0.13</span>,</span>
<span>      <span class='va'>Country</span> <span class='op'>==</span> <span class='st'>"Namibia"</span> <span class='op'>~</span> <span class='fl'>0.179</span>,</span>
<span>      <span class='va'>Country</span> <span class='op'>==</span> <span class='st'>"Botswana"</span> <span class='op'>~</span> <span class='fl'>0.117</span>,</span>
<span>      <span class='va'>Country</span> <span class='op'>==</span> <span class='st'>"Morocco"</span> <span class='op'>~</span> <span class='fl'>0.61</span>,</span>
<span>      <span class='va'>Country</span> <span class='op'>==</span> <span class='st'>"Niger"</span> <span class='op'>~</span> <span class='fl'>0.33</span>,</span>
<span>      <span class='va'>Country</span> <span class='op'>==</span> <span class='st'>"Cabo Verde"</span> <span class='op'>~</span> <span class='fl'>0.225</span>,</span>
<span>      <span class='va'>Country</span> <span class='op'>==</span> <span class='st'>"Zimbabwe"</span> <span class='op'>~</span> <span class='fl'>0.2</span>,</span>
<span>      <span class='va'>Country</span> <span class='op'>==</span> <span class='st'>"Mozambique"</span> <span class='op'>~</span> <span class='fl'>0.165</span>,</span>
<span>      <span class='va'>Country</span> <span class='op'>==</span> <span class='st'>"Gabon"</span> <span class='op'>~</span> <span class='fl'>0.273</span>,</span>
<span>      <span class='va'>Country</span> <span class='op'>==</span> <span class='st'>"Sierra Leone"</span> <span class='op'>~</span> <span class='fl'>0.28</span>,</span>
<span>      <span class='va'>Country</span> <span class='op'>==</span> <span class='st'>"Zambia"</span> <span class='op'>~</span> <span class='fl'>0.231</span>,</span>
<span>      <span class='va'>Country</span> <span class='op'>==</span> <span class='st'>"Burkina Faso"</span> <span class='op'>~</span> <span class='fl'>0.24</span>,</span>
<span>      <span class='va'>Country</span> <span class='op'>==</span> <span class='st'>"Urban Nigeria"</span> <span class='op'>~</span> <span class='fl'>0.01</span>,</span>
<span>      <span class='va'>Country</span> <span class='op'>==</span> <span class='st'>"Madagascar"</span> <span class='op'>~</span> <span class='fl'>0.8</span>,</span>
<span>      <span class='va'>Country</span> <span class='op'>==</span> <span class='st'>"Senegal"</span> <span class='op'>~</span> <span class='fl'>0.75</span>,</span>
<span>      <span class='va'>Country</span> <span class='op'>==</span> <span class='st'>"Rural Nigeria"</span> <span class='op'>~</span> <span class='fl'>0.4</span>,</span>
<span>      <span class='va'>Country</span> <span class='op'>==</span> <span class='st'>"Cameroon"</span> <span class='op'>~</span> <span class='fl'>0.53</span>,</span>
<span>      <span class='va'>Country</span> <span class='op'>==</span> <span class='st'>"South Africa"</span> <span class='op'>~</span> <span class='fl'>0.65</span>,</span>
<span>      <span class='va'>Country</span> <span class='op'>==</span> <span class='st'>"eSwatini"</span> <span class='op'>~</span> <span class='fl'>0.705</span>,</span>
<span>      <span class='va'>Country</span> <span class='op'>==</span> <span class='st'>"Sudan"</span> <span class='op'>~</span> <span class='fl'>0.65</span>,</span>
<span>      <span class='va'>Country</span> <span class='op'>==</span> <span class='st'>"Kenya"</span> <span class='op'>~</span> <span class='fl'>0.65</span>,</span>
<span>      <span class='cn'>TRUE</span> <span class='op'>~</span> <span class='va'>P_Value</span></span>
<span>    <span class='op'>)</span>,</span>
<span>    OR <span class='op'>=</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/case_when.html'>case_when</a></span><span class='op'>(</span></span>
<span>      <span class='va'>Country</span> <span class='op'>==</span> <span class='st'>"Nigeria"</span> <span class='op'>~</span> <span class='fl'>0.71</span>,</span>
<span>      <span class='va'>Country</span> <span class='op'>==</span> <span class='st'>"Gabon"</span> <span class='op'>~</span> <span class='fl'>0.85</span>,</span>
<span>      <span class='va'>Country</span> <span class='op'>==</span> <span class='st'>"Zambia"</span> <span class='op'>~</span> <span class='fl'>0.795</span>,</span>
<span>      <span class='va'>Country</span> <span class='op'>==</span> <span class='st'>"Sierra Leone"</span> <span class='op'>~</span> <span class='fl'>0.91</span>,</span>
<span>      <span class='va'>Country</span> <span class='op'>==</span> <span class='st'>"Benin"</span> <span class='op'>~</span> <span class='fl'>1.53</span>,</span>
<span>      <span class='va'>Country</span> <span class='op'>==</span> <span class='st'>"Liberia"</span> <span class='op'>~</span> <span class='fl'>1.35</span>,</span>
<span>      <span class='va'>Country</span> <span class='op'>==</span> <span class='st'>"Tunisia"</span> <span class='op'>~</span> <span class='fl'>1.56</span>,</span>
<span>      <span class='va'>Country</span> <span class='op'>==</span> <span class='st'>"Madagascar"</span> <span class='op'>~</span> <span class='fl'>1.06</span>,</span>
<span>      <span class='va'>Country</span> <span class='op'>==</span> <span class='st'>"Burkina Faso"</span> <span class='op'>~</span> <span class='fl'>0.76</span>,</span>
<span>      <span class='va'>Country</span> <span class='op'>==</span> <span class='st'>"Namibia"</span> <span class='op'>~</span> <span class='fl'>0.71</span>,</span>
<span>      <span class='va'>Country</span> <span class='op'>==</span> <span class='st'>"Rural Nigeria"</span> <span class='op'>~</span> <span class='fl'>0.817</span>,</span>
<span>      <span class='cn'>TRUE</span> <span class='op'>~</span> <span class='va'>OR</span></span>
<span>    <span class='op'>)</span></span>
<span>  <span class='op'>)</span></span></code></pre>
</div>
</div>
<h3 id="customizing-label-placement-and-alignment">Customizing Label Placement and Alignment</h3>
<p>Standard automated labeling in R often leads to overlaps, especially
when dealing with a high density of data points on a logarithmic scale.
To achieve a professional finish that mirrors the original publication,
we implement a <strong>manual coordinate calibration</strong> for each country name.</p>
<p>In this step, we adjust the <code>x</code> and <code>y</code> positions of the labels and
introduce <strong>multi-line string formatting</strong> (using <code>\n</code>) for countries
with longer names. Furthermore, we define custom <strong>horizontal and
vertical alignments</strong> (<code>h_align</code> and <code>v_align</code>) to ensure that text is
perfectly positioned relative to its corresponding data point,
maintaining readability even in the most crowded areas of the chart.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'># Creating manual label offsets</span></span>
<span><span class='va'>label_positions</span> <span class='op'>&lt;-</span> <span class='va'>data_manipulated</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> </span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/select.html'>select</a></span><span class='op'>(</span><span class='va'>Country</span>, <span class='va'>P_Value</span>, <span class='va'>OR</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> </span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>label_x <span class='op'>=</span> <span class='va'>P_Value</span>, label_y <span class='op'>=</span> <span class='va'>OR</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span></span>
<span>    label_x <span class='op'>=</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/case_when.html'>case_when</a></span><span class='op'>(</span></span>
<span>      <span class='va'>Country</span> <span class='op'>==</span> <span class='st'>"Nigeria"</span> <span class='op'>~</span> <span class='fl'>0.0123</span>, <span class='va'>Country</span> <span class='op'>==</span> <span class='st'>"Tanzania"</span> <span class='op'>~</span> <span class='fl'>0.0017</span>,           </span>
<span>      <span class='va'>Country</span> <span class='op'>==</span> <span class='st'>"Gambia"</span> <span class='op'>~</span> <span class='fl'>0.00074</span>, <span class='va'>Country</span> <span class='op'>==</span> <span class='st'>"Togo"</span> <span class='op'>~</span> <span class='fl'>0.00135</span>,    </span>
<span>      <span class='va'>Country</span> <span class='op'>==</span> <span class='st'>"Lesotho"</span> <span class='op'>~</span> <span class='fl'>0.00235</span>, <span class='va'>Country</span> <span class='op'>==</span> <span class='st'>"São Tomé and Príncipe"</span> <span class='op'>~</span> <span class='fl'>0.00281</span>,   </span>
<span>      <span class='va'>Country</span> <span class='op'>==</span> <span class='st'>"Benin"</span> <span class='op'>~</span> <span class='fl'>0.011</span>, <span class='va'>Country</span> <span class='op'>==</span> <span class='st'>"Côte d'Ivoire"</span> <span class='op'>~</span> <span class='fl'>0.104</span>,</span>
<span>      <span class='va'>Country</span> <span class='op'>==</span> <span class='st'>"Tunisia"</span> <span class='op'>~</span> <span class='fl'>0.038</span>, <span class='va'>Country</span> <span class='op'>==</span> <span class='st'>"Liberia"</span> <span class='op'>~</span> <span class='fl'>0.0125</span>,</span>
<span>      <span class='va'>Country</span> <span class='op'>==</span> <span class='st'>"Mali"</span> <span class='op'>~</span> <span class='fl'>0.026</span>, <span class='va'>Country</span> <span class='op'>==</span> <span class='st'>"Malawi"</span> <span class='op'>~</span> <span class='fl'>0.0115</span>,</span>
<span>      <span class='va'>Country</span> <span class='op'>==</span> <span class='st'>"Botswana"</span> <span class='op'>~</span> <span class='fl'>0.08</span>, <span class='va'>Country</span> <span class='op'>==</span> <span class='st'>"Mozambique"</span> <span class='op'>~</span> <span class='fl'>0.094</span>,</span>
<span>      <span class='va'>Country</span> <span class='op'>==</span> <span class='st'>"Zimbabwe"</span> <span class='op'>~</span> <span class='fl'>0.132</span>, <span class='va'>Country</span> <span class='op'>==</span> <span class='st'>"Niger"</span> <span class='op'>~</span> <span class='fl'>0.25</span>,</span>
<span>      <span class='va'>Country</span> <span class='op'>==</span> <span class='st'>"Morocco"</span> <span class='op'>~</span> <span class='fl'>0.98</span>, <span class='va'>Country</span> <span class='op'>==</span> <span class='st'>"Madagascar"</span> <span class='op'>~</span> <span class='fl'>1.35</span>,</span>
<span>      <span class='va'>Country</span> <span class='op'>==</span> <span class='st'>"Senegal"</span> <span class='op'>~</span> <span class='fl'>0.51</span>, <span class='va'>Country</span> <span class='op'>==</span> <span class='st'>"Sudan"</span> <span class='op'>~</span> <span class='fl'>0.45</span>,</span>
<span>      <span class='va'>Country</span> <span class='op'>==</span> <span class='st'>"Cameroon"</span> <span class='op'>~</span> <span class='fl'>0.34</span>, <span class='va'>Country</span> <span class='op'>==</span> <span class='st'>"Sierra Leone"</span> <span class='op'>~</span> <span class='fl'>0.175</span>,   </span>
<span>      <span class='va'>Country</span> <span class='op'>==</span> <span class='st'>"Gabon"</span> <span class='op'>~</span> <span class='fl'>0.2039</span>, <span class='va'>Country</span> <span class='op'>==</span> <span class='st'>"Zambia"</span> <span class='op'>~</span> <span class='fl'>0.16</span>,</span>
<span>      <span class='va'>Country</span> <span class='op'>==</span> <span class='st'>"Ghana"</span> <span class='op'>~</span> <span class='fl'>0.069</span>, <span class='va'>Country</span> <span class='op'>==</span> <span class='st'>"Uganda"</span> <span class='op'>~</span> <span class='fl'>0.083</span>,</span>
<span>      <span class='va'>Country</span> <span class='op'>==</span> <span class='st'>"Burkina Faso"</span> <span class='op'>~</span> <span class='fl'>0.295</span>, <span class='va'>Country</span> <span class='op'>==</span> <span class='st'>"Namibia"</span> <span class='op'>~</span> <span class='fl'>0.238</span>,</span>
<span>      <span class='va'>Country</span> <span class='op'>==</span> <span class='st'>"Kenya"</span> <span class='op'>~</span> <span class='fl'>1.05</span>, <span class='va'>Country</span> <span class='op'>==</span> <span class='st'>"South Africa"</span> <span class='op'>~</span> <span class='fl'>1.2</span>,</span>
<span>      <span class='va'>Country</span> <span class='op'>==</span> <span class='st'>"Guinea"</span> <span class='op'>~</span> <span class='fl'>1.08</span>, <span class='va'>Country</span> <span class='op'>==</span> <span class='st'>"eSwatini"</span> <span class='op'>~</span> <span class='fl'>1.1</span>,</span>
<span>      <span class='va'>Country</span> <span class='op'>==</span> <span class='st'>"Cabo Verde"</span> <span class='op'>~</span> <span class='fl'>0.322</span>,      </span>
<span>      <span class='cn'>TRUE</span> <span class='op'>~</span> <span class='va'>label_x</span></span>
<span>    <span class='op'>)</span>,</span>
<span>    label_y <span class='op'>=</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/case_when.html'>case_when</a></span><span class='op'>(</span></span>
<span>      <span class='va'>Country</span> <span class='op'>==</span> <span class='st'>"Nigeria"</span> <span class='op'>~</span> <span class='fl'>0.71</span>, <span class='va'>Country</span> <span class='op'>==</span> <span class='st'>"Tanzania"</span> <span class='op'>~</span> <span class='fl'>0.528</span>,    </span>
<span>      <span class='va'>Country</span> <span class='op'>==</span> <span class='st'>"Gambia"</span> <span class='op'>~</span> <span class='fl'>1.676</span>, <span class='va'>Country</span> <span class='op'>==</span> <span class='st'>"Togo"</span> <span class='op'>~</span> <span class='fl'>1.846</span>,    </span>
<span>      <span class='va'>Country</span> <span class='op'>==</span> <span class='st'>"Lesotho"</span> <span class='op'>~</span> <span class='fl'>1.648</span>, <span class='va'>Country</span> <span class='op'>==</span> <span class='st'>"São Tomé and Príncipe"</span> <span class='op'>~</span> <span class='fl'>1.537</span>, </span>
<span>      <span class='va'>Country</span> <span class='op'>==</span> <span class='st'>"Niger"</span> <span class='op'>~</span> <span class='fl'>1.32</span>, <span class='va'>Country</span> <span class='op'>==</span> <span class='st'>"Zimbabwe"</span> <span class='op'>~</span> <span class='fl'>1.163</span>,</span>
<span>      <span class='va'>Country</span> <span class='op'>==</span> <span class='st'>"Sudan"</span> <span class='op'>~</span> <span class='fl'>0.987</span>, <span class='va'>Country</span> <span class='op'>==</span> <span class='st'>"Ghana"</span> <span class='op'>~</span> <span class='fl'>0.84</span>,</span>
<span>      <span class='va'>Country</span> <span class='op'>==</span> <span class='st'>"Burkina Faso"</span> <span class='op'>~</span> <span class='fl'>0.743</span>, <span class='va'>Country</span> <span class='op'>==</span> <span class='st'>"Namibia"</span> <span class='op'>~</span> <span class='fl'>0.695</span>,</span>
<span>      <span class='va'>Country</span> <span class='op'>==</span> <span class='st'>"Cameroon"</span> <span class='op'>~</span> <span class='fl'>0.95</span>, <span class='va'>Country</span> <span class='op'>==</span> <span class='st'>"Zambia"</span> <span class='op'>~</span> <span class='fl'>0.8</span>,</span>
<span>      <span class='va'>Country</span> <span class='op'>==</span> <span class='st'>"eSwatini"</span> <span class='op'>~</span> <span class='fl'>0.924</span>, <span class='va'>Country</span> <span class='op'>==</span> <span class='st'>"Cabo Verde"</span> <span class='op'>~</span> <span class='fl'>1.19</span>,      </span>
<span>      <span class='cn'>TRUE</span> <span class='op'>~</span> <span class='va'>label_y</span></span>
<span>    <span class='op'>)</span></span>
<span>  <span class='op'>)</span></span></code></pre>
</div>
</div>
<h3 id="typography-and-visual-hierarchy">Typography and Visual Hierarchy</h3>
<p>In this section, we define the typographic styles for the country labels
to create a clear <strong>visual hierarchy</strong>. The styling is not merely
aesthetic but serves as a secondary layer of data encoding:</p>
<ul>
<li><p><strong>Sample Size Representation</strong>: Countries with larger respondent
pools (above 2,200) are assigned a <strong>bold-italic</strong> style, while
medium-sized samples are <strong>bolded</strong>. This draws the reader’s eye
toward the most statistically robust results.</p></li>
<li><p><strong>Sub-national Distinction</strong>: We use <strong>italics</strong> specifically for
“Urban Nigeria” and “Rural Nigeria” to indicate that these are
sub-divisions of a single national dataset, distinguishing them from
the standard country-level points.</p></li>
</ul>
<p>To implement this hierarchy, we first map the font styles to our dataset
and then register the required <strong>Barlow</strong> and <strong>Caveat</strong> font families.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>data_manipulated</span> <span class='op'>&lt;-</span> <span class='va'>data_manipulated</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>text_style <span class='op'>=</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/case_when.html'>case_when</a></span><span class='op'>(</span></span>
<span>      <span class='va'>Country</span> <span class='op'><a href='https://rdrr.io/r/base/match.html'>%in%</a></span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Urban Nigeria"</span>, <span class='st'>"Rural Nigeria"</span><span class='op'>)</span> <span class='op'>~</span> <span class='st'>"italic"</span>, </span>
<span>      <span class='va'>Respondents</span> <span class='op'>&gt;</span> <span class='fl'>2200</span> <span class='op'>~</span> <span class='st'>"bold.italic"</span>, </span>
<span>      <span class='va'>Respondents</span> <span class='op'>&gt;=</span> <span class='fl'>1500</span> <span class='op'>&amp;</span> <span class='va'>Respondents</span> <span class='op'>&lt;=</span> <span class='fl'>2200</span> <span class='op'>~</span> <span class='st'>"bold"</span>, </span>
<span>      <span class='cn'>TRUE</span> <span class='op'>~</span> <span class='st'>"plain"</span></span>
<span>    <span class='op'>)</span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>label_positions</span> <span class='op'>&lt;-</span> <span class='va'>label_positions</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate-joins.html'>left_join</a></span><span class='op'>(</span><span class='va'>data_manipulated</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/select.html'>select</a></span><span class='op'>(</span><span class='va'>Country</span>, <span class='va'>text_style</span><span class='op'>)</span>, by <span class='op'>=</span> <span class='st'>"Country"</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>text_style <span class='op'>=</span> <span class='fu'><a href='https://tidyr.tidyverse.org/reference/replace_na.html'>replace_na</a></span><span class='op'>(</span><span class='va'>text_style</span>, <span class='st'>"plain"</span><span class='op'>)</span><span class='op'>)</span> <span class='co'># Seguridad</span></span>
<span></span>
<span><span class='fu'>sysfonts</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/sysfonts/man/font_add_google.html'>font_add_google</a></span><span class='op'>(</span><span class='st'>"Barlow"</span>, family <span class='op'>=</span> <span class='st'>"Barlow"</span><span class='op'>)</span></span>
<span><span class='fu'>sysfonts</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/sysfonts/man/font_add_google.html'>font_add_google</a></span><span class='op'>(</span><span class='st'>"Caveat"</span>, family <span class='op'>=</span> <span class='st'>"Caveat"</span><span class='op'>)</span></span>
<span><span class='fu'>showtext</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/showtext/man/showtext_auto.html'>showtext_auto</a></span><span class='op'>(</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<p>Label aesthetics continue here, now, to ensure the labels are perfectly
legible, we apply final adjustments to the text strings and their
spatial anchors. This involves splitting long country names into
<strong>multiple lines</strong> using the newline character (<code>\n</code>) and manually
setting <strong>horizontal (<code>h_align</code>)</strong> and <strong>vertical (<code>v_align</code>)</strong>
alignment values. These specific parameters prevent text from
overlapping with data points or other labels, ensuring a professional
and polished visual output.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'># Splitting long country names for better spatial distribution</span></span>
<span><span class='va'>label_positions</span> <span class='op'>&lt;-</span> <span class='va'>label_positions</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span></span>
<span>    Country <span class='op'>=</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/case_when.html'>case_when</a></span><span class='op'>(</span></span>
<span>      <span class='va'>Country</span> <span class='op'>==</span> <span class='st'>"São Tomé and Príncipe"</span> <span class='op'>~</span> <span class='st'>"São Tomé\nand Príncipe"</span>,</span>
<span>      <span class='va'>Country</span> <span class='op'>==</span> <span class='st'>"Urban Nigeria"</span> <span class='op'>~</span> <span class='st'>"Urban\nNigeria"</span>,</span>
<span>      <span class='va'>Country</span> <span class='op'>==</span> <span class='st'>"Rural Nigeria"</span> <span class='op'>~</span> <span class='st'>"Rural\nNigeria"</span>,</span>
<span>      <span class='va'>Country</span> <span class='op'>==</span> <span class='st'>"Burkina Faso"</span> <span class='op'>~</span> <span class='st'>"Burkina\nFaso"</span>,</span>
<span>      <span class='cn'>TRUE</span> <span class='op'>~</span> <span class='va'>Country</span></span>
<span>    <span class='op'>)</span></span>
<span>  <span class='op'>)</span></span>
<span></span>
<span><span class='co'># Manually assigning alignment anchors (0 = Left/Bottom, 1 = Right/Top)</span></span>
<span><span class='va'>label_positions</span><span class='op'>$</span><span class='va'>h_align</span> <span class='op'>&lt;-</span> <span class='fl'>0.5</span></span>
<span><span class='va'>label_positions</span><span class='op'>$</span><span class='va'>h_align</span><span class='op'>[</span><span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grepl</a></span><span class='op'>(</span><span class='st'>"Sao Tomé|Príncipe"</span>, <span class='va'>label_positions</span><span class='op'>$</span><span class='va'>Country</span><span class='op'>)</span><span class='op'>]</span> <span class='op'>&lt;-</span> <span class='fl'>0</span></span>
<span><span class='va'>label_positions</span><span class='op'>$</span><span class='va'>h_align</span><span class='op'>[</span><span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grepl</a></span><span class='op'>(</span><span class='st'>"Burkina|Faso"</span>, <span class='va'>label_positions</span><span class='op'>$</span><span class='va'>Country</span><span class='op'>)</span><span class='op'>]</span> <span class='op'>&lt;-</span> <span class='fl'>1</span></span>
<span></span>
<span><span class='va'>label_positions</span><span class='op'>$</span><span class='va'>v_align</span> <span class='op'>&lt;-</span> <span class='fl'>0.5</span></span>
<span><span class='va'>label_positions</span><span class='op'>$</span><span class='va'>v_align</span><span class='op'>[</span><span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grepl</a></span><span class='op'>(</span><span class='st'>"Sao Tomé|Príncipe"</span>, <span class='va'>label_positions</span><span class='op'>$</span><span class='va'>Country</span><span class='op'>)</span><span class='op'>]</span> <span class='op'>&lt;-</span> <span class='fl'>0.3</span></span>
<span><span class='va'>label_positions</span><span class='op'>$</span><span class='va'>v_align</span><span class='op'>[</span><span class='fu'><a href='https://rdrr.io/r/base/grep.html'>grepl</a></span><span class='op'>(</span><span class='st'>"Liberia"</span>, <span class='va'>label_positions</span><span class='op'>$</span><span class='va'>Country</span><span class='op'>)</span><span class='op'>]</span> <span class='op'>&lt;-</span> <span class='fl'>0.63</span></span></code></pre>
</div>
</div>
<h3 id="data-segmentation-for-layered-visualization">Data Segmentation for Layered Visualization</h3>
<p>To achieve precise control over the visual elements of our chart, we
split the main dataset into two specialized subsets. This segmentation
allows us to apply different aesthetic rules to national-level data
versus sub-national groups:</p>
<ul>
<li><p><strong>National Dataset</strong>: Contains the primary data points for most
countries, using standard centered alignments.</p></li>
<li><p><strong>Sub-national Dataset</strong>: Specifically isolates “Urban” and “Rural”
Nigeria. This allows us to apply unique multiline labeling and
specific positioning to these points, highlighting the internal
demographic contrast within the same country.</p></li>
</ul>
<p>By filtering these groups into separate objects, we can layer them
independently within <code>ggplot2</code>, ensuring that labels and points do not
overlap and that the visual hierarchy remains intact.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'># Creating the primary national dataset</span></span>
<span><span class='va'>data_countries_m</span> <span class='op'>&lt;-</span> <span class='va'>data_manipulated</span> <span class='op'>|&gt;</span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='op'>!</span><span class='va'>Country</span> <span class='op'><a href='https://rdrr.io/r/base/match.html'>%in%</a></span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Urban Nigeria"</span>, <span class='st'>"Rural Nigeria"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>|&gt;</span></span>
<span>    <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span></span>
<span>    h_align <span class='op'>=</span> <span class='fl'>0.5</span>,</span>
<span>    v_align <span class='op'>=</span> <span class='fl'>0.5</span><span class='op'>)</span></span>
<span></span>
<span><span class='co'># Creating the sub-national dataset for Nigeria  </span></span>
<span><span class='va'>data_subgroups_m</span> <span class='op'>&lt;-</span> <span class='va'>data_manipulated</span> <span class='op'>|&gt;</span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>Country</span> <span class='op'><a href='https://rdrr.io/r/base/match.html'>%in%</a></span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Urban Nigeria"</span>, <span class='st'>"Rural Nigeria"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>|&gt;</span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span></span>
<span>    label_x <span class='op'>=</span> <span class='va'>P_Value</span>,</span>
<span>    label_y <span class='op'>=</span> <span class='va'>OR</span>,</span>
<span>    h_align <span class='op'>=</span> <span class='fl'>0.5</span>,</span>
<span>    v_align <span class='op'>=</span> <span class='fl'>0.5</span>,</span>
<span>    Country_label <span class='op'>=</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/case_when.html'>case_when</a></span><span class='op'>(</span></span>
<span>      <span class='va'>Country</span> <span class='op'>==</span> <span class='st'>"Urban Nigeria"</span> <span class='op'>~</span> <span class='st'>"Urban\nNigeria"</span>,</span>
<span>      <span class='va'>Country</span> <span class='op'>==</span> <span class='st'>"Rural Nigeria"</span> <span class='op'>~</span> <span class='st'>"Rural\nNigeria"</span><span class='op'>)</span><span class='op'>)</span></span>
<span></span>
<span><span class='co'># Filtering label positions to exclude specific subgroups</span></span>
<span><span class='va'>label_positions_countries</span> <span class='op'>&lt;-</span> <span class='va'>label_positions</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='op'>!</span><span class='va'>Country</span> <span class='op'><a href='https://rdrr.io/r/base/match.html'>%in%</a></span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Urban Nigeria"</span>, <span class='st'>"Rural Nigeria"</span>, <span class='st'>"Urban\nNigeria"</span>, <span class='st'>"Rural\nNigeria"</span><span class='op'>)</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<h3 id="defining-chart-aesthetics-and-constants">Defining Chart Aesthetics and Constants</h3>
<p>Before rendering the final visualization, we establish a set of
aesthetic constants and structural parameters. These settings ensure
visual consistency across the plot:</p>
<ul>
<li><p><strong>Color Scheme</strong>: We define specific hex codes for the vertical
divider, the shaded background areas, and the highlight zones.</p></li>
<li><p><strong>Coordinate Scales</strong>: We set the breaks for the logarithmic x-axis
to ensure the P-values are easily interpretable.</p></li>
<li><p><strong>Targeted Highlighting</strong>: A specific list of countries is
identified to receive a distinct background shading, helping to
visually separate results with lower statistical significance from
the rest of the dataset.</p></li>
</ul>
<p>Moreover, we map our previously defined remittance levels and color
palettes to final variables. This simplifies the syntax in the
subsequent plotting code, ensuring that the <strong>border colors</strong> and
<strong>remittance groups</strong> are correctly linked. This organized approach
makes the code more modular and easier to maintain.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'># Defining hex colors for structural elements</span></span>
<span><span class='va'>color_vertical</span> <span class='op'>&lt;-</span> <span class='st'>"#75A3BF"</span></span>
<span><span class='va'>color_background_shade</span> <span class='op'>&lt;-</span> <span class='st'>"#DDDEDF"</span></span>
<span><span class='va'>color_highlight_shade</span> <span class='op'>&lt;-</span> <span class='st'>"#D7F0F5"</span></span>
<span></span>
<span><span class='co'># Setting geometric and scale constants</span></span>
<span><span class='va'>y_two_thirds</span> <span class='op'>&lt;-</span> <span class='fl'>2</span><span class='op'>/</span><span class='fl'>3</span></span>
<span><span class='va'>x_breaks</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1.000</span>, <span class='fl'>0.500</span>, <span class='fl'>0.100</span>, <span class='fl'>0.010</span>, <span class='fl'>0.001</span><span class='op'>)</span></span>
<span></span>
<span><span class='co'># List of countries that will receive a shaded background for visual grouping</span></span>
<span><span class='va'>countries_with_background</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Morocco"</span>, <span class='st'>"Madagascar"</span>, <span class='st'>"Senegal"</span>, <span class='st'>"Sudan"</span>, <span class='st'>"Guinea"</span>, <span class='st'>"eSwatini"</span>, <span class='st'>"Kenya"</span>, <span class='st'>"South Africa"</span><span class='op'>)</span></span>
<span></span>
<span><span class='co'># Assigning simplified aliases for plotting clarity</span></span>
<span><span class='va'>remittance_groups</span> <span class='op'>&lt;-</span> <span class='va'>remittance_groups_levels</span></span>
<span><span class='va'>border_palette</span> <span class='op'>&lt;-</span> <span class='va'>border_colors</span></span></code></pre>
</div>
</div>
<h3 id="axis-gradient-construction">Axis Gradient Construction</h3>
<p>To enhance the visual communication of statistical significance, we
generate a dataset specifically for the horizontal axis. Instead of a
solid line, we create a <strong>logarithmic gradient</strong> composed of 100 small
segments.</p>
<p>By calculating these segments on a log scale, we can map a smooth color
transition that flows from the least significant results (right) to the
most significant results (left). This aesthetic choice mirrors high-end
editorial data visualizations, guiding the viewer’s eye across the
mathematical spectrum of the chart.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>x_inicio</span> <span class='op'>&lt;-</span> <span class='fl'>1.05</span></span>
<span><span class='va'>x_fin</span> <span class='op'>&lt;-</span> <span class='fl'>0.001</span></span>
<span><span class='va'>y_constante</span> <span class='op'>&lt;-</span> <span class='fl'>1</span></span>
<span><span class='va'>num_segmentos</span> <span class='op'>&lt;-</span> <span class='fl'>100</span> </span>
<span></span>
<span><span class='va'>gradient_line_data</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span></span>
<span>  index <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>1</span>, length.out <span class='op'>=</span> <span class='va'>num_segmentos</span><span class='op'>)</span></span>
<span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span></span>
<span>    x_start <span class='op'>=</span> <span class='fl'>10</span><span class='op'>^</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/Log.html'>log10</a></span><span class='op'>(</span><span class='va'>x_inicio</span><span class='op'>)</span> <span class='op'>+</span> <span class='va'>index</span> <span class='op'>*</span> <span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/Log.html'>log10</a></span><span class='op'>(</span><span class='va'>x_fin</span><span class='op'>)</span> <span class='op'>-</span> <span class='fu'><a href='https://rdrr.io/r/base/Log.html'>log10</a></span><span class='op'>(</span><span class='va'>x_inicio</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>,</span>
<span>    x_end <span class='op'>=</span> <span class='fl'>10</span><span class='op'>^</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/Log.html'>log10</a></span><span class='op'>(</span><span class='va'>x_inicio</span><span class='op'>)</span> <span class='op'>+</span> <span class='op'>(</span><span class='va'>index</span> <span class='op'>+</span> <span class='fl'>1</span><span class='op'>/</span><span class='va'>num_segmentos</span><span class='op'>)</span> <span class='op'>*</span> <span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/Log.html'>log10</a></span><span class='op'>(</span><span class='va'>x_fin</span><span class='op'>)</span> <span class='op'>-</span> <span class='fu'><a href='https://rdrr.io/r/base/Log.html'>log10</a></span><span class='op'>(</span><span class='va'>x_inicio</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span></span>
<span>  <span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>x_end <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/Extremes.html'>pmin</a></span><span class='op'>(</span><span class='va'>x_end</span>, <span class='va'>x_fin</span><span class='op'>)</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> </span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>y_val <span class='op'>=</span> <span class='va'>y_constante</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>index</span> <span class='op'>&lt;</span> <span class='fl'>1</span><span class='op'>)</span> </span></code></pre>
</div>
</div>
<p>Similar to the horizontal axis, we construct a segmented dataset for the
<strong>vertical axis</strong>. This line represents the threshold of the Odds Ratio.
By dividing the line into 100 segments, we can apply a color gradient
that transitions from the bottom to the top of the chart.</p>
<p>We calculate a <code>mid_point</code> variable to ensure the color transition is
centered around the horizontal baseline, providing a visual anchor that
distinguishes between increased and decreased odds of emigration.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>y_inicio</span> <span class='op'>&lt;-</span> <span class='fl'>0.52</span></span>
<span><span class='va'>y_fin</span> <span class='op'>&lt;-</span> <span class='fl'>1.95</span></span>
<span><span class='va'>x_constante</span> <span class='op'>&lt;-</span> <span class='fl'>1</span></span>
<span></span>
<span><span class='va'>num_segmentos</span> <span class='op'>&lt;-</span> <span class='fl'>100</span></span>
<span></span>
<span><span class='va'>vertical_axis_data</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span></span>
<span>  index <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>1</span>, length.out <span class='op'>=</span> <span class='va'>num_segmentos</span><span class='op'>)</span></span>
<span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span></span>
<span>    y_start <span class='op'>=</span> <span class='va'>y_inicio</span> <span class='op'>+</span> <span class='va'>index</span> <span class='op'>*</span> <span class='op'>(</span><span class='va'>y_fin</span> <span class='op'>-</span> <span class='va'>y_inicio</span><span class='op'>)</span>,</span>
<span>    y_end <span class='op'>=</span> <span class='va'>y_inicio</span> <span class='op'>+</span> <span class='op'>(</span><span class='va'>index</span> <span class='op'>+</span> <span class='fl'>1</span><span class='op'>/</span><span class='va'>num_segmentos</span><span class='op'>)</span> <span class='op'>*</span> <span class='op'>(</span><span class='va'>y_fin</span> <span class='op'>-</span> <span class='va'>y_inicio</span><span class='op'>)</span></span>
<span>  <span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>y_end <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/Extremes.html'>pmin</a></span><span class='op'>(</span><span class='va'>y_end</span>, <span class='va'>y_fin</span><span class='op'>)</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>mid_point <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/MathFun.html'>abs</a></span><span class='op'>(</span><span class='va'>index</span> <span class='op'>-</span> <span class='fl'>0.5</span><span class='op'>)</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> </span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>x_val <span class='op'>=</span> <span class='va'>x_constante</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>index</span> <span class='op'>&lt;</span> <span class='fl'>1</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<h3 id="first-visualization-construction">First Visualization Construction</h3>
<p>Finally, we assemble the first part of the visualization. The code is
structured in layers to ensure that structural elements like the
<strong>significance zones</strong> and <strong>reference lines</strong> are placed behind the
data points. We use a logarithmic transformation for both axes to
represent the statistical nature of the data accurately.</p>
<p>The chart includes several custom features:</p>
<ul>
<li><p><strong>Blue Striped Zone</strong>: Highlights the area where results are not
statistically significant (p &gt; 0.05).</p></li>
<li><p><strong>Custom Arrows</strong>: Gradient-colored arrows represent the direction
of statistical significance and the magnitude of the Odds Ratio.</p></li>
<li><p><strong>Segmented Labels</strong>: Using <code>geom_shadowtext</code> to ensure country
names are readable against the background and other data points.</p></li>
</ul>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>p</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='va'>data_countries_m</span>, <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>P_Value</span>, y <span class='op'>=</span> <span class='va'>OR</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='co'># 1. Coordinate Scales</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_continuous.html'>scale_x_continuous</a></span><span class='op'>(</span></span>
<span>    breaks <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span>, <span class='fl'>0.5</span>, <span class='fl'>0.1</span>, <span class='fl'>0.05</span>, <span class='fl'>0.01</span>, <span class='fl'>0.001</span><span class='op'>)</span>, </span>
<span>    labels <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"1.000"</span>, <span class='st'>"0.500"</span>, <span class='st'>"0.100"</span>, <span class='st'>"0.050"</span>, <span class='st'>"0.010"</span>, <span class='st'>"0.001\np-value"</span><span class='op'>)</span>,</span>
<span>    trans <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"log10"</span>, <span class='st'>"reverse"</span><span class='op'>)</span></span>
<span>  <span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_continuous.html'>scale_y_continuous</a></span><span class='op'>(</span></span>
<span>    breaks <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0.5</span>, <span class='fl'>0.667</span>, <span class='fl'>1</span>, <span class='fl'>1.5</span>, <span class='fl'>2</span><span class='op'>)</span>,</span>
<span>    labels <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"\u00BD"</span>, <span class='st'>"2/3"</span>, <span class='st'>"1"</span>, <span class='st'>"1\u00BD"</span>, <span class='st'>"2"</span><span class='op'>)</span>,</span>
<span>    trans <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"log10"</span><span class='op'>)</span>,</span>
<span>    sec.axis <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/sec_axis.html'>sec_axis</a></span><span class='op'>(</span><span class='op'>~</span><span class='va'>.</span>, name <span class='op'>=</span> <span class='st'>"Odds ratios"</span>, breaks <span class='op'>=</span> <span class='cn'>NULL</span>, labels <span class='op'>=</span> <span class='cn'>NULL</span><span class='op'>)</span></span>
<span>  <span class='op'>)</span> <span class='op'>+</span></span>
<span></span>
<span>  <span class='co'># 2.1. Blue Striped Non-Significant Zone</span></span>
<span>  <span class='fu'><a href='https://trevorldavis.com/R/ggpattern/reference/geom-docs.html'>geom_rect_pattern</a></span><span class='op'>(</span></span>
<span>    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='fl'>0.5</span>, xmax <span class='op'>=</span> <span class='fl'>1.0</span>, ymin <span class='op'>=</span> <span class='fl'>0.5</span>, ymax <span class='op'>=</span> <span class='fl'>2.0</span><span class='op'>)</span>,</span>
<span>    fill <span class='op'>=</span> <span class='st'>"white"</span>, pattern <span class='op'>=</span> <span class='st'>'stripe'</span>, pattern_colour <span class='op'>=</span> <span class='st'>"#D6EFF5"</span>,</span>
<span>    pattern_density <span class='op'>=</span> <span class='fl'>0.00001</span>, pattern_spacing <span class='op'>=</span> <span class='fl'>0.0065</span>,      </span>
<span>    colour <span class='op'>=</span> <span class='st'>"transparent"</span>, inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span></span>
<span>  <span class='op'>)</span> <span class='op'>+</span></span>
<span></span>
<span>  <span class='co'># 2.2. Horizontal Reference Lines (Y=0.5, Y=1.5, Y=2/3)  </span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_segment.html'>geom_segment</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>1.0</span>, y <span class='op'>=</span> <span class='fl'>0.5</span>, xend <span class='op'>=</span> <span class='fl'>0.001</span>, yend <span class='op'>=</span> <span class='fl'>0.5</span><span class='op'>)</span>, </span>
<span>               colour <span class='op'>=</span> <span class='va'>color_background_shade</span>, linewidth <span class='op'>=</span> <span class='fl'>0.33</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_segment.html'>geom_segment</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>1.0</span>, y <span class='op'>=</span> <span class='fl'>1.5</span>, xend <span class='op'>=</span> <span class='fl'>0.001</span>, yend <span class='op'>=</span> <span class='fl'>1.5</span><span class='op'>)</span>,</span>
<span>               colour <span class='op'>=</span> <span class='va'>color_background_shade</span>, linewidth <span class='op'>=</span> <span class='fl'>0.33</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_segment.html'>geom_segment</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>1.0</span>, y <span class='op'>=</span> <span class='va'>y_two_thirds</span>, xend <span class='op'>=</span> <span class='fl'>0.001</span>, yend <span class='op'>=</span> <span class='va'>y_two_thirds</span><span class='op'>)</span>,</span>
<span>               colour <span class='op'>=</span> <span class='va'>color_background_shade</span>, linewidth <span class='op'>=</span> <span class='fl'>0.33</span><span class='op'>)</span> <span class='op'>+</span> </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_segment.html'>geom_segment</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>1.0</span>, y <span class='op'>=</span> <span class='fl'>2</span>, xend <span class='op'>=</span> <span class='fl'>0.047</span>, yend <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span>,</span>
<span>               colour <span class='op'>=</span> <span class='va'>color_background_shade</span>, linewidth <span class='op'>=</span> <span class='fl'>0.33</span><span class='op'>)</span> <span class='op'>+</span> </span>
<span></span>
<span>  <span class='co'># 2.3. Vertical Cut-off Lines (X=0.5 and X=0.05)  </span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_segment.html'>geom_segment</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>0.5</span>, y <span class='op'>=</span> <span class='fl'>0.49</span>, xend <span class='op'>=</span> <span class='fl'>0.5</span>, yend <span class='op'>=</span> <span class='fl'>2.0</span><span class='op'>)</span>,</span>
<span>               linetype <span class='op'>=</span> <span class='st'>"dashed"</span>, colour <span class='op'>=</span> <span class='va'>color_vertical</span>, linewidth <span class='op'>=</span> <span class='fl'>0.33</span><span class='op'>)</span> <span class='op'>+</span>   </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_segment.html'>geom_segment</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>0.05</span>, y <span class='op'>=</span> <span class='fl'>0.49</span>, xend <span class='op'>=</span> <span class='fl'>0.05</span>, yend <span class='op'>=</span> <span class='fl'>2.3</span><span class='op'>)</span>,</span>
<span>               linetype <span class='op'>=</span> <span class='st'>"dashed"</span>, colour <span class='op'>=</span> <span class='va'>color_vertical</span>, linewidth <span class='op'>=</span> <span class='fl'>0.33</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='co'># 2.4. Gradient Axis Components</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_segment.html'>geom_segment</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>vertical_axis_data</span>,</span>
<span>               <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>x_val</span>, y <span class='op'>=</span> <span class='va'>y_start</span>, xend <span class='op'>=</span> <span class='va'>x_val</span>, yend <span class='op'>=</span> <span class='va'>y_end</span>,</span>
<span>                   alpha <span class='op'>=</span> <span class='va'>mid_point</span><span class='op'>)</span>, colour <span class='op'>=</span> <span class='st'>"#343132"</span>, </span>
<span>               linewidth <span class='op'>=</span> <span class='fl'>0.5</span>, inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_alpha.html'>scale_alpha_continuous</a></span><span class='op'>(</span>range <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0.1</span>, <span class='fl'>1</span><span class='op'>)</span>, guide <span class='op'>=</span> <span class='st'>"none"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='co'># Y-Axis Arrows</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_segment.html'>geom_segment</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>1</span>, y <span class='op'>=</span> <span class='fl'>1.8</span>, xend <span class='op'>=</span> <span class='fl'>1</span>, yend <span class='op'>=</span> <span class='fl'>1.95</span><span class='op'>)</span>, </span>
<span>               colour <span class='op'>=</span> <span class='st'>"#343132"</span>, linewidth <span class='op'>=</span> <span class='fl'>0.5</span>,</span>
<span>               arrow <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/arrow.html'>arrow</a></span><span class='op'>(</span>angle <span class='op'>=</span> <span class='fl'>17</span>, length <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/unit.html'>unit</a></span><span class='op'>(</span><span class='fl'>0.4</span>, <span class='st'>"cm"</span><span class='op'>)</span>, </span>
<span>                             ends <span class='op'>=</span> <span class='st'>"last"</span>, type <span class='op'>=</span> <span class='st'>"closed"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_segment.html'>geom_segment</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>1</span>, y <span class='op'>=</span> <span class='fl'>0.56</span>, xend <span class='op'>=</span> <span class='fl'>1</span>, yend <span class='op'>=</span> <span class='fl'>0.52</span><span class='op'>)</span>, </span>
<span>               colour <span class='op'>=</span> <span class='st'>"#343132"</span>, linewidth <span class='op'>=</span> <span class='fl'>0.5</span>,</span>
<span>               arrow <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/arrow.html'>arrow</a></span><span class='op'>(</span>angle <span class='op'>=</span> <span class='fl'>17</span>, length <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/unit.html'>unit</a></span><span class='op'>(</span><span class='fl'>0.4</span>, <span class='st'>"cm"</span><span class='op'>)</span>, </span>
<span>                             ends <span class='op'>=</span> <span class='st'>"last"</span>, type <span class='op'>=</span> <span class='st'>"closed"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='co'># X-Axis Gradient Arrow</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_segment.html'>geom_segment</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>gradient_line_data</span>,</span>
<span>               <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>x_start</span>, y <span class='op'>=</span> <span class='va'>y_val</span>, xend <span class='op'>=</span> <span class='va'>x_end</span>, yend <span class='op'>=</span> <span class='va'>y_val</span>,</span>
<span>                   colour <span class='op'>=</span> <span class='va'>index</span><span class='op'>)</span>, linewidth <span class='op'>=</span> <span class='fl'>0.5</span>,</span>
<span>               arrow <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/arrow.html'>arrow</a></span><span class='op'>(</span>angle <span class='op'>=</span> <span class='fl'>17</span>, length <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/unit.html'>unit</a></span><span class='op'>(</span><span class='fl'>0.4</span>, <span class='st'>"cm"</span><span class='op'>)</span>,</span>
<span>                             ends <span class='op'>=</span> <span class='st'>"last"</span>, type <span class='op'>=</span> <span class='st'>"closed"</span><span class='op'>)</span>, </span>
<span>               inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>+</span></span>
<span></span>
<span><span class='co'># 3.1. National Data Points</span></span>
<span><span class='op'>{</span></span>
<span>    <span class='fu'><a href='https://rdrr.io/r/base/lapply.html'>lapply</a></span><span class='op'>(</span><span class='va'>remittance_groups</span>, <span class='kw'>function</span><span class='op'>(</span><span class='va'>group</span><span class='op'>)</span> <span class='op'>{</span></span>
<span>      <span class='va'>data_grp</span> <span class='op'>&lt;-</span> <span class='va'>data_countries_m</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>Remittance_Group</span> <span class='op'>==</span> <span class='va'>group</span><span class='op'>)</span></span>
<span>      <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_point.html'>geom_point</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>data_grp</span>, <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>size <span class='op'>=</span> <span class='va'>Population</span>, fill <span class='op'>=</span> <span class='va'>Remittance_Group</span><span class='op'>)</span>,</span>
<span>                 shape <span class='op'>=</span> <span class='fl'>21</span>, colour <span class='op'>=</span> <span class='va'>border_palette</span><span class='op'>[</span><span class='va'>group</span><span class='op'>]</span>, </span>
<span>                 alpha <span class='op'>=</span> <span class='fl'>0.9</span>, show.legend <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span></span>
<span>    <span class='op'>}</span><span class='op'>)</span></span>
<span>  <span class='op'>}</span> <span class='op'>+</span></span>
<span>  </span>
<span><span class='co'># 3.2. Sub-national Data Layer (Nigeria)</span></span>
<span>  <span class='fu'><a href='https://ggforce.data-imaginist.com/reference/geom_ellipse.html'>geom_ellipse</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>data_subgroups_m</span>,</span>
<span>               <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x0 <span class='op'>=</span> <span class='va'>P_Value</span>, y0 <span class='op'>=</span> <span class='va'>OR</span>, a <span class='op'>=</span> <span class='va'>Population</span> <span class='op'>/</span> <span class='fl'>580000</span>,</span>
<span>                   b <span class='op'>=</span> <span class='va'>Population</span> <span class='op'>/</span> <span class='fl'>2750000</span>, angle <span class='op'>=</span> <span class='fl'>0</span><span class='op'>)</span>,</span>
<span>               linetype <span class='op'>=</span> <span class='st'>"dotted"</span>, colour <span class='op'>=</span> <span class='st'>"#C1C2C4"</span>, fill <span class='op'>=</span> <span class='cn'>NA</span>, </span>
<span>               linewidth <span class='op'>=</span> <span class='fl'>0.3</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='co'># 4. Labeling with background shadows for readability</span></span>
<span>  <span class='fu'><a href='https://rdrr.io/pkg/shadowtext/man/geom_shadowtext.html'>geom_shadowtext</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>label_positions_countries</span>, </span>
<span>                  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>label_x</span>, y <span class='op'>=</span> <span class='va'>label_y</span>, label <span class='op'>=</span> <span class='va'>Country</span>, </span>
<span>                      fontface <span class='op'>=</span> <span class='va'>text_style</span>, hjust <span class='op'>=</span> <span class='va'>h_align</span>, vjust <span class='op'>=</span> <span class='va'>v_align</span><span class='op'>)</span>,</span>
<span>                  bg.color <span class='op'>=</span> <span class='st'>"white"</span>, bg.r <span class='op'>=</span> <span class='fl'>0.15</span>, color <span class='op'>=</span> <span class='st'>"black"</span>,</span>
<span>                  lineheight <span class='op'>=</span> <span class='fl'>0.15</span>, family <span class='op'>=</span> <span class='st'>"Barlow"</span>, size <span class='op'>=</span> <span class='fl'>13</span>,            </span>
<span>                  show.legend <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='fu'><a href='https://rdrr.io/pkg/shadowtext/man/geom_shadowtext.html'>geom_shadowtext</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>data_subgroups_m</span>, </span>
<span>                  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>label_x</span>, y <span class='op'>=</span> <span class='va'>label_y</span>, label <span class='op'>=</span> <span class='va'>Country_label</span>, </span>
<span>                      fontface <span class='op'>=</span> <span class='va'>text_style</span>, hjust <span class='op'>=</span> <span class='va'>h_align</span>, vjust <span class='op'>=</span> <span class='va'>v_align</span><span class='op'>)</span>,</span>
<span>                  bg.color <span class='op'>=</span> <span class='st'>"white"</span>, bg.r <span class='op'>=</span> <span class='fl'>0.15</span>, color <span class='op'>=</span> <span class='st'>"#C1C2C4"</span>,</span>
<span>                  lineheight <span class='op'>=</span> <span class='fl'>0.15</span>, family <span class='op'>=</span> <span class='st'>"Barlow"</span>, size <span class='op'>=</span> <span class='fl'>14</span>,            </span>
<span>                  show.legend <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>+</span></span>
<span></span>
<span>  <span class='co'># 5. Aesthetic Scales</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_fill_manual</a></span><span class='op'>(</span>values <span class='op'>=</span> <span class='va'>remittance_colors</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_gradient.html'>scale_colour_gradient</a></span><span class='op'>(</span>low <span class='op'>=</span> <span class='st'>"#D7D8D9"</span>, high <span class='op'>=</span> <span class='st'>"#6195B5"</span>, guide <span class='op'>=</span> <span class='st'>"none"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_size.html'>scale_size_continuous</a></span><span class='op'>(</span>range <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>2</span>, <span class='fl'>20</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span></span>
<span></span>
<span>  <span class='co'># 6. Global Theme</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_minimal</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span>panel.grid <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<h3 id="editorial-annotations">Editorial Annotations</h3>
<p>To transform the statistical chart into a narrative visualization, we
add layers of <strong>rich text annotations</strong>. These notes provide crucial
context, such as explaining the real-world meaning of an Odds Ratio and
highlighting specific national cases like Tanzania or Nigeria.</p>
<p>We use the <code>ggtext</code> package’s <code>geom_richtext</code> to allow for HTML styling
(like <strong>bolding</strong>) within the annotations. Finally, we apply a clean,
minimal theme, removing standard grid lines to focus the reader’s
attention on the data points and the editorial insights.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>text_1</span> <span class='op'>&lt;-</span> <span class='st'>"An odds ratio of 2 means the odds of considering&lt;br&gt;emigrating are</span></span>
<span><span class='st'>twice as high for someone who has&lt;br&gt;experienced hunger as for a person of the</span></span>
<span><span class='st'>same&lt;br&gt;age and gender who has not experienced hunger."</span></span>
<span></span>
<span><span class='va'>text_2</span> <span class='op'>&lt;-</span> <span class='st'>"The effect of hunger on&lt;br&gt;considerations of emigrating is&lt;br&gt;almost</span></span>
<span><span class='st'>identical in Côte d'Ivoire&lt;br&gt;and Mali, and the statistical&lt;br&gt;certainty is very</span></span>
<span><span class='st'>similar. But in&lt;br&gt;the past, the effect in Côte d'Ivoire&lt;br&gt;would have been</span></span>
<span><span class='st'>dismissed as&lt;br&gt;'not statistically significant'."</span></span>
<span></span>
<span><span class='va'>text_3</span> <span class='op'>&lt;-</span> <span class='st'>"The statistical certainty of the results is&lt;br&gt;much higher in Togo</span></span>
<span><span class='st'>than in Mali and Côte&lt;br&gt;d'Ivoire, although the size of the effect is&lt;br&gt;similar.</span></span>
<span><span class='st'>This is mainly because the number&lt;br&gt;of people who consider emigration is</span></span>
<span><span class='st'>much&lt;br&gt;smaller in the other two countries."</span></span>
<span></span>
<span><span class='va'>text_4</span> <span class='op'>&lt;-</span> <span class='st'>"Lesotho and The Gambia are small&lt;br&gt;countries where emigration is</span></span>
<span><span class='st'>very&lt;br&gt;widespread. People who experience&lt;br&gt;hunger are much more likely</span></span>
<span><span class='st'>that&lt;br&gt;others to think about leaving."</span></span>
<span></span>
<span><span class='va'>text_5</span> <span class='op'>&lt;-</span> <span class='st'>"Greater &lt;b&gt;statistical certainty&lt;/b&gt;&lt;br&gt;that hunger makes a</span></span>
<span><span class='st'>difference&lt;br&gt;to considerations of emigrating"</span></span>
<span>  </span>
<span><span class='va'>text_6</span> <span class='op'>&lt;-</span> <span class='st'>"Nigeria is a huge and diverse country. Splitting it&lt;br&gt;into the urban</span></span>
<span><span class='st'>and rural population shows that&lt;br&gt;hunger makes city dwellers much less likely</span></span>
<span><span class='st'>to&lt;br&gt;consider emigrating, while it hardly makes a&lt;br&gt;difference in rural areas."</span></span>
<span>  </span>
<span><span class='va'>text_7</span> <span class='op'>&lt;-</span> <span class='st'>"Emigration is remarkably rare in Tanzania,&lt;br&gt;whch might explain why</span></span>
<span><span class='st'>it is very unlikely&lt;br&gt;to be on the mind of people who experience&lt;br&gt;hunger.</span></span>
<span><span class='st'>Moreover, the survey sample was&lt;br&gt;large, which further boosts&lt;br&gt;statistical</span></span>
<span><span class='st'>certainty."</span> </span>
<span></span>
<span><span class='va'>text_8</span> <span class='op'>&lt;-</span> <span class='st'>"Conventional&lt;br&gt;(but criticized&lt;br&gt;and abandoned)&lt;br&gt;cut-off for</span></span>
<span><span class='st'>what&lt;br&gt;is 'statistically&lt;br&gt;significant'"</span></span>
<span></span>
<span><span class='va'>text_9</span> <span class='op'>&lt;-</span> <span class='st'>"Just as likely to&lt;br&gt;be a coincidence&lt;br&gt;as to reflect an&lt;br&gt;actual</span></span>
<span><span class='st'>relationship&lt;br&gt;between hunger&lt;br&gt;and emigration"</span></span>
<span></span>
<span><span class='va'>text_10</span> <span class='op'>&lt;-</span> <span class='st'>"In many countries,&lt;br&gt;hunger appers&lt;br&gt;to make no&lt;br&gt;difference</span></span>
<span><span class='st'>to&lt;br&gt;considerations of&lt;br&gt;emigrating. The&lt;br&gt;slight effects we see&lt;br&gt;might be</span></span>
<span><span class='st'>purely&lt;br&gt;coincidental."</span></span></code></pre>
</div>
</div>
<h3 id="graph-with-surronding-text">Graph with surronding text</h3>
<p>To move beyond a standard scatter plot, we utilize the <code>ggtext</code> package.
The function <strong><code>geom_richtext()</code></strong> is essential here because it allows
us to render HTML and Markdown. This is what enables the use of tags
like <code>&lt;br&gt;</code> for line breaks and <code>&lt;b&gt;</code> for bolding specific words within
the annotations, creating a sophisticated typographic flow.</p>
<p>Additionally, we use <strong><code>coord_cartesian(clip = "off")</code></strong>. By default,
ggplot2 cuts off any element (like labels or lines) that extends outside
the plot area. By turning “clipping” off, we allow our annotations and
axis arrows to breathe and occupy the margins, which is a common
technique in high-end data journalism to maximize the use of white
space.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>p_main</span> <span class='op'>&lt;-</span> <span class='va'>p</span> <span class='op'>+</span></span>
<span>  </span>
<span><span class='co'># Title and subtitle</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span></span>
<span>    title <span class='op'>=</span> <span class='st'>"Does hunger make Africans want to move abroad?"</span>,</span>
<span>    subtitle <span class='op'>=</span> <span class='st'>"Extensive survey data shows that there is not a simple answer."</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='co'># Texts</span></span>
<span>  <span class='fu'><a href='https://wilkelab.org/ggtext/reference/geom_richtext.html'>geom_richtext</a></span><span class='op'>(</span></span>
<span>    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>1.5</span>, y <span class='op'>=</span> <span class='fl'>1.7</span>, </span>
<span>        label <span class='op'>=</span> <span class='st'>"Hunger&lt;br&gt;makes people&lt;br&gt;&lt;b&gt;more likely&lt;/b&gt;&lt;br&gt;to</span></span>
<span><span class='st'>        consider&lt;br&gt;emigrating"</span><span class='op'>)</span>,</span>
<span>    hjust <span class='op'>=</span> <span class='fl'>1</span>, vjust <span class='op'>=</span> <span class='fl'>0.5</span>,</span>
<span>    size <span class='op'>=</span> <span class='fl'>24</span>, lineheight <span class='op'>=</span> <span class='fl'>0.2</span>,</span>
<span>    fill <span class='op'>=</span> <span class='cn'>NA</span>, color <span class='op'>=</span> <span class='st'>"black"</span>, label.color <span class='op'>=</span> <span class='cn'>NA</span>,</span>
<span>    family <span class='op'>=</span> <span class='st'>"Barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='fu'><a href='https://wilkelab.org/ggtext/reference/geom_richtext.html'>geom_richtext</a></span><span class='op'>(</span></span>
<span>    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>1.5</span>, y <span class='op'>=</span> <span class='fl'>0.6</span>, </span>
<span>        label <span class='op'>=</span> <span class='st'>"Hunger&lt;br&gt;makes people&lt;br&gt;&lt;b&gt;less likely&lt;/b&gt;&lt;br&gt;to</span></span>
<span><span class='st'>        consider&lt;br&gt;emigrating"</span><span class='op'>)</span>,</span>
<span>    hjust <span class='op'>=</span> <span class='fl'>1</span>, vjust <span class='op'>=</span> <span class='fl'>0.5</span>,</span>
<span>    size <span class='op'>=</span> <span class='fl'>24</span>, lineheight <span class='op'>=</span> <span class='fl'>0.2</span>,</span>
<span>    fill <span class='op'>=</span> <span class='cn'>NA</span>, color <span class='op'>=</span> <span class='st'>"black"</span>, label.color <span class='op'>=</span> <span class='cn'>NA</span>,</span>
<span>    family <span class='op'>=</span> <span class='st'>"Barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>    <span class='fu'><a href='https://wilkelab.org/ggtext/reference/geom_richtext.html'>geom_richtext</a></span><span class='op'>(</span></span>
<span>    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>4.5</span>, y <span class='op'>=</span> <span class='fl'>1.15</span><span class='op'>)</span>, </span>
<span>    label <span class='op'>=</span> <span class='va'>text_10</span>,</span>
<span>    hjust <span class='op'>=</span> <span class='fl'>0</span>,            </span>
<span>    vjust <span class='op'>=</span> <span class='fl'>1</span>,             </span>
<span>    size <span class='op'>=</span> <span class='fl'>18</span>,            </span>
<span>    lineheight <span class='op'>=</span> <span class='fl'>0.05</span>,</span>
<span>    fill <span class='op'>=</span> <span class='cn'>NA</span>, </span>
<span>    label.color <span class='op'>=</span> <span class='cn'>NA</span>,</span>
<span>    color <span class='op'>=</span> <span class='st'>"gray70"</span>,      </span>
<span>    family <span class='op'>=</span> <span class='st'>"Caveat"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='fu'><a href='https://wilkelab.org/ggtext/reference/geom_richtext.html'>geom_richtext</a></span><span class='op'>(</span></span>
<span>    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>1</span>, y <span class='op'>=</span> <span class='fl'>2.25</span><span class='op'>)</span>, </span>
<span>    label <span class='op'>=</span> <span class='va'>text_1</span>,</span>
<span>    hjust <span class='op'>=</span> <span class='fl'>0</span>,            </span>
<span>    vjust <span class='op'>=</span> <span class='fl'>1</span>,             </span>
<span>    size <span class='op'>=</span> <span class='fl'>18</span>,            </span>
<span>    lineheight <span class='op'>=</span> <span class='fl'>0.05</span>,</span>
<span>    fill <span class='op'>=</span> <span class='cn'>NA</span>, </span>
<span>    label.color <span class='op'>=</span> <span class='cn'>NA</span>,</span>
<span>    color <span class='op'>=</span> <span class='st'>"gray70"</span>,      </span>
<span>    family <span class='op'>=</span> <span class='st'>"Caveat"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='fu'><a href='https://wilkelab.org/ggtext/reference/geom_richtext.html'>geom_richtext</a></span><span class='op'>(</span></span>
<span>    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>0.0465</span>, y <span class='op'>=</span> <span class='fl'>2.3</span><span class='op'>)</span>,</span>
<span>    label <span class='op'>=</span> <span class='va'>text_2</span>,</span>
<span>    hjust <span class='op'>=</span> <span class='fl'>0</span>,             </span>
<span>    vjust <span class='op'>=</span> <span class='fl'>1</span>,            </span>
<span>    size <span class='op'>=</span> <span class='fl'>18</span>,            </span>
<span>    lineheight <span class='op'>=</span> <span class='fl'>0.05</span>,</span>
<span>    fill <span class='op'>=</span> <span class='cn'>NA</span>, </span>
<span>    label.color <span class='op'>=</span> <span class='cn'>NA</span>,</span>
<span>    color <span class='op'>=</span> <span class='st'>"gray70"</span>,     </span>
<span>    family <span class='op'>=</span> <span class='st'>"Caveat"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='fu'><a href='https://wilkelab.org/ggtext/reference/geom_richtext.html'>geom_richtext</a></span><span class='op'>(</span></span>
<span>    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>0.0045</span>, y <span class='op'>=</span> <span class='fl'>2.28</span><span class='op'>)</span>,</span>
<span>    label <span class='op'>=</span> <span class='va'>text_3</span>,</span>
<span>    hjust <span class='op'>=</span> <span class='fl'>0</span>,            </span>
<span>    vjust <span class='op'>=</span> <span class='fl'>1</span>,            </span>
<span>    size <span class='op'>=</span> <span class='fl'>18</span>,          </span>
<span>    lineheight <span class='op'>=</span> <span class='fl'>0.05</span>,</span>
<span>    fill <span class='op'>=</span> <span class='cn'>NA</span>, </span>
<span>    label.color <span class='op'>=</span> <span class='cn'>NA</span>,</span>
<span>    color <span class='op'>=</span> <span class='st'>"gray70"</span>, </span>
<span>    family <span class='op'>=</span> <span class='st'>"Caveat"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='fu'><a href='https://wilkelab.org/ggtext/reference/geom_richtext.html'>geom_richtext</a></span><span class='op'>(</span></span>
<span>    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>0.004</span>, y <span class='op'>=</span> <span class='fl'>1.48</span><span class='op'>)</span>,</span>
<span>    label <span class='op'>=</span> <span class='va'>text_4</span>,</span>
<span>    hjust <span class='op'>=</span> <span class='fl'>0</span>,            </span>
<span>    vjust <span class='op'>=</span> <span class='fl'>1</span>,         </span>
<span>    size <span class='op'>=</span> <span class='fl'>18</span>,          </span>
<span>    lineheight <span class='op'>=</span> <span class='fl'>0.05</span>,</span>
<span>    fill <span class='op'>=</span> <span class='cn'>NA</span>, </span>
<span>    label.color <span class='op'>=</span> <span class='cn'>NA</span>,</span>
<span>    color <span class='op'>=</span> <span class='st'>"gray70"</span>,     </span>
<span>    family <span class='op'>=</span> <span class='st'>"Caveat"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='fu'><a href='https://wilkelab.org/ggtext/reference/geom_richtext.html'>geom_richtext</a></span><span class='op'>(</span></span>
<span>    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>0.00132</span>, y <span class='op'>=</span> <span class='fl'>0.853</span><span class='op'>)</span>,</span>
<span>    label <span class='op'>=</span> <span class='va'>text_5</span>,</span>
<span>    hjust <span class='op'>=</span> <span class='fl'>1</span>,</span>
<span>    vjust <span class='op'>=</span> <span class='fl'>0</span>,</span>
<span>    size <span class='op'>=</span> <span class='fl'>24</span>,</span>
<span>    lineheight <span class='op'>=</span> <span class='fl'>0.17</span>,</span>
<span>    fill <span class='op'>=</span> <span class='cn'>NA</span>, </span>
<span>    label.color <span class='op'>=</span> <span class='cn'>NA</span>,</span>
<span>    color <span class='op'>=</span> <span class='st'>"#6195B5"</span>,</span>
<span>    family <span class='op'>=</span> <span class='st'>"Barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='fu'><a href='https://wilkelab.org/ggtext/reference/geom_richtext.html'>geom_richtext</a></span><span class='op'>(</span></span>
<span>    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>0.0094</span>, y <span class='op'>=</span> <span class='fl'>0.66</span><span class='op'>)</span>,</span>
<span>    label <span class='op'>=</span> <span class='va'>text_6</span>,</span>
<span>    hjust <span class='op'>=</span> <span class='fl'>0</span>,</span>
<span>    vjust <span class='op'>=</span> <span class='fl'>0</span>,</span>
<span>    size <span class='op'>=</span> <span class='fl'>18</span>,</span>
<span>    lineheight <span class='op'>=</span> <span class='fl'>0.05</span>,</span>
<span>    fill <span class='op'>=</span> <span class='cn'>NA</span>, </span>
<span>    label.color <span class='op'>=</span> <span class='cn'>NA</span>,</span>
<span>    color <span class='op'>=</span> <span class='st'>"gray70"</span>,</span>
<span>    family <span class='op'>=</span> <span class='st'>"Caveat"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='fu'><a href='https://wilkelab.org/ggtext/reference/geom_richtext.html'>geom_richtext</a></span><span class='op'>(</span></span>
<span>    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>0.007</span>, y <span class='op'>=</span> <span class='fl'>0.55</span><span class='op'>)</span>,</span>
<span>    label <span class='op'>=</span> <span class='va'>text_7</span>,</span>
<span>    hjust <span class='op'>=</span> <span class='fl'>0</span>,</span>
<span>    vjust <span class='op'>=</span> <span class='fl'>0</span>,</span>
<span>    size <span class='op'>=</span> <span class='fl'>18</span>,</span>
<span>    lineheight <span class='op'>=</span> <span class='fl'>0.05</span>,</span>
<span>    fill <span class='op'>=</span> <span class='cn'>NA</span>, </span>
<span>    label.color <span class='op'>=</span> <span class='cn'>NA</span>,</span>
<span>    color <span class='op'>=</span> <span class='st'>"gray70"</span>,</span>
<span>    family <span class='op'>=</span> <span class='st'>"Caveat"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='fu'><a href='https://wilkelab.org/ggtext/reference/geom_richtext.html'>geom_richtext</a></span><span class='op'>(</span></span>
<span>    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>0.048</span>, y <span class='op'>=</span> <span class='fl'>0.51</span><span class='op'>)</span>,</span>
<span>    label <span class='op'>=</span> <span class='va'>text_8</span>,</span>
<span>    hjust <span class='op'>=</span> <span class='fl'>0</span>,</span>
<span>    vjust <span class='op'>=</span> <span class='fl'>0</span>,</span>
<span>    size <span class='op'>=</span> <span class='fl'>19</span>,</span>
<span>    lineheight <span class='op'>=</span> <span class='fl'>0.18</span>,</span>
<span>    fill <span class='op'>=</span> <span class='cn'>NA</span>, </span>
<span>    label.color <span class='op'>=</span> <span class='cn'>NA</span>,</span>
<span>    color <span class='op'>=</span> <span class='st'>"#6195B5"</span>,</span>
<span>    family <span class='op'>=</span> <span class='st'>"Barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>    <span class='fu'><a href='https://wilkelab.org/ggtext/reference/geom_richtext.html'>geom_richtext</a></span><span class='op'>(</span></span>
<span>    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>0.48</span>, y <span class='op'>=</span> <span class='fl'>0.51</span><span class='op'>)</span>,</span>
<span>    label <span class='op'>=</span> <span class='va'>text_9</span>,</span>
<span>    hjust <span class='op'>=</span> <span class='fl'>0</span>,</span>
<span>    vjust <span class='op'>=</span> <span class='fl'>0</span>,</span>
<span>    size <span class='op'>=</span> <span class='fl'>19</span>,</span>
<span>    lineheight <span class='op'>=</span> <span class='fl'>0.18</span>,</span>
<span>    fill <span class='op'>=</span> <span class='cn'>NA</span>, </span>
<span>    label.color <span class='op'>=</span> <span class='cn'>NA</span>,</span>
<span>    color <span class='op'>=</span> <span class='st'>"#6195B5"</span>,</span>
<span>    family <span class='op'>=</span> <span class='st'>"Barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/coord_cartesian.html'>coord_cartesian</a></span><span class='op'>(</span>clip <span class='op'>=</span> <span class='st'>"off"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span></span>
<span>    plot.margin <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>margin</a></span><span class='op'>(</span>t <span class='op'>=</span> <span class='fl'>5</span>, r <span class='op'>=</span> <span class='fl'>20</span>, b <span class='op'>=</span> <span class='fl'>5</span>, l <span class='op'>=</span> <span class='fl'>40</span>, unit <span class='op'>=</span> <span class='st'>"pt"</span><span class='op'>)</span>,</span>
<span>    plot.title <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>120</span>, face <span class='op'>=</span> <span class='st'>"bold"</span>, family <span class='op'>=</span> <span class='st'>"Barlow"</span><span class='op'>)</span>,</span>
<span>    plot.subtitle <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>80</span>, family <span class='op'>=</span> <span class='st'>"Barlow"</span><span class='op'>)</span>,</span>
<span>    axis.line <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>,</span>
<span>    axis.ticks <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>,</span>
<span>    panel.grid <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>,</span>
<span>    axis.text.x <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>35</span>, margin <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>margin</a></span><span class='op'>(</span>t <span class='op'>=</span> <span class='op'>-</span><span class='fl'>20</span>, unit <span class='op'>=</span> <span class='st'>"pt"</span><span class='op'>)</span><span class='op'>)</span>,</span>
<span>    axis.text.y <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>35</span>, margin <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>margin</a></span><span class='op'>(</span>r <span class='op'>=</span> <span class='op'>-</span><span class='fl'>20</span>, unit <span class='op'>=</span> <span class='st'>"pt"</span><span class='op'>)</span><span class='op'>)</span>,</span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/guides.html'>guides</a></span><span class='op'>(</span></span>
<span>    fill <span class='op'>=</span> <span class='st'>"none"</span>,  </span>
<span>    size <span class='op'>=</span> <span class='st'>"none"</span>, </span>
<span>    colour <span class='op'>=</span> <span class='st'>"none"</span><span class='op'>)</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<h3 id="creating-the-legends">Creating the legends</h3>
<p>While our graphic already displays the core findings, the <strong>bottom
panel</strong> of our infographic serves as the “decoding key.” Instead of
relying on standard, automatically generated legends, we build custom
visual components to ensure they match the original illustration.</p>
<p>This legend system is divided into four strategic modules:</p>
<ol type="1">
<li><p><strong>Remittance Intensity</strong>: A vertical scale that maps colors to the
share of people that declare receiving remittances, providing a
cross-national economic context.</p></li>
<li><p><strong>Sample Size and Statistical Confidence</strong>: A guide explaining how
font styles (bold, italic) relate to the number of respondents.</p></li>
<li><p><strong>Population Scaling</strong>: A custom semi-circle legend that allows the
reader to estimate country sizes at a glance.</p></li>
<li><p><strong>Academic Sourcing and Notes</strong>: A dedicated space for transparency,
detailing the data origins, survey questions, and credits.</p></li>
</ol>
<p>To achieve this layout, we use the <code>patchwork</code> package to combine these
independent plots with the main chart, ensuring that all typographic and
color elements remain perfectly synchronized across the entire document.</p>
<h4 id="remittances">Remittances</h4>
<p>In this chunk, we manually construct the legend using a dedicated
dataframe. Key steps include:</p>
<ul>
<li><p><strong>Coordinate Mapping</strong>: We define precise <code>y</code> positions for each
categorical level to ensure equal vertical spacing.</p></li>
<li><p><strong>Identity Scales</strong>: By using <code>scale_fill_identity()</code> and
<code>scale_color_identity()</code>, we tell R to use the hex codes stored
directly in our dataframe, maintaining a perfect match with the
country bubbles in the main chart.</p></li>
<li><p><strong>Visual Separators</strong>: We add small horizontal segments between
categories to enhance scannability.</p></li>
<li><p><strong>Contextual Commentary</strong>: We use the handwritten-style <strong>Caveat</strong>
font to add a brief sociological explanation of why remittances
matter in the context of food insecurity and migration.</p></li>
</ul>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://dplyr.tidyverse.org'>dplyr</a></span><span class='op'>)</span></span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://stringr.tidyverse.org'>stringr</a></span><span class='op'>)</span></span>
<span></span>
<span><span class='co'># 1. DATAFRAME FOR THE LEGEND</span></span>
<span><span class='va'>remittance_data</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span></span>
<span>  percent <span class='op'>=</span> <span class='va'>remittance_groups_levels</span>,</span>
<span>  y <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/length.html'>length</a></span><span class='op'>(</span><span class='va'>remittance_groups_levels</span><span class='op'>)</span><span class='op'>:</span><span class='fl'>1</span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>remittance_data</span> <span class='op'>&lt;-</span> <span class='va'>remittance_data</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span></span>
<span>    fill_color <span class='op'>=</span> <span class='va'>remittance_colors</span><span class='op'>[</span><span class='va'>percent</span><span class='op'>]</span>, </span>
<span>    border_color <span class='op'>=</span> <span class='va'>border_colors</span><span class='op'>[</span><span class='va'>percent</span><span class='op'>]</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span></span>
<span>    fill_color <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/character.html'>as.character</a></span><span class='op'>(</span><span class='va'>fill_color</span><span class='op'>)</span>,</span>
<span>    border_color <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/character.html'>as.character</a></span><span class='op'>(</span><span class='va'>border_color</span><span class='op'>)</span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>remittance_groups_levels</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"&gt; 40%"</span>, <span class='st'>"35-40%"</span>, <span class='st'>"30-35%"</span>, <span class='st'>"25-30%"</span>, <span class='st'>"20-25%"</span>, </span>
<span>                               <span class='st'>"15-20%"</span>, <span class='st'>"10-15%"</span>, <span class='st'>"&lt; 10%"</span><span class='op'>)</span></span>
<span></span>
<span><span class='co'>## SETTING AESTHETICS OF THE LEGEND</span></span>
<span><span class='va'>y_step</span> <span class='op'>&lt;-</span> <span class='fl'>0.31</span></span>
<span><span class='va'>num_items</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/length.html'>length</a></span><span class='op'>(</span><span class='va'>remittance_groups_levels</span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>remittance_data</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span></span>
<span>  percent_raw <span class='op'>=</span> <span class='va'>remittance_groups_levels</span>,</span>
<span>  y <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span><span class='op'>(</span>from <span class='op'>=</span> <span class='va'>num_items</span> <span class='op'>*</span> <span class='va'>y_step</span>, </span>
<span>          to <span class='op'>=</span> <span class='va'>y_step</span>, </span>
<span>          by <span class='op'>=</span> <span class='op'>-</span><span class='va'>y_step</span><span class='op'>)</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span></span>
<span>  percent_label <span class='op'>=</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/case_when.html'>case_when</a></span><span class='op'>(</span></span>
<span>    <span class='va'>percent_raw</span> <span class='op'>==</span> <span class='st'>"&gt; 40%"</span> <span class='op'>~</span> <span class='st'>"40%"</span>,</span>
<span>    <span class='va'>percent_raw</span> <span class='op'>==</span> <span class='st'>"35-40%"</span> <span class='op'>~</span> <span class='st'>"35%"</span>,</span>
<span>    <span class='va'>percent_raw</span> <span class='op'>==</span> <span class='st'>"30-35%"</span> <span class='op'>~</span> <span class='st'>"30%"</span>,</span>
<span>    <span class='va'>percent_raw</span> <span class='op'>==</span> <span class='st'>"25-30%"</span> <span class='op'>~</span> <span class='st'>"25%"</span>,</span>
<span>    <span class='va'>percent_raw</span> <span class='op'>==</span> <span class='st'>"20-25%"</span> <span class='op'>~</span> <span class='st'>"20%"</span>,</span>
<span>    <span class='va'>percent_raw</span> <span class='op'>==</span> <span class='st'>"15-20%"</span> <span class='op'>~</span> <span class='st'>"15%"</span>,</span>
<span>    <span class='va'>percent_raw</span> <span class='op'>==</span> <span class='st'>"10-15%"</span> <span class='op'>~</span> <span class='st'>"10%"</span>,</span>
<span>    <span class='cn'>TRUE</span> <span class='op'>~</span> <span class='cn'>NA_character_</span><span class='op'>)</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span></span>
<span>    fill_color <span class='op'>=</span> <span class='va'>remittance_colors</span><span class='op'>[</span><span class='va'>percent_raw</span><span class='op'>]</span>, </span>
<span>    border_color <span class='op'>=</span> <span class='va'>border_colors</span><span class='op'>[</span><span class='va'>percent_raw</span><span class='op'>]</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span></span>
<span>    fill_color <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/character.html'>as.character</a></span><span class='op'>(</span><span class='va'>fill_color</span><span class='op'>)</span>,</span>
<span>    border_color <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/character.html'>as.character</a></span><span class='op'>(</span><span class='va'>border_color</span><span class='op'>)</span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>line_data</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span></span>
<span>  y <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span><span class='op'>(</span>from <span class='op'>=</span> <span class='op'>(</span><span class='va'>num_items</span> <span class='op'>-</span> <span class='fl'>1</span><span class='op'>)</span> <span class='op'>*</span> <span class='va'>y_step</span> <span class='op'>+</span> <span class='va'>y_step</span> <span class='op'>/</span> <span class='fl'>2</span>, </span>
<span>          to <span class='op'>=</span> <span class='va'>y_step</span> <span class='op'>*</span> <span class='fl'>1.5</span>,                             </span>
<span>          by <span class='op'>=</span> <span class='op'>-</span><span class='va'>y_step</span><span class='op'>)</span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>explanatory_text</span> <span class='op'>&lt;-</span> <span class='st'>"If more people receive\nmoney transfers from\nrelatives or</span></span>
<span><span class='st'>friends\nabroad, it probably\nmeans that emigration\nis more widespread—\nand</span></span>
<span><span class='st'>thereby more\nrelatable as a possible\nway of hardship. If\nemigration is rare,</span></span>
<span><span class='st'>it\nmight be more of\nanelite phenomenon,\nbeyond the imagination\nof those who</span></span>
<span><span class='st'>experience\nhunger."</span></span>
<span></span>
<span><span class='co'># CREATION GRAPH</span></span>
<span></span>
<span><span class='va'>p_legend_remittance</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='co'># Separator segments</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_segment.html'>geom_segment</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>line_data</span>, <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>0.193</span>, y <span class='op'>=</span> <span class='va'>y</span> <span class='op'>+</span> <span class='fl'>0.6</span>, xend <span class='op'>=</span> <span class='fl'>0.35</span>,</span>
<span>                                     yend <span class='op'>=</span> <span class='va'>y</span> <span class='op'>+</span> <span class='fl'>0.6</span><span class='op'>)</span>, linewidth <span class='op'>=</span> <span class='fl'>0.2</span>,</span>
<span>               color <span class='op'>=</span> <span class='st'>"black"</span>, inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='co'># Legend points</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_point.html'>geom_point</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>remittance_data</span>, <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>0.3</span>, y <span class='op'>=</span> <span class='va'>y</span><span class='op'>+</span><span class='fl'>0.6</span>, fill <span class='op'>=</span> <span class='va'>fill_color</span>,</span>
<span>                                         color <span class='op'>=</span> <span class='va'>border_color</span><span class='op'>)</span>, shape <span class='op'>=</span> <span class='fl'>21</span>,</span>
<span>             size <span class='op'>=</span> <span class='fl'>3.5</span>, linewidth <span class='op'>=</span> <span class='fl'>0.5</span><span class='op'>)</span> <span class='op'>+</span> </span>
<span>  </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>remittance_data</span>, <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>0.05</span>, y <span class='op'>=</span> <span class='va'>y</span> <span class='op'>+</span> <span class='fl'>0.46</span>,</span>
<span>                                        label <span class='op'>=</span> <span class='va'>percent_label</span><span class='op'>)</span>, hjust <span class='op'>=</span> <span class='fl'>0</span>,</span>
<span>            size <span class='op'>=</span> <span class='fl'>11</span>, family <span class='op'>=</span> <span class='st'>"Barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='co'># Title</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>0.05</span>, y <span class='op'>=</span> <span class='fl'>3.8</span>, label <span class='op'>=</span> <span class='st'>"Share of people\nwho</span></span>
<span><span class='st'>                receive\nremittances"</span><span class='op'>)</span>, </span>
<span>            vjust<span class='op'>=</span> <span class='fl'>0.7</span>, hjust <span class='op'>=</span> <span class='fl'>0</span>, lineheight <span class='op'>=</span> <span class='fl'>0.18</span>, fontface <span class='op'>=</span> <span class='st'>"bold"</span>,</span>
<span>            size <span class='op'>=</span> <span class='fl'>11</span>, family <span class='op'>=</span> <span class='st'>"Barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_segment.html'>geom_segment</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>0.05</span>, y <span class='op'>=</span> <span class='fl'>3.35</span>, xend <span class='op'>=</span> <span class='fl'>1</span>, yend <span class='op'>=</span> <span class='fl'>3.35</span><span class='op'>)</span>, vjust <span class='op'>=</span> <span class='fl'>0</span>,</span>
<span>               linewidth <span class='op'>=</span> <span class='fl'>0.4</span>, color <span class='op'>=</span> <span class='st'>"black"</span><span class='op'>)</span> <span class='op'>+</span> </span>
<span>  </span>
<span>  <span class='co'># Descriptive sidebar</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>0.43</span>, y <span class='op'>=</span> <span class='fl'>1.8</span>, label <span class='op'>=</span> <span class='va'>explanatory_text</span><span class='op'>)</span>, </span>
<span>            hjust <span class='op'>=</span> <span class='fl'>0</span>, vjust <span class='op'>=</span> <span class='fl'>0.6</span>, lineheight <span class='op'>=</span> <span class='fl'>0.13</span>, fontface<span class='op'>=</span> <span class='st'>"plain"</span>,</span>
<span>            size <span class='op'>=</span> <span class='fl'>16</span>, color <span class='op'>=</span> <span class='st'>"gray50"</span>, family <span class='op'>=</span> <span class='st'>"Caveat"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span></span>
<span>  <span class='co'># Structure</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_identity.html'>scale_fill_identity</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span> </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_identity.html'>scale_color_identity</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span> </span>
<span>  </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/coord_cartesian.html'>coord_cartesian</a></span><span class='op'>(</span></span>
<span>    xlim <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>1.2</span><span class='op'>)</span>, </span>
<span>    ylim <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>4.2</span><span class='op'>)</span>, </span>
<span>    clip <span class='op'>=</span> <span class='st'>"off"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_void</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span> </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span></span>
<span>    plot.margin <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>margin</a></span><span class='op'>(</span><span class='fl'>0.0</span>, <span class='fl'>0</span>, <span class='fl'>0</span>, <span class='fl'>0</span>, unit <span class='op'>=</span> <span class='st'>"cm"</span><span class='op'>)</span>,</span>
<span>    plot.title <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>margin <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>margin</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>0</span>, <span class='fl'>0</span>, <span class='fl'>0</span>, unit <span class='op'>=</span> <span class='st'>"pt"</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<h4 id="country-label">Country Label</h4>
<p>The next module explains the relationship between <strong>sample size and
typographic encoding</strong>. In this section, we provide a key for the reader
to understand that the different font weights used for the country names
in the scatter plot are not merely decorative but represent the
statistical robustness of the data.</p>
<p>In this chunk, we define a legend for the <strong>number of respondents</strong>. We
use three distinct <code>fontface</code> settings:</p>
<ul>
<li><p><strong>Bold Italic</strong>: Highest sample sizes (2200-2400), representing the
greatest statistical certainty.</p></li>
<li><p><strong>Bold</strong>: Mid-range sample sizes (1500-1800).</p></li>
<li><p><strong>Plain</strong>: Standard sample sizes (1100-1200).</p></li>
</ul>
<p>By layering multiple <code>geom_text</code> calls at specific <code>y</code> coordinates, we
create a structured list that functions as a manual legend. An
accompanying sidebar provides a comparative example (Uganda vs. Ghana)
to explain why a larger sample size improves confidence in the results.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'># 1. Defining explanatory text</span></span>
<span><span class='va'>text_label</span> <span class='op'>&lt;-</span> <span class='st'>"Larger samples yield\ngreater statistical\ncertainty. So,</span></span>
<span><span class='st'>although\nthe effect of hunger is\nstronger in Uganda\nthan in Ghana, we can\nbe</span></span>
<span><span class='st'>more confident that\nthere really is an\neffect in Ghana, simply\nbecause the</span></span>
<span><span class='st'>survey in\nGhana had twice as\nmany respondents."</span></span>
<span></span>
<span><span class='co'># 2. Building the respondents legend plot</span></span>
<span><span class='va'>p_respondents</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span></span>
<span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>0.05</span>, y <span class='op'>=</span> <span class='fl'>4.05</span>, label <span class='op'>=</span> <span class='st'>"Number of\nrespondents\nin the</span></span>
<span><span class='st'>              survey\n(sample size)"</span><span class='op'>)</span>, </span>
<span>          vjust <span class='op'>=</span> <span class='fl'>0.7</span>, hjust <span class='op'>=</span> <span class='fl'>0</span>, lineheight <span class='op'>=</span> <span class='fl'>0.2</span>, fontface <span class='op'>=</span> <span class='st'>"bold"</span>, size <span class='op'>=</span> <span class='fl'>11</span>,</span>
<span>          family <span class='op'>=</span> <span class='st'>"Barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='co'># Separator Line</span></span>
<span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_segment.html'>geom_segment</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>0.05</span>, y <span class='op'>=</span> <span class='fl'>3.4</span>, xend <span class='op'>=</span> <span class='fl'>1</span>, yend <span class='op'>=</span> <span class='fl'>3.4</span><span class='op'>)</span>, </span>
<span>             linewidth <span class='op'>=</span> <span class='fl'>0.4</span>, color <span class='op'>=</span> <span class='st'>"black"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span></span>
<span>  <span class='co'># Typographic samples (Font face mapping)</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>0.05</span>, y <span class='op'>=</span> <span class='fl'>3.2</span>, label <span class='op'>=</span> <span class='st'>"Country"</span><span class='op'>)</span>, </span>
<span>          vjust <span class='op'>=</span> <span class='fl'>0.7</span>, hjust <span class='op'>=</span> <span class='fl'>0</span>, lineheight <span class='op'>=</span> <span class='fl'>0.2</span>, fontface <span class='op'>=</span> <span class='st'>"bold.italic"</span>,</span>
<span>          size <span class='op'>=</span> <span class='fl'>11</span>, family <span class='op'>=</span> <span class='st'>"Barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>0.05</span>, y <span class='op'>=</span> <span class='fl'>3.02</span>, label <span class='op'>=</span> <span class='st'>"Country"</span><span class='op'>)</span>, </span>
<span>          vjust <span class='op'>=</span> <span class='fl'>0.7</span>, hjust <span class='op'>=</span> <span class='fl'>0</span>, lineheight <span class='op'>=</span> <span class='fl'>0.2</span>, fontface <span class='op'>=</span> <span class='st'>"bold"</span>,</span>
<span>          size <span class='op'>=</span> <span class='fl'>11</span>, family <span class='op'>=</span> <span class='st'>"Barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>      <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>0.05</span>, y <span class='op'>=</span> <span class='fl'>2.82</span>, label <span class='op'>=</span> <span class='st'>"Country"</span><span class='op'>)</span>, </span>
<span>          vjust <span class='op'>=</span> <span class='fl'>0.7</span>, hjust <span class='op'>=</span> <span class='fl'>0</span>, lineheight <span class='op'>=</span> <span class='fl'>0.2</span>, fontface <span class='op'>=</span> <span class='st'>"plain"</span>,</span>
<span>          size <span class='op'>=</span> <span class='fl'>11</span>, family <span class='op'>=</span> <span class='st'>"Barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='co'># Sample size numeric labels</span></span>
<span>      <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>0.33</span>, y <span class='op'>=</span> <span class='fl'>3.2</span>, label <span class='op'>=</span> <span class='st'>"2200-2400"</span><span class='op'>)</span>, </span>
<span>          vjust <span class='op'>=</span> <span class='fl'>0.7</span>, hjust <span class='op'>=</span> <span class='fl'>0</span>, lineheight <span class='op'>=</span> <span class='fl'>0.2</span>, fontface <span class='op'>=</span> <span class='st'>"plain"</span>,</span>
<span>          size <span class='op'>=</span> <span class='fl'>11</span>, family <span class='op'>=</span> <span class='st'>"Barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>      <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>0.33</span>, y <span class='op'>=</span> <span class='fl'>3.02</span>, label <span class='op'>=</span> <span class='st'>"1500-1800"</span><span class='op'>)</span>, </span>
<span>          vjust <span class='op'>=</span> <span class='fl'>0.7</span>, hjust <span class='op'>=</span> <span class='fl'>0</span>, lineheight <span class='op'>=</span> <span class='fl'>0.2</span>, fontface <span class='op'>=</span> <span class='st'>"plain"</span>,</span>
<span>          size <span class='op'>=</span> <span class='fl'>11</span>, family <span class='op'>=</span> <span class='st'>"Barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>       <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>0.33</span>, y <span class='op'>=</span> <span class='fl'>2.82</span>, label <span class='op'>=</span> <span class='st'>"1100-1200"</span><span class='op'>)</span>, </span>
<span>          vjust <span class='op'>=</span> <span class='fl'>0.7</span>, hjust <span class='op'>=</span> <span class='fl'>0</span>, lineheight <span class='op'>=</span> <span class='fl'>0.2</span>, fontface <span class='op'>=</span> <span class='st'>"plain"</span>,</span>
<span>          size <span class='op'>=</span> <span class='fl'>11</span>, family <span class='op'>=</span> <span class='st'>"Barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='co'># Side explanatory annotation </span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>0.05</span>, y <span class='op'>=</span> <span class='fl'>3.3</span>, label <span class='op'>=</span> <span class='va'>text_label</span><span class='op'>)</span>, </span>
<span>            hjust <span class='op'>=</span> <span class='fl'>0</span>, vjust <span class='op'>=</span> <span class='fl'>1.4</span>, lineheight <span class='op'>=</span> <span class='fl'>0.13</span>, fontface<span class='op'>=</span> <span class='st'>"plain"</span>,</span>
<span>            size <span class='op'>=</span> <span class='fl'>16</span>, color <span class='op'>=</span> <span class='st'>"gray50"</span>, family <span class='op'>=</span> <span class='st'>"Caveat"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_identity.html'>scale_fill_identity</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span> </span>
<span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_identity.html'>scale_color_identity</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span> </span>
<span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/coord_cartesian.html'>coord_cartesian</a></span><span class='op'>(</span></span>
<span>  xlim <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>1.2</span><span class='op'>)</span>, </span>
<span>  ylim <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>4.2</span><span class='op'>)</span>,</span>
<span>  clip <span class='op'>=</span> <span class='st'>"off"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_void</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span> </span>
<span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span></span>
<span>  plot.margin <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>margin</a></span><span class='op'>(</span><span class='fl'>0.0</span>, <span class='fl'>0</span>, <span class='fl'>0</span>, <span class='fl'>0</span>, unit <span class='op'>=</span> <span class='st'>"cm"</span><span class='op'>)</span>,</span>
<span>  plot.title <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>margin <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>margin</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>0</span>, <span class='fl'>0</span>, <span class='fl'>0</span>, unit <span class='op'>=</span> <span class='st'>"pt"</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<h4 id="country-size">Country Size</h4>
<p>The third module of the footer panel addresses <strong>Population Scaling</strong>.
In the main scatter plot, the size of each bubble corresponds to the
country’s population. To help the reader calibrate this scale, we
implement a custom-built <strong>semi-circle legend</strong>.</p>
<p>Unlike standard legends, this component is created by calculating
trigonometric paths to draw concentric semi-circles. This design is
space-efficient and follows high-end data journalism aesthetics.</p>
<ul>
<li><p><strong>Trigonometric Mapping</strong>: We use a sequence of angles (theta) to
generate the coordinates for each semi-circle, which are then
rendered using <code>geom_polygon</code>.</p></li>
<li><p><strong>Scale Synchronization</strong>: The <code>scale_factor</code> is carefully
calibrated to match the <code>range</code> used in the main plot’s
<code>scale_size_continuous</code>, ensuring the visual representation is
accurate.</p></li>
<li><p><strong>Neutral Palette</strong>: We use a monochromatic gray scale for the
legend to avoid visual competition with the remittance color coding.</p></li>
</ul>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'># 1. Defining the scaling parameters and explanatory notes</span></span>
<span><span class='va'>scale_factor</span> <span class='op'>&lt;-</span> <span class='fl'>0.1385</span></span>
<span><span class='va'>explanatory_text_size</span> <span class='op'>&lt;-</span> <span class='st'>"Population size has no\nimpact on</span></span>
<span><span class='st'>statistical\nuncertainty, but it\nmight be that people in\nsmall countries</span></span>
<span><span class='st'>are\nmore inclined to see\nemigration as a\npathway out of hunger."</span></span>
<span></span>
<span><span class='va'>x_lim</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='op'>-</span><span class='fl'>1.5</span>, <span class='fl'>1.2</span><span class='op'>)</span></span>
<span><span class='va'>y_lim</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>4.2</span><span class='op'>)</span></span>
<span></span>
<span><span class='co'># 2. Generating the semi-circle geometry</span></span>
<span><span class='va'>radios</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>4.3</span>, <span class='fl'>3</span>, <span class='fl'>1.5</span>, <span class='fl'>0.6</span><span class='op'>)</span></span>
<span><span class='va'>offset_x</span> <span class='op'>&lt;-</span> <span class='op'>-</span><span class='fl'>0.85</span></span>
<span><span class='va'>offset_y</span> <span class='op'>&lt;-</span> <span class='fl'>2.24</span></span>
<span></span>
<span><span class='co'># 3. setting colors_semi_circles</span></span>
<span><span class='va'>colors_semi_circles</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span></span>
<span>  <span class='st'>"0.6"</span>   <span class='op'>=</span> <span class='st'>"#A9A9AB"</span>,</span>
<span>  <span class='st'>"1.5"</span>  <span class='op'>=</span> <span class='st'>"#B7B8B9"</span>,</span>
<span>  <span class='st'>"3"</span>  <span class='op'>=</span> <span class='st'>"#CACBCC"</span>,</span>
<span>  <span class='st'>"4.3"</span> <span class='op'>=</span> <span class='st'>"#E2E2E3"</span></span>
<span><span class='op'>)</span></span>
<span></span>
<span><span class='co'># 4. Semicircles</span></span>
<span><span class='va'>datos</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/do.call.html'>do.call</a></span><span class='op'>(</span><span class='va'>rbind</span>, <span class='fu'><a href='https://rdrr.io/r/base/lapply.html'>lapply</a></span><span class='op'>(</span><span class='va'>radios</span>, <span class='kw'>function</span><span class='op'>(</span><span class='va'>r</span><span class='op'>)</span> <span class='op'>{</span></span>
<span>  <span class='va'>theta</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span><span class='op'>(</span><span class='op'>-</span><span class='va'>pi</span><span class='op'>/</span><span class='fl'>2</span>, <span class='va'>pi</span><span class='op'>/</span><span class='fl'>2</span>, length.out <span class='op'>=</span> <span class='fl'>300</span><span class='op'>)</span></span>
<span>  <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span></span>
<span>    x <span class='op'>=</span> <span class='va'>offset_x</span> <span class='op'>-</span> <span class='op'>(</span><span class='va'>r</span> <span class='op'>*</span> <span class='va'>scale_factor</span><span class='op'>)</span> <span class='op'>*</span> <span class='fu'><a href='https://rdrr.io/r/base/Trig.html'>cos</a></span><span class='op'>(</span><span class='va'>theta</span><span class='op'>)</span>,</span>
<span>    y <span class='op'>=</span> <span class='va'>offset_y</span> <span class='op'>+</span> <span class='op'>(</span><span class='va'>r</span> <span class='op'>*</span> <span class='va'>scale_factor</span><span class='op'>)</span> <span class='op'>*</span> <span class='fu'><a href='https://rdrr.io/r/base/Trig.html'>sin</a></span><span class='op'>(</span><span class='va'>theta</span><span class='op'>)</span>,</span>
<span>    r <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span><span class='op'>(</span><span class='va'>r</span>, levels <span class='op'>=</span> <span class='va'>radios</span><span class='op'>)</span></span>
<span>  <span class='op'>)</span></span>
<span><span class='op'>}</span><span class='op'>)</span><span class='op'>)</span></span>
<span>  </span>
<span><span class='co'># 5. Plotting the custom legend</span></span>
<span><span class='va'>p_legend_size</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='va'>datos</span>, <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>y</span>, group <span class='op'>=</span> <span class='va'>r</span>, fill <span class='op'>=</span> <span class='va'>r</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_polygon.html'>geom_polygon</a></span><span class='op'>(</span>color <span class='op'>=</span> <span class='st'>"#8F8D8E"</span>, linewidth <span class='op'>=</span> <span class='fl'>0.2</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span></span>
<span>    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='op'>-</span><span class='fl'>1.5</span>, y <span class='op'>=</span> <span class='fl'>3.5</span>, label <span class='op'>=</span> <span class='st'>"Population"</span><span class='op'>)</span>,</span>
<span>    hjust <span class='op'>=</span> <span class='fl'>0</span>, fontface <span class='op'>=</span> <span class='st'>"bold"</span>, family <span class='op'>=</span> <span class='st'>"Barlow"</span>, size <span class='op'>=</span> <span class='fl'>13</span></span>
<span>  <span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_segment.html'>geom_segment</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='op'>-</span><span class='fl'>1.5</span>, y <span class='op'>=</span> <span class='fl'>3.34</span>, xend <span class='op'>=</span> <span class='fl'>0.5</span>, yend <span class='op'>=</span> <span class='fl'>3.34</span><span class='op'>)</span>, </span>
<span>             linewidth <span class='op'>=</span> <span class='fl'>0.4</span>, color <span class='op'>=</span> <span class='st'>"black"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_segment.html'>geom_segment</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='op'>-</span><span class='fl'>0.85</span>, y <span class='op'>=</span> <span class='fl'>2.798</span>, xend <span class='op'>=</span> <span class='op'>-</span><span class='fl'>0.47</span>, yend <span class='op'>=</span> <span class='fl'>2.798</span><span class='op'>)</span>, </span>
<span>             linewidth <span class='op'>=</span> <span class='fl'>0.22</span>, color <span class='op'>=</span> <span class='st'>"#8F8D8E"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='op'>-</span><span class='fl'>0.45</span>, y <span class='op'>=</span> <span class='fl'>2.88</span>, label <span class='op'>=</span> <span class='st'>"200 million"</span><span class='op'>)</span>, </span>
<span>          vjust <span class='op'>=</span> <span class='fl'>0.7</span>, hjust <span class='op'>=</span> <span class='fl'>0</span>, lineheight <span class='op'>=</span> <span class='fl'>0.2</span>, fontface <span class='op'>=</span> <span class='st'>"plain"</span>,</span>
<span>          size <span class='op'>=</span> <span class='fl'>11</span>, family <span class='op'>=</span> <span class='st'>"Barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_segment.html'>geom_segment</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='op'>-</span><span class='fl'>0.85</span>, y <span class='op'>=</span> <span class='fl'>2.621</span>, xend <span class='op'>=</span> <span class='op'>-</span><span class='fl'>0.47</span>, yend <span class='op'>=</span> <span class='fl'>2.621</span><span class='op'>)</span>, </span>
<span>             linewidth <span class='op'>=</span> <span class='fl'>0.22</span>, color <span class='op'>=</span> <span class='st'>"#8F8D8E"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='op'>-</span><span class='fl'>0.445</span>, y <span class='op'>=</span> <span class='fl'>2.636</span>, label <span class='op'>=</span> <span class='st'>"80 million"</span><span class='op'>)</span>, </span>
<span>          vjust <span class='op'>=</span> <span class='fl'>0.7</span>, hjust <span class='op'>=</span> <span class='fl'>0</span>, lineheight <span class='op'>=</span> <span class='fl'>0.2</span>, fontface <span class='op'>=</span> <span class='st'>"plain"</span>,</span>
<span>          size <span class='op'>=</span> <span class='fl'>11</span>, family <span class='op'>=</span> <span class='st'>"Barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_segment.html'>geom_segment</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='op'>-</span><span class='fl'>0.85</span>, y <span class='op'>=</span> <span class='fl'>2.412</span>, xend <span class='op'>=</span> <span class='op'>-</span><span class='fl'>0.47</span>, yend <span class='op'>=</span> <span class='fl'>2.412</span><span class='op'>)</span>, </span>
<span>             linewidth <span class='op'>=</span> <span class='fl'>0.22</span>, color <span class='op'>=</span> <span class='st'>"#8F8D8E"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='op'>-</span><span class='fl'>0.445</span>, y <span class='op'>=</span> <span class='fl'>2.46</span>, label <span class='op'>=</span> <span class='st'>"10 million"</span><span class='op'>)</span>, </span>
<span>          vjust <span class='op'>=</span> <span class='fl'>0.7</span>, hjust <span class='op'>=</span> <span class='fl'>0</span>, lineheight <span class='op'>=</span> <span class='fl'>0.2</span>, fontface <span class='op'>=</span> <span class='st'>"plain"</span>,</span>
<span>          size <span class='op'>=</span> <span class='fl'>11</span>, family <span class='op'>=</span> <span class='st'>"Barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_segment.html'>geom_segment</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='op'>-</span><span class='fl'>0.85</span>, y <span class='op'>=</span> <span class='fl'>2.206</span>, xend <span class='op'>=</span> <span class='op'>-</span><span class='fl'>0.47</span>, yend <span class='op'>=</span> <span class='fl'>2.206</span><span class='op'>)</span>, </span>
<span>             linewidth <span class='op'>=</span> <span class='fl'>0.22</span>, color <span class='op'>=</span> <span class='st'>"#8F8D8E"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='op'>-</span><span class='fl'>0.445</span>, y <span class='op'>=</span> <span class='fl'>2.24</span>, label <span class='op'>=</span> <span class='st'>"1 million"</span><span class='op'>)</span>, </span>
<span>          vjust <span class='op'>=</span> <span class='fl'>0.7</span>, hjust <span class='op'>=</span> <span class='fl'>0</span>, lineheight <span class='op'>=</span> <span class='fl'>0.2</span>, fontface <span class='op'>=</span> <span class='st'>"plain"</span>,</span>
<span>          size <span class='op'>=</span> <span class='fl'>11</span>, family <span class='op'>=</span> <span class='st'>"Barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span></span>
<span>    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='op'>-</span><span class='fl'>1.5</span>, y <span class='op'>=</span> <span class='fl'>1.2</span>, label <span class='op'>=</span> <span class='va'>explanatory_text_size</span><span class='op'>)</span>,</span>
<span>    hjust <span class='op'>=</span> <span class='fl'>0</span>, vjust <span class='op'>=</span> <span class='fl'>1</span>, lineheight <span class='op'>=</span> <span class='fl'>0.15</span>, </span>
<span>    fontface <span class='op'>=</span> <span class='st'>"italic"</span>, size <span class='op'>=</span> <span class='fl'>11</span>, color <span class='op'>=</span> <span class='st'>"gray50"</span>, family <span class='op'>=</span> <span class='st'>"Caveat"</span></span>
<span>  <span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_fill_manual</a></span><span class='op'>(</span>values <span class='op'>=</span> <span class='va'>colors_semi_circles</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/coord_fixed.html'>coord_equal</a></span><span class='op'>(</span></span>
<span>    xlim <span class='op'>=</span> <span class='va'>x_lim</span>,</span>
<span>    ylim <span class='op'>=</span> <span class='va'>y_lim</span>,</span>
<span>    expand <span class='op'>=</span> <span class='cn'>FALSE</span></span>
<span>  <span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_void</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span>legend.position <span class='op'>=</span> <span class='st'>"none"</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<h4 id="sources">Sources</h4>
<p>The final component of our infographic footer is the <strong>Sources and
Notes</strong> section. Transparency in data journalism is vital, especially
when dealing with statistical models like logit regressions and
sensitive survey data regarding food insecurity and migration.</p>
<p>This module provides the necessary academic and technical context for
the entire visualization. It details the <strong>Afrobarometer Round 7</strong>
origin, the specific survey question IDs (Q68A and Q8D), and the
regression controls used (age and gender).</p>
<p>By creating this as a separate <code>ggplot</code> object, we can treat the
metadata as a design element, ensuring that long strings of text are
wrapped and positioned to balance the visual weight of the other three
legend modules.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'># 1. Defining the technical and academic metadata</span></span>
<span><span class='va'>text_sources</span> <span class='op'>&lt;-</span> <span class='st'>"See jorgencarling.org/2024/12/31/hunger-and-migration for a full</span></span>
<span><span class='st'>explanation.\n\nData source: Afrobarometer Round 7. Data collected in 2019 (the</span></span>
<span><span class='st'>most recent year for\nwhich data on considerations of emigration are available.)</span></span>
<span><span class='st'>Question formulations:\nQ68A 'How much,if at all, have you considered to moving</span></span>
<span><span class='st'>to another country to live?'\n('A lot': 1; Other non-missing answers: 0).</span></span>
<span><span class='st'>Q8A'Over the past year, how often, if ever,\nhave you or anyone in your family</span></span>
<span><span class='st'>gone without enough food to eat? ('Never': 0; Other\nnon-missing answers:</span></span>
<span><span class='st'>1).\n\nRegression analysis: logit regression using Stata's presets for survey</span></span>
<span><span class='st'>data analysis.\nAge and gender are included as controls.\n\nCredits: Data</span></span>
<span><span class='st'>analysis and visualization by Jørgen Carling, 2024. License: CC-BY.\nCreated in</span></span>
<span><span class='st'>conjunction with the project Future Migration as Present Fact (FUMI),\nfunded by</span></span>
<span><span class='st'>the European Research Council, grant agreement n° 819227, and carried\nout at</span></span>
<span><span class='st'>the PRIO Migration Centre. See prio.org/fumi."</span></span>
<span></span>
<span><span class='co'># 2. Building the sources plot</span></span>
<span><span class='va'>p_sources</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span></span>
<span></span>
<span>  <span class='co'># Section Title</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>0</span>, y <span class='op'>=</span> <span class='fl'>3.6</span>, label <span class='op'>=</span> <span class='st'>"Sources and notes"</span><span class='op'>)</span>, </span>
<span>          vjust <span class='op'>=</span> <span class='fl'>0.7</span>, hjust <span class='op'>=</span> <span class='fl'>0</span>, lineheight <span class='op'>=</span> <span class='fl'>0.2</span>, fontface <span class='op'>=</span> <span class='st'>"bold"</span>, size <span class='op'>=</span> <span class='fl'>11</span>, family <span class='op'>=</span> <span class='st'>"Barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='co'># Structural Separator</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_segment.html'>geom_segment</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>0</span>, y <span class='op'>=</span> <span class='fl'>3.4</span>, xend <span class='op'>=</span> <span class='fl'>1.15</span>, yend <span class='op'>=</span> <span class='fl'>3.4</span><span class='op'>)</span>, </span>
<span>             linewidth <span class='op'>=</span> <span class='fl'>0.4</span>, color <span class='op'>=</span> <span class='st'>"black"</span><span class='op'>)</span> <span class='op'>+</span> </span>
<span>  </span>
<span>  <span class='co'># Metadata Body</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>0</span>, y <span class='op'>=</span> <span class='fl'>3.1</span>, label <span class='op'>=</span> <span class='va'>text_sources</span><span class='op'>)</span>,</span>
<span>          vjust <span class='op'>=</span> <span class='fl'>1</span>, </span>
<span>          hjust <span class='op'>=</span> <span class='fl'>0</span>, lineheight <span class='op'>=</span> <span class='fl'>0.2</span>, fontface <span class='op'>=</span> <span class='st'>"plain"</span>, size <span class='op'>=</span> <span class='fl'>9</span>, family <span class='op'>=</span> <span class='st'>"Barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_identity.html'>scale_fill_identity</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span> </span>
<span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_identity.html'>scale_color_identity</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span> </span>
<span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/coord_cartesian.html'>coord_cartesian</a></span><span class='op'>(</span></span>
<span>  xlim <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>1.2</span><span class='op'>)</span>, </span>
<span>  ylim <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>4.2</span><span class='op'>)</span>,</span>
<span>  clip <span class='op'>=</span> <span class='st'>"off"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_void</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span> </span>
<span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span></span>
<span>  plot.margin <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>margin</a></span><span class='op'>(</span><span class='fl'>0.0</span>, <span class='fl'>0</span>, <span class='fl'>0</span>, <span class='fl'>0</span>, unit <span class='op'>=</span> <span class='st'>"cm"</span><span class='op'>)</span>,</span>
<span>  plot.title <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>margin <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>margin</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>0</span>, <span class='fl'>0</span>, <span class='fl'>0</span>, unit <span class='op'>=</span> <span class='st'>"pt"</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<h3 id="combination-and-final-replication-graph">Combination and final replication graph</h3>
<p>To conclude the replciation, we assemble the individual components into
a single, high-resolution infographic. This is achieved using the
<strong><code>patchwork</code></strong> package, which provides an intuitive syntax for
combining multiple <code>ggplot</code> objects into complex layouts.</p>
<p>The assembly follows a hierarchical structure:</p>
<ul>
<li><p><strong>The Bottom Row</strong>: We first group the four legend modules
(<code>p_respondents</code>, <code>p_legend_size</code>, <code>p_legend_remittance</code>, and
<code>p_sources</code>) using the <code>|</code> operator. We use
<code>plot_layout(widths = ...)</code> to manually define the horizontal space
each module occupies, ensuring the source notes have enough width
for readability.</p></li>
<li><p><strong>The Vertical Stack</strong>: Using the <code>/</code> operator, we place the main
scatter plot (<code>p_combined</code>) on top of the newly created bottom row.
We set a <code>heights</code> ratio of <strong>3:1</strong> to give the data visualization
the prominence it deserves while keeping the legends accessible.</p></li>
<li><p><strong>Unified Styling</strong>: The <code>&amp;</code> operator is used to apply theme
adjustments (like margins) across all sub-plots simultaneously,
ensuring a perfectly aligned and professional border for the final
output.</p></li>
</ul>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'># 1. Adjusting margins for the main chart to align with the footer</span></span>
<span><span class='va'>p_combined</span> <span class='op'>&lt;-</span> <span class='va'>p_main</span> <span class='op'>+</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span></span>
<span>    plot.margin <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>margin</a></span><span class='op'>(</span>t <span class='op'>=</span> <span class='fl'>5</span>, r <span class='op'>=</span> <span class='fl'>5</span>, b <span class='op'>=</span> <span class='fl'>5</span>, l <span class='op'>=</span> <span class='fl'>20</span><span class='op'>)</span> <span class='co'># Aumentar 'l' (izquierda)</span></span>
<span><span class='op'>)</span></span>
<span></span>
<span><span class='co'># 2. Assembling the footer row</span></span>
<span><span class='va'>bottom_row_final</span> <span class='op'>&lt;-</span> <span class='op'>(</span><span class='va'>p_respondents</span> <span class='op'>|</span> <span class='va'>p_legend_size</span> <span class='op'>|</span> <span class='va'>p_legend_remittance</span> <span class='op'>|</span> <span class='va'>p_sources</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://patchwork.data-imaginist.com/reference/plot_layout.html'>plot_layout</a></span><span class='op'>(</span>widths <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span></span>
<span>    <span class='fl'>1.73</span>,</span>
<span>    <span class='fl'>1.73</span>,</span>
<span>    <span class='fl'>1.73</span>,  </span>
<span>    <span class='fl'>3.51</span>     </span>
<span>  <span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span></span>
<span>    panel.spacing <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/unit.html'>unit</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='st'>"pt"</span><span class='op'>)</span><span class='op'>)</span></span>
<span></span>
<span><span class='co'># 3. Final vertical composition (Main Chart / Footer)</span></span>
<span><span class='va'>final_plot</span> <span class='op'>&lt;-</span> <span class='va'>p_combined</span> <span class='op'>/</span> <span class='va'>bottom_row_final</span></span>
<span></span>
<span><span class='co'># 4. Final layout scaling and annotation theme</span></span>
<span><span class='va'>final_plot</span> <span class='op'>&lt;-</span> <span class='va'>final_plot</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://patchwork.data-imaginist.com/reference/plot_layout.html'>plot_layout</a></span><span class='op'>(</span>heights <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>3</span>, <span class='fl'>1</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://patchwork.data-imaginist.com/reference/plot_annotation.html'>plot_annotation</a></span><span class='op'>(</span>theme <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span>plot.margin <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>margin</a></span><span class='op'>(</span>t <span class='op'>=</span> <span class='fl'>5</span>, r <span class='op'>=</span> <span class='fl'>5</span>, b <span class='op'>=</span> <span class='fl'>5</span>, l <span class='op'>=</span> <span class='fl'>5</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>&amp;</span> </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span>plot.margin <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>margin</a></span><span class='op'>(</span>t <span class='op'>=</span> <span class='fl'>5</span>, r <span class='op'>=</span> <span class='fl'>5</span>, b <span class='op'>=</span> <span class='fl'>5</span>, l <span class='op'>=</span> <span class='fl'>5</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<figure>
<img src="replication.png" class="external" style="width:100.0%" alt="Replication" />
<figcaption aria-hidden="true">Replication</figcaption>
</figure>
<h2 id="enhancing-visual-clarity-in-complex-survey-data">Enhancing Visual Clarity in Complex Survey Data</h2>
<p>The original visualization provided a foundational look at the
relationship between hunger and migration. However, to transform it into
a publication-ready “Forest Plot,” several strategic design improvements
were implemented to reduce cognitive load and enhance interpretability.</p>
<h4 id="reducing-visual-noise-and-redundancy">1. Reducing Visual Noise and Redundancy</h4>
<ul>
<li><p><strong>Removal of Population Weighting:</strong> The previous version included a
variable related to population size that added unnecessary
complexity. By removing this dimension, the focus shifts entirely to
the <strong>Odds Ratios (OR)</strong> and their statistical significance, which
are the primary drivers of the research question.</p></li>
<li><p><strong>Cleaner Background:</strong> Using a minimal theme with light gridlines
ensures that the data points (the markers) are the focal point, not
the coordinate system.</p></li>
</ul>
<h4 id="implementation-of-a-standardized-forest-plot">2. Implementation of a Standardized Forest Plot</h4>
<ul>
<li><p><strong>Logarithmic Scaling:</strong> The x-axis now utilizes a log scale. This
is statistically superior for Odds Ratios because it treats “less
likely” and “more likely” effects symmetrically around the 1.0 null
line.</p></li>
<li><p><strong>Country Identification:</strong> By reordering countries based on their
coefficients and providing a clear vertical layout, the reader can
instantly recognize which nations show the strongest correlations
without visual scanning fatigue.</p></li>
</ul>
<h4 id="precision-and-uncertainty-error-bars">3. Precision and Uncertainty (Error Bars)</h4>
<ul>
<li><p><strong>95% Confidence Intervals:</strong> Every point is accompanied by explicit
error bars.</p></li>
<li><p><strong>Visual Encoding of Significance:</strong> A dual-tone system was
introduced. Results that are statistically significant are
highlighted in a darker, “high-ink” shade, while non-significant
results (those crossing the 1.0 line) are rendered in a lighter
shade. This allows the viewer to filter out “statistical noise” at a
glance.</p></li>
</ul>
<h4 id="contextual-nuance-the-case-of-nigeria">4. Contextual Nuance: The Case of Nigeria</h4>
<ul>
<li><strong>Disaggregation:</strong> Nigeria is presented separately for urban and
rural areas. Given its massive demographic weight and the sharp
internal differences in migration drivers, this disaggregation
prevents a misleading “national average” and provides a more honest
representation of the data.</li>
</ul>
<h4 id="integrated-annotations-and-legends">5. Integrated Annotations and Legends</h4>
<ul>
<li><strong>Self-Explanatory Design:</strong> Instead of relying on a separate
caption, the legend is integrated into the layout. This includes a
technical explanation of the Odds Ratios and the “Share of people
receiving remittances” (represented by color intensity), making the
graphic a standalone piece of scientific communication.</li>
</ul>
<h3 id="charging-the-required-data">Charging the required data</h3>
<p>As in the replication, we have all results prepared in this other R
document, that contains country with its results for the coefficients as
their confidence intervals.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='kw'><a href='https://rdrr.io/r/base/source.html'>source</a></span><span class='op'>(</span><span class='st'>"alternative_results.R"</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<h3 id="adjustments-for-the-graph">Adjustments for the graph</h3>
<p>In this stage, we focus on <strong>data restructuring</strong> to optimize the visual
hierarchy of the forest plot:</p>
<ul>
<li><p><strong>Logical Reordering:</strong> Countries are no longer listed
alphabetically. Instead, they are reordered by their <strong>Odds Ratio
(OR)</strong> values. This allows the reader to immediately distinguish the
gradient of hunger’s impact across the continent, from the strongest
to the weakest correlations.</p></li>
<li><p><strong>Aesthetic Categorization:</strong> We transformed the continuous
remittance data into discrete groups. This categorization is
essential for the color-coded legend, helping to identify patterns
between external financial support (remittances) and migration
desires more clearly.</p></li>
<li><p><strong>Semantic Labeling:</strong> We defined rich-text labels
(<code>text_more_likely</code> and <code>text_less_likely</code>) to provide clear,
intuitive anchors at the ends of the X-axis. This guides the
reader’s interpretation of the statistical coefficients without
requiring deep prior knowledge of log-scale Odds Ratios.</p></li>
</ul>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'># 1. Data preparation and remittance group assignment</span></span>
<span><span class='va'>alt_data_plot</span> <span class='op'>&lt;-</span> <span class='va'>alt_data_graph</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span></span>
<span>    Remittance_Group <span class='op'>=</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/case_when.html'>case_when</a></span><span class='op'>(</span></span>
<span>      <span class='va'>alt_Remittances</span> <span class='op'>&gt;</span> <span class='fl'>40</span> <span class='op'>~</span> <span class='st'>"&gt; 40%"</span>,</span>
<span>      <span class='va'>alt_Remittances</span> <span class='op'>&gt;</span> <span class='fl'>35</span> <span class='op'>&amp;</span> <span class='va'>alt_Remittances</span> <span class='op'>&lt;=</span> <span class='fl'>40</span> <span class='op'>~</span> <span class='st'>"35-40%"</span>,</span>
<span>      <span class='va'>alt_Remittances</span> <span class='op'>&gt;</span> <span class='fl'>30</span> <span class='op'>&amp;</span> <span class='va'>alt_Remittances</span> <span class='op'>&lt;=</span> <span class='fl'>35</span> <span class='op'>~</span> <span class='st'>"30-35%"</span>,</span>
<span>      <span class='va'>alt_Remittances</span> <span class='op'>&gt;</span> <span class='fl'>25</span> <span class='op'>&amp;</span> <span class='va'>alt_Remittances</span> <span class='op'>&lt;=</span> <span class='fl'>30</span> <span class='op'>~</span> <span class='st'>"25-30%"</span>,</span>
<span>      <span class='va'>alt_Remittances</span> <span class='op'>&gt;</span> <span class='fl'>20</span> <span class='op'>&amp;</span> <span class='va'>alt_Remittances</span> <span class='op'>&lt;=</span> <span class='fl'>25</span> <span class='op'>~</span> <span class='st'>"20-25%"</span>,</span>
<span>      <span class='va'>alt_Remittances</span> <span class='op'>&gt;</span> <span class='fl'>15</span> <span class='op'>&amp;</span> <span class='va'>alt_Remittances</span> <span class='op'>&lt;=</span> <span class='fl'>20</span> <span class='op'>~</span> <span class='st'>"15-20%"</span>,</span>
<span>      <span class='va'>alt_Remittances</span> <span class='op'>&gt;</span> <span class='fl'>10</span> <span class='op'>&amp;</span> <span class='va'>alt_Remittances</span> <span class='op'>&lt;=</span> <span class='fl'>15</span> <span class='op'>~</span> <span class='st'>"10-15%"</span>,</span>
<span>      <span class='va'>alt_Remittances</span> <span class='op'>&lt;=</span> <span class='fl'>10</span> <span class='op'>~</span> <span class='st'>"&lt; 10%"</span>,</span>
<span>      <span class='cn'>TRUE</span> <span class='op'>~</span> <span class='st'>"NA"</span></span>
<span>    <span class='op'>)</span>,</span>
<span>    <span class='co'># Ensure factor levels follow a logical descending order for the legend</span></span>
<span>    Remittance_Group <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span><span class='op'>(</span><span class='va'>Remittance_Group</span>,</span>
<span>                              levels <span class='op'>=</span> <span class='va'>remittance_groups_levels</span><span class='op'>)</span>,</span>
<span>    <span class='co'># Reorder countries based on the Odds Ratio (OR) value to create the</span></span>
<span>    <span class='co'># forest plot structure</span></span>
<span>    Country <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/stats/reorder.factor.html'>reorder</a></span><span class='op'>(</span><span class='va'>Country</span>, <span class='va'>alt_OR</span><span class='op'>)</span></span>
<span>  <span class='op'>)</span></span>
<span></span>
<span><span class='co'># Define descriptive HTML-formatted labels for the plot's X-axis extremes</span></span>
<span><span class='va'>text_more_likely</span> <span class='op'>&lt;-</span> <span class='st'>"Hunger&lt;br&gt;makes people&lt;br&gt;&lt;b&gt;more likely&lt;/b&gt;&lt;br&gt;to</span></span>
<span><span class='st'>consider&lt;br&gt;emigrating"</span></span>
<span><span class='va'>text_less_likely</span> <span class='op'>&lt;-</span> <span class='st'>"Hunger&lt;br&gt;makes people&lt;br&gt;&lt;b&gt;less likely&lt;/b&gt;&lt;br&gt;to</span></span>
<span><span class='st'>consider&lt;br&gt;emigrating"</span></span></code></pre>
</div>
</div>
<h3 id="creation-of-the-main-visualization">Creation of the main visualization</h3>
<p>This chunk represents the core of the visual redesign, where the “Forest
Plot” is meticulously constructed to prioritize statistical clarity:</p>
<ul>
<li><p><strong>Log-Scale Symmetry:</strong> By using <code>scale_x_log10</code>, we ensure that an
Odds Ratio of 0.5 (half as likely) is visually equidistant from the
null line (1.0) as an OR of 2.0 (twice as likely). This prevents the
visual bias common in linear scales where large values appear more
significant than small ones.</p></li>
<li><p><strong>Significance Highlighting:</strong> We implemented a “de-emphasis”
strategy. Results that cross the 1.0 threshold (not statistically
significant) are rendered with higher transparency and lighter
colors. This allows the significant “real world” effects to pop out,
reducing the time required to interpret the findings.</p></li>
<li><p><strong>Nigeria Disaggregation:</strong> Urban and Rural Nigeria are plotted with
neutral gray tones. This stylistic choice acknowledges their unique
status as sub-national data points while preventing their specific
data from overwhelming the color-coded “National” results.</p></li>
<li><p><strong>Minimalist Tufte-style Theme:</strong> We removed unnecessary borders and
heavy gridlines. The use of the “Barlow” typeface and clean <code>gray95</code>
lines follows the principle of maximizing the <strong>data-to-ink ratio</strong>,
ensuring every element on the screen serves a purpose.</p></li>
</ul>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>alt_p_forest</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='va'>alt_data_plot</span>, <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>alt_OR</span>, y <span class='op'>=</span> <span class='va'>Country</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='co'># Baseline (OR = 1): Represents the null hypothesis (no effect)</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_abline.html'>geom_vline</a></span><span class='op'>(</span>xintercept <span class='op'>=</span> <span class='fl'>1</span>, linetype <span class='op'>=</span> <span class='st'>"longdash"</span>, color <span class='op'>=</span> <span class='st'>"gray70"</span>,</span>
<span>             linewidth <span class='op'>=</span> <span class='fl'>0.2</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='co'># Error Bars: Differentiate significance using transparency (alpha) and color</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_linerange.html'>geom_errorbarh</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='va'>alt_CI_Lower</span>, xmax <span class='op'>=</span> <span class='va'>alt_CI_Upper</span>, </span>
<span>                     alpha <span class='op'>=</span> <span class='va'>alt_is_significant</span>,</span>
<span>                     color <span class='op'>=</span> <span class='va'>alt_is_significant</span><span class='op'>)</span>,</span>
<span>                 height <span class='op'>=</span> <span class='fl'>0.4</span>, linewidth <span class='op'>=</span> <span class='fl'>0.3</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='co'># Manual scales for error bars</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_color_manual</a></span><span class='op'>(</span>values <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Statistically Significant"</span> <span class='op'>=</span> <span class='st'>"gray20"</span>, </span>
<span>                                <span class='st'>"Not Significant"</span> <span class='op'>=</span> <span class='st'>"gray85"</span><span class='op'>)</span>, </span>
<span>                     guide <span class='op'>=</span> <span class='st'>"none"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_alpha_manual</a></span><span class='op'>(</span>values <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Statistically Significant"</span> <span class='op'>=</span> <span class='fl'>1</span>, </span>
<span>                                <span class='st'>"Not Significant"</span> <span class='op'>=</span> <span class='fl'>0.5</span><span class='op'>)</span>, </span>
<span>                     guide <span class='op'>=</span> <span class='st'>"none"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_point.html'>geom_point</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>alt_data_plot</span>, <span class='op'>!</span><span class='va'>Country</span> <span class='op'><a href='https://rdrr.io/r/base/match.html'>%in%</a></span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Urban Nigeria"</span>,</span>
<span>                                                          <span class='st'>"Rural Nigeria"</span><span class='op'>)</span><span class='op'>)</span>,</span>
<span>             <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='va'>Remittance_Group</span>, color <span class='op'>=</span> <span class='va'>Remittance_Group</span><span class='op'>)</span>,</span>
<span>             shape <span class='op'>=</span> <span class='fl'>21</span>, size <span class='op'>=</span> <span class='fl'>3</span>, stroke <span class='op'>=</span> <span class='fl'>0.35</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_point.html'>geom_point</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>alt_data_plot</span>, <span class='va'>Country</span> <span class='op'><a href='https://rdrr.io/r/base/match.html'>%in%</a></span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Urban Nigeria"</span>,</span>
<span>                                                         <span class='st'>"Rural Nigeria"</span><span class='op'>)</span><span class='op'>)</span>,</span>
<span>             fill <span class='op'>=</span> <span class='st'>"#DDDEDF"</span>, color <span class='op'>=</span> <span class='st'>"#8F8D8E"</span>, </span>
<span>             shape <span class='op'>=</span> <span class='fl'>21</span>, size <span class='op'>=</span> <span class='fl'>3</span>, stroke <span class='op'>=</span> <span class='fl'>0.4</span>, alpha <span class='op'>=</span> <span class='fl'>0.6</span><span class='op'>)</span> <span class='op'>+</span></span>
<span></span>
<span>  <span class='co'># Axis and Scale configuration</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_fill_manual</a></span><span class='op'>(</span>values <span class='op'>=</span> <span class='va'>remittance_colors</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_color_manual</a></span><span class='op'>(</span>values <span class='op'>=</span> <span class='va'>border_colors</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_continuous.html'>scale_x_log10</a></span><span class='op'>(</span>limits <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0.34</span>, <span class='fl'>3.03</span><span class='op'>)</span>, breaks <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0.5</span>, <span class='fl'>1</span>, <span class='fl'>2</span><span class='op'>)</span>,</span>
<span>                labels <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"0.5"</span>, <span class='st'>"1.0"</span>, <span class='st'>"2.0"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='co'># Titles and removing automatic legends</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>title <span class='op'>=</span> <span class='st'>"Does hunger make African want to move abroad?"</span>,</span>
<span>       subtitle <span class='op'>=</span> <span class='st'>"Extensive survey data shows that there is not a</span></span>
<span><span class='st'>       simple answer."</span>,</span>
<span>       x <span class='op'>=</span> <span class='st'>"Odds Ratio (Log Scale)"</span>, y <span class='op'>=</span> <span class='st'>""</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_discrete.html'>scale_y_discrete</a></span><span class='op'>(</span>expand <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/expansion.html'>expansion</a></span><span class='op'>(</span>add <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0.8</span>, <span class='fl'>0.2</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  </span>
<span>  <span class='co'># Theme Configuration</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_minimal</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span></span>
<span>    <span class='co'># Text Alignment: Left-align title and subtitle</span></span>
<span>  plot.title <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>35</span>, face <span class='op'>=</span> <span class='st'>"bold"</span>, hjust <span class='op'>=</span> <span class='fl'>0</span><span class='op'>)</span>,</span>
<span>  plot.subtitle <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span></span>
<span>    size <span class='op'>=</span> <span class='fl'>27</span>, </span>
<span>    face <span class='op'>=</span> <span class='st'>"italic"</span>, </span>
<span>   hjust <span class='op'>=</span> <span class='fl'>0</span>, </span>
<span>   margin <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>margin</a></span><span class='op'>(</span>b <span class='op'>=</span> <span class='fl'>13</span><span class='op'>)</span></span>
<span>  <span class='op'>)</span>,</span>
<span>  </span>
<span>  <span class='co'># Alignment with the plot edge (not just the panel)</span></span>
<span>  plot.title.position <span class='op'>=</span> <span class='st'>"plot"</span>,</span>
<span>    text <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>family <span class='op'>=</span> <span class='st'>"Barlow"</span><span class='op'>)</span>,</span>
<span>    axis.text.y <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>14</span>, face <span class='op'>=</span> <span class='st'>"plain"</span>, color <span class='op'>=</span> <span class='st'>"gray40"</span><span class='op'>)</span>,</span>
<span>    axis.text.x <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>14</span>, family <span class='op'>=</span> <span class='st'>"Barlow"</span>, color <span class='op'>=</span> <span class='st'>"gray40"</span><span class='op'>)</span>,</span>
<span>    panel.grid.major.y <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_line</a></span><span class='op'>(</span>linewidth <span class='op'>=</span> <span class='fl'>0.17</span>, color <span class='op'>=</span> <span class='st'>"gray95"</span><span class='op'>)</span>, </span>
<span>    panel.grid.major.x <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_line</a></span><span class='op'>(</span>linewidth <span class='op'>=</span> <span class='fl'>0.17</span>, color <span class='op'>=</span> <span class='st'>"gray95"</span><span class='op'>)</span>, </span>
<span>    panel.grid.minor <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>, </span>
<span>    axis.line.x <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_line</a></span><span class='op'>(</span>color <span class='op'>=</span> <span class='st'>"gray95"</span>, linewidth <span class='op'>=</span> <span class='fl'>0.17</span><span class='op'>)</span>,</span>
<span>    axis.ticks.x <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_line</a></span><span class='op'>(</span>color <span class='op'>=</span> <span class='st'>"gray95"</span>, linewidth <span class='op'>=</span> <span class='fl'>0.17</span><span class='op'>)</span>,</span>
<span>    axis.ticks.length.x <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/unit.html'>unit</a></span><span class='op'>(</span><span class='fl'>3</span>, <span class='st'>"pt"</span><span class='op'>)</span>,</span>
<span>    axis.text.x.top <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>margin <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>margin</a></span><span class='op'>(</span>t <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span><span class='op'>)</span>,</span>
<span>    legend.position <span class='op'>=</span> <span class='st'>"none"</span>,</span>
<span>    plot.margin <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>margin</a></span><span class='op'>(</span>t <span class='op'>=</span> <span class='fl'>12</span>, r <span class='op'>=</span> <span class='fl'>12</span>, b <span class='op'>=</span> <span class='fl'>12</span>, l <span class='op'>=</span> <span class='fl'>12</span><span class='op'>)</span></span>
<span>  <span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/coord_cartesian.html'>coord_cartesian</a></span><span class='op'>(</span>clip <span class='op'>=</span> <span class='st'>"off"</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<h3 id="adding-the-additional-text">Adding the additional text</h3>
<p>Here, we add the additional explanatory texts to enhance comprehension,
but not as much as text the original graph in order to avoid visual
noise.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>alt_main</span> <span class='op'>&lt;-</span> <span class='va'>alt_p_forest</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_discrete.html'>scale_y_discrete</a></span><span class='op'>(</span>expand <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/expansion.html'>expansion</a></span><span class='op'>(</span>add <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0.6</span>, <span class='fl'>0.2</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span></span>
<span>    geom <span class='op'>=</span> <span class='st'>"richtext"</span>,        </span>
<span>    x <span class='op'>=</span> <span class='fl'>0.46</span>, </span>
<span>    y <span class='op'>=</span> <span class='fl'>0.4</span>,                 </span>
<span>    label <span class='op'>=</span> <span class='va'>text_less_likely</span>, </span>
<span>    family <span class='op'>=</span> <span class='st'>"Barlow"</span>, </span>
<span>    size <span class='op'>=</span> <span class='fl'>5</span>,</span>
<span>    lineheight <span class='op'>=</span> <span class='fl'>0.4</span>,</span>
<span>    color <span class='op'>=</span> <span class='st'>"black"</span>, </span>
<span>    fill <span class='op'>=</span> <span class='cn'>NA</span>,                </span>
<span>    label.color <span class='op'>=</span> <span class='cn'>NA</span>,         </span>
<span>    vjust <span class='op'>=</span> <span class='fl'>1</span>,</span>
<span>    hjust <span class='op'>=</span> <span class='fl'>1</span></span>
<span>  <span class='op'>)</span> <span class='op'>+</span></span>
<span>    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span></span>
<span>    geom <span class='op'>=</span> <span class='st'>"richtext"</span>,        </span>
<span>    x <span class='op'>=</span> <span class='fl'>2.16</span>, </span>
<span>    y <span class='op'>=</span> <span class='fl'>0.4</span>,                 </span>
<span>    label <span class='op'>=</span> <span class='va'>text_more_likely</span>, </span>
<span>    family <span class='op'>=</span> <span class='st'>"Barlow"</span>, </span>
<span>    size <span class='op'>=</span> <span class='fl'>5</span>,</span>
<span>    lineheight <span class='op'>=</span> <span class='fl'>0.4</span>,</span>
<span>    color <span class='op'>=</span> <span class='st'>"black"</span>, </span>
<span>    fill <span class='op'>=</span> <span class='cn'>NA</span>,                </span>
<span>    label.color <span class='op'>=</span> <span class='cn'>NA</span>,         </span>
<span>    vjust <span class='op'>=</span> <span class='fl'>1</span>,</span>
<span>    hjust <span class='op'>=</span> <span class='fl'>0</span></span>
<span>  <span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span> <span class='op'>(</span></span>
<span>    plot.margin <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>margin</a></span><span class='op'>(</span>t <span class='op'>=</span> <span class='fl'>12</span>, r <span class='op'>=</span> <span class='fl'>12</span>, b <span class='op'>=</span> <span class='fl'>20</span>, l <span class='op'>=</span> <span class='fl'>12</span><span class='op'>)</span></span>
<span>  <span class='op'>)</span></span></code></pre>
</div>
</div>
<h3 id="legend-creation">Legend creation</h3>
<p>Since standard automatic legends often lack the necessary detail for
complex social science data, we built custom, modular legends to provide
deep context and transparency.</p>
<h4 id="remittances-1">Remittances</h4>
<p>We will use the same legend setting for remittances as colors are
conserved, it is only needed adjusting for size.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'># 1. DATAFRAME FOR THE LEGEND</span></span>
<span><span class='va'>remittance_data</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span></span>
<span>  percent <span class='op'>=</span> <span class='va'>remittance_groups_levels</span>,</span>
<span>  y <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/length.html'>length</a></span><span class='op'>(</span><span class='va'>remittance_groups_levels</span><span class='op'>)</span><span class='op'>:</span><span class='fl'>1</span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>remittance_data</span> <span class='op'>&lt;-</span> <span class='va'>remittance_data</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span></span>
<span>    fill_color <span class='op'>=</span> <span class='va'>remittance_colors</span><span class='op'>[</span><span class='va'>percent</span><span class='op'>]</span>, </span>
<span>    border_color <span class='op'>=</span> <span class='va'>border_colors</span><span class='op'>[</span><span class='va'>percent</span><span class='op'>]</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span></span>
<span>    fill_color <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/character.html'>as.character</a></span><span class='op'>(</span><span class='va'>fill_color</span><span class='op'>)</span>,</span>
<span>    border_color <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/character.html'>as.character</a></span><span class='op'>(</span><span class='va'>border_color</span><span class='op'>)</span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>remittance_groups_levels</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"&gt; 40%"</span>, <span class='st'>"35-40%"</span>, <span class='st'>"30-35%"</span>, <span class='st'>"25-30%"</span>, <span class='st'>"20-25%"</span>, </span>
<span>                               <span class='st'>"15-20%"</span>, <span class='st'>"10-15%"</span>, <span class='st'>"&lt; 10%"</span><span class='op'>)</span></span>
<span></span>
<span><span class='co'>## SETTING AESTHETICS OF THE LEGEND</span></span>
<span><span class='va'>y_step</span> <span class='op'>&lt;-</span> <span class='fl'>0.32</span></span>
<span><span class='va'>num_items</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/length.html'>length</a></span><span class='op'>(</span><span class='va'>remittance_groups_levels</span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>remittance_data</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span></span>
<span>  percent_raw <span class='op'>=</span> <span class='va'>remittance_groups_levels</span>,</span>
<span>  y <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span><span class='op'>(</span>from <span class='op'>=</span> <span class='va'>num_items</span> <span class='op'>*</span> <span class='va'>y_step</span>, </span>
<span>          to <span class='op'>=</span> <span class='va'>y_step</span>, </span>
<span>          by <span class='op'>=</span> <span class='op'>-</span><span class='va'>y_step</span><span class='op'>)</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span></span>
<span>  percent_label <span class='op'>=</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/case_when.html'>case_when</a></span><span class='op'>(</span></span>
<span>    <span class='va'>percent_raw</span> <span class='op'>==</span> <span class='st'>"&gt; 40%"</span> <span class='op'>~</span> <span class='st'>"40 %"</span>,</span>
<span>    <span class='va'>percent_raw</span> <span class='op'>==</span> <span class='st'>"35-40%"</span> <span class='op'>~</span> <span class='st'>"35 %"</span>,</span>
<span>    <span class='va'>percent_raw</span> <span class='op'>==</span> <span class='st'>"30-35%"</span> <span class='op'>~</span> <span class='st'>"30 %"</span>,</span>
<span>    <span class='va'>percent_raw</span> <span class='op'>==</span> <span class='st'>"25-30%"</span> <span class='op'>~</span> <span class='st'>"25 %"</span>,</span>
<span>    <span class='va'>percent_raw</span> <span class='op'>==</span> <span class='st'>"20-25%"</span> <span class='op'>~</span> <span class='st'>"20 %"</span>,</span>
<span>    <span class='va'>percent_raw</span> <span class='op'>==</span> <span class='st'>"15-20%"</span> <span class='op'>~</span> <span class='st'>"15 %"</span>,</span>
<span>    <span class='va'>percent_raw</span> <span class='op'>==</span> <span class='st'>"10-15%"</span> <span class='op'>~</span> <span class='st'>"10 %"</span>,</span>
<span>    <span class='cn'>TRUE</span> <span class='op'>~</span> <span class='cn'>NA_character_</span><span class='op'>)</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span></span>
<span>    fill_color <span class='op'>=</span> <span class='va'>remittance_colors</span><span class='op'>[</span><span class='va'>percent_raw</span><span class='op'>]</span>, </span>
<span>    border_color <span class='op'>=</span> <span class='va'>border_colors</span><span class='op'>[</span><span class='va'>percent_raw</span><span class='op'>]</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span></span>
<span>    fill_color <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/character.html'>as.character</a></span><span class='op'>(</span><span class='va'>fill_color</span><span class='op'>)</span>,</span>
<span>    border_color <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/character.html'>as.character</a></span><span class='op'>(</span><span class='va'>border_color</span><span class='op'>)</span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>line_data</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span></span>
<span>  y <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span><span class='op'>(</span>from <span class='op'>=</span> <span class='op'>(</span><span class='va'>num_items</span> <span class='op'>-</span> <span class='fl'>1</span><span class='op'>)</span> <span class='op'>*</span> <span class='va'>y_step</span> <span class='op'>+</span> <span class='va'>y_step</span> <span class='op'>/</span> <span class='fl'>2</span>, </span>
<span>          to <span class='op'>=</span> <span class='va'>y_step</span> <span class='op'>*</span> <span class='fl'>1.5</span>,                             </span>
<span>          by <span class='op'>=</span> <span class='op'>-</span><span class='va'>y_step</span><span class='op'>)</span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>explanatory_text</span> <span class='op'>&lt;-</span> <span class='st'>"If more people receive\nmoney transfers from\nrelatives or</span></span>
<span><span class='st'>friends\nabroad, it probably\nmeans that emigration\nis more widespread—\nand</span></span>
<span><span class='st'>thereby more\nrelatable as a possible\nway of hardship. If\nemigration is rare,</span></span>
<span><span class='st'>it\nmight be more of\nanelite phenomenon,\nbeyond the imagination\nof those who</span></span>
<span><span class='st'>experience\nhunger."</span></span>
<span></span>
<span></span>
<span><span class='co'># CREATION GRAPH</span></span>
<span></span>
<span><span class='va'>p_legend_remittance_alt</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_segment.html'>geom_segment</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>line_data</span>, <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>0.23</span>, y <span class='op'>=</span> <span class='va'>y</span> <span class='op'>+</span> <span class='fl'>0.6</span>, xend <span class='op'>=</span> <span class='fl'>0.388</span>,</span>
<span>                                     yend <span class='op'>=</span> <span class='va'>y</span> <span class='op'>+</span> <span class='fl'>0.6</span><span class='op'>)</span>,</span>
<span>               linewidth <span class='op'>=</span> <span class='fl'>0.16</span>, color <span class='op'>=</span> <span class='st'>"black"</span>, inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_point.html'>geom_point</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>remittance_data</span>, <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>0.35</span>, y <span class='op'>=</span> <span class='va'>y</span><span class='op'>+</span><span class='fl'>0.6</span>, fill <span class='op'>=</span> <span class='va'>fill_color</span>,</span>
<span>                                         color <span class='op'>=</span> <span class='va'>border_color</span><span class='op'>)</span>,</span>
<span>             shape <span class='op'>=</span> <span class='fl'>21</span>, size <span class='op'>=</span> <span class='fl'>2.35</span>, linewidth <span class='op'>=</span> <span class='fl'>0.05</span><span class='op'>)</span> <span class='op'>+</span> </span>
<span>  </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>remittance_data</span>, <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>0.02</span>, y <span class='op'>=</span> <span class='va'>y</span> <span class='op'>+</span> <span class='fl'>0.44</span>,</span>
<span>                                        label <span class='op'>=</span> <span class='va'>percent_label</span><span class='op'>)</span>,</span>
<span>            hjust <span class='op'>=</span> <span class='fl'>0</span>, size <span class='op'>=</span> <span class='fl'>5.5</span>, family <span class='op'>=</span> <span class='st'>"Barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>0</span>, y <span class='op'>=</span> <span class='fl'>4</span>, label <span class='op'>=</span> <span class='st'>"Share of people\nwho receive\nremittances"</span><span class='op'>)</span>, </span>
<span>            vjust<span class='op'>=</span> <span class='fl'>0.7</span>, hjust <span class='op'>=</span> <span class='fl'>0</span>, lineheight <span class='op'>=</span> <span class='fl'>0.3</span>, fontface <span class='op'>=</span> <span class='st'>"bold"</span>,</span>
<span>            size <span class='op'>=</span> <span class='fl'>6</span>, family <span class='op'>=</span> <span class='st'>"Barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_segment.html'>geom_segment</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>0</span>, y <span class='op'>=</span> <span class='fl'>3.41</span>, xend <span class='op'>=</span> <span class='fl'>0.9</span>, yend <span class='op'>=</span> <span class='fl'>3.41</span><span class='op'>)</span>, vjust <span class='op'>=</span> <span class='fl'>0</span>,</span>
<span>               linewidth <span class='op'>=</span> <span class='fl'>0.3</span>, color <span class='op'>=</span> <span class='st'>"black"</span><span class='op'>)</span> <span class='op'>+</span> </span>
<span>   </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>0.52</span>, y <span class='op'>=</span> <span class='fl'>1.75</span>, label <span class='op'>=</span> <span class='va'>explanatory_text</span><span class='op'>)</span>, </span>
<span>            hjust <span class='op'>=</span> <span class='fl'>0</span>, vjust <span class='op'>=</span> <span class='fl'>0.6</span>, lineheight <span class='op'>=</span> <span class='fl'>0.24</span>, fontface<span class='op'>=</span> <span class='st'>"plain"</span>,</span>
<span>            size <span class='op'>=</span> <span class='fl'>6.3</span>, color <span class='op'>=</span> <span class='st'>"gray70"</span>, family <span class='op'>=</span> <span class='st'>"Caveat"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_identity.html'>scale_fill_identity</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span> </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_identity.html'>scale_color_identity</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span> </span>
<span>  </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/coord_cartesian.html'>coord_cartesian</a></span><span class='op'>(</span></span>
<span>    xlim <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>1.2</span><span class='op'>)</span>, </span>
<span>    ylim <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>4.2</span><span class='op'>)</span>, </span>
<span>    clip <span class='op'>=</span> <span class='st'>"off"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_void</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span> </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span></span>
<span>    plot.background <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>"white"</span>, color <span class='op'>=</span> <span class='cn'>NA</span><span class='op'>)</span>,</span>
<span>  panel.background <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>"white"</span>, color <span class='op'>=</span> <span class='cn'>NA</span><span class='op'>)</span>,</span>
<span>    plot.margin <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>margin</a></span><span class='op'>(</span><span class='fl'>0.0</span>, <span class='fl'>0</span>, <span class='fl'>0</span>, <span class='fl'>0</span>, unit <span class='op'>=</span> <span class='st'>"cm"</span><span class='op'>)</span>,</span>
<span>    plot.title <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>margin <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>margin</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>0</span>, <span class='fl'>0</span>, <span class='fl'>0</span>, unit <span class='op'>=</span> <span class='st'>"pt"</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<h4 id="sources-1">Sources</h4>
<p>This component ensures full transparency regarding data origins and
methodological constraints.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>text_sources_alt</span> <span class='op'>&lt;-</span> <span class='st'>"&lt;b&gt;Full explanation:&lt;/b&gt;</span></span>
<span><span class='st'>jorgencarling.org/2024/12/31/hunger-and-migration&lt;br&gt;&lt;br&gt;&lt;b&gt;Data source:&lt;/b&gt;</span></span>
<span><span class='st'>Afrobarometer Round 7 (2019). Survey data covering&lt;br&gt; considerations of</span></span>
<span><span class='st'>emigration (Q68A) and food insecurity (Q8D).&lt;br&gt;&lt;br&gt;&lt;b&gt;Methodology:&lt;/b&gt; Results</span></span>
<span><span class='st'>based on logit regression analysis, controlling&lt;br&gt; for age and gender. Results</span></span>
<span><span class='st'>are shown a log scale for Odds Ratios.&lt;br&gt;&lt;br&gt;&lt;b&gt;Technical note:&lt;/b&gt; Error bars</span></span>
<span><span class='st'>represent 95% confidence intervals.&lt;br&gt;&lt;br&gt;&lt;b&gt;Analysis:&lt;/b&gt; Nigeria is</span></span>
<span><span class='st'>disaggregated by urban and rural areas due to its&lt;br&gt;large population weight and</span></span>
<span><span class='st'>significant demographic differences.&lt;br&gt;&lt;br&gt;&lt;b&gt;Credits:&lt;/b&gt; Original research</span></span>
<span><span class='st'>and analysis by Jørgen Carling (2024).&lt;br&gt; Visualization improved by María</span></span>
<span><span class='st'>Garcés Blázquez. Part of the FUMI&lt;br&gt; project at the PRIO Migration Centre."</span></span>
<span></span>
<span><span class='va'>p_sources_alt</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span></span>
<span></span>
<span><span class='co'># 1. Título de la Sección</span></span>
<span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>0</span>, y <span class='op'>=</span> <span class='fl'>3.7</span>, label <span class='op'>=</span> <span class='st'>"Sources and notes"</span><span class='op'>)</span>, </span>
<span>          vjust <span class='op'>=</span> <span class='fl'>0.7</span>, hjust <span class='op'>=</span> <span class='fl'>0</span>, lineheight <span class='op'>=</span> <span class='fl'>0.2</span>, fontface <span class='op'>=</span> <span class='st'>"bold"</span>, size <span class='op'>=</span> <span class='fl'>6</span>,</span>
<span>          family <span class='op'>=</span> <span class='st'>"Barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span><span class='co'># 2. Línea de Separación</span></span>
<span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_segment.html'>geom_segment</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>0</span>, y <span class='op'>=</span> <span class='fl'>3.41</span>, xend <span class='op'>=</span> <span class='fl'>1.9</span>, yend <span class='op'>=</span> <span class='fl'>3.41</span><span class='op'>)</span>, </span>
<span>             linewidth <span class='op'>=</span> <span class='fl'>0.3</span>, color <span class='op'>=</span> <span class='st'>"black"</span><span class='op'>)</span> <span class='op'>+</span> </span>
<span>  </span>
<span><span class='co'># 3. Texto de Fuentes y Notas</span></span>
<span><span class='fu'><a href='https://wilkelab.org/ggtext/reference/geom_textbox.html'>geom_textbox</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>0</span>, y <span class='op'>=</span> <span class='fl'>3.4</span>, label <span class='op'>=</span> <span class='va'>text_sources_alt</span><span class='op'>)</span>, </span>
<span>             vjust <span class='op'>=</span> <span class='fl'>1</span>, </span>
<span>             hjust <span class='op'>=</span> <span class='fl'>0</span>, </span>
<span>             halign <span class='op'>=</span> <span class='fl'>0</span>,          </span>
<span>             lineheight <span class='op'>=</span> <span class='fl'>0.4</span>,    </span>
<span>             size <span class='op'>=</span> <span class='fl'>4.5</span>,          </span>
<span>             family <span class='op'>=</span> <span class='st'>"Barlow"</span>,</span>
<span>             box.color <span class='op'>=</span> <span class='cn'>NA</span>,      </span>
<span>             fill <span class='op'>=</span> <span class='cn'>NA</span>,           </span>
<span>             width <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/unit.html'>unit</a></span><span class='op'>(</span><span class='fl'>12</span>, <span class='st'>"cm"</span><span class='op'>)</span> </span>
<span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_identity.html'>scale_fill_identity</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span> </span>
<span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_identity.html'>scale_color_identity</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span> </span>
<span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/coord_cartesian.html'>coord_cartesian</a></span><span class='op'>(</span></span>
<span>  xlim <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>2</span><span class='op'>)</span>, </span>
<span>  ylim <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>4.2</span><span class='op'>)</span>,</span>
<span>  clip <span class='op'>=</span> <span class='st'>"off"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_void</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span> </span>
<span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span></span>
<span>  plot.background <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>"white"</span>, color <span class='op'>=</span> <span class='cn'>NA</span><span class='op'>)</span>,</span>
<span>  panel.background <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>"white"</span>, color <span class='op'>=</span> <span class='cn'>NA</span><span class='op'>)</span>,</span>
<span>  plot.margin <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>margin</a></span><span class='op'>(</span><span class='fl'>0.0</span>, <span class='fl'>0</span>, <span class='fl'>0</span>, <span class='fl'>0</span>, unit <span class='op'>=</span> <span class='st'>"cm"</span><span class='op'>)</span>,</span>
<span>  plot.title <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>margin <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>margin</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>0</span>, <span class='fl'>0</span>, <span class='fl'>0</span>, unit <span class='op'>=</span> <span class='st'>"pt"</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<h4 id="error-bars">Error bars</h4>
<p>This block teaches the user how to read the uncertainty and significance
represented in the forest plot.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>explanatory_text_sig</span> <span class='op'>&lt;-</span> <span class='st'>"Statistical significance is crucial\nfor interpreting</span></span>
<span><span class='st'>the results.\nIt tells us that the relationship\nbetween hunger and</span></span>
<span><span class='st'>migration\ndesires is likely a real pattern\nin the population, rather</span></span>
<span><span class='st'>than\na result of random sampling.\nWhen an error bar does not\ncross the 1.0</span></span>
<span><span class='st'>vertical line, we\ncan be 95% confident in the\ndirection of the effect."</span></span>
<span></span>
<span><span class='va'>p_error_bar</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>0</span>, y <span class='op'>=</span> <span class='fl'>3.8</span>, label <span class='op'>=</span> <span class='st'>"Statistical\nSignificance"</span>, </span>
<span>           vjust <span class='op'>=</span> <span class='fl'>0.7</span>, hjust <span class='op'>=</span> <span class='fl'>0</span>, lineheight <span class='op'>=</span> <span class='fl'>0.3</span>, fontface <span class='op'>=</span> <span class='st'>"bold"</span>, </span>
<span>           size <span class='op'>=</span> <span class='fl'>6</span>, family <span class='op'>=</span> <span class='st'>"Barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_segment.html'>geom_segment</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>0</span>, y <span class='op'>=</span> <span class='fl'>3.41</span>, xend <span class='op'>=</span> <span class='fl'>0.85</span>, yend <span class='op'>=</span> <span class='fl'>3.41</span><span class='op'>)</span>, </span>
<span>               linewidth <span class='op'>=</span> <span class='fl'>0.4</span>, color <span class='op'>=</span> <span class='st'>"black"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_segment.html'>geom_segment</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>0.1</span>, y <span class='op'>=</span> <span class='fl'>3</span>, xend <span class='op'>=</span> <span class='fl'>0.4</span>, yend <span class='op'>=</span> <span class='fl'>3</span><span class='op'>)</span>, </span>
<span>               color <span class='op'>=</span> <span class='st'>"gray20"</span>, linewidth <span class='op'>=</span> <span class='fl'>0.4</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_segment.html'>geom_segment</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>0.1</span>, y <span class='op'>=</span> <span class='fl'>2.93</span>, xend <span class='op'>=</span> <span class='fl'>0.1</span>, yend <span class='op'>=</span> <span class='fl'>3.07</span><span class='op'>)</span>,</span>
<span>               color <span class='op'>=</span> <span class='st'>"gray20"</span>, linewidth <span class='op'>=</span> <span class='fl'>0.4</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_segment.html'>geom_segment</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>0.4</span>, y <span class='op'>=</span> <span class='fl'>2.93</span>, xend <span class='op'>=</span> <span class='fl'>0.4</span>, yend <span class='op'>=</span> <span class='fl'>3.07</span><span class='op'>)</span>,</span>
<span>               color <span class='op'>=</span> <span class='st'>"gray20"</span>, linewidth <span class='op'>=</span> <span class='fl'>0.4</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>0.5</span>, y <span class='op'>=</span> <span class='fl'>3</span>, label <span class='op'>=</span> <span class='st'>"Significant (95% CI)"</span>, </span>
<span>           hjust <span class='op'>=</span> <span class='fl'>0</span>, size <span class='op'>=</span> <span class='fl'>5</span>, family <span class='op'>=</span> <span class='st'>"Barlow"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_segment.html'>geom_segment</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>0.1</span>, y <span class='op'>=</span> <span class='fl'>2.5</span>, xend <span class='op'>=</span> <span class='fl'>0.4</span>, yend <span class='op'>=</span> <span class='fl'>2.5</span><span class='op'>)</span>, </span>
<span>               color <span class='op'>=</span> <span class='st'>"gray85"</span>, linewidth <span class='op'>=</span> <span class='fl'>0.4</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_segment.html'>geom_segment</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>0.1</span>, y <span class='op'>=</span> <span class='fl'>2.43</span>, xend <span class='op'>=</span> <span class='fl'>0.1</span>, yend <span class='op'>=</span> <span class='fl'>2.57</span><span class='op'>)</span>,</span>
<span>               color <span class='op'>=</span> <span class='st'>"gray85"</span>, linewidth <span class='op'>=</span> <span class='fl'>0.4</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_segment.html'>geom_segment</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>0.4</span>, y <span class='op'>=</span> <span class='fl'>2.43</span>, xend <span class='op'>=</span> <span class='fl'>0.4</span>, yend <span class='op'>=</span> <span class='fl'>2.57</span><span class='op'>)</span>,</span>
<span>               color <span class='op'>=</span> <span class='st'>"gray85"</span>, linewidth <span class='op'>=</span> <span class='fl'>0.4</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>0.5</span>, y <span class='op'>=</span> <span class='fl'>2.5</span>, label <span class='op'>=</span> <span class='st'>"Not significant"</span>, </span>
<span>           hjust <span class='op'>=</span> <span class='fl'>0</span>, size <span class='op'>=</span> <span class='fl'>5</span>, family <span class='op'>=</span> <span class='st'>"Barlow"</span>, color <span class='op'>=</span> <span class='st'>"gray80"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"text"</span>, x <span class='op'>=</span> <span class='fl'>0.1</span>, y <span class='op'>=</span> <span class='fl'>1.1</span>, label <span class='op'>=</span> <span class='va'>explanatory_text_sig</span>, </span>
<span>           hjust <span class='op'>=</span> <span class='fl'>0</span>, vjust <span class='op'>=</span> <span class='fl'>0.5</span>, lineheight <span class='op'>=</span> <span class='fl'>0.24</span>, fontface <span class='op'>=</span> <span class='st'>"plain"</span>, </span>
<span>           size <span class='op'>=</span> <span class='fl'>6.3</span>, color <span class='op'>=</span> <span class='st'>"gray70"</span>, family <span class='op'>=</span> <span class='st'>"Caveat"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/coord_cartesian.html'>coord_cartesian</a></span><span class='op'>(</span>xlim <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>1.2</span><span class='op'>)</span>, ylim <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>4.2</span><span class='op'>)</span>, clip <span class='op'>=</span> <span class='st'>"off"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_void</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span>plot.background <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>"white"</span>, color <span class='op'>=</span> <span class='cn'>NA</span><span class='op'>)</span>,</span>
<span>        plot.margin <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>margin</a></span><span class='op'>(</span>t <span class='op'>=</span> <span class='fl'>0</span>, r <span class='op'>=</span> <span class='fl'>0</span>, b <span class='op'>=</span> <span class='fl'>0</span>, l <span class='op'>=</span> <span class='fl'>0</span><span class='op'>)</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<h3 id="combination-main-graph-and-replication">Combination main graph and replication</h3>
<p>This final stage uses the <code>patchwork</code> library to merge the primary
forest plot with the modular legend components into a single, cohesive
scientific visualization.</p>
<ul>
<li><p><strong>Modular Row Integration:</strong> The three legend components
(<code>p_error_bar</code>, <code>p_legend_remittance_alt</code>, and <code>p_sources_alt</code>) are
combined into a single horizontal row. We use specific <code>widths</code>
(1.2, 1.5, and 2.3) to provide more horizontal space for the
text-heavy “Sources” block, preventing the information from feeling
cramped.</p></li>
<li><p><strong>Controlled Spacing:</strong> By applying
<code>panel.spacing = unit(0.5, "cm")</code> with the <code>&amp;</code> operator, we ensure a
consistent and clean “gutter” between the different legend sections.
This visual separation helps the reader distinguish between
statistical methodology, data mapping, and general notes.</p></li>
<li><p><strong>Vertical Hierarchy:</strong> The <code>/</code> operator stacks the main chart on
top of the legends. We assigned a <code>heights</code> ratio of <code>5:2</code>,
prioritizing the forest plot while ensuring the bottom section is
large enough to be easily readable without distracting from the main
results.</p></li>
<li><p><strong>Canvas Optimization:</strong> The final <code>plot_annotation</code> sets a generous
right margin. This is a strategic “safety zone” that
prevents the long descriptive text of the sources from being clipped
during the rendering process, ensuring a professional finish for web
or print publication.</p></li>
</ul>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>p_combined_alt</span> <span class='op'>&lt;-</span> <span class='va'>alt_main</span> <span class='op'>+</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span></span>
<span>    plot.margin <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>margin</a></span><span class='op'>(</span>t <span class='op'>=</span> <span class='fl'>5</span>, r <span class='op'>=</span> <span class='fl'>5</span>, b <span class='op'>=</span> <span class='fl'>15</span>, l <span class='op'>=</span> <span class='fl'>5</span><span class='op'>)</span></span>
<span><span class='op'>)</span></span>
<span></span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://patchwork.data-imaginist.com'>patchwork</a></span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>bottom_row_final_alt</span> <span class='op'>&lt;-</span> <span class='op'>(</span><span class='va'>p_error_bar</span> <span class='op'>|</span> <span class='va'>p_legend_remittance_alt</span> <span class='op'>|</span> <span class='va'>p_sources_alt</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://patchwork.data-imaginist.com/reference/plot_layout.html'>plot_layout</a></span><span class='op'>(</span>widths <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1.3</span>, <span class='fl'>1.5</span>, <span class='fl'>2.3</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>&amp;</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span></span>
<span>    plot.margin <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>margin</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>0</span>, <span class='fl'>0</span>, <span class='fl'>0</span><span class='op'>)</span> </span>
<span>  <span class='op'>)</span></span>
<span></span>
<span><span class='va'>final_plot_alt</span> <span class='op'>&lt;-</span> <span class='va'>p_combined_alt</span> <span class='op'>/</span> <span class='va'>bottom_row_final_alt</span></span>
<span></span>
<span><span class='va'>final_plot_alt</span> <span class='op'>&lt;-</span> <span class='va'>final_plot_alt</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://patchwork.data-imaginist.com/reference/plot_layout.html'>plot_layout</a></span><span class='op'>(</span>heights <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>5</span>, <span class='fl'>2</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://patchwork.data-imaginist.com/reference/plot_annotation.html'>plot_annotation</a></span><span class='op'>(</span>theme <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span></span>
<span>    plot.margin <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>margin</a></span><span class='op'>(</span>t <span class='op'>=</span> <span class='fl'>10</span>, r <span class='op'>=</span> <span class='fl'>5</span>, b <span class='op'>=</span> <span class='fl'>10</span>, l <span class='op'>=</span> <span class='fl'>5</span><span class='op'>)</span>,</span>
<span>    plot.background <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>"white"</span>, color <span class='op'>=</span> <span class='cn'>NA</span><span class='op'>)</span></span>
<span>  <span class='op'>)</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<figure>
<img src="improved.png" class="external" style="width:100.0%" alt="Improved version" />
<figcaption aria-hidden="true">Improved version</figcaption>
</figure>
<h2 id="conclusions">Conclusions</h2>
<h3 id="statistical-findings-a-contextual-relationship">1. Statistical Findings: A Contextual Relationship</h3>
<p>The analysis confirms that hunger is not a uniform driver of migration.
While it acts as a strong “push factor” in countries like <strong>The Gambia</strong>
or <strong>Lesotho</strong>, its effect is negligible or reversed in others like
<strong>Tanzania</strong>. The inclusion of <strong>remittances</strong> suggests that a national
culture of migration and external financial support often makes
emigration a more viable response to food insecurity.</p>
<h3 id="technical-replication-precision-and-micro-design">2. Technical Replication: Precision and Micro-design</h3>
<p>Replicating the original visualization was a graphic engineering
challenge that demanded meticulous attention to details that often go
unnoticed:</p>
<ul>
<li><p><strong>Legend Composition:</strong> The original legend was not an automatic
<code>ggplot2</code> element but a complex design piece. To replicate it, we
had to create <strong>four independent small plots</strong> (mini-graphs) that
were then carefully integrated into the main canvas. This allowed us
to represent custom size and color scales exactly as in the source.</p></li>
<li><p><strong>Readability through Shadows:</strong> We implemented <code>geom_shadowtext</code> to
add subtle white halos to the country labels. This ensured text
legibility even when overlapping with grid lines or dense data
points.</p></li>
<li><p><strong>Axis Color Gradients:</strong> The axes were not treated as simple lines,
but as <strong>color-gradient segments</strong>. We manually calculated dozens of
individual segments to replicate the chromatic transition that
guides the eye toward areas of higher or lower statistical
significance.</p></li>
<li><p><strong>Manual Calibration:</strong> Achieving an editorial-grade finish required
manual coordinate adjustment for almost every label, proving that
high visual fidelity requires direct intervention beyond default
software parameters.</p></li>
</ul>
<h3 id="enhancements-clarity-through-de-noising">3. Enhancements: Clarity Through De-noising</h3>
<p>The improved “Forest Plot” version offers several advantages over the
original scatter plot:</p>
<ul>
<li><p><strong>Reduced Cognitive Load:</strong> By removing population weighting and
focusing on the <strong>Odds Ratio (OR)</strong>, the primary research question
becomes the focal point.</p></li>
<li><p><strong>Visual Integrity:</strong> The dual-tone system (dark vs. light gray)
immediately separates statistically significant results from noise,
allowing for a “filtering” effect at a glance.</p></li>
<li><p><strong>Symmetry and Scale:</strong> The standardized log-scale provides a more
honest comparison between “more likely” and “less likely” outcomes,
ensuring statistical rigor is matched by visual clarity.</p></li>
</ul>
<h3 id="final-reflection">Final Reflection</h3>
<p>This project demonstrates that effective data communication is a balance
between <strong>reproducibility</strong> and <strong>design</strong>. While the replication taught
us how to handle complex layouts, the enhancement showed that “less is
more”: by simplifying the aesthetics and prioritizing uncertainty, we
provide a more accessible and honest answer to the impact of hunger on
African migration.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r distill-force-highlighting-css"><code class="sourceCode r"></code></pre></div>
<!--radix_placeholder_article_footer-->
<!--/radix_placeholder_article_footer-->
</div>

<div class="d-appendix">
</div>


<!--radix_placeholder_site_after_body-->
<!--/radix_placeholder_site_after_body-->
<!--radix_placeholder_appendices-->
<div class="appendix-bottom"></div>
<!--/radix_placeholder_appendices-->
<!--radix_placeholder_navigation_after_body-->
<!--/radix_placeholder_navigation_after_body-->

</body>

</html>
