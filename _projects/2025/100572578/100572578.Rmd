---
title: "CAT: Australia Country Profile"
description: |
  This article details the process of replicating a graph of the Australian Country Profile created by Climate Action Tracker (CAT) in 2025.
categories: "2025"
author: Samantha Riordan
date: "`r Sys.Date()`"
output:
  distill::distill_article:
    self_contained: false
    toc: true
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(out.width="100%", fig.align="center", fig.showtext=TRUE)
```


Add contents list here
FIX PRINT VIEW FOR ALL INTERMEDIATE GRAPHS 

## Introduction

The CAT Project monitors government climate policies, actions and announcements to evaluate alignment with the Paris Agreement (2015) goal of limiting warming to 1.5-2°C. CAT analyses 34 countries that account for 85% of global emissions. The primary analysis for each country is assessing government action to limiting global warming. Emission gaps are calculated for each nation using emission projections and climate models to assess current policies, actions and announcements, compared to domestic and global temperature requirements.

The chosen graph for this replication is the Australian country profile. The graph (Figure 1.) details an evaluation of the emissions trajectory achievable with Australia's current climate targets, action and policies, against what is needed to domestically, and globally, limit global warming to 1.5°C (as per the Paris Agreement, 2015).

Figure 1. Australian Country Profile (original graph) ![Original chart. Source: Climate Action Tracker](original_graph.png){.external width="100%"}


## Data and Packages  
The data has been included in a seperate file due to the legnth of the code and being unable to create one table for all necessary data to be included on the graph, 

```{r}
library(ggplot2)
library(tidyr)
library(patchwork)
library(ggtext)
library(ggpubr)
library(grid)
library(showtext)

# load data from Rscript 
source("datascript.R")

# Font for the graph replication 
font_add_google(name = "Ubuntu", 
                family = "Ubuntu", 
                regular.wt = 400)
showtext_auto()
```



## Replicating the Graph 

### Main Graph (left side)

```{r}
#First plot - base
p1 <- ggplot() +
  scale_x_continuous(
    limits = c(1990, 2031),
    breaks = seq(1990, 2030, by = 10)) +
  scale_y_continuous(
    limits = c(-100, 600),
    breaks = seq(-100, 600, by = 100)) +
  theme(
    text = element_text(family = "Ubuntu"),
    axis.title = element_blank(),
    panel.background =  element_blank(),
    panel.grid.major.x = element_blank(),
    panel.grid.major.y = element_line(colour = "#D5D5D5", 
                                      linewidth = 0.3),
    axis.text.y = element_text(size = 32,
                   margin = margin(0,.4,0,0, "cm"), 
                   colour = "black"), 
    axis.text.x = element_text(size = 36, 
                              face = "bold",
                              margin = margin(0.3,0,0,0, "cm"),
                              colour = "black"),
    axis.ticks = element_blank(),
    plot.margin = margin(0,0,0,0.07, "inches")) +
  coord_cartesian(
    xlim = c(1990,2030),
    clip = "off", 
    expand = FALSE) +
  # Add a horizontal line at zero for reference
  geom_hline(yintercept = 0, 
             linetype = "solid", 
             color = "black", 
             linewidth = 1) 
```

#### Add the rating bands and Historical emissions lines and annotations 



```{r}
# Create plot with rating bands
p2 <- p1 +
  # Rating bands (drawn first so they're in background)
  # Critically insufficient (top)
  geom_ribbon(data = country,
              aes(x = year, 
                  ymin = `Highly insufficient`, 
                  ymax = pmin(`Upper limit`, 600)),
              fill = "#606060", alpha = 0.4) +
  # Highly insufficient
  geom_ribbon(data = country,
              aes(x = year, 
                  ymin = Insufficient, 
                  ymax = `Highly insufficient`),
              fill = "#EF694A", 
              alpha = 0.4) +
  # Insufficient
  geom_ribbon(data = country,
              aes(x = year, 
                  ymin = `Almost sufficient`, 
                  ymax = Insufficient),
              fill = "#F2AC48", alpha = 0.4) +
  # Almost sufficient
  geom_ribbon(data = country,
              aes(x = year, 
                  ymin = `1.5°C compatible`, 
                  ymax = `Almost sufficient`),
              fill = "#F2E464", alpha = 0.4) +
  # 1.5C compatible (bottom)
  geom_ribbon(data = country,
              aes(x = year, 
                  ymin = `Lower limit`, 
                  ymax = `1.5°C compatible`),
              fill = "#B0CB67", 
              alpha = 0.4)
# Add lines to rating category bands 
p3 <- p2 + 
  geom_line(data = country,
            aes(x = year, 
                y = `Highly insufficient`),
            color = "#EF694A",
            linewidth = 1) +
    geom_line(data = country,
            aes(x = year, 
                y = `Insufficient`),
            color = "#F2AC48",
            linewidth = 1) +
    geom_line(data = country,
            aes(x = year, 
                y = `Almost sufficient`),
            color = "#F2E464",
            linewidth = 1) +
    geom_line(data = country,
            aes(x = year, 
                y = `1.5°C compatible`),
            color = "#B0CB67",
            linewidth = 1)
# History line 
p4 <- p3 + 
  geom_line(data = historical_exc, 
            aes(x = year, 
                y = emissions),
            linewidth = 1, 
            color = "black") + 
    # Add labels for the series
    annotate("text", 
             x = 1990, 
             y = 420, 
             label = "Historical", 
             hjust = 0, size = 10, 
             family = "Ubuntu")
# LULUCF line 
p5 <- p4 + 
  geom_line(data = lulucf, 
            aes(x = year, y = emissions),
            linewidth = 1, color = "#65A653") +
  # Add labels for the series
  annotate("text", 
           x = 1997, 
           y = 15, 
           label = "Land use & forests", 
           size = 10, 
           color = "#65A653", 
           hjust = 0, 
           vjust = 0,
           family = "Ubuntu") 
# Announced policies annotation
p6 <- p5 +
  annotate("text", 
           x = 2021, 
           y = 385, 
           label = "Announced policies", 
           hjust = 1, 
           vjust = 1, 
           size = 10, 
           color = "#4F8EB5",
           family = "Ubuntu")
# Connecting lines from points to labels
p7 <- p6 +
  geom_path(
    data = line1p, 
    aes(x = year, y = emissions), 
    color = "black", linewidth = 0.3) +
  geom_path(
    data = line2p, 
    aes(x = year, y = emissions), 
    color = "black", linewidth = 0.3)
p7

```


#### Add Projection Bands and geom points

```{r}
# Policies & action band and line
p8 <- p7 +
  geom_ribbon(data = policies,
              aes(x = year, 
                  ymin = `Total, excl LULUCF, Min`, 
                  ymax = `Total, excl LULUCF, Max`),
              fill = "#4F8EB5", alpha = 0.95) + 
  geom_line(data = planned,
            aes(x = year, 
                y = `Total, excl LULUCF, Min`),
            linewidth = 1,
            color = "#795AA1") +
  geom_line(data = policies, 
            aes(x = year, 
                y = mid_range),
            linewidth = 1, 
            color = "#4F8EB5") +
  geom_point(data = policies |> 
               filter(year == 2030),
             aes(x = year, 
                 y = mid_range),
             color = "white",
             fill = "#4F8EB5",
             shape = 21,
             stroke = 0.5,
             size = 3.75) +
  geom_point(data = planned |> 
               filter(year == 2030),
             aes(x = year, 
                 y = `Total, excl LULUCF, Min`),
             color = "white",
             fill = "#795AA1",
             shape = 21,
             stroke = 0.5,
             size = 3.75)
# Add NDC geom point
p9 <- p8 + 
  geom_point(data = ndc_value,
    aes(x = year + 0.6, # year +0.6 to move to the right
        y = emissions),  
    size = 3.75, 
    color = "white", 
    fill = "black",
    shape = 21,
    stroke = 0.5)
# Adding 1.5C geom points
p10 <- p9 + 
  geom_point(data = mod_1.5,
            aes(x = year, 
                y = emissions),
            size = 3.5,
            color = "white",
            fill = "#B0CB67",
            shape = 23,
            stroke = 0.5)  + 
  geom_point(data = fair,
             aes(x = year, 
                 y = emissions), 
            size = 3.5,
            color = "white",
            fill = "#B0CB67",
            shape = 22,
            stroke = 0.5)
p10

```


### Main Graph (Right side )
Based on fair share 

```{r}
#First plot - base
f1 <- ggplot() +
  scale_x_continuous(
    breaks = seq(2010, 2030, by = 10),
    limits = c(2010, 2031.5)) +
  scale_y_continuous(
    limits = c(-100, 600),
    breaks = seq(-100, 600, by = 100), 
    labels = NULL) +
  labs(
    x = NULL,
    y = NULL) +
  theme(
    panel.background =  element_blank(),
    panel.grid.major.x = element_blank(),
    panel.grid.major.y = element_line(colour = "#D5D5D5", 
                                      linewidth = 0.3),
    axis.title.y = element_blank(), 
    axis.ticks = element_blank(), 
    axis.text.x = element_text(size = 36, 
                              face = "bold",
                              margin = margin(0.2,0,0,0, "cm"),
                              colour = "black"),
    plot.margin = margin(0,0,0,0.07, "inches"), 
    text = element_text(family = "Ubuntu")) +
  coord_cartesian(
    xlim = c(2010,2030),
    clip = "off", 
    expand = FALSE)
```

#### Add rating categories and panel lines 

```{r}
f2 <- f1 +
  geom_rect(data = fair_bars, 
           aes(x = year,
               ymin = ymin,
               ymax = emissions,
               fill = scenario, 
               width = 2.75), 
           colour = NA) + 
  scale_fill_manual(
    values = c("1.5°C compatible" = "#B0CB67",
               "Almost sufficient" = "#F2E464",
               "Insufficient" = "#F2AC48",
               "Highly insufficient" = "#EF694A",
               "Critically insufficient" = "#575F62")) +
  theme(legend.position = "none")
f3 <- f2 +
  geom_hline(yintercept = seq(-100, 600, by = 100), 
             colour = "#D5D5D5",
             linewidth = 0.3) +
  # Add a horizontal line at zero for reference
  geom_hline(yintercept = 0, 
             linetype = "solid", 
             color = "black", 
             linewidth = 0.8)

f3
```


#### Add History lines and annotations 
```{r}
# History line 
f4 <- f3 + 
  geom_line(data = hist_fair, 
            aes(x = year, 
                y = emissions),
            linewidth = 1, 
            color = "black") + 
    annotate("text", 
             x = 2010, 
             y = 520, 
             label = "Historical", 
             hjust = 0, size = 10, 
             family = "Ubuntu")
## LULUCF line (green, thinner)
f5 <- f4 + 
  geom_line(data = lulucf_hist, 
            aes(x = year, y = emissions),
            linewidth = 1, color = "#65A653") +
  # Add text labels for the series
  annotate("text", 
           x = 2011.5, 
           y = 45, 
           label = "Land use & forests", 
           size = 10, 
           hjust = 0,
           color = "#65A653",
           family = "Ubuntu") 
# Connecting lines from points to labels
f6 <- f5 +
  geom_path(
    data = line1f, 
    aes(x = year, y = emissions), 
    color = "black", linewidth = 0.3) +
  geom_path(
    data = line2f, 
    aes(x = year, y = emissions), 
    color = "black", linewidth = 0.3)

f6
```




