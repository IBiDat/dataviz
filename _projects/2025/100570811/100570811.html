<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">

<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/>
  <meta name="generator" content="distill" />

  <style type="text/css">
  /* Hide doc at startup (prevent jankiness while JS renders/transforms) */
  body {
    visibility: hidden;
  }
  </style>

 <!--radix_placeholder_import_source-->
 <!--/radix_placeholder_import_source-->

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  { color: #00769e; background-color: #f1f3f5; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span { color: #00769e; } /* Normal */
code span.al { color: #ad0000; } /* Alert */
code span.an { color: #5e5e5e; } /* Annotation */
code span.at { color: #657422; } /* Attribute */
code span.bn { color: #ad0000; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #00769e; } /* ControlFlow */
code span.ch { color: #20794d; } /* Char */
code span.cn { color: #8f5902; } /* Constant */
code span.co { color: #5e5e5e; } /* Comment */
code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
code span.dt { color: #ad0000; } /* DataType */
code span.dv { color: #ad0000; } /* DecVal */
code span.er { color: #ad0000; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #ad0000; } /* Float */
code span.fu { color: #4758ab; } /* Function */
code span.im { } /* Import */
code span.in { color: #5e5e5e; } /* Information */
code span.kw { color: #00769e; } /* Keyword */
code span.op { color: #5e5e5e; } /* Operator */
code span.ot { color: #00769e; } /* Other */
code span.pp { color: #ad0000; } /* Preprocessor */
code span.sc { color: #5e5e5e; } /* SpecialChar */
code span.ss { color: #20794d; } /* SpecialString */
code span.st { color: #20794d; } /* String */
code span.va { color: #111111; } /* Variable */
code span.vs { color: #20794d; } /* VerbatimString */
code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
</style>


  <!--radix_placeholder_meta_tags-->
  <title>The long and the short of the problem</title>

  <meta property="description" itemprop="description" content="The deadliness and duration of civil wars and internal armed conflicts from 1946 to 2012, Replication and improvement of the Economist&#39;s original graph."/>


  <!--  https://schema.org/Article -->
  <meta property="article:published" itemprop="datePublished" content="2025-12-17"/>
  <meta property="article:created" itemprop="dateCreated" content="2025-12-17"/>
  <meta name="article:author" content="Tone Varberg Sabri"/>

  <!--  https://developers.facebook.com/docs/sharing/webmasters#markup -->
  <meta property="og:title" content="The long and the short of the problem"/>
  <meta property="og:type" content="article"/>
  <meta property="og:description" content="The deadliness and duration of civil wars and internal armed conflicts from 1946 to 2012, Replication and improvement of the Economist&#39;s original graph."/>
  <meta property="og:locale" content="en_US"/>

  <!--  https://dev.twitter.com/cards/types/summary -->
  <meta property="twitter:card" content="summary"/>
  <meta property="twitter:title" content="The long and the short of the problem"/>
  <meta property="twitter:description" content="The deadliness and duration of civil wars and internal armed conflicts from 1946 to 2012, Replication and improvement of the Economist&#39;s original graph."/>

  <!--/radix_placeholder_meta_tags-->
  <!--radix_placeholder_rmarkdown_metadata-->

  <script type="text/json" id="radix-rmarkdown-metadata">
  {"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["title","description","categories","author","date","output"]}},"value":[{"type":"character","attributes":{},"value":["The long and the short of the problem"]},{"type":"character","attributes":{},"value":["The deadliness and duration of civil wars and internal armed conflicts from 1946 to 2012, Replication and improvement of the Economist's original graph.\n"]},{"type":"character","attributes":{},"value":["2025"]},{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name"]}},"value":[{"type":"character","attributes":{},"value":["Tone Varberg Sabri"]}]}]},{"type":"character","attributes":{},"value":["2025-12-17"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["distill::distill_article"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["self_contained","toc"]}},"value":[{"type":"logical","attributes":{},"value":[false]},{"type":"logical","attributes":{},"value":[true]}]}]}]}
  </script>
  <!--/radix_placeholder_rmarkdown_metadata-->
  
  <script type="text/json" id="radix-resource-manifest">
  {"type":"character","attributes":{},"value":["100570811_files/anchor-4.2.2/anchor.min.js","100570811_files/bowser-1.9.3/bowser.min.js","100570811_files/distill-2.2.21/template.v2.js","100570811_files/figure-html5/civilwar_annotation-1.png","100570811_files/figure-html5/civilwar_data-1.png","100570811_files/figure-html5/civilwar_themes-1.png","100570811_files/figure-html5/civilwars_cords&axes-1.png","100570811_files/figure-html5/combined_plot-1.png","100570811_files/figure-html5/deathplot_cords&axes-1.png","100570811_files/figure-html5/deathplot_data-1.png","100570811_files/figure-html5/deathplot_themes-1.png","100570811_files/figure-html5/improved_graph-1.png","100570811_files/figure-html5/second_improvement-1.png","100570811_files/header-attrs-2.30/header-attrs.js","100570811_files/jquery-3.6.0/jquery-3.6.0.js","100570811_files/jquery-3.6.0/jquery-3.6.0.min.js","100570811_files/jquery-3.6.0/jquery-3.6.0.min.map","100570811_files/popper-2.6.0/popper.min.js","100570811_files/tippy-6.2.7/tippy-bundle.umd.min.js","100570811_files/tippy-6.2.7/tippy-light-border.css","100570811_files/tippy-6.2.7/tippy.css","100570811_files/tippy-6.2.7/tippy.umd.min.js","100570811_files/webcomponents-2.0.0/webcomponents.js","BattleDeaths_v25_1_conf.csv","original_graph.png","PRIO Battle Deaths Dataset 3.0.xls"]}
  </script>
  <!--radix_placeholder_navigation_in_header-->
  <!--/radix_placeholder_navigation_in_header-->
  <!--radix_placeholder_distill-->

  <style type="text/css">

  body {
    background-color: white;
  }

  .pandoc-table {
    width: 100%;
  }

  .pandoc-table>caption {
    margin-bottom: 10px;
  }

  .pandoc-table th:not([align]) {
    text-align: left;
  }

  .pagedtable-footer {
    font-size: 15px;
  }

  d-byline .byline {
    grid-template-columns: 2fr 2fr;
  }

  d-byline .byline h3 {
    margin-block-start: 1.5em;
  }

  d-byline .byline .authors-affiliations h3 {
    margin-block-start: 0.5em;
  }

  .authors-affiliations .orcid-id {
    width: 16px;
    height:16px;
    margin-left: 4px;
    margin-right: 4px;
    vertical-align: middle;
    padding-bottom: 2px;
  }

  d-title .dt-tags {
    margin-top: 1em;
    grid-column: text;
  }

  .dt-tags .dt-tag {
    text-decoration: none;
    display: inline-block;
    color: rgba(0,0,0,0.6);
    padding: 0em 0.4em;
    margin-right: 0.5em;
    margin-bottom: 0.4em;
    font-size: 70%;
    border: 1px solid rgba(0,0,0,0.2);
    border-radius: 3px;
    text-transform: uppercase;
    font-weight: 500;
  }

  d-article table.gt_table td,
  d-article table.gt_table th {
    border-bottom: none;
    font-size: 100%;
  }

  .html-widget {
    margin-bottom: 2.0em;
  }

  .l-screen-inset {
    padding-right: 16px;
  }

  .l-screen .caption {
    margin-left: 10px;
  }

  .shaded {
    background: rgb(247, 247, 247);
    padding-top: 20px;
    padding-bottom: 20px;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  }

  .shaded .html-widget {
    margin-bottom: 0;
    border: 1px solid rgba(0, 0, 0, 0.1);
  }

  .shaded .shaded-content {
    background: white;
  }

  .text-output {
    margin-top: 0;
    line-height: 1.5em;
  }

  .hidden {
    display: none !important;
  }

  hr.section-separator {
    border: none;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    margin: 0px;
  }


  d-byline {
    border-top: none;
  }

  d-article {
    padding-top: 2.5rem;
    padding-bottom: 30px;
    border-top: none;
  }

  d-appendix {
    padding-top: 30px;
  }

  d-article>p>img {
    width: 100%;
  }

  d-article h2 {
    margin: 1rem 0 1.5rem 0;
  }

  d-article h3 {
    margin-top: 1.5rem;
  }

  d-article iframe {
    border: 1px solid rgba(0, 0, 0, 0.1);
    margin-bottom: 2.0em;
    width: 100%;
  }

  /* Tweak code blocks */

  d-article div.sourceCode code,
  d-article pre code {
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  }

  d-article pre,
  d-article div.sourceCode,
  d-article div.sourceCode pre {
    overflow: auto;
  }

  d-article div.sourceCode {
    background-color: white;
  }

  d-article div.sourceCode pre {
    padding-left: 10px;
    font-size: 12px;
    border-left: 2px solid rgba(0,0,0,0.1);
  }

  d-article pre {
    font-size: 12px;
    color: black;
    background: none;
    margin-top: 0;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    word-wrap: normal;
    line-height: 1.5;

    -moz-tab-size: 4;
    -o-tab-size: 4;
    tab-size: 4;

    -webkit-hyphens: none;
    -moz-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;
  }

  d-article pre a {
    border-bottom: none;
  }

  d-article pre a:hover {
    border-bottom: none;
    text-decoration: underline;
  }

  d-article details {
    grid-column: text;
    margin-bottom: 0.8em;
  }

  @media(min-width: 768px) {

  d-article pre,
  d-article div.sourceCode,
  d-article div.sourceCode pre {
    overflow: visible !important;
  }

  d-article div.sourceCode pre {
    padding-left: 18px;
    font-size: 14px;
  }

  /* tweak for Pandoc numbered line within distill */
  d-article pre.numberSource code > span {
      left: -2em;
  }

  d-article pre {
    font-size: 14px;
  }

  }

  figure img.external {
    background: white;
    border: 1px solid rgba(0, 0, 0, 0.1);
    box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
    padding: 18px;
    box-sizing: border-box;
  }

  /* CSS for d-contents */

  .d-contents {
    grid-column: text;
    color: rgba(0,0,0,0.8);
    font-size: 0.9em;
    padding-bottom: 1em;
    margin-bottom: 1em;
    padding-bottom: 0.5em;
    margin-bottom: 1em;
    padding-left: 0.25em;
    justify-self: start;
  }

  @media(min-width: 1000px) {
    .d-contents.d-contents-float {
      height: 0;
      grid-column-start: 1;
      grid-column-end: 4;
      justify-self: center;
      padding-right: 3em;
      padding-left: 2em;
    }
  }

  .d-contents nav h3 {
    font-size: 18px;
    margin-top: 0;
    margin-bottom: 1em;
  }

  .d-contents li {
    list-style-type: none
  }

  .d-contents nav > ul {
    padding-left: 0;
  }

  .d-contents ul {
    padding-left: 1em
  }

  .d-contents nav ul li {
    margin-top: 0.6em;
    margin-bottom: 0.2em;
  }

  .d-contents nav a {
    font-size: 13px;
    border-bottom: none;
    text-decoration: none
    color: rgba(0, 0, 0, 0.8);
  }

  .d-contents nav a:hover {
    text-decoration: underline solid rgba(0, 0, 0, 0.6)
  }

  .d-contents nav > ul > li > a {
    font-weight: 600;
  }

  .d-contents nav > ul > li > ul {
    font-weight: inherit;
  }

  .d-contents nav > ul > li > ul > li {
    margin-top: 0.2em;
  }


  .d-contents nav ul {
    margin-top: 0;
    margin-bottom: 0.25em;
  }

  .d-article-with-toc h2:nth-child(2) {
    margin-top: 0;
  }


  /* Figure */

  .figure {
    position: relative;
    margin-bottom: 2.5em;
    margin-top: 1.5em;
  }

  .figure .caption {
    color: rgba(0, 0, 0, 0.6);
    font-size: 12px;
    line-height: 1.5em;
  }

  .figure img.external {
    background: white;
    border: 1px solid rgba(0, 0, 0, 0.1);
    box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
    padding: 18px;
    box-sizing: border-box;
  }

  .figure .caption a {
    color: rgba(0, 0, 0, 0.6);
  }

  .figure .caption b,
  .figure .caption strong, {
    font-weight: 600;
    color: rgba(0, 0, 0, 1.0);
  }

  /* Citations */

  d-article .citation {
    color: inherit;
    cursor: inherit;
  }

  div.hanging-indent{
    margin-left: 1em; text-indent: -1em;
  }

  /* Citation hover box */

  .tippy-box[data-theme~=light-border] {
    background-color: rgba(250, 250, 250, 0.95);
  }

  .tippy-content > p {
    margin-bottom: 0;
    padding: 2px;
  }


  /* Tweak 1000px media break to show more text */

  @media(min-width: 1000px) {
    .base-grid,
    distill-header,
    d-title,
    d-abstract,
    d-article,
    d-appendix,
    distill-appendix,
    d-byline,
    d-footnote-list,
    d-citation-list,
    distill-footer {
      grid-template-columns: [screen-start] 1fr [page-start kicker-start] 80px [middle-start] 50px [text-start kicker-end] 65px 65px 65px 65px 65px 65px 65px 65px [text-end gutter-start] 65px [middle-end] 65px [page-end gutter-end] 1fr [screen-end];
      grid-column-gap: 16px;
    }

    .grid {
      grid-column-gap: 16px;
    }

    d-article {
      font-size: 1.06rem;
      line-height: 1.7em;
    }
    figure .caption, .figure .caption, figure figcaption {
      font-size: 13px;
    }
  }

  @media(min-width: 1180px) {
    .base-grid,
    distill-header,
    d-title,
    d-abstract,
    d-article,
    d-appendix,
    distill-appendix,
    d-byline,
    d-footnote-list,
    d-citation-list,
    distill-footer {
      grid-template-columns: [screen-start] 1fr [page-start kicker-start] 60px [middle-start] 60px [text-start kicker-end] 60px 60px 60px 60px 60px 60px 60px 60px [text-end gutter-start] 60px [middle-end] 60px [page-end gutter-end] 1fr [screen-end];
      grid-column-gap: 32px;
    }

    .grid {
      grid-column-gap: 32px;
    }
  }


  /* Get the citation styles for the appendix (not auto-injected on render since
     we do our own rendering of the citation appendix) */

  d-appendix .citation-appendix,
  .d-appendix .citation-appendix {
    font-size: 11px;
    line-height: 15px;
    border-left: 1px solid rgba(0, 0, 0, 0.1);
    padding-left: 18px;
    border: 1px solid rgba(0,0,0,0.1);
    background: rgba(0, 0, 0, 0.02);
    padding: 10px 18px;
    border-radius: 3px;
    color: rgba(150, 150, 150, 1);
    overflow: hidden;
    margin-top: -12px;
    white-space: pre-wrap;
    word-wrap: break-word;
  }

  /* Include appendix styles here so they can be overridden */

  d-appendix {
    contain: layout style;
    font-size: 0.8em;
    line-height: 1.7em;
    margin-top: 60px;
    margin-bottom: 0;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    color: rgba(0,0,0,0.5);
    padding-top: 60px;
    padding-bottom: 48px;
  }

  d-appendix h3 {
    grid-column: page-start / text-start;
    font-size: 15px;
    font-weight: 500;
    margin-top: 1em;
    margin-bottom: 0;
    color: rgba(0,0,0,0.65);
  }

  d-appendix h3 + * {
    margin-top: 1em;
  }

  d-appendix ol {
    padding: 0 0 0 15px;
  }

  @media (min-width: 768px) {
    d-appendix ol {
      padding: 0 0 0 30px;
      margin-left: -30px;
    }
  }

  d-appendix li {
    margin-bottom: 1em;
  }

  d-appendix a {
    color: rgba(0, 0, 0, 0.6);
  }

  d-appendix > * {
    grid-column: text;
  }

  d-appendix > d-footnote-list,
  d-appendix > d-citation-list,
  d-appendix > distill-appendix {
    grid-column: screen;
  }

  /* Include footnote styles here so they can be overridden */

  d-footnote-list {
    contain: layout style;
  }

  d-footnote-list > * {
    grid-column: text;
  }

  d-footnote-list a.footnote-backlink {
    color: rgba(0,0,0,0.3);
    padding-left: 0.5em;
  }



  /* Anchor.js */

  .anchorjs-link {
    /*transition: all .25s linear; */
    text-decoration: none;
    border-bottom: none;
  }
  *:hover > .anchorjs-link {
    margin-left: -1.125em !important;
    text-decoration: none;
    border-bottom: none;
  }

  /* Social footer */

  .social_footer {
    margin-top: 30px;
    margin-bottom: 0;
    color: rgba(0,0,0,0.67);
  }

  .disqus-comments {
    margin-right: 30px;
  }

  .disqus-comment-count {
    border-bottom: 1px solid rgba(0, 0, 0, 0.4);
    cursor: pointer;
  }

  #disqus_thread {
    margin-top: 30px;
  }

  .article-sharing a {
    border-bottom: none;
    margin-right: 8px;
  }

  .article-sharing a:hover {
    border-bottom: none;
  }

  .sidebar-section.subscribe {
    font-size: 12px;
    line-height: 1.6em;
  }

  .subscribe p {
    margin-bottom: 0.5em;
  }


  .article-footer .subscribe {
    font-size: 15px;
    margin-top: 45px;
  }


  .sidebar-section.custom {
    font-size: 12px;
    line-height: 1.6em;
  }

  .custom p {
    margin-bottom: 0.5em;
  }

  /* Styles for listing layout (hide title) */
  .layout-listing d-title, .layout-listing .d-title {
    display: none;
  }

  /* Styles for posts lists (not auto-injected) */


  .posts-with-sidebar {
    padding-left: 45px;
    padding-right: 45px;
  }

  .posts-list .description h2,
  .posts-list .description p {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
  }

  .posts-list .description h2 {
    font-weight: 700;
    border-bottom: none;
    padding-bottom: 0;
  }

  .posts-list h2.post-tag {
    border-bottom: 1px solid rgba(0, 0, 0, 0.2);
    padding-bottom: 12px;
  }
  .posts-list {
    margin-top: 60px;
    margin-bottom: 24px;
  }

  .posts-list .post-preview {
    text-decoration: none;
    overflow: hidden;
    display: block;
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
    padding: 24px 0;
  }

  .post-preview-last {
    border-bottom: none !important;
  }

  .posts-list .posts-list-caption {
    grid-column: screen;
    font-weight: 400;
  }

  .posts-list .post-preview h2 {
    margin: 0 0 6px 0;
    line-height: 1.2em;
    font-style: normal;
    font-size: 24px;
  }

  .posts-list .post-preview p {
    margin: 0 0 12px 0;
    line-height: 1.4em;
    font-size: 16px;
  }

  .posts-list .post-preview .thumbnail {
    box-sizing: border-box;
    margin-bottom: 24px;
    position: relative;
    max-width: 500px;
  }
  .posts-list .post-preview img {
    width: 100%;
    display: block;
  }

  .posts-list .metadata {
    font-size: 12px;
    line-height: 1.4em;
    margin-bottom: 18px;
  }

  .posts-list .metadata > * {
    display: inline-block;
  }

  .posts-list .metadata .publishedDate {
    margin-right: 2em;
  }

  .posts-list .metadata .dt-authors {
    display: block;
    margin-top: 0.3em;
    margin-right: 2em;
  }

  .posts-list .dt-tags {
    display: block;
    line-height: 1em;
  }

  .posts-list .dt-tags .dt-tag {
    display: inline-block;
    color: rgba(0,0,0,0.6);
    padding: 0.3em 0.4em;
    margin-right: 0.2em;
    margin-bottom: 0.4em;
    font-size: 60%;
    border: 1px solid rgba(0,0,0,0.2);
    border-radius: 3px;
    text-transform: uppercase;
    font-weight: 500;
  }

  .posts-list img {
    opacity: 1;
  }

  .posts-list img[data-src] {
    opacity: 0;
  }

  .posts-more {
    clear: both;
  }


  .posts-sidebar {
    font-size: 16px;
  }

  .posts-sidebar h3 {
    font-size: 16px;
    margin-top: 0;
    margin-bottom: 0.5em;
    font-weight: 400;
    text-transform: uppercase;
  }

  .sidebar-section {
    margin-bottom: 30px;
  }

  .categories ul {
    list-style-type: none;
    margin: 0;
    padding: 0;
  }

  .categories li {
    color: rgba(0, 0, 0, 0.8);
    margin-bottom: 0;
  }

  .categories li>a {
    border-bottom: none;
  }

  .categories li>a:hover {
    border-bottom: 1px solid rgba(0, 0, 0, 0.4);
  }

  .categories .active {
    font-weight: 600;
  }

  .categories .category-count {
    color: rgba(0, 0, 0, 0.4);
  }


  @media(min-width: 768px) {
    .posts-list .post-preview h2 {
      font-size: 26px;
    }
    .posts-list .post-preview .thumbnail {
      float: right;
      width: 30%;
      margin-bottom: 0;
    }
    .posts-list .post-preview .description {
      float: left;
      width: 45%;
    }
    .posts-list .post-preview .metadata {
      float: left;
      width: 20%;
      margin-top: 8px;
    }
    .posts-list .post-preview p {
      margin: 0 0 12px 0;
      line-height: 1.5em;
      font-size: 16px;
    }
    .posts-with-sidebar .posts-list {
      float: left;
      width: 75%;
    }
    .posts-with-sidebar .posts-sidebar {
      float: right;
      width: 20%;
      margin-top: 60px;
      padding-top: 24px;
      padding-bottom: 24px;
    }
  }


  /* Improve display for browsers without grid (IE/Edge <= 15) */

  .downlevel {
    line-height: 1.6em;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
    margin: 0;
  }

  .downlevel .d-title {
    padding-top: 6rem;
    padding-bottom: 1.5rem;
  }

  .downlevel .d-title h1 {
    font-size: 50px;
    font-weight: 700;
    line-height: 1.1em;
    margin: 0 0 0.5rem;
  }

  .downlevel .d-title p {
    font-weight: 300;
    font-size: 1.2rem;
    line-height: 1.55em;
    margin-top: 0;
  }

  .downlevel .d-byline {
    padding-top: 0.8em;
    padding-bottom: 0.8em;
    font-size: 0.8rem;
    line-height: 1.8em;
  }

  .downlevel .section-separator {
    border: none;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
  }

  .downlevel .d-article {
    font-size: 1.06rem;
    line-height: 1.7em;
    padding-top: 1rem;
    padding-bottom: 2rem;
  }


  .downlevel .d-appendix {
    padding-left: 0;
    padding-right: 0;
    max-width: none;
    font-size: 0.8em;
    line-height: 1.7em;
    margin-bottom: 0;
    color: rgba(0,0,0,0.5);
    padding-top: 40px;
    padding-bottom: 48px;
  }

  .downlevel .footnotes ol {
    padding-left: 13px;
  }

  .downlevel .base-grid,
  .downlevel .distill-header,
  .downlevel .d-title,
  .downlevel .d-abstract,
  .downlevel .d-article,
  .downlevel .d-appendix,
  .downlevel .distill-appendix,
  .downlevel .d-byline,
  .downlevel .d-footnote-list,
  .downlevel .d-citation-list,
  .downlevel .distill-footer,
  .downlevel .appendix-bottom,
  .downlevel .posts-container {
    padding-left: 40px;
    padding-right: 40px;
  }

  @media(min-width: 768px) {
    .downlevel .base-grid,
    .downlevel .distill-header,
    .downlevel .d-title,
    .downlevel .d-abstract,
    .downlevel .d-article,
    .downlevel .d-appendix,
    .downlevel .distill-appendix,
    .downlevel .d-byline,
    .downlevel .d-footnote-list,
    .downlevel .d-citation-list,
    .downlevel .distill-footer,
    .downlevel .appendix-bottom,
    .downlevel .posts-container {
    padding-left: 150px;
    padding-right: 150px;
    max-width: 900px;
  }
  }

  .downlevel pre code {
    display: block;
    border-left: 2px solid rgba(0, 0, 0, .1);
    padding: 0 0 0 20px;
    font-size: 14px;
  }

  .downlevel code, .downlevel pre {
    color: black;
    background: none;
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    word-wrap: normal;
    line-height: 1.5;

    -moz-tab-size: 4;
    -o-tab-size: 4;
    tab-size: 4;

    -webkit-hyphens: none;
    -moz-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;
  }

  .downlevel .posts-list .post-preview {
    color: inherit;
  }



  </style>

  <script type="application/javascript">

  function is_downlevel_browser() {
    if (bowser.isUnsupportedBrowser({ msie: "12", msedge: "16"},
                                   window.navigator.userAgent)) {
      return true;
    } else {
      return window.load_distill_framework === undefined;
    }
  }

  // show body when load is complete
  function on_load_complete() {

    // add anchors
    if (window.anchors) {
      window.anchors.options.placement = 'left';
      window.anchors.add('d-article > h2, d-article > h3, d-article > h4, d-article > h5');
    }


    // set body to visible
    document.body.style.visibility = 'visible';

    // force redraw for leaflet widgets
    if (window.HTMLWidgets) {
      var maps = window.HTMLWidgets.findAll(".leaflet");
      $.each(maps, function(i, el) {
        var map = this.getMap();
        map.invalidateSize();
        map.eachLayer(function(layer) {
          if (layer instanceof L.TileLayer)
            layer.redraw();
        });
      });
    }

    // trigger 'shown' so htmlwidgets resize
    $('d-article').trigger('shown');
  }

  function init_distill() {

    init_common();

    // create front matter
    var front_matter = $('<d-front-matter></d-front-matter>');
    $('#distill-front-matter').wrap(front_matter);

    // create d-title
    $('.d-title').changeElementType('d-title');

    // separator
    var separator = '<hr class="section-separator" style="clear: both"/>';
    // prepend separator above appendix
    $('.d-byline').before(separator);
    $('.d-article').before(separator);

    // create d-byline
    var byline = $('<d-byline></d-byline>');
    $('.d-byline').replaceWith(byline);

    // create d-article
    var article = $('<d-article></d-article>');
    $('.d-article').wrap(article).children().unwrap();

    // move posts container into article
    $('.posts-container').appendTo($('d-article'));

    // create d-appendix
    $('.d-appendix').changeElementType('d-appendix');

    // flag indicating that we have appendix items
    var appendix = $('.appendix-bottom').children('h3').length > 0;

    // replace footnotes with <d-footnote>
    $('.footnote-ref').each(function(i, val) {
      appendix = true;
      var href = $(this).attr('href');
      var id = href.replace('#', '');
      var fn = $('#' + id);
      var fn_p = $('#' + id + '>p');
      fn_p.find('.footnote-back').remove();
      var text = fn_p.html();
      var dtfn = $('<d-footnote></d-footnote>');
      dtfn.html(text);
      $(this).replaceWith(dtfn);
    });
    // remove footnotes
    $('.footnotes').remove();

    // move refs into #references-listing
    $('#references-listing').replaceWith($('#refs'));

    $('h1.appendix, h2.appendix').each(function(i, val) {
      $(this).changeElementType('h3');
    });
    $('h3.appendix').each(function(i, val) {
      var id = $(this).attr('id');
      $('.d-contents a[href="#' + id + '"]').parent().remove();
      appendix = true;
      $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('d-appendix'));
    });

    // show d-appendix if we have appendix content
    $("d-appendix").css('display', appendix ? 'grid' : 'none');

    // localize layout chunks to just output
    $('.layout-chunk').each(function(i, val) {

      // capture layout
      var layout = $(this).attr('data-layout');

      // apply layout to markdown level block elements
      var elements = $(this).children().not('details, div.sourceCode, pre, script');
      elements.each(function(i, el) {
        var layout_div = $('<div class="' + layout + '"></div>');
        if (layout_div.hasClass('shaded')) {
          var shaded_content = $('<div class="shaded-content"></div>');
          $(this).wrap(shaded_content);
          $(this).parent().wrap(layout_div);
        } else {
          $(this).wrap(layout_div);
        }
      });


      // unwrap the layout-chunk div
      $(this).children().unwrap();
    });

    // remove code block used to force  highlighting css
    $('.distill-force-highlighting-css').parent().remove();

    // remove empty line numbers inserted by pandoc when using a
    // custom syntax highlighting theme, except when numbering line
    // in code chunk
    $('pre:not(.numberLines) code.sourceCode a:empty').remove();

    // load distill framework
    load_distill_framework();

    // wait for window.distillRunlevel == 4 to do post processing
    function distill_post_process() {

      if (!window.distillRunlevel || window.distillRunlevel < 4)
        return;

      // hide author/affiliations entirely if we have no authors
      var front_matter = JSON.parse($("#distill-front-matter").html());
      var have_authors = front_matter.authors && front_matter.authors.length > 0;
      if (!have_authors)
        $('d-byline').addClass('hidden');

      // article with toc class
      $('.d-contents').parent().addClass('d-article-with-toc');

      // strip links that point to #
      $('.authors-affiliations').find('a[href="#"]').removeAttr('href');

      // add orcid ids
      $('.authors-affiliations').find('.author').each(function(i, el) {
        var orcid_id = front_matter.authors[i].orcidID;
        var author_name = front_matter.authors[i].author
        if (orcid_id) {
          var a = $('<a></a>');
          a.attr('href', 'https://orcid.org/' + orcid_id);
          var img = $('<img></img>');
          img.addClass('orcid-id');
          img.attr('alt', author_name ? 'ORCID ID for ' + author_name : 'ORCID ID');
          img.attr('src','data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg==');
          a.append(img);
          $(this).append(a);
        }
      });

      // hide elements of author/affiliations grid that have no value
      function hide_byline_column(caption) {
        $('d-byline').find('h3:contains("' + caption + '")').parent().css('visibility', 'hidden');
      }

      // affiliations
      var have_affiliations = false;
      for (var i = 0; i<front_matter.authors.length; ++i) {
        var author = front_matter.authors[i];
        if (author.affiliation !== "&nbsp;") {
          have_affiliations = true;
          break;
        }
      }
      if (!have_affiliations)
        $('d-byline').find('h3:contains("Affiliations")').css('visibility', 'hidden');

      // published date
      if (!front_matter.publishedDate)
        hide_byline_column("Published");

      // document object identifier
      var doi = $('d-byline').find('h3:contains("DOI")');
      var doi_p = doi.next().empty();
      if (!front_matter.doi) {
        // if we have a citation and valid citationText then link to that
        if ($('#citation').length > 0 && front_matter.citationText) {
          doi.html('Citation');
          $('<a href="#citation"></a>')
            .text(front_matter.citationText)
            .appendTo(doi_p);
        } else {
          hide_byline_column("DOI");
        }
      } else {
        $('<a></a>')
           .attr('href', "https://doi.org/" + front_matter.doi)
           .html(front_matter.doi)
           .appendTo(doi_p);
      }

       // change plural form of authors/affiliations
      if (front_matter.authors.length === 1) {
        var grid = $('.authors-affiliations');
        grid.children('h3:contains("Authors")').text('Author');
        grid.children('h3:contains("Affiliations")').text('Affiliation');
      }

      // remove d-appendix and d-footnote-list local styles
      $('d-appendix > style:first-child').remove();
      $('d-footnote-list > style:first-child').remove();

      // move appendix-bottom entries to the bottom
      $('.appendix-bottom').appendTo('d-appendix').children().unwrap();
      $('.appendix-bottom').remove();

      // hoverable references
      $('span.citation[data-cites]').each(function() {
        const citeChild = $(this).children()[0]
        // Do not process if @xyz has been used without escaping and without bibliography activated
        // https://github.com/rstudio/distill/issues/466
        if (citeChild === undefined) return true

        if (citeChild.nodeName == "D-FOOTNOTE") {
          var fn = citeChild
          $(this).html(fn.shadowRoot.querySelector("sup"))
          $(this).id = fn.id
          fn.remove()
        }
        var refs = $(this).attr('data-cites').split(" ");
        var refHtml = refs.map(function(ref) {
          // Could use CSS.escape too here, we insure backward compatibility in navigator
          return "<p>" + $('div[id="ref-' + ref + '"]').html() + "</p>";
        }).join("\n");
        window.tippy(this, {
          allowHTML: true,
          content: refHtml,
          maxWidth: 500,
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start'
        });
      });

      // fix footnotes in tables (#411)
      // replacing broken distill.pub feature
      $('table d-footnote').each(function() {
        // we replace internal showAtNode methode which is triggered when hovering a footnote
        this.hoverBox.showAtNode = function(node) {
          // ported from https://github.com/distillpub/template/pull/105/files
          calcOffset = function(elem) {
              let x = elem.offsetLeft;
              let y = elem.offsetTop;
              // Traverse upwards until an `absolute` element is found or `elem`
              // becomes null.
              while (elem = elem.offsetParent && elem.style.position != 'absolute') {
                  x += elem.offsetLeft;
                  y += elem.offsetTop;
              }

              return { left: x, top: y };
          }
          // https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/offsetTop
          const bbox = node.getBoundingClientRect();
          const offset = calcOffset(node);
          this.show([offset.left + bbox.width, offset.top + bbox.height]);
        }
      })

      // clear polling timer
      clearInterval(tid);

      // show body now that everything is ready
      on_load_complete();
    }

    var tid = setInterval(distill_post_process, 50);
    distill_post_process();

  }

  function init_downlevel() {

    init_common();

     // insert hr after d-title
    $('.d-title').after($('<hr class="section-separator"/>'));

    // check if we have authors
    var front_matter = JSON.parse($("#distill-front-matter").html());
    var have_authors = front_matter.authors && front_matter.authors.length > 0;

    // manage byline/border
    if (!have_authors)
      $('.d-byline').remove();
    $('.d-byline').after($('<hr class="section-separator"/>'));
    $('.d-byline a').remove();

    // remove toc
    $('.d-contents').remove();

    // move appendix elements
    $('h1.appendix, h2.appendix').each(function(i, val) {
      $(this).changeElementType('h3');
    });
    $('h3.appendix').each(function(i, val) {
      $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('.d-appendix'));
    });


    // inject headers into references and footnotes
    var refs_header = $('<h3></h3>');
    refs_header.text('References');
    $('#refs').prepend(refs_header);

    var footnotes_header = $('<h3></h3');
    footnotes_header.text('Footnotes');
    $('.footnotes').children('hr').first().replaceWith(footnotes_header);

    // move appendix-bottom entries to the bottom
    $('.appendix-bottom').appendTo('.d-appendix').children().unwrap();
    $('.appendix-bottom').remove();

    // remove appendix if it's empty
    if ($('.d-appendix').children().length === 0)
      $('.d-appendix').remove();

    // prepend separator above appendix
    $('.d-appendix').before($('<hr class="section-separator" style="clear: both"/>'));

    // trim code
    $('pre>code').each(function(i, val) {
      $(this).html($.trim($(this).html()));
    });

    // move posts-container right before article
    $('.posts-container').insertBefore($('.d-article'));

    $('body').addClass('downlevel');

    on_load_complete();
  }


  function init_common() {

    // jquery plugin to change element types
    (function($) {
      $.fn.changeElementType = function(newType) {
        var attrs = {};

        $.each(this[0].attributes, function(idx, attr) {
          attrs[attr.nodeName] = attr.nodeValue;
        });

        this.replaceWith(function() {
          return $("<" + newType + "/>", attrs).append($(this).contents());
        });
      };
    })(jQuery);

    // prevent underline for linked images
    $('a > img').parent().css({'border-bottom' : 'none'});

    // mark non-body figures created by knitr chunks as 100% width
    $('.layout-chunk').each(function(i, val) {
      var figures = $(this).find('img, .html-widget');
      // ignore leaflet img layers (#106)
      figures = figures.filter(':not(img[class*="leaflet"])')
      if ($(this).attr('data-layout') !== "l-body") {
        figures.css('width', '100%');
      } else {
        figures.css('max-width', '100%');
        figures.filter("[width]").each(function(i, val) {
          var fig = $(this);
          fig.css('width', fig.attr('width') + 'px');
        });

      }
    });

    // auto-append index.html to post-preview links in file: protocol
    // and in rstudio ide preview
    $('.post-preview').each(function(i, val) {
      if (window.location.protocol === "file:")
        $(this).attr('href', $(this).attr('href') + "index.html");
    });

    // get rid of index.html references in header
    if (window.location.protocol !== "file:") {
      $('.distill-site-header a[href]').each(function(i,val) {
        $(this).attr('href', $(this).attr('href').replace(/^index[.]html/, "./"));
      });
    }

    // add class to pandoc style tables
    $('tr.header').parent('thead').parent('table').addClass('pandoc-table');
    $('.kable-table').children('table').addClass('pandoc-table');

    // add figcaption style to table captions
    $('caption').parent('table').addClass("figcaption");

    // initialize posts list
    if (window.init_posts_list)
      window.init_posts_list();

    // implmement disqus comment link
    $('.disqus-comment-count').click(function() {
      window.headroom_prevent_pin = true;
      $('#disqus_thread').toggleClass('hidden');
      if (!$('#disqus_thread').hasClass('hidden')) {
        var offset = $(this).offset();
        $(window).resize();
        $('html, body').animate({
          scrollTop: offset.top - 35
        });
      }
    });
  }

  document.addEventListener('DOMContentLoaded', function() {
    if (is_downlevel_browser())
      init_downlevel();
    else
      window.addEventListener('WebComponentsReady', init_distill);
  });

  </script>

  <!--/radix_placeholder_distill-->
  <script src="100570811_files/header-attrs-2.30/header-attrs.js"></script>
  <script src="100570811_files/jquery-3.6.0/jquery-3.6.0.min.js"></script>
  <script src="100570811_files/popper-2.6.0/popper.min.js"></script>
  <link href="100570811_files/tippy-6.2.7/tippy.css" rel="stylesheet" />
  <link href="100570811_files/tippy-6.2.7/tippy-light-border.css" rel="stylesheet" />
  <script src="100570811_files/tippy-6.2.7/tippy.umd.min.js"></script>
  <script src="100570811_files/anchor-4.2.2/anchor.min.js"></script>
  <script src="100570811_files/bowser-1.9.3/bowser.min.js"></script>
  <script src="100570811_files/webcomponents-2.0.0/webcomponents.js"></script>
  <script src="100570811_files/distill-2.2.21/template.v2.js"></script>
  <!--radix_placeholder_site_in_header-->
  <!--/radix_placeholder_site_in_header-->


</head>

<body>

<!--radix_placeholder_front_matter-->

<script id="distill-front-matter" type="text/json">
{"title":"The long and the short of the problem","description":"The deadliness and duration of civil wars and internal armed conflicts from 1946 to 2012, Replication and improvement of the Economist's original graph.","authors":[{"author":"Tone Varberg Sabri","authorURL":"#","affiliation":"&nbsp;","affiliationURL":"#","orcidID":""}],"publishedDate":"2025-12-17T00:00:00.000+01:00","citationText":"Sabri, 2025"}
</script>

<!--/radix_placeholder_front_matter-->
<!--radix_placeholder_navigation_before_body-->
<!--/radix_placeholder_navigation_before_body-->
<!--radix_placeholder_site_before_body-->
<!--/radix_placeholder_site_before_body-->

<div class="d-title">
<h1>The long and the short of the problem</h1>

<!--radix_placeholder_categories-->
<div class="dt-tags">
<div class="dt-tag">2025</div>
</div>
<!--/radix_placeholder_categories-->
<p><p>The deadliness and duration of civil wars and internal armed conflicts from 1946 to 2012, Replication and improvement of the Economist’s original graph.</p></p>
</div>

<div class="d-byline">
  
  Tone Varberg Sabri
  
<br/>2025-12-17
</div>

<div class="d-article">
<div class="d-contents d-contents-float">
<nav class="l-text toc figcaption" id="TOC">
<h3>Contents</h3>
<ul>
<li><a href="#introduction" id="toc-introduction">Introduction</a>
<ul>
<li><a href="#background" id="toc-background">Background</a></li>
<li><a href="#original-graph" id="toc-original-graph">Original graph</a></li>
</ul></li>
<li><a href="#data-preparation" id="toc-data-preparation">Data preparation</a>
<ul>
<li><a href="#loading-packages" id="toc-loading-packages">Loading packages</a></li>
<li><a href="#getting-the-data" id="toc-getting-the-data">Getting the data</a></li>
<li><a href="#creating-new-data-set" id="toc-creating-new-data-set">Creating new data set</a></li>
<li><a href="#preparing-the-data" id="toc-preparing-the-data">Preparing the data</a></li>
</ul></li>
<li><a href="#graph-replication" id="toc-graph-replication">Graph replication</a>
<ul>
<li><a href="#death-plot" id="toc-death-plot">Death plot</a></li>
<li><a href="#civil-war-plot" id="toc-civil-war-plot">Civil war plot</a></li>
</ul></li>
<li><a href="#combining-the-plots" id="toc-combining-the-plots">Combining the plots</a>
<ul>
<li><a href="#footer" id="toc-footer">Footer</a></li>
<li><a href="#legend" id="toc-legend">Legend</a></li>
<li><a href="#title" id="toc-title">Title</a></li>
</ul></li>
<li><a href="#final-plot" id="toc-final-plot">Final plot</a></li>
<li><a href="#graph-improvement" id="toc-graph-improvement">Graph improvement</a>
<ul>
<li><a href="#adjusting-the-data" id="toc-adjusting-the-data">Adjusting the data</a></li>
</ul></li>
<li><a href="#conclusion" id="toc-conclusion">Conclusion</a></li>
</ul>
</nav>
</div>
<h2 id="introduction">Introduction</h2>
<h3 id="background">Background</h3>
<p>The Economist introduced this graph on civil wars in an article on the duration and deadliness of civil wars. The graph visualizes the length of the 100 deadliest civil wars and internal armed conflicts from 1946-2012, as well as the battle death in total each year and for each of the 100 conflicts. It is based on data from the UCDP/PRIO Armed Conflict data set.</p>
<p>Most recently this data was used in another Economist article on the deadliest conflicts of the year in 2023, where the main takeaway was that the most documented conflicts might not always be the deadliest.</p>
<h3 id="original-graph">Original graph</h3>
<p>The original graph consists of two plots. One plot on the top showing total deaths for all civil wars per year from 1946-2012, with year on the x-axis and death toll on the y-axis. The other plot visualizes the duration and deadliness of the top 100 deadliest civil wars from 1946-2012. the y-axis represents the death toll rank, while the x-axis is the exact same as in the top plot with years. The lines represent each civil war and the length of them shows the duration of the conflict. Moreover, the colors represent the region and the numbers on the labels beside the state name is deaths in thousands for that exact conflict.</p>
<p>The graph is trying to convey the deadliness and duration of civil wars from post-war times to modern times. By combining information on total deaths over time with details about individual conflicts, it allows the reader to see both broad trends and specific examples. In this way, the graph tries to connect changes in global conflict over time with the severity and duration of individual civil wars.</p>
<p>The main reason for deciding on this graph is because it tries to show a lot of interesting information in a visual way. However, the original version includes so much data that it becomes cluttered and hard to interpret. The goal of this project was therefore to recreate the graph and then improve it, to show that one can still communicate the main information by reducing and simplifying, and in fact make the visualization easier to read.</p>
<figure>
<img src="original_graph.png" class="external" style="width:100.0%" alt="Original chart. Source:“https://www.economist.com/international/2023/04/17/the-worlds-deadliest-war-last-year-wasnt-in-ukraine”" />
<figcaption aria-hidden="true">Original chart. Source:“<a href="https://www.economist.com/international/2023/04/17/the-worlds-deadliest-war-last-year-wasnt-in-ukraine" class="uri">https://www.economist.com/international/2023/04/17/the-worlds-deadliest-war-last-year-wasnt-in-ukraine</a>”</figcaption>
</figure>
<h2 id="data-preparation">Data preparation</h2>
<h3 id="loading-packages">Loading packages</h3>
<p>To start of I began with loading the necessary packages for data processing and visualization.</p>
<p>The tidyverse package provides the foundations for essential packages like dplyr and ggplot2. I used dplyr to clean, filter, and manipulate my data. For creating my visualizations i used ggplot2.</p>
<p>The cowplot package was used to help with the composition of the different parts of the plot. Two key function were used, get_legend() extracted individual legend components to create a custom three-row legend, and ggdraw() combined with draw_label() constructed the footer containing citations and explanatory notes.</p>
<p>The readxl package enabled loading of Excel-formatted data from the PRIO Battle Deaths Data set. While, the ggrepel helped with positioning the lables so they would not overlap in the improvement of the plot.</p>
<p>Finally, the patchwork package was used to complete the final graph by combining the five separate part, the title, legend, death plot, civil war plot, and footer together.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://tidyverse.tidyverse.org'>tidyverse</a></span><span class='op'>)</span></span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://wilkelab.org/cowplot/'>cowplot</a></span><span class='op'>)</span> </span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://patchwork.data-imaginist.com'>patchwork</a></span><span class='op'>)</span></span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://readxl.tidyverse.org'>readxl</a></span><span class='op'>)</span></span>
<span><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://ggrepel.slowkow.com/'>ggrepel</a></span><span class='op'>)</span></span></code></pre>
</div>
</div>
<h3 id="getting-the-data">Getting the data</h3>
<p>To replicate the original visualization’s battle death statistics from 1946-2012, I integrated two data sets, the PRIO Battle Deaths Dataset covering 1946-1988 and the Uppsala Conflict Data Program (UCDP) data set extending through 2012. I loaded both datasets using read.csv() and read_excel() respectively, then filtered each to include only civil wars, which was coded as type 3 and 4. For Uppsala data, I grouped by year and summed best death estimates across all conflicts, converting to thousands. The PRIO data required additional preprocessing to handle potential duplicate conflict-year entries, so I first grouped by conflict ID and year to extract maximum death estimates, then aggregated by year. I merged both datasets using full_join() and arranged chronologically to create a complete data set with PRIO data providing historical coverage from 1946-1988 and Uppsala data covering recent decades through 2012.</p>
<p>It has to be noted that my calculations of battle deaths differ from the original graph, with some years by about 150,000 deaths. The differences likely come from how the original authors grouped related conflicts within a 10-year period, how overlapping or long-lasting conflicts were combined to avoid double-counting, and possible use of different data versions or additional sources. They may also have used their own methods to handle uncertainty in death estimates.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>battledeaths</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/utils/read.table.html'>read.csv</a></span><span class='op'>(</span><span class='st'>"BattleDeaths_v25_1_conf.csv"</span><span class='op'>)</span></span>
<span><span class='va'>battledeaths_b</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://readxl.tidyverse.org/reference/read_excel.html'>read_excel</a></span><span class='op'>(</span><span class='st'>"PRIO Battle Deaths Dataset 3.0.xls"</span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>uppsaladeaths</span> <span class='op'>&lt;-</span> <span class='va'>battledeaths</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>type_of_conflict</span> <span class='op'><a href='https://rdrr.io/r/base/match.html'>%in%</a></span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>3</span>, <span class='fl'>4</span><span class='op'>)</span>, <span class='va'>year</span> <span class='op'>&lt;=</span> <span class='fl'>2012</span><span class='op'>)</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/group_by.html'>group_by</a></span><span class='op'>(</span><span class='va'>year</span><span class='op'>)</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/summarise.html'>summarise</a></span><span class='op'>(</span>totaldeaths <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/sum.html'>sum</a></span><span class='op'>(</span><span class='va'>bd_best</span>, na.rm <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span> <span class='op'>/</span><span class='fl'>1000</span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>priodeaths</span> <span class='op'>&lt;-</span> <span class='va'>battledeaths_b</span> <span class='op'>|&gt;</span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>type</span> <span class='op'><a href='https://rdrr.io/r/base/match.html'>%in%</a></span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>3</span>,<span class='fl'>4</span><span class='op'>)</span>, <span class='fu'><a href='https://dplyr.tidyverse.org/reference/between.html'>between</a></span><span class='op'>(</span><span class='va'>year</span>, <span class='fl'>1946</span>, <span class='fl'>1988</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>|&gt;</span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/group_by.html'>group_by</a></span><span class='op'>(</span><span class='va'>id</span>, <span class='va'>year</span><span class='op'>)</span> <span class='op'>|&gt;</span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/summarise.html'>summarise</a></span><span class='op'>(</span></span>
<span>    conflict_deaths <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/Extremes.html'>max</a></span><span class='op'>(</span><span class='va'>bdeadbes</span>, na.rm <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>,</span>
<span>    .groups <span class='op'>=</span> <span class='st'>"drop"</span></span>
<span>  <span class='op'>)</span> <span class='op'>|&gt;</span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/group_by.html'>group_by</a></span><span class='op'>(</span><span class='va'>year</span><span class='op'>)</span> <span class='op'>|&gt;</span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/summarise.html'>summarise</a></span><span class='op'>(</span></span>
<span>    totaldeaths <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/sum.html'>sum</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/ifelse.html'>ifelse</a></span><span class='op'>(</span><span class='va'>conflict_deaths</span> <span class='op'>&gt;</span> <span class='fl'>0</span>, <span class='va'>conflict_deaths</span>, <span class='fl'>0</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>/</span> <span class='fl'>1000</span></span>
<span>  <span class='op'>)</span></span>
<span></span>
<span><span class='va'>deathtotal</span> <span class='op'>&lt;-</span> <span class='va'>uppsaladeaths</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate-joins.html'>full_join</a></span><span class='op'>(</span><span class='va'>priodeaths</span><span class='op'>)</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/arrange.html'>arrange</a></span><span class='op'>(</span><span class='va'>year</span><span class='op'>)</span> </span></code></pre>
</div>
</div>
<h3 id="creating-new-data-set">Creating new data set</h3>
<p>For the data on the civil wars the original plot used data from the UCDP/PRIO Armed Conflict data set. I started of with cleaning the data set and joining it with the data sets on battle deaths. I quickly realized that their methods for defining a civil war in terms of duration and deaths were difficult to grasp, and even though i tried several times to replicate the same data as in the graph, I failed.</p>
<p>In the end, I decided on reading directly of the original graph and manually making a data set with the location, region, start year, end year, and number of deaths for the 100 deadliest conflicts from 1946-2012.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>civil_wars_data</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span></span>
<span>  location <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span></span>
<span>    <span class='co'># East Asia, South-East Asia &amp; Oceania (21 conflicts)</span></span>
<span>    <span class='st'>"China"</span>, <span class='st'>"China (Tibet)"</span>, <span class='st'>"Vietnam"</span>, <span class='st'>"South Vietnam"</span>, <span class='st'>"Cambodia"</span>, </span>
<span>    <span class='st'>"Indonesia"</span>, <span class='st'>"Indonesia"</span>, <span class='st'>"Indonesia (East-Timor)"</span>, <span class='st'>"Indonesia (West-Papua)"</span>, </span>
<span>    <span class='st'>"Indonesia (Aceh)"</span>, <span class='st'>"Myanmar"</span>, <span class='st'>"Myanmar (Kachin)"</span>, <span class='st'>"Myanmar (Karen)"</span>, </span>
<span>    <span class='st'>"Myanmar (Shan)"</span>, <span class='st'>"Myanmar (Arakan)"</span>, <span class='st'>"Philippines"</span>, <span class='st'>"Philippines"</span>, </span>
<span>    <span class='st'>"Philippines (Mindanao)"</span>, <span class='st'>"Laos"</span>, <span class='st'>"Malaysia"</span>, <span class='st'>"Thailand"</span>,</span>
<span>    </span>
<span>    <span class='co'># South &amp; Central Asia (17 conflicts)</span></span>
<span>    <span class='st'>"Afghanistan"</span>, <span class='st'>"Sri Lanka"</span>, <span class='st'>"Pakistan (East)"</span>, <span class='st'>"Pakistan"</span>, </span>
<span>    <span class='st'>"Pakistan (Balochistan)"</span>, <span class='st'>"India (Kashmir)"</span>, <span class='st'>"India (Punjab/Khalistan)"</span>, </span>
<span>    <span class='st'>"India"</span>, <span class='st'>"India"</span>, <span class='st'>"India (Nagaland)"</span>, <span class='st'>"Nepal"</span>, <span class='st'>"Tajikistan"</span>, </span>
<span>    <span class='st'>"Azerbaijan"</span>, <span class='st'>"Iran"</span>, <span class='st'>"Iran (Kurdistan)"</span>, <span class='st'>"Hyderabad"</span>, <span class='st'>"Georgia"</span>,</span>
<span>    </span>
<span>    <span class='co'># Sub-Saharan Africa (31 conflicts)</span></span>
<span>    <span class='st'>"Ethiopia (Eritrea)"</span>, <span class='st'>"Ethiopia"</span>, <span class='st'>"Ethiopia (Ogaden)"</span>, <span class='st'>"Ethiopia (Oromia)"</span>, </span>
<span>    <span class='st'>"Cameroon"</span>, <span class='st'>"Cameroon"</span>, <span class='st'>"Angola"</span>, <span class='st'>"Angola"</span>, <span class='st'>"Uganda"</span>, <span class='st'>"Mozambique"</span>, </span>
<span>    <span class='st'>"Mozambique"</span>, <span class='st'>"Sudan"</span>, <span class='st'>"Sudan (South)"</span>, <span class='st'>"Nigeria"</span>, <span class='st'>"Somalia"</span>, <span class='st'>"Chad"</span>, </span>
<span>    <span class='st'>"Congo"</span>, <span class='st'>"Congo"</span>, <span class='st'>"Congo-Brazzaville"</span>, <span class='st'>"Madagascar"</span>, <span class='st'>"Zimbabwe"</span>, </span>
<span>    <span class='st'>"Sierra Leone"</span>, <span class='st'>"Liberia"</span>, <span class='st'>"Rwanda"</span>, <span class='st'>"Burundi"</span>, <span class='st'>"Guinea-Bissau"</span>, </span>
<span>    <span class='st'>"Kenya"</span>, <span class='st'>"South Africa"</span>, <span class='st'>"South Africa (Namibia)"</span>,</span>
<span>    </span>
<span>    <span class='co'># Middle East &amp; North Africa (15 conflicts)</span></span>
<span>    <span class='st'>"Algeria"</span>, <span class='st'>"Algeria"</span>, <span class='st'>"Lebanon"</span>, <span class='st'>"Iraq"</span>, <span class='st'>"Iraq (Kurdistan)"</span>, </span>
<span>    <span class='st'>"Yemen (North)"</span>, <span class='st'>"Yemen (North)"</span>, <span class='st'>"Yemen (South)"</span>, <span class='st'>"Yemen"</span>, </span>
<span>    <span class='st'>"Syria"</span>, <span class='st'>"Syria"</span>, <span class='st'>"Israel (Palestinian Territories)"</span>, </span>
<span>    <span class='st'>"Morocco (Western Sahara)"</span>, <span class='st'>"Libya"</span>,</span>
<span>    </span>
<span>    <span class='co'># Europe (11 conflicts)</span></span>
<span>    <span class='st'>"Greece"</span>, <span class='st'>"Turkey (Kurdistan)"</span>, <span class='st'>"Russia (Chechnya)"</span>, </span>
<span>    <span class='st'>"Russia (Caucasus Emirate)"</span>, <span class='st'>"Bosnia (Serbia)"</span>, <span class='st'>"Bosnia (Croatia)"</span>, </span>
<span>    <span class='st'>"Soviet Union (Ukraine)"</span>, <span class='st'>"Soviet Union (Lithuania)"</span>, <span class='st'>"Serbia (Croatia)"</span>, </span>
<span>    <span class='st'>"Serbia (Kosovo)"</span>, <span class='st'>"United Kingdom (Northern Ireland)"</span>,</span>
<span>    </span>
<span>    <span class='co'># Americas (7 conflicts)</span></span>
<span>    <span class='st'>"El Salvador"</span>, <span class='st'>"Guatemala"</span>, <span class='st'>"Nicaragua"</span>, <span class='st'>"Colombia"</span>, <span class='st'>"Peru"</span>, </span>
<span>    <span class='st'>"Argentina"</span>, <span class='st'>"Paraguay"</span>, <span class='st'>"Dominican Republic"</span></span>
<span>  <span class='op'>)</span>,</span>
<span>  </span>
<span>  start_year <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span></span>
<span>    <span class='co'># East Asia, South-East Asia &amp; Oceania</span></span>
<span>    <span class='fl'>1946</span>, <span class='fl'>1950</span>, <span class='fl'>1946</span>, <span class='fl'>1955</span>, <span class='fl'>1967</span>,</span>
<span>    <span class='fl'>1954</span>, <span class='fl'>1946</span>, <span class='fl'>1975</span>, <span class='fl'>1965</span>, <span class='fl'>1990</span>,</span>
<span>    <span class='fl'>1948</span>, <span class='fl'>1961</span>, <span class='fl'>1949</span>, <span class='fl'>1959</span>, <span class='fl'>1949</span>,</span>
<span>    <span class='fl'>1947</span>, <span class='fl'>1969</span>, <span class='fl'>1970</span>, <span class='fl'>1959</span>, <span class='fl'>1949</span>, <span class='fl'>1974</span>,</span>
<span>    </span>
<span>    <span class='co'># South &amp; Central Asia</span></span>
<span>    <span class='fl'>1978</span>, <span class='fl'>1984</span>, <span class='fl'>1971</span>, <span class='fl'>2007</span>,</span>
<span>    <span class='fl'>1974</span>, <span class='fl'>1989</span>, <span class='fl'>1983</span>, <span class='fl'>1983</span>, <span class='fl'>1952</span>,</span>
<span>    <span class='fl'>1948</span>, <span class='fl'>1956</span>, <span class='fl'>1996</span>, <span class='fl'>1993</span>, <span class='fl'>1979</span>,</span>
<span>    <span class='fl'>1979</span>, <span class='fl'>1948</span>, <span class='fl'>1992</span>,</span>
<span>    </span>
<span>    <span class='co'># Sub-Saharan Africa</span></span>
<span>    <span class='fl'>1964</span>, <span class='fl'>1976</span>, <span class='fl'>1977</span>, <span class='fl'>1978</span>,</span>
<span>    <span class='fl'>1960</span>, <span class='fl'>1958</span>, <span class='fl'>1961</span>, <span class='fl'>1975</span>, <span class='fl'>1975</span>,</span>
<span>    <span class='fl'>1977</span>, <span class='fl'>1964</span>, <span class='fl'>1971</span>, <span class='fl'>1964</span>, <span class='fl'>1967</span>,</span>
<span>   <span class='fl'>1988</span>, <span class='fl'>1967</span>, <span class='fl'>1997</span>, <span class='fl'>1964</span>, <span class='fl'>1993</span>,</span>
<span>    <span class='fl'>1948</span>, <span class='fl'>1968</span>, <span class='fl'>1992</span>, <span class='fl'>2000</span>, <span class='fl'>1990</span>,</span>
<span>    <span class='fl'>1991</span>, <span class='fl'>1963</span>, <span class='fl'>1953</span>, <span class='fl'>1982</span>, <span class='fl'>1966</span>,</span>
<span>    </span>
<span>    <span class='co'># Middle East &amp; North Africa</span></span>
<span>    <span class='fl'>1954</span>, <span class='fl'>1991</span>, <span class='fl'>1975</span>, <span class='fl'>1982</span>, <span class='fl'>1961</span>,</span>
<span>    <span class='fl'>1962</span>, <span class='fl'>1948</span>, <span class='fl'>1986</span>, <span class='fl'>2009</span>,</span>
<span>   <span class='fl'>2011</span>, <span class='fl'>1979</span>, <span class='fl'>1948</span>,</span>
<span>    <span class='fl'>1975</span>, <span class='fl'>2011</span>,</span>
<span>    </span>
<span>    <span class='co'># Europe</span></span>
<span>    <span class='fl'>1946</span>, <span class='fl'>1984</span>, <span class='fl'>1994</span>, <span class='fl'>2007</span>,</span>
<span>    <span class='fl'>1992</span>, <span class='fl'>1993</span>, <span class='fl'>1946</span>, <span class='fl'>1946</span>,</span>
<span>    <span class='fl'>1991</span>, <span class='fl'>1998</span>, <span class='fl'>1971</span>,</span>
<span>    </span>
<span>    <span class='co'># Americas</span></span>
<span>    <span class='fl'>1972</span>, <span class='fl'>1965</span>, <span class='fl'>1978</span>, <span class='fl'>1964</span>,</span>
<span>    <span class='fl'>1982</span>, <span class='fl'>1974</span>, <span class='fl'>1947</span>, <span class='fl'>1965</span></span>
<span>  <span class='op'>)</span>,</span>
<span>  </span>
<span>  end_year <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span></span>
<span>    <span class='co'># East Asia, South-East Asia &amp; Oceania</span></span>
<span>    <span class='fl'>1949</span>, <span class='fl'>1958</span>, <span class='fl'>1954</span>, <span class='fl'>1964</span>, <span class='fl'>1998</span>,</span>
<span>    <span class='fl'>1961</span>, <span class='fl'>1946</span>, <span class='fl'>1998</span>, <span class='fl'>1978</span>, <span class='fl'>2005</span>,</span>
<span>    <span class='fl'>1993</span>, <span class='fl'>1992</span>, <span class='fl'>2011</span>, <span class='fl'>2011</span>, <span class='fl'>1993</span>,</span>
<span>    <span class='fl'>1953</span>, <span class='fl'>2012</span>, <span class='fl'>2012</span>, <span class='fl'>1973</span>, <span class='fl'>1957</span>, <span class='fl'>1982</span>,</span>
<span>    </span>
<span>    <span class='co'># South &amp; Central Asia</span></span>
<span>    <span class='fl'>2012</span>, <span class='fl'>2009</span>, <span class='fl'>1971</span>, <span class='fl'>2012</span>,</span>
<span>    <span class='fl'>1977</span>, <span class='fl'>2012</span>, <span class='fl'>1993</span>, <span class='fl'>2012</span>, <span class='fl'>1990</span>,</span>
<span>    <span class='fl'>1968</span>, <span class='fl'>2006</span>, <span class='fl'>1998</span>, <span class='fl'>1994</span>,</span>
<span>    <span class='fl'>2011</span>, <span class='fl'>1997</span>, <span class='fl'>1949</span>, <span class='fl'>1993</span>,</span>
<span>    </span>
<span>    <span class='co'># Sub-Saharan Africa</span></span>
<span>    <span class='fl'>1991</span>, <span class='fl'>1991</span>, <span class='fl'>1984</span>, <span class='fl'>2012</span>,</span>
<span>    <span class='fl'>1961</span>, <span class='fl'>1959</span>, <span class='fl'>1974</span>, <span class='fl'>2002</span>, <span class='fl'>2011</span>,</span>
<span>    <span class='fl'>1992</span>, <span class='fl'>1974</span>, <span class='fl'>2012</span>, <span class='fl'>1973</span>, <span class='fl'>1970</span>,</span>
<span>    <span class='fl'>2012</span>, <span class='fl'>2010</span>, <span class='fl'>2012</span>, <span class='fl'>1967</span>, <span class='fl'>2002</span>,</span>
<span>    <span class='fl'>1948</span>, <span class='fl'>1979</span>, <span class='fl'>2002</span>, <span class='fl'>2003</span>, <span class='fl'>2012</span>,</span>
<span>   <span class='fl'>2008</span>, <span class='fl'>1974</span>, <span class='fl'>1957</span>, <span class='fl'>1989</span>, <span class='fl'>1988</span>,</span>
<span>    </span>
<span>    <span class='co'># Middle East &amp; North Africa</span></span>
<span>    <span class='fl'>1962</span>, <span class='fl'>2012</span>, <span class='fl'>1990</span>, <span class='fl'>2012</span>, <span class='fl'>1996</span>,</span>
<span>    <span class='fl'>1970</span>, <span class='fl'>1948</span>, <span class='fl'>1986</span>, <span class='fl'>2012</span>,</span>
<span>    <span class='fl'>2012</span>, <span class='fl'>1982</span>, <span class='fl'>2012</span>,</span>
<span>    <span class='fl'>1989</span>, <span class='fl'>2012</span>,</span>
<span>    </span>
<span>    <span class='co'># Europe</span></span>
<span>    <span class='fl'>1949</span>, <span class='fl'>2012</span>, <span class='fl'>2008</span>, <span class='fl'>2012</span>,</span>
<span>    <span class='fl'>1995</span>, <span class='fl'>1994</span>, <span class='fl'>1950</span>, <span class='fl'>1948</span>,</span>
<span>    <span class='fl'>1991</span>, <span class='fl'>1999</span>, <span class='fl'>1998</span>,</span>
<span>    </span>
<span>    <span class='co'># Americas</span></span>
<span>    <span class='fl'>1991</span>, <span class='fl'>1990</span>, <span class='fl'>1990</span>, <span class='fl'>2012</span>,</span>
<span>    <span class='fl'>2010</span>, <span class='fl'>1978</span>, <span class='fl'>1958</span>, <span class='fl'>1965</span></span>
<span>  <span class='op'>)</span>,</span>
<span>  </span>
<span>  deaths_thousands <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span></span>
<span>    <span class='co'># East Asia, South-East Asia &amp; Oceania</span></span>
<span>    <span class='fl'>600.0</span>, <span class='fl'>10.0</span>, <span class='fl'>188.6</span>, <span class='fl'>82.5</span>, <span class='fl'>186.8</span>, <span class='fl'>17.1</span>, <span class='fl'>1.8</span>, <span class='fl'>37.7</span>, <span class='fl'>4.8</span>, <span class='fl'>2.3</span>, </span>
<span>    <span class='fl'>25.2</span>, <span class='fl'>18.0</span>, <span class='fl'>17.4</span>, <span class='fl'>15.0</span>, <span class='fl'>3.4</span>, <span class='fl'>19.5</span>, <span class='fl'>4.8</span>, <span class='fl'>22.1</span>, <span class='fl'>14.0</span>, <span class='fl'>5.4</span>, <span class='fl'>2.5</span>,</span>
<span>    </span>
<span>    <span class='co'># South &amp; Central Asia</span></span>
<span>    <span class='fl'>334.4</span>, <span class='fl'>62.2</span>, <span class='fl'>55.9</span>, <span class='fl'>19.2</span>, <span class='fl'>4.3</span>, <span class='fl'>19.3</span>, <span class='fl'>7.6</span>, <span class='fl'>4.8</span>, <span class='fl'>6.3</span>, <span class='fl'>2.2</span>, </span>
<span>    <span class='fl'>9.9</span>, <span class='fl'>6.8</span>, <span class='fl'>4.6</span>, <span class='fl'>3.7</span>, <span class='fl'>3.3</span>, <span class='fl'>3.2</span>, <span class='fl'>2.2</span>,</span>
<span>    </span>
<span>    <span class='co'># Sub-Saharan Africa</span></span>
<span>    <span class='fl'>122.7</span>, <span class='fl'>48.4</span>, <span class='fl'>10.8</span>, <span class='fl'>2.8</span>, <span class='fl'>77.5</span>, <span class='fl'>5.9</span>, <span class='fl'>39.5</span>, <span class='fl'>71.3</span>, <span class='fl'>67.4</span>, <span class='fl'>62.9</span>, </span>
<span>    <span class='fl'>11.7</span>, <span class='fl'>57.3</span>, <span class='fl'>11.7</span>, <span class='fl'>37.5</span>, <span class='fl'>31.6</span>, <span class='fl'>22.3</span>, <span class='fl'>15.3</span>, <span class='fl'>3.6</span>, <span class='fl'>14.2</span>, <span class='fl'>4.6</span>, </span>
<span>    <span class='fl'>13.6</span>, <span class='fl'>10.6</span>, <span class='fl'>2.6</span>, <span class='fl'>9.2</span>, <span class='fl'>8.6</span>, <span class='fl'>7.5</span>, <span class='fl'>6.5</span>, <span class='fl'>2.2</span>, <span class='fl'>6.7</span>,</span>
<span>    </span>
<span>    <span class='co'># Middle East &amp; North Africa</span></span>
<span>    <span class='fl'>91.3</span>, <span class='fl'>18.3</span>, <span class='fl'>66.3</span>, <span class='fl'>18.4</span>, <span class='fl'>34.6</span>, <span class='fl'>15.9</span>, <span class='fl'>2.0</span>, <span class='fl'>5.7</span>, <span class='fl'>3.7</span>, <span class='fl'>15.9</span>, </span>
<span>    <span class='fl'>3.8</span>, <span class='fl'>9.3</span>, <span class='fl'>6.4</span>, <span class='fl'>2.3</span>,</span>
<span>    </span>
<span>    <span class='co'># Europe</span></span>
<span>    <span class='fl'>77.0</span>, <span class='fl'>27.0</span>, <span class='fl'>17.6</span>, <span class='fl'>2.4</span>, <span class='fl'>11.6</span>, <span class='fl'>3.6</span>, <span class='fl'>8.9</span>, <span class='fl'>4.3</span>, <span class='fl'>3.9</span>, <span class='fl'>2.6</span>, <span class='fl'>1.5</span>,</span>
<span>    </span>
<span>    <span class='co'># Americas</span></span>
<span>    <span class='fl'>28.7</span>, <span class='fl'>21.8</span>, <span class='fl'>20.3</span>, <span class='fl'>19.3</span>, <span class='fl'>11.4</span>, <span class='fl'>2.3</span>, <span class='fl'>2.0</span>, <span class='fl'>2.0</span></span>
<span>  <span class='op'>)</span>,</span>
<span>  </span>
<span>  region <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span></span>
<span>    <span class='co'># East Asia, South-East Asia &amp; Oceania (21)</span></span>
<span>    <span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='st'>"East Asia, South-East Asia &amp; Oceania"</span>, <span class='fl'>21</span><span class='op'>)</span>,</span>
<span>    </span>
<span>    <span class='co'># South &amp; Central Asia (17)</span></span>
<span>    <span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='st'>"South &amp; Central Asia"</span>, <span class='fl'>17</span><span class='op'>)</span>,</span>
<span>    </span>
<span>    <span class='co'># Sub-Saharan Africa (29)</span></span>
<span>    <span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='st'>"Sub-Saharan Africa"</span>, <span class='fl'>29</span><span class='op'>)</span>,</span>
<span>    </span>
<span>    <span class='co'># Middle East &amp; North Africa (14)</span></span>
<span>    <span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='st'>"Middle East &amp; North Africa"</span>, <span class='fl'>14</span><span class='op'>)</span>,</span>
<span>    </span>
<span>    <span class='co'># Europe (11)</span></span>
<span>    <span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='st'>"Europe"</span>, <span class='fl'>11</span><span class='op'>)</span>,</span>
<span>    </span>
<span>    <span class='co'># Americas (8)</span></span>
<span>    <span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='st'>"Americas"</span>, <span class='fl'>8</span><span class='op'>)</span></span>
<span>  <span class='op'>)</span>,</span>
<span>  </span>
<span>  stringsAsFactors <span class='op'>=</span> <span class='cn'>FALSE</span></span>
<span><span class='op'>)</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/arrange.html'>arrange</a></span><span class='op'>(</span><span class='fu'><a href='https://dplyr.tidyverse.org/reference/desc.html'>desc</a></span><span class='op'>(</span><span class='va'>deaths_thousands</span><span class='op'>)</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<h3 id="preparing-the-data">Preparing the data</h3>
<p>After getting all the data i needed I prepared it to be plotted. First of all i created a new variable containing the label for each civil war with the location and number of deaths per thousand.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>plot_data</span> <span class='op'>&lt;-</span> <span class='va'>civil_wars_data</span> <span class='op'>|&gt;</span></span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span></span>
<span>    rank <span class='op'>=</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/row_number.html'>row_number</a></span><span class='op'>(</span><span class='op'>)</span>,  </span>
<span>    label <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste0</a></span><span class='op'>(</span><span class='va'>location</span>, <span class='st'>", "</span>, <span class='va'>deaths_thousands</span><span class='op'>)</span></span>
<span>  <span class='op'>)</span></span></code></pre>
</div>
</div>
<p>For the colors of the regions I used a color identificator on the original graph to get the right code. I then made a data frame with the colors to be used later in the plot and the legend.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>region_colors</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span></span>
<span>  <span class='st'>"East Asia, South-East Asia &amp; Oceania"</span> <span class='op'>=</span> <span class='st'>"#cd2f39"</span>,</span>
<span>  <span class='st'>"South &amp; Central Asia"</span> <span class='op'>=</span> <span class='st'>"#19647d"</span>,</span>
<span>  <span class='st'>"Middle East &amp; North Africa"</span> <span class='op'>=</span> <span class='st'>"#833d33"</span>,</span>
<span>  <span class='st'>"Sub-Saharan Africa"</span> <span class='op'>=</span> <span class='st'>"#269963"</span>,</span>
<span>  <span class='st'>"Europe"</span> <span class='op'>=</span> <span class='st'>"#da9c48"</span>,</span>
<span>  <span class='st'>"Americas"</span> <span class='op'>=</span> <span class='st'>"#33a5c1"</span></span>
<span><span class='op'>)</span></span></code></pre>
</div>
</div>
<p>Then it was time for the grey background line indicating every 5th year. I started of with blablabla</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>grey_xmin</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1950</span>, <span class='fl'>1960</span>, <span class='fl'>1970</span>, <span class='fl'>1980</span>, <span class='fl'>1990</span>, <span class='fl'>2000</span>, <span class='fl'>2010</span><span class='op'>)</span></span>
<span><span class='va'>grey_xmax</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1955</span>, <span class='fl'>1965</span>, <span class='fl'>1975</span>, <span class='fl'>1985</span>, <span class='fl'>1995</span>, <span class='fl'>2005</span>, <span class='fl'>2012</span><span class='op'>)</span></span>
<span></span>
<span></span>
<span><span class='va'>grey_strips</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span></span>
<span>  xmin <span class='op'>=</span> <span class='va'>grey_xmin</span>,</span>
<span>  xmax <span class='op'>=</span> <span class='va'>grey_xmax</span></span>
<span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>add_decade_shading</span> <span class='op'>&lt;-</span> <span class='kw'>function</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>{</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_tile.html'>geom_rect</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='va'>grey_strips</span>,</span>
<span>    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='va'>xmin</span>, xmax <span class='op'>=</span> <span class='va'>xmax</span>, ymin <span class='op'>=</span> <span class='op'>-</span><span class='cn'>Inf</span>, ymax <span class='op'>=</span> <span class='cn'>Inf</span><span class='op'>)</span>,</span>
<span>    inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span>,</span>
<span>    fill <span class='op'>=</span> <span class='st'>"grey90"</span>,</span>
<span>    alpha <span class='op'>=</span> <span class='fl'>0.5</span></span>
<span>  <span class='op'>)</span></span>
<span><span class='op'>}</span></span></code></pre>
</div>
</div>
<h2 id="graph-replication">Graph replication</h2>
<h3 id="death-plot">Death plot</h3>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>deathplot</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='va'>deathtotal</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>year</span>, y <span class='op'>=</span> <span class='va'>totaldeaths</span><span class='op'>)</span> <span class='op'>+</span></span>
<span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_continuous.html'>scale_y_continuous</a></span><span class='op'>(</span></span>
<span>    breaks <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>400</span>, <span class='fl'>100</span><span class='op'>)</span>,</span>
<span>    labels <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>100</span>, <span class='fl'>200</span>, <span class='fl'>300</span>, <span class='fl'>400</span><span class='op'>)</span></span>
<span>  <span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_continuous.html'>scale_x_continuous</a></span><span class='op'>(</span></span>
<span>    breaks <span class='op'>=</span> <span class='fl'>1946</span><span class='op'>:</span><span class='fl'>2012</span>,</span>
<span>    labels <span class='op'>=</span> <span class='cn'>NULL</span>,</span>
<span>  <span class='op'>)</span>  <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/coord_cartesian.html'>coord_cartesian</a></span><span class='op'>(</span>xlim<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1944</span>,<span class='fl'>2014</span><span class='op'>)</span>, expand<span class='op'>=</span><span class='cn'>FALSE</span><span class='op'>)</span></span>
<span></span>
<span><span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='va'>deathplot</span><span class='op'>)</span></span></code></pre>
</div>
<p><img src="100570811_files/figure-html5/deathplot_cords&axes-1.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>deathplot</span> <span class='op'>&lt;-</span> <span class='va'>deathplot</span> <span class='op'>+</span></span>
<span>  <span class='fu'>add_decade_shading</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_bar.html'>geom_col</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>"gray40"</span>, </span>
<span>           width <span class='op'>=</span> <span class='fl'>0.7</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span></span>
<span>    <span class='st'>"text"</span>,</span>
<span>    x <span class='op'>=</span> <span class='fl'>1949</span>,</span>
<span>    y <span class='op'>=</span> <span class='fl'>400</span>,</span>
<span>    label <span class='op'>=</span> <span class='st'>"Total deaths*†, '000"</span>,</span>
<span>    hjust <span class='op'>=</span> <span class='op'>-</span><span class='fl'>0.2</span>,</span>
<span>    vjust <span class='op'>=</span> <span class='fl'>3</span>,</span>
<span>    size <span class='op'>=</span> <span class='fl'>3.5</span>,</span>
<span>    fontface <span class='op'>=</span> <span class='st'>"bold"</span>,</span>
<span>    color <span class='op'>=</span> <span class='st'>"black"</span>,</span>
<span>    family <span class='op'>=</span> <span class='st'>"sans"</span>  </span>
<span>  <span class='op'>)</span></span>
<span></span>
<span><span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='va'>deathplot</span><span class='op'>)</span></span></code></pre>
</div>
<p><img src="100570811_files/figure-html5/deathplot_data-1.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>deathplot</span> <span class='op'>&lt;-</span> <span class='va'>deathplot</span> <span class='op'>+</span></span>
<span>   <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_minimal</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span></span>
<span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span></span>
<span> </span>
<span>  axis.title.x <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>,</span>
<span>  axis.text.x <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>,</span>
<span>  axis.ticks.x <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>,</span>
<span>  </span>
<span>  <span class='co'># Text styling</span></span>
<span>  axis.text.y <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>9</span><span class='op'>)</span>,</span>
<span>  axis.title.y <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>,</span>
<span>  </span>
<span>  <span class='co'># Background colors</span></span>
<span>  panel.background <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>"white"</span>, color <span class='op'>=</span> <span class='cn'>NA</span><span class='op'>)</span>,</span>
<span>  plot.background <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>"white"</span>, color <span class='op'>=</span> <span class='cn'>NA</span><span class='op'>)</span>,</span>
<span>  </span>
<span>  <span class='co'># Grid lines </span></span>
<span>  panel.grid.major.y <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_line</a></span><span class='op'>(</span>color <span class='op'>=</span> <span class='st'>"grey85"</span>, linewidth <span class='op'>=</span> <span class='fl'>0.3</span><span class='op'>)</span>,</span>
<span>  panel.grid.minor <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>,</span>
<span>  panel.grid.major.x <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>,</span>
<span>  </span>
<span>  <span class='co'># Add bottom border line</span></span>
<span>  axis.line.x <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_line</a></span><span class='op'>(</span>color <span class='op'>=</span> <span class='st'>"black"</span>, linewidth <span class='op'>=</span> <span class='fl'>0.5</span><span class='op'>)</span>,</span>
<span>  </span>
<span>  <span class='co'># Margins</span></span>
<span>  plot.margin <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>margin</a></span><span class='op'>(</span>t <span class='op'>=</span> <span class='fl'>5</span>, b <span class='op'>=</span> <span class='fl'>5</span><span class='op'>)</span></span>
<span><span class='op'>)</span></span>
<span></span>
<span><span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='va'>deathplot</span><span class='op'>)</span></span></code></pre>
</div>
<p><img src="100570811_files/figure-html5/deathplot_themes-1.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
<h3 id="civil-war-plot">Civil war plot</h3>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>civilwar_plot</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='va'>plot_data</span>, </span>
<span>                        <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>start_year</span>, y <span class='op'>=</span> <span class='va'>rank</span>, colour <span class='op'>=</span> <span class='va'>region</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_continuous.html'>scale_x_continuous</a></span><span class='op'>(</span></span>
<span>    breaks <span class='op'>=</span> <span class='fl'>1946</span><span class='op'>:</span><span class='fl'>2012</span>,</span>
<span>    labels <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"1946"</span>,<span class='st'>""</span>, <span class='st'>""</span>, <span class='st'>""</span>, <span class='st'>"50"</span>, <span class='st'>""</span>, <span class='st'>""</span>, <span class='st'>""</span>, <span class='st'>""</span>, <span class='st'>"55"</span>,<span class='st'>""</span>,<span class='st'>""</span>,<span class='st'>""</span>,<span class='st'>""</span>, <span class='st'>"60"</span>, <span class='st'>""</span>,<span class='st'>""</span>,<span class='st'>""</span>,<span class='st'>""</span>, <span class='st'>"65"</span>,<span class='st'>""</span>,<span class='st'>""</span>,<span class='st'>""</span>,<span class='st'>""</span>, <span class='st'>"70"</span>,<span class='st'>""</span>,<span class='st'>""</span>,<span class='st'>""</span>,<span class='st'>""</span>, <span class='st'>"75"</span>,<span class='st'>""</span>,<span class='st'>""</span>,<span class='st'>""</span>,<span class='st'>""</span>, <span class='st'>"80"</span>,<span class='st'>""</span>,<span class='st'>""</span>,<span class='st'>""</span>,<span class='st'>""</span>, <span class='st'>"85"</span>,</span>
<span>               <span class='st'>""</span>,<span class='st'>""</span>,<span class='st'>""</span>,<span class='st'>""</span>,<span class='st'>"90"</span>,<span class='st'>""</span>,<span class='st'>""</span>,<span class='st'>""</span>,<span class='st'>""</span>, <span class='st'>"95"</span>,<span class='st'>""</span>,<span class='st'>""</span>,<span class='st'>""</span>,<span class='st'>""</span>, <span class='st'>"2000"</span>,<span class='st'>""</span>,<span class='st'>""</span>,<span class='st'>""</span>,<span class='st'>""</span>, <span class='st'>"05"</span>,<span class='st'>""</span>,<span class='st'>""</span>,<span class='st'>""</span>,<span class='st'>""</span>, <span class='st'>"10"</span>, <span class='st'>""</span>, <span class='st'>"12"</span><span class='op'>)</span>,</span>
<span>    position <span class='op'>=</span> <span class='st'>"top"</span>,  </span>
<span></span>
<span>  <span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_continuous.html'>scale_y_reverse</a></span><span class='op'>(</span></span>
<span>    breaks <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span>, <span class='fl'>100</span><span class='op'>)</span>,</span>
<span>    labels <span class='op'>=</span> <span class='cn'>NULL</span></span>
<span>  <span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/coord_cartesian.html'>coord_cartesian</a></span><span class='op'>(</span></span>
<span>    xlim <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1942</span>, <span class='fl'>2014</span><span class='op'>)</span>,</span>
<span>    ylim <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>103</span><span class='op'>)</span>,</span>
<span>    expand <span class='op'>=</span> <span class='cn'>FALSE</span>,</span>
<span>    clip <span class='op'>=</span> <span class='st'>"off"</span></span>
<span>  <span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_color_manual</a></span><span class='op'>(</span>values <span class='op'>=</span> <span class='va'>region_colors</span>, name <span class='op'>=</span> <span class='cn'>NULL</span><span class='op'>)</span> </span>
<span></span>
<span><span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='va'>civilwar_plot</span><span class='op'>)</span></span></code></pre>
</div>
<p><img src="100570811_files/figure-html5/civilwars_cords&axes-1.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span> <span class='va'>civilwar_plot</span> <span class='op'>&lt;-</span> <span class='va'>civilwar_plot</span> <span class='op'>+</span></span>
<span>   <span class='fu'>add_decade_shading</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"rect"</span>, </span>
<span>           xmin<span class='op'>=</span><span class='fl'>1940</span>, xmax<span class='op'>=</span><span class='fl'>1944</span>, </span>
<span>           ymin<span class='op'>=</span><span class='fl'>0</span>,ymax<span class='op'>=</span><span class='fl'>100</span>, </span>
<span>           alpha<span class='op'>=</span><span class='fl'>0.4</span>, </span>
<span>           fill<span class='op'>=</span><span class='st'>"grey90"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span></span>
<span>    <span class='st'>"text"</span>,</span>
<span>    x <span class='op'>=</span> <span class='fl'>1942</span>,            </span>
<span>    y <span class='op'>=</span> <span class='fl'>50</span>,              </span>
<span>    label <span class='op'>=</span> <span class='st'>"100 deadliest ranked by number of combatant deaths (*†, '000)"</span>,</span>
<span>    hjust <span class='op'>=</span> <span class='fl'>0.5</span>,           </span>
<span>    angle <span class='op'>=</span> <span class='fl'>90</span>,          </span>
<span>    size <span class='op'>=</span> <span class='fl'>4</span>,</span>
<span>    color <span class='op'>=</span> <span class='st'>"#565b5d"</span>,</span>
<span>    fontface <span class='op'>=</span> <span class='st'>"bold"</span></span>
<span>  <span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span></span>
<span>    <span class='st'>"text"</span>,</span>
<span>    x <span class='op'>=</span> <span class='fl'>1942</span>,            </span>
<span>    y <span class='op'>=</span> <span class='fl'>90</span>,              </span>
<span>    label <span class='op'>=</span> <span class='st'>"Lowest"</span>,</span>
<span>    angle <span class='op'>=</span> <span class='fl'>90</span>,</span>
<span>    hjust <span class='op'>=</span> <span class='fl'>1</span>,           </span>
<span>    size <span class='op'>=</span> <span class='fl'>4</span>,</span>
<span>    color <span class='op'>=</span> <span class='st'>"#565b5d"</span>,</span>
<span>    fontface <span class='op'>=</span> <span class='st'>"bold"</span></span>
<span>  <span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span></span>
<span>    <span class='st'>"text"</span>,</span>
<span>    x <span class='op'>=</span> <span class='fl'>1942</span>,           </span>
<span>    y <span class='op'>=</span> <span class='fl'>5</span>,              </span>
<span>    label <span class='op'>=</span> <span class='st'>"Highest"</span>,</span>
<span>    angle <span class='op'>=</span> <span class='fl'>90</span>,</span>
<span>    hjust <span class='op'>=</span> <span class='fl'>1</span>,           </span>
<span>    size <span class='op'>=</span> <span class='fl'>4</span>,</span>
<span>    color <span class='op'>=</span> <span class='st'>"#565b5d"</span>,</span>
<span>    fontface <span class='op'>=</span> <span class='st'>"bold"</span></span>
<span>  <span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/annotate.html'>annotate</a></span><span class='op'>(</span><span class='st'>"rect"</span>,</span>
<span>           xmin<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1946</span>, <span class='fl'>1955</span>, <span class='fl'>1965</span>, <span class='fl'>1975</span>, <span class='fl'>1985</span>, <span class='fl'>1995</span>, <span class='fl'>2005</span><span class='op'>)</span>,</span>
<span>           xmax <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1950</span>, <span class='fl'>1960</span>, <span class='fl'>1970</span>, <span class='fl'>1980</span>, <span class='fl'>1990</span>, <span class='fl'>2000</span>, <span class='fl'>2010</span><span class='op'>)</span>,</span>
<span>           ymin<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='op'>-</span><span class='fl'>5</span><span class='op'>)</span>, ymax<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span><span class='op'>)</span>,</span>
<span>           alpha<span class='op'>=</span><span class='fl'>0.2</span>, fill<span class='op'>=</span><span class='st'>"darkgrey"</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='co'># Labels</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span></span>
<span>    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>end_year</span>, label <span class='op'>=</span> <span class='va'>label</span><span class='op'>)</span>,</span>
<span>    hjust <span class='op'>=</span> <span class='fl'>0.5</span>,</span>
<span>    vjust <span class='op'>=</span> <span class='op'>-</span><span class='fl'>0.5</span>,</span>
<span>    size <span class='op'>=</span> <span class='fl'>2</span>,  </span>
<span>    nudge_x <span class='op'>=</span> <span class='fl'>0.5</span>,</span>
<span>    check_overlap <span class='op'>=</span> <span class='cn'>FALSE</span>,</span>
<span>    show.legend <span class='op'>=</span> <span class='cn'>FALSE</span></span>
<span>  <span class='op'>)</span></span>
<span> </span>
<span> <span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='va'>civilwar_plot</span><span class='op'>)</span></span></code></pre>
</div>
<p><img src="100570811_files/figure-html5/civilwar_annotation-1.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span> <span class='va'>civilwar_plot</span> <span class='op'>&lt;-</span> <span class='va'>civilwar_plot</span> <span class='op'>+</span></span>
<span>   <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_segment.html'>geom_segment</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>xend <span class='op'>=</span> <span class='va'>end_year</span>, yend <span class='op'>=</span> <span class='va'>rank</span><span class='op'>)</span>,</span>
<span>               linewidth <span class='op'>=</span> <span class='fl'>1</span>,</span>
<span>               data <span class='op'>=</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>plot_data</span>, <span class='va'>end_year</span> <span class='op'>&lt;</span> <span class='fl'>2012</span><span class='op'>)</span>,</span>
<span>               show.legend <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>+</span> </span>
<span>  <span class='co'># Segments with arrows for ongoing conflicts</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_segment.html'>geom_segment</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>xend <span class='op'>=</span> <span class='va'>end_year</span>, yend <span class='op'>=</span> <span class='va'>rank</span><span class='op'>)</span>,</span>
<span>               linewidth <span class='op'>=</span> <span class='fl'>1</span>,</span>
<span>               data <span class='op'>=</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>plot_data</span>, <span class='va'>end_year</span> <span class='op'>==</span> <span class='fl'>2012</span><span class='op'>)</span>,</span>
<span>               arrow <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/arrow.html'>arrow</a></span><span class='op'>(</span>length <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/unit.html'>unit</a></span><span class='op'>(</span><span class='fl'>0.15</span>, <span class='st'>"cm"</span><span class='op'>)</span>,</span>
<span>                             ends <span class='op'>=</span> <span class='st'>"last"</span>,</span>
<span>                             type <span class='op'>=</span> <span class='st'>"closed"</span><span class='op'>)</span>,</span>
<span>               show.legend <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span></span>
<span><span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='va'>civilwar_plot</span><span class='op'>)</span></span></code></pre>
</div>
<p><img src="100570811_files/figure-html5/civilwar_data-1.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span>  <span class='va'>civilwar_plot</span> <span class='op'>&lt;-</span> <span class='va'>civilwar_plot</span> <span class='op'>+</span></span>
<span>   <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_minimal</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span>panel.grid.major <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>, </span>
<span>        panel.grid.minor <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>,</span>
<span>        axis.text.y <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>face <span class='op'>=</span> <span class='st'>"bold"</span>, size <span class='op'>=</span> <span class='fl'>9</span><span class='op'>)</span>,  </span>
<span>        axis.title.y <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>, </span>
<span>        axis.ticks.y <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>,</span>
<span>        axis.title.x.top <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>,</span>
<span>        axis.text.x.top <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>face <span class='op'>=</span> <span class='st'>"bold"</span>, size <span class='op'>=</span> <span class='fl'>9</span><span class='op'>)</span>,</span>
<span>        axis.ticks.x.top <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_line</a></span><span class='op'>(</span>color <span class='op'>=</span> <span class='st'>"black"</span>, linewidth <span class='op'>=</span> <span class='fl'>0.5</span><span class='op'>)</span>,</span>
<span>        axis.line.x.top <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_line</a></span><span class='op'>(</span>color <span class='op'>=</span> <span class='st'>"black"</span>, linewidth <span class='op'>=</span> <span class='fl'>0.5</span><span class='op'>)</span>,</span>
<span>        plot.margin <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>margin</a></span><span class='op'>(</span>t <span class='op'>=</span> <span class='fl'>5</span>, r <span class='op'>=</span> <span class='fl'>5</span>, l <span class='op'>=</span> <span class='fl'>8</span><span class='op'>)</span>,</span>
<span>        legend.position <span class='op'>=</span> <span class='st'>"none"</span><span class='op'>)</span> </span>
<span> <span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='va'>civilwar_plot</span><span class='op'>)</span></span></code></pre>
</div>
<p><img src="100570811_files/figure-html5/civilwar_themes-1.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
<h2 id="combining-the-plots">Combining the plots</h2>
<h3 id="footer">Footer</h3>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>left_caption</span> <span class='op'>&lt;-</span> <span class='st'>"Source: PRIO, Uppsala University"</span></span>
<span><span class='va'>right_caption</span> <span class='op'>&lt;-</span> <span class='st'>"* Based on over 250 conflicts, 1946-2012  † Deaths in battle of government troops and troops of\npolitically organised groups: conflicts related within 10 years counted as one"</span></span>
<span></span>
<span><span class='va'>footer</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://wilkelab.org/cowplot/reference/ggdraw.html'>ggdraw</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span> </span>
<span>  <span class='fu'><a href='https://wilkelab.org/cowplot/reference/draw_label.html'>draw_label</a></span><span class='op'>(</span><span class='va'>left_caption</span>, x <span class='op'>=</span> <span class='fl'>0.01</span>, hjust <span class='op'>=</span> <span class='fl'>0</span>, size <span class='op'>=</span> <span class='fl'>8</span>, color <span class='op'>=</span> <span class='st'>"gray30"</span>, fontfamily <span class='op'>=</span> <span class='st'>"sans"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://wilkelab.org/cowplot/reference/draw_label.html'>draw_label</a></span><span class='op'>(</span><span class='va'>right_caption</span>, x <span class='op'>=</span> <span class='fl'>0.99</span>, hjust <span class='op'>=</span> <span class='fl'>1</span>, size <span class='op'>=</span> <span class='fl'>8</span>, color <span class='op'>=</span> <span class='st'>"gray30"</span>, fontfamily <span class='op'>=</span> <span class='st'>"sans"</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<h3 id="legend">Legend</h3>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'># Row 1: East Asia alone</span></span>
<span><span class='va'>legend_row1</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://wilkelab.org/cowplot/reference/get_legend.html'>get_legend</a></span><span class='op'>(</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>1</span>, y <span class='op'>=</span> <span class='fl'>1</span>, region <span class='op'>=</span> <span class='st'>"East Asia, South-East Asia &amp; Oceania"</span><span class='op'>)</span>, </span>
<span>         <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>y</span>, color <span class='op'>=</span> <span class='va'>region</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_path.html'>geom_line</a></span><span class='op'>(</span>linewidth <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span> <span class='op'>+</span>  </span>
<span>    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_color_manual</a></span><span class='op'>(</span>values <span class='op'>=</span> <span class='va'>region_colors</span>, name <span class='op'>=</span> <span class='cn'>NULL</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span></span>
<span>      text <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>family <span class='op'>=</span> <span class='st'>"sans"</span><span class='op'>)</span>,</span>
<span>      legend.position <span class='op'>=</span> <span class='st'>"top"</span>,</span>
<span>      legend.direction <span class='op'>=</span> <span class='st'>"horizontal"</span>,</span>
<span>      legend.text <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>7</span><span class='op'>)</span>,     </span>
<span>      legend.key.width <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/unit.html'>unit</a></span><span class='op'>(</span><span class='fl'>0.5</span>, <span class='st'>"cm"</span><span class='op'>)</span>,        </span>
<span>      legend.key.height <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/unit.html'>unit</a></span><span class='op'>(</span><span class='fl'>0.3</span>, <span class='st'>"cm"</span><span class='op'>)</span>,       </span>
<span>      legend.spacing.x <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/unit.html'>unit</a></span><span class='op'>(</span><span class='fl'>0.2</span>, <span class='st'>"cm"</span><span class='op'>)</span></span>
<span>    <span class='op'>)</span></span>
<span><span class='op'>)</span></span>
<span></span>
<span><span class='co'># Row 2: South &amp; Central Asia + Middle East &amp; North Africa</span></span>
<span><span class='va'>legend_row2</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://wilkelab.org/cowplot/reference/get_legend.html'>get_legend</a></span><span class='op'>(</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>1</span><span class='op'>:</span><span class='fl'>2</span>, y <span class='op'>=</span> <span class='fl'>1</span><span class='op'>:</span><span class='fl'>2</span>, </span>
<span>                    region <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"South &amp; Central Asia"</span>, <span class='st'>"Middle East &amp; North Africa"</span><span class='op'>)</span><span class='op'>)</span>, </span>
<span>         <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>y</span>, color <span class='op'>=</span> <span class='va'>region</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_path.html'>geom_line</a></span><span class='op'>(</span>linewidth <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span> <span class='op'>+</span>  </span>
<span>    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_color_manual</a></span><span class='op'>(</span>values <span class='op'>=</span> <span class='va'>region_colors</span>, </span>
<span>                       limits <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"South &amp; Central Asia"</span>, <span class='st'>"Middle East &amp; North Africa"</span><span class='op'>)</span>,</span>
<span>                       name <span class='op'>=</span> <span class='cn'>NULL</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span></span>
<span>      text <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>family <span class='op'>=</span> <span class='st'>"sans"</span><span class='op'>)</span>,</span>
<span>      legend.position <span class='op'>=</span> <span class='st'>"top"</span>,</span>
<span>      legend.direction <span class='op'>=</span> <span class='st'>"horizontal"</span>,</span>
<span>      legend.text <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>7</span><span class='op'>)</span>,      </span>
<span>      legend.key.width <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/unit.html'>unit</a></span><span class='op'>(</span><span class='fl'>0.5</span>, <span class='st'>"cm"</span><span class='op'>)</span>,       </span>
<span>      legend.key.height <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/unit.html'>unit</a></span><span class='op'>(</span><span class='fl'>0.3</span>, <span class='st'>"cm"</span><span class='op'>)</span>,       </span>
<span>      legend.spacing.x <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/unit.html'>unit</a></span><span class='op'>(</span><span class='fl'>0.2</span>, <span class='st'>"cm"</span><span class='op'>)</span></span>
<span>    <span class='op'>)</span></span>
<span><span class='op'>)</span></span>
<span></span>
<span><span class='co'># Row 3: Sub-Saharan Africa + Europe + Americas</span></span>
<span><span class='va'>legend_row3</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://wilkelab.org/cowplot/reference/get_legend.html'>get_legend</a></span><span class='op'>(</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>1</span><span class='op'>:</span><span class='fl'>3</span>, y <span class='op'>=</span> <span class='fl'>1</span><span class='op'>:</span><span class='fl'>3</span>, </span>
<span>                    region <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Sub-Saharan Africa"</span>, <span class='st'>"Europe"</span>, <span class='st'>"Americas"</span><span class='op'>)</span><span class='op'>)</span>, </span>
<span>         <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>y</span>, color <span class='op'>=</span> <span class='va'>region</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_path.html'>geom_line</a></span><span class='op'>(</span>linewidth <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span> <span class='op'>+</span>  </span>
<span>    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_color_manual</a></span><span class='op'>(</span>values <span class='op'>=</span> <span class='va'>region_colors</span>,</span>
<span>                       limits <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Sub-Saharan Africa"</span>, <span class='st'>"Europe"</span>, <span class='st'>"Americas"</span><span class='op'>)</span>,</span>
<span>                       name <span class='op'>=</span> <span class='cn'>NULL</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span></span>
<span>      text <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>family <span class='op'>=</span> <span class='st'>"sans"</span><span class='op'>)</span>,</span>
<span>      legend.position <span class='op'>=</span> <span class='st'>"top"</span>,</span>
<span>      legend.direction <span class='op'>=</span> <span class='st'>"horizontal"</span>,</span>
<span>      legend.text <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>7</span><span class='op'>)</span>,      </span>
<span>      legend.key.width <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/unit.html'>unit</a></span><span class='op'>(</span><span class='fl'>0.5</span>, <span class='st'>"cm"</span><span class='op'>)</span>,        </span>
<span>      legend.key.height <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/unit.html'>unit</a></span><span class='op'>(</span><span class='fl'>0.3</span>, <span class='st'>"cm"</span><span class='op'>)</span>,       </span>
<span>      legend.spacing.x <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/unit.html'>unit</a></span><span class='op'>(</span><span class='fl'>0.2</span>, <span class='st'>"cm"</span><span class='op'>)</span></span>
<span>    <span class='op'>)</span></span>
<span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>custom_legend</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://wilkelab.org/cowplot/reference/plot_grid.html'>plot_grid</a></span><span class='op'>(</span></span>
<span>  <span class='va'>legend_row1</span>,</span>
<span>  <span class='va'>legend_row2</span>,</span>
<span>  <span class='va'>legend_row3</span>,</span>
<span>  ncol <span class='op'>=</span> <span class='fl'>1</span>,</span>
<span>  align <span class='op'>=</span> <span class='st'>"v"</span>,</span>
<span>  rel_heights <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0.5</span>, <span class='fl'>0.5</span>, <span class='fl'>0.5</span><span class='op'>)</span> </span>
<span><span class='op'>)</span></span></code></pre>
</div>
</div>
<h3 id="title">Title</h3>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>title_plot</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span> </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>title <span class='op'>=</span> <span class='st'>"The long and the short of the problem"</span>,</span>
<span>       subtitle <span class='op'>=</span> <span class='st'>"Civil wars and internal armed conflicts, 1946-2012"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_void</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span></span>
<span>    text <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>family <span class='op'>=</span> <span class='st'>"sans"</span><span class='op'>)</span>,</span>
<span>    plot.title <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>face <span class='op'>=</span> <span class='st'>"bold"</span>, size <span class='op'>=</span> <span class='fl'>12</span>, hjust <span class='op'>=</span> <span class='fl'>0</span>, color <span class='op'>=</span> <span class='st'>"black"</span> <span class='op'>)</span>,</span>
<span>    plot.subtitle <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>8</span>, color <span class='op'>=</span> <span class='st'>"gray40"</span>, hjust <span class='op'>=</span> <span class='fl'>0</span>, face <span class='op'>=</span> <span class='st'>"bold"</span><span class='op'>)</span>,</span>
<span>    plot.margin <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>margin</a></span><span class='op'>(</span><span class='fl'>5</span>, <span class='fl'>5</span>, <span class='fl'>5</span>, <span class='fl'>10</span><span class='op'>)</span></span>
<span>  <span class='op'>)</span></span></code></pre>
</div>
</div>
<h2 id="final-plot">Final plot</h2>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span> <span class='va'>finishedplot</span> <span class='op'>&lt;-</span> <span class='op'>(</span><span class='fu'><a href='https://patchwork.data-imaginist.com/reference/wrap_elements.html'>wrap_elements</a></span><span class='op'>(</span><span class='va'>title_plot</span><span class='op'>)</span> <span class='op'>|</span> <span class='fu'><a href='https://patchwork.data-imaginist.com/reference/wrap_elements.html'>wrap_elements</a></span><span class='op'>(</span><span class='va'>custom_legend</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>/</span></span>
<span>   <span class='va'>deathplot</span> <span class='op'>/</span></span>
<span>   <span class='va'>civilwar_plot</span> <span class='op'>/</span></span>
<span>   <span class='fu'><a href='https://patchwork.data-imaginist.com/reference/wrap_elements.html'>wrap_elements</a></span><span class='op'>(</span><span class='va'>footer</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>   <span class='fu'><a href='https://patchwork.data-imaginist.com/reference/plot_layout.html'>plot_layout</a></span><span class='op'>(</span></span>
<span>      heights <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0.4</span>, <span class='fl'>0.6</span>, <span class='fl'>5</span>, <span class='fl'>0.03</span><span class='op'>)</span>,  </span>
<span>    widths <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1.5</span>, <span class='fl'>1</span><span class='op'>)</span></span>
<span>   <span class='op'>)</span></span>
<span> </span>
<span><span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='va'>finishedplot</span><span class='op'>)</span></span></code></pre>
</div>
<p><img src="100570811_files/figure-html5/combined_plot-1.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
<h2 id="graph-improvement">Graph improvement</h2>
<p>I am still working on the graph improvement. My most important thoughts on it is that the original graph tries to visualize too much information, so an improvement would be to limit the data visualized while still keeping it informative. I want the improved version to keep the death plot as contextual framing, but simplify the lower panel to reduce cognitive overload.</p>
<p>I will still need to work with the grey lines here, get all the data points right and then find a good way to visualize the deaths per conflict as well. Have to fix it so all facets work with the same scale for y-axis so the data is not misleading. I have been trying to get deaths as size but looks like the geom_smooth is causing some trouble there. Maybe the solution is to not work with region colors but with a color scale for deaths and then label the deadliest ones.</p>
<h3 id="adjusting-the-data">Adjusting the data</h3>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span> <span class='va'>duration_data</span> <span class='op'>&lt;-</span> <span class='va'>plot_data</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span></span>
<span>    duration <span class='op'>=</span> <span class='va'>end_year</span> <span class='op'>-</span> <span class='va'>start_year</span>,  </span>
<span>  <span class='op'>)</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/group_by.html'>group_by</a></span><span class='op'>(</span><span class='va'>region</span><span class='op'>)</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span></span>
<span>    is_deadliest <span class='op'>=</span> <span class='va'>deaths_thousands</span> <span class='op'>==</span> <span class='fu'><a href='https://rdrr.io/r/base/Extremes.html'>max</a></span><span class='op'>(</span><span class='va'>deaths_thousands</span><span class='op'>)</span>,</span>
<span>    is_longest <span class='op'>=</span> <span class='va'>duration</span> <span class='op'>==</span> <span class='fu'><a href='https://rdrr.io/r/base/Extremes.html'>max</a></span><span class='op'>(</span><span class='va'>duration</span><span class='op'>)</span>,  </span>
<span>    <span class='co'># Create label</span></span>
<span>    conflict_label <span class='op'>=</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/case_when.html'>case_when</a></span><span class='op'>(</span></span>
<span>      <span class='va'>is_deadliest</span> <span class='op'>&amp;</span> <span class='va'>is_longest</span> <span class='op'>~</span> <span class='va'>label</span>,</span>
<span>      <span class='va'>is_deadliest</span> <span class='op'>~</span> <span class='va'>label</span>,</span>
<span>      <span class='va'>is_longest</span> <span class='op'>~</span> <span class='va'>label</span>,</span>
<span>      <span class='cn'>TRUE</span> <span class='op'>~</span> <span class='cn'>NA_character_</span></span>
<span>    <span class='op'>)</span></span>
<span>  <span class='op'>)</span> <span class='op'>|&gt;</span> </span>
<span>  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/group_by.html'>ungroup</a></span><span class='op'>(</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<p>Here is another suggestion for improvement. I think this can look good when the deadliest conflicts get labels as well as the longest ones, can also label the peaks for the total deaths.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>Second_improvement</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_abline.html'>geom_vline</a></span><span class='op'>(</span></span>
<span>    xintercept <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1946</span>, <span class='fl'>1950</span>, <span class='fl'>1960</span>, <span class='fl'>1970</span>, <span class='fl'>1980</span>, <span class='fl'>1990</span>, <span class='fl'>2000</span>, <span class='fl'>2010</span><span class='op'>)</span>,</span>
<span>    color <span class='op'>=</span> <span class='st'>"gray70"</span>,</span>
<span>    linewidth <span class='op'>=</span> <span class='fl'>0.4</span>,</span>
<span>    alpha <span class='op'>=</span> <span class='fl'>0.6</span></span>
<span>  <span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='co'># Line for total deaths per year</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_ribbon.html'>geom_area</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>deathtotal</span>,</span>
<span>            <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>year</span>, y <span class='op'>=</span> <span class='va'>totaldeaths</span><span class='op'>)</span>,</span>
<span>            fill <span class='op'>=</span> <span class='st'>"gray85"</span>, </span>
<span>            alpha <span class='op'>=</span> <span class='fl'>0.3</span><span class='op'>)</span>    <span class='op'>+</span>  </span>
<span></span>
<span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_path.html'>geom_line</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>deathtotal</span>,</span>
<span>          <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>year</span>, y <span class='op'>=</span> <span class='va'>totaldeaths</span><span class='op'>)</span>,</span>
<span>          color <span class='op'>=</span> <span class='st'>"gray60"</span>, </span>
<span>          linewidth <span class='op'>=</span> <span class='fl'>0.8</span>,</span>
<span>          alpha <span class='op'>=</span> <span class='fl'>0.6</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='co'># Points for individual conflicts</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_point.html'>geom_point</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>duration_data</span>,</span>
<span>             <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>start_year</span>, y <span class='op'>=</span> <span class='va'>deaths_thousands</span>, </span>
<span>                 size <span class='op'>=</span> <span class='va'>duration</span>, colour <span class='op'>=</span> <span class='va'>deaths_thousands</span><span class='op'>)</span>,</span>
<span>             alpha <span class='op'>=</span> <span class='fl'>0.7</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='co'># Add labels for deadliest and longest conflicts</span></span>
<span>  <span class='fu'><a href='https://ggrepel.slowkow.com/reference/geom_text_repel.html'>geom_text_repel</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>duration_data</span>, <span class='op'>!</span><span class='fu'><a href='https://rdrr.io/r/base/NA.html'>is.na</a></span><span class='op'>(</span><span class='va'>conflict_label</span><span class='op'>)</span><span class='op'>)</span>,</span>
<span>    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>start_year</span>, y <span class='op'>=</span> <span class='va'>deaths_thousands</span>, label <span class='op'>=</span> <span class='va'>conflict_label</span><span class='op'>)</span>,</span>
<span>    size <span class='op'>=</span> <span class='fl'>2.5</span>,</span>
<span>    color <span class='op'>=</span> <span class='st'>"black"</span>,</span>
<span>    box.padding <span class='op'>=</span> <span class='fl'>0.5</span>,</span>
<span>    point.padding <span class='op'>=</span> <span class='fl'>0.3</span>,</span>
<span>    segment.color <span class='op'>=</span> <span class='st'>"gray40"</span>,</span>
<span>    segment.size <span class='op'>=</span> <span class='fl'>0.3</span>,</span>
<span>    max.overlaps <span class='op'>=</span> <span class='fl'>20</span>,</span>
<span>    min.segment.length <span class='op'>=</span> <span class='fl'>0</span></span>
<span>  <span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span></span>
<span>    data <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span></span>
<span>      x <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1948</span>, <span class='fl'>1955</span>, <span class='fl'>1965</span>, <span class='fl'>1975</span>, <span class='fl'>1985</span>, <span class='fl'>1995</span>, <span class='fl'>2005</span>, <span class='fl'>2011</span><span class='op'>)</span>,</span>
<span>      y <span class='op'>=</span> <span class='fl'>450</span>,  </span>
<span>      label <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"40s"</span>, <span class='st'>"50s"</span>, <span class='st'>"60s"</span>, <span class='st'>"70s"</span>, <span class='st'>"80s"</span>, <span class='st'>"90s"</span>, <span class='st'>"00s"</span>, <span class='st'>"10s"</span><span class='op'>)</span></span>
<span>    <span class='op'>)</span>,</span>
<span>    <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>x</span>, y <span class='op'>=</span> <span class='va'>y</span>, label <span class='op'>=</span> <span class='va'>label</span><span class='op'>)</span>,</span>
<span>    color <span class='op'>=</span> <span class='st'>"gray50"</span>,</span>
<span>    size <span class='op'>=</span> <span class='fl'>3</span>,</span>
<span>    vjust <span class='op'>=</span> <span class='fl'>0</span>,</span>
<span>    inherit.aes <span class='op'>=</span> <span class='cn'>FALSE</span></span>
<span>  <span class='op'>)</span> <span class='op'>+</span></span>
<span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_gradient.html'>scale_color_gradient</a></span><span class='op'>(</span></span>
<span>  low <span class='op'>=</span> <span class='st'>"#fee5d9"</span>,</span>
<span>  high <span class='op'>=</span> <span class='st'>"#99000d"</span>,</span>
<span>  name <span class='op'>=</span> <span class='st'>"Deaths\n(thousands)"</span>,</span>
<span>  trans <span class='op'>=</span> <span class='st'>"log10"</span>,</span>
<span>  limits <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span>, <span class='fl'>600</span><span class='op'>)</span>,  </span>
<span>  breaks <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span>, <span class='fl'>10</span>, <span class='fl'>50</span>, <span class='fl'>100</span>, <span class='fl'>600</span><span class='op'>)</span>,</span>
<span>  labels <span class='op'>=</span> <span class='fu'>scales</span><span class='fu'>::</span><span class='va'><a href='https://scales.r-lib.org/reference/comma.html'>comma</a></span></span>
<span><span class='op'>)</span> <span class='op'>+</span></span>
<span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_size.html'>scale_size_continuous</a></span><span class='op'>(</span>range <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>2</span>, <span class='fl'>15</span><span class='op'>)</span>, name <span class='op'>=</span> <span class='st'>"Duration\n(years)"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_continuous.html'>scale_y_log10</a></span><span class='op'>(</span></span>
<span>    labels <span class='op'>=</span> <span class='fu'>scales</span><span class='fu'>::</span><span class='va'><a href='https://scales.r-lib.org/reference/comma.html'>comma</a></span>,</span>
<span>    breaks <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span>, <span class='fl'>10</span>, <span class='fl'>100</span>, <span class='fl'>600</span><span class='op'>)</span></span>
<span>  <span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_continuous.html'>scale_x_continuous</a></span><span class='op'>(</span></span>
<span>    breaks <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span><span class='op'>(</span><span class='fl'>1946</span>,<span class='fl'>2012</span>,<span class='fl'>10</span><span class='op'>)</span></span>
<span>    </span>
<span>  <span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/coord_cartesian.html'>coord_cartesian</a></span><span class='op'>(</span>xlim <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1944</span>, <span class='fl'>2014</span><span class='op'>)</span>, ylim <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='op'>-</span><span class='fl'>4</span>, <span class='fl'>800</span><span class='op'>)</span>, expand <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/facet_wrap.html'>facet_wrap</a></span><span class='op'>(</span><span class='op'>~</span><span class='va'>region</span>, ncol <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  </span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span></span>
<span>    title <span class='op'>=</span> <span class='st'>"Civil War Duration, Deadliness, and Total Annual Deaths"</span>,</span>
<span>    subtitle <span class='op'>=</span> </span>
<span>    <span class='st'>"Gray area shows total deaths per year; colored points show individual conflict;</span></span>
<span><span class='st'>     </span></span>
<span><span class='st'>     The bigger and the darker the point is the longer and deadlier the conflict is.</span></span>
<span><span class='st'>    </span></span>
<span><span class='st'>     The longest and the deadliest conflict in each region is labeled"</span>,</span>
<span>    x <span class='op'>=</span> <span class='cn'>NULL</span>,</span>
<span>    y <span class='op'>=</span> <span class='st'>"Deaths (log)"</span></span>
<span>  <span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_minimal</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span></span>
<span>    text <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>family <span class='op'>=</span> <span class='st'>"sans"</span><span class='op'>)</span>,</span>
<span>    </span>
<span>    panel.background <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>,</span>
<span>    plot.background <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>,</span>
<span>    </span>
<span>    panel.grid.major <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>,</span>
<span>    panel.grid.minor <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>,</span>
<span>    </span>
<span>    </span>
<span>    strip.background <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>, </span>
<span>    strip.text <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span></span>
<span>      color <span class='op'>=</span> <span class='st'>"gray20"</span>, </span>
<span>      face <span class='op'>=</span> <span class='st'>"bold"</span>, </span>
<span>      size <span class='op'>=</span> <span class='fl'>11</span>,</span>
<span>      hjust <span class='op'>=</span> <span class='fl'>0</span>,          </span>
<span>      margin <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>margin</a></span><span class='op'>(</span>b <span class='op'>=</span> <span class='fl'>10</span><span class='op'>)</span></span>
<span>    <span class='op'>)</span>,</span>
<span>    </span>
<span>    plot.title <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>16</span>, face <span class='op'>=</span> <span class='st'>"bold"</span>, color <span class='op'>=</span> <span class='st'>"gray20"</span>, margin <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>margin</a></span><span class='op'>(</span>b <span class='op'>=</span> <span class='fl'>10</span><span class='op'>)</span><span class='op'>)</span>,</span>
<span>    plot.subtitle <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>10</span>, color <span class='op'>=</span> <span class='st'>"gray40"</span>, margin <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>margin</a></span><span class='op'>(</span>b <span class='op'>=</span> <span class='fl'>0</span><span class='op'>)</span><span class='op'>)</span>,</span>
<span>    </span>
<span>    axis.title <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>color <span class='op'>=</span> <span class='st'>"gray40"</span>, size <span class='op'>=</span> <span class='fl'>11</span>, face <span class='op'>=</span> <span class='st'>"bold"</span><span class='op'>)</span>,</span>
<span>    axis.text <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>color <span class='op'>=</span> <span class='st'>"gray40"</span>, size <span class='op'>=</span> <span class='fl'>9</span><span class='op'>)</span>,</span>
<span>    </span>
<span>    legend.position <span class='op'>=</span> <span class='st'>"top"</span>,</span>
<span>    legend.justification <span class='op'>=</span> <span class='st'>"right"</span>,</span>
<span>    legend.direction <span class='op'>=</span> <span class='st'>"horizontal"</span>,  </span>
<span>    legend.box <span class='op'>=</span> <span class='st'>"vertical"</span>,         </span>
<span>    legend.title <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>9</span>, face <span class='op'>=</span> <span class='st'>"bold"</span><span class='op'>)</span>,</span>
<span>    legend.text <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>6</span><span class='op'>)</span>,</span>
<span>    legend.background <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>,</span>
<span>    legend.spacing.y <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/grid/unit.html'>unit</a></span><span class='op'>(</span><span class='fl'>0.2</span>, <span class='st'>"cm"</span><span class='op'>)</span>,</span>
<span>    </span>
<span>    plot.margin <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>margin</a></span><span class='op'>(</span>t <span class='op'>=</span> <span class='fl'>30</span>, r <span class='op'>=</span> <span class='fl'>15</span>, b <span class='op'>=</span> <span class='fl'>5</span>, l <span class='op'>=</span> <span class='fl'>10</span><span class='op'>)</span></span>
<span>  <span class='op'>)</span></span>
<span></span>
<span><span class='va'>second_improved</span> <span class='op'>&lt;-</span> <span class='va'>Second_improvement</span> <span class='op'>/</span> <span class='va'>footer</span> <span class='op'>+</span></span>
<span>  <span class='fu'><a href='https://patchwork.data-imaginist.com/reference/plot_layout.html'>plot_layout</a></span><span class='op'>(</span></span>
<span>    heights <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>2</span>, <span class='fl'>0.1</span><span class='op'>)</span></span>
<span>  <span class='op'>)</span></span>
<span></span>
<span><span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='va'>second_improved</span><span class='op'>)</span></span></code></pre>
</div>
<p><img src="100570811_files/figure-html5/second_improvement-1.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
<h2 id="conclusion">Conclusion</h2>
<p>Distill is a publication format for scientific and technical writing, native to the web.</p>
<p>Learn more about using Distill at <a href="https://rstudio.github.io/distill" class="uri">https://rstudio.github.io/distill</a>.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r distill-force-highlighting-css"><code class="sourceCode r"></code></pre></div>
<!--radix_placeholder_article_footer-->
<!--/radix_placeholder_article_footer-->
</div>

<div class="d-appendix">
</div>


<!--radix_placeholder_site_after_body-->
<!--/radix_placeholder_site_after_body-->
<!--radix_placeholder_appendices-->
<div class="appendix-bottom"></div>
<!--/radix_placeholder_appendices-->
<!--radix_placeholder_navigation_after_body-->
<!--/radix_placeholder_navigation_after_body-->

</body>

</html>
